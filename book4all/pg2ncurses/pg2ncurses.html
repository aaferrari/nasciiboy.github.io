<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Programmer's Guide to NCurses</title>
<!-- 2018-03-10 sÃ¡b 13:19 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Dan Gookin" />
<link rel="stylesheet" type="text/css" href="worg-data/worg.css" />
</head>
<body>
<div id="content">
<h1 class="title">Programmer's Guide to NCurses</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">About the Author                                                    </a></li>
<li><a href="#sec-2">Acknowledgments                                                     </a></li>
<li><a href="#sec-3">Introduction                                                        </a>
<ul>
<li><a href="#sec-3-1">Assumptions                                                        </a></li>
<li><a href="#sec-3-2">Curses or NCurses?                                                 </a></li>
<li><a href="#sec-3-3">Conventions                                                        </a></li>
<li><a href="#sec-3-4">Compatibility Issues                                               </a></li>
<li><a href="#sec-3-5">Contacting the Author                                              </a></li>
</ul>
</li>
<li><a href="#sec-4">CHAPTER  1 The Setup                                                </a>
<ul>
<li><a href="#sec-4-1">NCurses Is a UNIX Thing                                            </a></li>
<li><a href="#sec-4-2">Run (Don't Walk) to a Terminal Screen Near You                     </a></li>
<li><a href="#sec-4-3">Know Something About the Shell                                     </a>
<ul>
<li><a href="#sec-4-3-1">Some Shelly Stuff                                                 </a></li>
<li><a href="#sec-4-3-2">Know Your History, Because You're Going to Repeat It              </a></li>
</ul>
</li>
<li><a href="#sec-4-4">Make a Place for Your Stuff                                        </a></li>
<li><a href="#sec-4-5">Using an Editor to Create an NCurses Program                       </a>
<ul>
<li><a href="#sec-4-5-1">Picking an Editor                                                 </a></li>
<li><a href="#sec-4-5-2">Creating Your First NCurses Program                               </a></li>
<li><a href="#sec-4-5-3">Some Deviations                                                   </a></li>
</ul>
</li>
<li><a href="#sec-4-6">Know Thy Compiler                                                  </a>
<ul>
<li><a href="#sec-4-6-1">Linking NCurses or Curses?                                        </a></li>
<li><a href="#sec-4-6-2">What Does the gcc Command Do?                                     </a></li>
<li><a href="#sec-4-6-3">Re-editing Your Source Code                                       </a></li>
<li><a href="#sec-4-6-4">Where Is the Program?                                             </a></li>
<li><a href="#sec-4-6-5">Fixing Stuff (Again)                                              </a></li>
<li><a href="#sec-4-6-6">Don't Panic When You Still Don't See Anything!                    </a></li>
<li><a href="#sec-4-6-7">Do You Think <code>a.out</code> Is a Goofy Name?                             </a></li>
</ul>
</li>
<li><a href="#sec-4-7">All Done!                                                          </a>
<ul>
<li><a href="#sec-4-7-1">General Info                                                      </a></li>
<li><a href="#sec-4-7-2">Handy Shell Commands to Know                                      </a></li>
<li><a href="#sec-4-7-3">Source Code Tidbits                                               </a></li>
<li><a href="#sec-4-7-4">Compiling Tips                                                    </a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-5">CHAPTER  2 Basic I/O, the NCurses Way                               </a>
<ul>
<li><a href="#sec-5-1">The Skeleton                                                       </a>
<ul>
<li><a href="#sec-5-1-1">The <code>initscr()</code> Function                                          </a></li>
<li><a href="#sec-5-1-2">The <code>initscr()</code> Function's Exceptions                             </a></li>
<li><a href="#sec-5-1-3">The <code>endwin()</code> Function                                           </a></li>
<li><a href="#sec-5-1-4">The <code>refresh()</code> Function                                          </a></li>
</ul>
</li>
<li><a href="#sec-5-2">Writing Text                                                       </a>
<ul>
<li><a href="#sec-5-2-1">Tossing Up Text One Stupid Character at a Time                    </a></li>
<li><a href="#sec-5-2-2">Pausing for a Side-trip                                           </a></li>
<li><a href="#sec-5-2-3">Blurping Text                                                     </a></li>
<li><a href="#sec-5-2-4">The <code>move()</code> Function                                             </a></li>
<li><a href="#sec-5-2-5">The Old Formatted Text Trick                                      </a></li>
</ul>
</li>
<li><a href="#sec-5-3">Reading Text                                                       </a>
<ul>
<li><a href="#sec-5-3-1">The Silly Typewriter Program                                      </a></li>
<li><a href="#sec-5-3-2">Consuming a String Whole                                          </a></li>
<li><a href="#sec-5-3-3">Swallowing Only So Much of a String                               </a></li>
<li><a href="#sec-5-3-4">The Obligatory <code>scanw()</code> Program                                  </a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-6">CHAPTER  3 Formatting Text                                          </a>
<ul>
<li><a href="#sec-6-1">Text Abuse with Text Attributes                                    </a>
<ul>
<li><a href="#sec-6-1-1">More than Boring Black and White (but Not Much)                   </a></li>
<li><a href="#sec-6-1-2">Testing Some Attributes                                           </a></li>
<li><a href="#sec-6-1-3">Multiple-Attribute Mania                                          </a></li>
</ul>
</li>
<li><a href="#sec-6-2">Can It Do Color?                                                   </a>
<ul>
<li><a href="#sec-6-2-1">Colors and Color Pairs                                            </a></li>
<li><a href="#sec-6-2-2">Eight or Sixteen Colors?                                          </a></li>
<li><a href="#sec-6-2-3">Spruce Up Some Text!                                              </a></li>
<li><a href="#sec-6-2-4">A Color Thing Your Terminal Probably Cannot Do                    </a></li>
</ul>
</li>
<li><a href="#sec-6-3">Coloring a Window                                                  </a>
<ul>
<li><a href="#sec-6-3-1">Screen Background Color                                           </a></li>
<li><a href="#sec-6-3-2">More than Solid                                                   </a></li>
<li><a href="#sec-6-3-3">Changing Color on the Fly                                         </a></li>
</ul>
</li>
<li><a href="#sec-6-4">Noise, Too!                                                        </a></li>
</ul>
</li>
<li><a href="#sec-7">CHAPTER  4 Around the Window                                        </a>
<ul>
<li><a href="#sec-7-1">Measuring the Standard Screen                                      </a>
<ul>
<li><a href="#sec-7-1-1">The Size of the Window Is Y by X                                  </a></li>
<li><a href="#sec-7-1-2">And Now: the Shortcut                                             </a></li>
</ul>
</li>
<li><a href="#sec-7-2">Moving the Cursor Around                                           </a>
<ul>
<li><a href="#sec-7-2-1">Watch Out! I've Got You Cornered!                                 </a></li>
<li><a href="#sec-7-2-2">Some Compacting                                                   </a></li>
<li><a href="#sec-7-2-3">Center that Title!                                                </a></li>
<li><a href="#sec-7-2-4">Some Fun with <code>mvprintw()</code>                                        </a></li>
</ul>
</li>
<li><a href="#sec-7-3">Whither the Cursor?                                                </a></li>
</ul>
</li>
<li><a href="#sec-8">CHAPTER  5 More Text Manipulation                                   </a>
<ul>
<li><a href="#sec-8-1">Inserting and Deleting Functions                                   </a></li>
<li><a href="#sec-8-2">Editing Shakespeare                                                </a>
<ul>
<li><a href="#sec-8-2-1">Inserting Some Lines                                              </a></li>
<li><a href="#sec-8-2-2">Final Changes to Hamlet                                           </a></li>
<li><a href="#sec-8-2-3">Inserting One Character at a Time                                 </a></li>
<li><a href="#sec-8-2-4">A More Visual Example                                             </a></li>
</ul>
</li>
<li><a href="#sec-8-3">Less of Hamlet                                                     </a>
<ul>
<li><a href="#sec-8-3-1">Goodbye, Chunk of Text!                                           </a></li>
<li><a href="#sec-8-3-2">Out It Goes and in It Comes                                       </a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-9">CHAPTER  6 Clearing and Zapping                                     </a>
<ul>
<li><a href="#sec-9-1">Commands to Erase Chunks of the Screen                             </a>
<ul>
<li><a href="#sec-9-1-1">The Obligatory Test Program                                       </a></li>
<li><a href="#sec-9-1-2">Clear the Screen!                                                 </a></li>
<li><a href="#sec-9-1-3">Clear or Erase?                                                   </a></li>
</ul>
</li>
<li><a href="#sec-9-2">Clrto means Clear To                                               </a>
<ul>
<li><a href="#sec-9-2-1">Less Blah on the End of a Line                                    </a></li>
<li><a href="#sec-9-2-2">Less Blah to the End of the Screen                                </a></li>
</ul>
</li>
<li><a href="#sec-9-3">You Mean that's It for My NCurses Erasing Fun and Excitement?      </a></li>
</ul>
</li>
<li><a href="#sec-10">CHAPTER  7 Keyboard Madness!                                        </a>
<ul>
<li><a href="#sec-10-1">Reading from the Keyboard                                          </a>
<ul>
<li><a href="#sec-10-1-1">Is a Character Waiting?                                           </a></li>
<li><a href="#sec-10-1-2">Testing Waiting Characters                                        </a></li>
<li><a href="#sec-10-1-3">How to Implement <code>kbhit()</code>                                        </a></li>
<li><a href="#sec-10-1-4">Flushing Input                                                    </a></li>
<li><a href="#sec-10-1-5">Silence, Please!                                                  </a></li>
</ul>
</li>
<li><a href="#sec-10-2">Reading Special Keys                                               </a></li>
<li><a href="#sec-10-3">Keypad On!                                                         </a>
<ul>
<li><a href="#sec-10-3-1">What's Where on the Keyboard                                      </a></li>
<li><a href="#sec-10-3-2">The Highlighted Menu Bar                                          </a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-11">CHAPTER  8 Windows, Windows Everywhere!                             </a>
<ul>
<li><a href="#sec-11-1">Ye Olde Standard Screen                                            </a>
<ul>
<li><a href="#sec-11-1-1">Commands that Require a Window Argument                           </a></li>
<li><a href="#sec-11-1-2">The Pseudo Commands                                               </a></li>
<li><a href="#sec-11-1-3">The Other Prefix, <code>mv</code>                                            </a></li>
</ul>
</li>
<li><a href="#sec-11-2">Making Windows                                                     </a>
<ul>
<li><a href="#sec-11-2-1">The Obligatory New Window Sample Program                          </a></li>
<li><a href="#sec-11-2-2">Switching between Windows                                         </a></li>
<li><a href="#sec-11-2-3">Windows of a Smaller Size                                         </a></li>
</ul>
</li>
<li><a href="#sec-11-3">Removing a Window                                                  </a></li>
<li><a href="#sec-11-4">Dueling Windows                                                    </a>
<ul>
<li><a href="#sec-11-4-1">Stained Glass Windows                                             </a></li>
<li><a href="#sec-11-4-2">Stop Repeating Me!                                                </a></li>
</ul>
</li>
<li><a href="#sec-11-5">On Your Own                                                        </a></li>
</ul>
</li>
<li><a href="#sec-12">CHAPTER  9 Subwindows                                               </a>
<ul>
<li><a href="#sec-12-1">The Thing with Subwindows                                          </a></li>
<li><a href="#sec-12-2">Making Subwindows                                                  </a>
<ul>
<li><a href="#sec-12-2-1">Your First Subwindow                                              </a></li>
<li><a href="#sec-12-2-2">Your Second Subwindow                                             </a></li>
</ul>
</li>
<li><a href="#sec-12-3">Sub-subwindows                                                     </a></li>
<li><a href="#sec-12-4">Removing a Subwindow                                               </a></li>
<li><a href="#sec-12-5">Subwindows Versus Windows                                          </a></li>
</ul>
</li>
<li><a href="#sec-13">CHAPTER 10 More Window Tricks                                       </a>
<ul>
<li><a href="#sec-13-1">Copying Window Contents                                            </a>
<ul>
<li><a href="#sec-13-1-1">To overlay or to overwrite?                                       </a></li>
<li><a href="#sec-13-1-2">The <code>overwrite()</code> difference                                      </a></li>
<li><a href="#sec-13-1-3">The magic of <code>copywin()</code>                                          </a></li>
<li><a href="#sec-13-1-4">Plain old window duplication                                      </a></li>
</ul>
</li>
<li><a href="#sec-13-2">Scrolling Around                                                   </a>
<ul>
<li><a href="#sec-13-2-1">Can it scroll?                                                    </a></li>
<li><a href="#sec-13-2-2">Scroll Away                                                       </a></li>
<li><a href="#sec-13-2-3">The old manual scroll                                             </a></li>
<li><a href="#sec-13-2-4">Scrolling by leaps and bounds                                     </a></li>
<li><a href="#sec-13-2-5">Negative scrolling                                                </a></li>
</ul>
</li>
<li><a href="#sec-13-3">The Moving Experience                                              </a></li>
</ul>
</li>
<li><a href="#sec-14">CHAPTER 11 Dig My Pad, Man                                          </a>
<ul>
<li><a href="#sec-14-1">The Monster Window                                                 </a>
<ul>
<li><a href="#sec-14-1-1">Making a Pad                                                      </a></li>
<li><a href="#sec-14-1-2">Viewing a Pad's Contents                                          </a></li>
<li><a href="#sec-14-1-3">More Pad-Viewing Stuff                                            </a></li>
</ul>
</li>
<li><a href="#sec-14-2">Subpads                                                            </a>
<ul>
<li><a href="#sec-14-2-1">Making a subpad                                                   </a></li>
<li><a href="#sec-14-2-2">Working with a Subpad                                             </a></li>
<li><a href="#sec-14-2-3">Some Optimization                                                 </a></li>
</ul>
</li>
<li><a href="#sec-14-3">Removing a Pad                                                     </a></li>
<li><a href="#sec-14-4">Pad Miscellany                                                     </a>
<ul>
<li><a href="#sec-14-4-1">Another Pad Function                                              </a></li>
<li><a href="#sec-14-4-2">Forbidden Pad Functions                                           </a></li>
<li><a href="#sec-14-4-3">Forbidden Pad Stuff                                               </a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-15">CHAPTER 12 The Joy of Soft Labels                                   </a>
<ul>
<li><a href="#sec-15-1">What Is a Soft Label?                                              </a></li>
<li><a href="#sec-15-2">Doing the Soft Label Thing                                         </a>
<ul>
<li><a href="#sec-15-2-1">Stand by for Soft Labels                                          </a></li>
<li><a href="#sec-15-2-2">Gimme Some Soft Labels                                            </a></li>
<li><a href="#sec-15-2-3">Making the Index Line                                             </a></li>
</ul>
</li>
<li><a href="#sec-15-3">Soft Labels Here and Gone                                          </a>
<ul>
<li><a href="#sec-15-3-1">Hiding and Restoring the Labels                                   </a></li>
<li><a href="#sec-15-3-2">Changing a Label                                                  </a></li>
<li><a href="#sec-15-3-3">Removing a Label                                                  </a></li>
</ul>
</li>
<li><a href="#sec-15-4">Hooking in the Function Keys                                       </a></li>
</ul>
</li>
<li><a href="#sec-16">CHAPTER 13 Messing Mit der Mouse                                    </a>
<ul>
<li><a href="#sec-16-1">Hello, Mouse                                                       </a>
<ul>
<li><a href="#sec-16-1-1">Can NCurses Deal with the Mouse?                                  </a></li>
<li><a href="#sec-16-1-2">Can Your Terminal Deal with the Mouse?                            </a></li>
</ul>
</li>
<li><a href="#sec-16-2">Reading the Mouse                                                  </a>
<ul>
<li><a href="#sec-16-2-1">The "Reading the Mouse" Overview                                  </a></li>
<li><a href="#sec-16-2-2">Where Did You Click that Mouse?                                   </a></li>
<li><a href="#sec-16-2-3">On Your Own                                                       </a></li>
<li><a href="#sec-16-2-4">What Clicked?                                                     </a></li>
</ul>
</li>
<li><a href="#sec-16-3">To Eek or Not to Eek?                                              </a></li>
</ul>
</li>
<li><a href="#sec-17">CHAPTER 14 A Mixture of Stuff                                       </a>
<ul>
<li><a href="#sec-17-1">Adios, Cursor                                                      </a></li>
<li><a href="#sec-17-2">Line Drawing                                                       </a>
<ul>
<li><a href="#sec-17-2-1">Boxing Windows                                                    </a></li>
<li><a href="#sec-17-2-2">Building Better Boxes                                             </a></li>
<li><a href="#sec-17-2-3">We Control the Horizontal and the Vertical                        </a></li>
</ul>
</li>
<li><a href="#sec-17-3">Between NCurses and Disk                                           </a>
<ul>
<li><a href="#sec-17-3-1">Functions that Dump the Screen                                    </a></li>
<li><a href="#sec-17-3-2">Taking a Snapshot of the Screen                                   </a></li>
<li><a href="#sec-17-3-3">Examining the Dump File                                           </a></li>
<li><a href="#sec-17-3-4">Restoring the Screen                                              </a></li>
<li><a href="#sec-17-3-5">Functions that Dump a Window                                      </a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-18">APPENDIX A NCurses Library Reference                                </a>
<ul>
<li><a href="#sec-18-1"><code>addch()</code>                                                          </a>
<ul>
<li><a href="#sec-18-1-1">Man Page Formats</a></li>
<li><a href="#sec-18-1-2">Format Reference</a></li>
<li><a href="#sec-18-1-3">Return Value</a></li>
<li><a href="#sec-18-1-4">Notes</a></li>
<li><a href="#sec-18-1-5">Examples</a></li>
<li><a href="#sec-18-1-6">Sample Program</a>
<ul>
<li><a href="#sec-18-1-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-1-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-2"><code>addchstr()</code>                                                       </a>
<ul>
<li><a href="#sec-18-2-1">Man Page Formats</a></li>
<li><a href="#sec-18-2-2">Format Reference</a></li>
<li><a href="#sec-18-2-3">Return Value</a></li>
<li><a href="#sec-18-2-4">Notes</a></li>
<li><a href="#sec-18-2-5">Examples</a></li>
<li><a href="#sec-18-2-6">Sample Program</a>
<ul>
<li><a href="#sec-18-2-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-2-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-3"><code>addstr()</code>                                                         </a>
<ul>
<li><a href="#sec-18-3-1">Man Page Formats</a></li>
<li><a href="#sec-18-3-2">Format Reference</a></li>
<li><a href="#sec-18-3-3">Return Value</a></li>
<li><a href="#sec-18-3-4">Notes</a></li>
<li><a href="#sec-18-3-5">Examples</a></li>
<li><a href="#sec-18-3-6">Sample Program</a>
<ul>
<li><a href="#sec-18-3-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-3-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-4"><code>assume_default_colors()</code>                                          </a>
<ul>
<li><a href="#sec-18-4-1">Explanation</a></li>
<li><a href="#sec-18-4-2">Man Page Format</a></li>
<li><a href="#sec-18-4-3">Format Reference</a></li>
<li><a href="#sec-18-4-4">Return Value</a></li>
<li><a href="#sec-18-4-5">Notes</a></li>
<li><a href="#sec-18-4-6">Examples</a></li>
<li><a href="#sec-18-4-7">Sample Program</a>
<ul>
<li><a href="#sec-18-4-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-4-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-5"><code>attr_get()</code>                                                       </a>
<ul>
<li><a href="#sec-18-5-1">Man Page Formats</a></li>
<li><a href="#sec-18-5-2">Format Reference</a></li>
<li><a href="#sec-18-5-3">Return Value</a></li>
<li><a href="#sec-18-5-4">Notes</a></li>
<li><a href="#sec-18-5-5">Example</a></li>
<li><a href="#sec-18-5-6">Sample Program</a>
<ul>
<li><a href="#sec-18-5-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-5-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-6"><code>attroff()</code>                                                        </a>
<ul>
<li><a href="#sec-18-6-1">Man Page Formats</a></li>
<li><a href="#sec-18-6-2">Format Reference</a></li>
<li><a href="#sec-18-6-3">Return Value</a></li>
<li><a href="#sec-18-6-4">Notes</a></li>
<li><a href="#sec-18-6-5">Examples</a></li>
<li><a href="#sec-18-6-6">Sample Program</a></li>
<li><a href="#sec-18-6-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-7"><code>attron()</code>                                                         </a>
<ul>
<li><a href="#sec-18-7-1">Man Page Formats</a></li>
<li><a href="#sec-18-7-2">Format Reference</a></li>
<li><a href="#sec-18-7-3">Return Value</a></li>
<li><a href="#sec-18-7-4">Notes</a></li>
<li><a href="#sec-18-7-5">Examples</a></li>
<li><a href="#sec-18-7-6">Sample Program</a></li>
<li><a href="#sec-18-7-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-8"><code>attrset()</code>                                                        </a>
<ul>
<li><a href="#sec-18-8-1">Man Page Formats</a></li>
<li><a href="#sec-18-8-2">Format Reference</a></li>
<li><a href="#sec-18-8-3">Return Value</a></li>
<li><a href="#sec-18-8-4">Notes</a></li>
<li><a href="#sec-18-8-5">Examples</a></li>
<li><a href="#sec-18-8-6">Sample Program</a>
<ul>
<li><a href="#sec-18-8-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-8-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-9"><code>baudrate()</code>                                                       </a>
<ul>
<li><a href="#sec-18-9-1">Man Page Format</a></li>
<li><a href="#sec-18-9-2">Format Reference</a></li>
<li><a href="#sec-18-9-3">Return Value</a></li>
<li><a href="#sec-18-9-4">Notes</a></li>
<li><a href="#sec-18-9-5">Example</a></li>
<li><a href="#sec-18-9-6">Sample Program</a>
<ul>
<li><a href="#sec-18-9-6-1">Sample output:</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-18-10"><code>beep()</code>                                                           </a>
<ul>
<li><a href="#sec-18-10-1">Man Page Format</a></li>
<li><a href="#sec-18-10-2">Format Reference</a></li>
<li><a href="#sec-18-10-3">Return Value</a></li>
<li><a href="#sec-18-10-4">Notes</a></li>
<li><a href="#sec-18-10-5">Example</a></li>
<li><a href="#sec-18-10-6">Sample Program</a>
<ul>
<li><a href="#sec-18-10-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-10-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-11"><code>bkgd()</code>                                                           </a>
<ul>
<li><a href="#sec-18-11-1">Man Page Formats</a></li>
<li><a href="#sec-18-11-2">Format Reference</a></li>
<li><a href="#sec-18-11-3">Return Value</a></li>
<li><a href="#sec-18-11-4">Notes</a></li>
<li><a href="#sec-18-11-5">Examples</a></li>
<li><a href="#sec-18-11-6">Sample Program</a>
<ul>
<li><a href="#sec-18-11-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-11-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-12"><code>bkgdset()</code>                                                        </a>
<ul>
<li><a href="#sec-18-12-1">Man Page Formats</a></li>
<li><a href="#sec-18-12-2">Format Reference</a></li>
<li><a href="#sec-18-12-3">Return Value</a></li>
<li><a href="#sec-18-12-4">Notes</a></li>
<li><a href="#sec-18-12-5">Examples</a></li>
<li><a href="#sec-18-12-6">Sample Program</a>
<ul>
<li><a href="#sec-18-12-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-12-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-13"><code>border()</code>                                                         </a>
<ul>
<li><a href="#sec-18-13-1">Man Page Formats</a></li>
<li><a href="#sec-18-13-2">Format Reference</a></li>
<li><a href="#sec-18-13-3">Return Value</a></li>
<li><a href="#sec-18-13-4">Notes</a></li>
<li><a href="#sec-18-13-5">Examples</a></li>
<li><a href="#sec-18-13-6">Sample Program</a>
<ul>
<li><a href="#sec-18-13-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-13-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-14"><code>box()</code>                                                            </a>
<ul>
<li><a href="#sec-18-14-1">Man Page Format</a></li>
<li><a href="#sec-18-14-2">Format Reference</a></li>
<li><a href="#sec-18-14-3">Return Value</a></li>
<li><a href="#sec-18-14-4">Notes</a></li>
<li><a href="#sec-18-14-5">Examples</a></li>
<li><a href="#sec-18-14-6">Sample Program</a>
<ul>
<li><a href="#sec-18-14-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-14-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-15"><code>can_change_color()</code>                                               </a>
<ul>
<li><a href="#sec-18-15-1">Man Page Format</a></li>
<li><a href="#sec-18-15-2">Format Reference</a></li>
<li><a href="#sec-18-15-3">Return Value</a></li>
<li><a href="#sec-18-15-4">Notes</a></li>
<li><a href="#sec-18-15-5">Examples</a></li>
<li><a href="#sec-18-15-6">Sample Program</a>
<ul>
<li><a href="#sec-18-15-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-15-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-16"><code>cbreak()</code>                                                         </a>
<ul>
<li><a href="#sec-18-16-1">Explanation</a></li>
<li><a href="#sec-18-16-2">Man Page Format</a></li>
<li><a href="#sec-18-16-3">Format Reference</a></li>
<li><a href="#sec-18-16-4">Return Value</a></li>
<li><a href="#sec-18-16-5">Notes</a></li>
<li><a href="#sec-18-16-6">Examples</a></li>
<li><a href="#sec-18-16-7">Sample Program</a>
<ul>
<li><a href="#sec-18-16-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-16-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-17"><code>chgat()</code>                                                          </a>
<ul>
<li><a href="#sec-18-17-1">Man Page Formats</a></li>
<li><a href="#sec-18-17-2">Format Reference</a></li>
<li><a href="#sec-18-17-3">Return Value</a></li>
<li><a href="#sec-18-17-4">Notes</a></li>
<li><a href="#sec-18-17-5">Examples</a></li>
<li><a href="#sec-18-17-6">Sample Program</a>
<ul>
<li><a href="#sec-18-17-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-17-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-18"><code>clear()</code>                                                          </a>
<ul>
<li><a href="#sec-18-18-1">Man Page Formats</a></li>
<li><a href="#sec-18-18-2">Format Reference</a></li>
<li><a href="#sec-18-18-3">Return Value</a></li>
<li><a href="#sec-18-18-4">Notes</a></li>
<li><a href="#sec-18-18-5">Examples</a></li>
<li><a href="#sec-18-18-6">Sample Program</a>
<ul>
<li><a href="#sec-18-18-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-18-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-19"><code>clearok()</code>                                                        </a>
<ul>
<li><a href="#sec-18-19-1">Explanation</a></li>
<li><a href="#sec-18-19-2">Man Page Format</a></li>
<li><a href="#sec-18-19-3">Format Reference</a></li>
<li><a href="#sec-18-19-4">Return Value</a></li>
<li><a href="#sec-18-19-5">Notes</a></li>
<li><a href="#sec-18-19-6">Examples</a></li>
<li><a href="#sec-18-19-7">Sample Program</a>
<ul>
<li><a href="#sec-18-19-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-19-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-20"><code>clrtobot()</code>                                                       </a>
<ul>
<li><a href="#sec-18-20-1">Man Page Formats</a></li>
<li><a href="#sec-18-20-2">Format Reference</a></li>
<li><a href="#sec-18-20-3">Return Value</a></li>
<li><a href="#sec-18-20-4">Notes</a></li>
<li><a href="#sec-18-20-5">Example</a></li>
<li><a href="#sec-18-20-6">Sample Program</a>
<ul>
<li><a href="#sec-18-20-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-20-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-21"><code>clrtoeol()</code>                                                       </a>
<ul>
<li><a href="#sec-18-21-1">Man Page Formats</a></li>
<li><a href="#sec-18-21-2">Format Reference</a></li>
<li><a href="#sec-18-21-3">Return Value</a></li>
<li><a href="#sec-18-21-4">Notes</a></li>
<li><a href="#sec-18-21-5">Example</a></li>
<li><a href="#sec-18-21-6">Sample Program</a>
<ul>
<li><a href="#sec-18-21-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-21-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-22"><code>color_content()</code>                                                  </a>
<ul>
<li><a href="#sec-18-22-1">Man Page Format</a></li>
<li><a href="#sec-18-22-2">Format Reference</a></li>
<li><a href="#sec-18-22-3">Return Value</a></li>
<li><a href="#sec-18-22-4">Notes</a></li>
<li><a href="#sec-18-22-5">Examples</a></li>
<li><a href="#sec-18-22-6">Sample Program</a>
<ul>
<li><a href="#sec-18-22-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-22-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-23"><code>color_set()</code>                                                      </a>
<ul>
<li><a href="#sec-18-23-1">Man Page Format</a></li>
<li><a href="#sec-18-23-2">Format Reference</a></li>
<li><a href="#sec-18-23-3">Return Value</a></li>
<li><a href="#sec-18-23-4">Notes</a></li>
<li><a href="#sec-18-23-5">Example</a></li>
<li><a href="#sec-18-23-6">Sample Program</a>
<ul>
<li><a href="#sec-18-23-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-23-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-24"><code>COLORS</code>                                                           </a>
<ul>
<li><a href="#sec-18-24-1">Man Page Format</a></li>
<li><a href="#sec-18-24-2">Format Reference</a></li>
<li><a href="#sec-18-24-3">Return Value</a></li>
<li><a href="#sec-18-24-4">Notes</a></li>
<li><a href="#sec-18-24-5">Examples</a></li>
<li><a href="#sec-18-24-6">Sample Program</a></li>
<li><a href="#sec-18-24-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-25"><code>COLOR_PAIRS</code>                                                      </a>
<ul>
<li><a href="#sec-18-25-1">Man Page Format</a></li>
<li><a href="#sec-18-25-2">Format Reference</a></li>
<li><a href="#sec-18-25-3">Return Value</a></li>
<li><a href="#sec-18-25-4">Notes</a></li>
<li><a href="#sec-18-25-5">Examples</a></li>
<li><a href="#sec-18-25-6">Sample Program</a></li>
<li><a href="#sec-18-25-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-26"><code>COLS</code>                                                             </a>
<ul>
<li><a href="#sec-18-26-1">Man Page Format</a></li>
<li><a href="#sec-18-26-2">Format Reference</a></li>
<li><a href="#sec-18-26-3">Return Value</a></li>
<li><a href="#sec-18-26-4">Notes</a></li>
<li><a href="#sec-18-26-5">Example</a></li>
<li><a href="#sec-18-26-6">Sample Program</a>
<ul>
<li><a href="#sec-18-26-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-26-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-27"><code>copywin()</code>                                                        </a>
<ul>
<li><a href="#sec-18-27-1">Man Page Format</a></li>
<li><a href="#sec-18-27-2">Format Reference</a></li>
<li><a href="#sec-18-27-3">Return Value</a></li>
<li><a href="#sec-18-27-4">Notes</a></li>
<li><a href="#sec-18-27-5">Example</a></li>
<li><a href="#sec-18-27-6">Sample Program</a>
<ul>
<li><a href="#sec-18-27-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-27-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-28"><code>curs_set()</code>                                                       </a>
<ul>
<li><a href="#sec-18-28-1">Man Page Format</a></li>
<li><a href="#sec-18-28-2">Format Reference</a></li>
<li><a href="#sec-18-28-3">Return Value</a></li>
<li><a href="#sec-18-28-4">Notes</a></li>
<li><a href="#sec-18-28-5">Examples</a></li>
<li><a href="#sec-18-28-6">Sample Program</a>
<ul>
<li><a href="#sec-18-28-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-28-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-29"><code>curses_version()</code>                                                 </a>
<ul>
<li><a href="#sec-18-29-1">Man Page Format</a></li>
<li><a href="#sec-18-29-2">Format Reference</a></li>
<li><a href="#sec-18-29-3">Return Value</a></li>
<li><a href="#sec-18-29-4">Notes</a></li>
<li><a href="#sec-18-29-5">Example</a></li>
<li><a href="#sec-18-29-6">Sample Program</a>
<ul>
<li><a href="#sec-18-29-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-29-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-30"><code>delch()</code>                                                          </a>
<ul>
<li><a href="#sec-18-30-1">Man Page Formats</a></li>
<li><a href="#sec-18-30-2">Format Reference</a></li>
<li><a href="#sec-18-30-3">Return Value</a></li>
<li><a href="#sec-18-30-4">Notes</a></li>
<li><a href="#sec-18-30-5">Example</a></li>
<li><a href="#sec-18-30-6">Sample Program</a>
<ul>
<li><a href="#sec-18-30-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-30-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-31"><code>deleteln()</code>                                                       </a>
<ul>
<li><a href="#sec-18-31-1">Man Page Formats</a></li>
<li><a href="#sec-18-31-2">Format Reference</a></li>
<li><a href="#sec-18-31-3">Return Value</a></li>
<li><a href="#sec-18-31-4">Notes</a></li>
<li><a href="#sec-18-31-5">Example</a></li>
<li><a href="#sec-18-31-6">Sample Program</a>
<ul>
<li><a href="#sec-18-31-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-31-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-32"><code>delscreen()</code>                                                      </a>
<ul>
<li><a href="#sec-18-32-1">Man Page Format</a></li>
<li><a href="#sec-18-32-2">Format Reference</a></li>
<li><a href="#sec-18-32-3">Return Value</a></li>
<li><a href="#sec-18-32-4">Notes</a></li>
<li><a href="#sec-18-32-5">Example</a></li>
<li><a href="#sec-18-32-6">Sample Program</a>
<ul>
<li><a href="#sec-18-32-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-32-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-33"><code>delwin()</code>                                                         </a>
<ul>
<li><a href="#sec-18-33-1">Man Page Format</a></li>
<li><a href="#sec-18-33-2">Format Reference</a></li>
<li><a href="#sec-18-33-3">Return Value</a></li>
<li><a href="#sec-18-33-4">Notes</a></li>
<li><a href="#sec-18-33-5">Example</a></li>
<li><a href="#sec-18-33-6">Sample Program</a>
<ul>
<li><a href="#sec-18-33-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-33-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-34"><code>derwin()</code>                                                         </a>
<ul>
<li><a href="#sec-18-34-1">Man Page Format</a></li>
<li><a href="#sec-18-34-2">Format Reference</a></li>
<li><a href="#sec-18-34-3">Return Value</a></li>
<li><a href="#sec-18-34-4">Notes</a></li>
<li><a href="#sec-18-34-5">Example</a></li>
<li><a href="#sec-18-34-6">Sample Program</a>
<ul>
<li><a href="#sec-18-34-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-34-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-35"><code>doupdate()</code>                                                       </a>
<ul>
<li><a href="#sec-18-35-1">Explanation</a></li>
<li><a href="#sec-18-35-2">Man Page Format</a></li>
<li><a href="#sec-18-35-3">Format Reference</a></li>
<li><a href="#sec-18-35-4">Return Value</a></li>
<li><a href="#sec-18-35-5">Notes</a></li>
<li><a href="#sec-18-35-6">Example</a></li>
<li><a href="#sec-18-35-7">Sample Program</a>
<ul>
<li><a href="#sec-18-35-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-35-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-36"><code>dupwin(win)</code>                                                      </a>
<ul>
<li><a href="#sec-18-36-1">Man Page Format</a></li>
<li><a href="#sec-18-36-2">Format Reference</a></li>
<li><a href="#sec-18-36-3">Return Value</a></li>
<li><a href="#sec-18-36-4">Notes</a></li>
<li><a href="#sec-18-36-5">Example</a></li>
<li><a href="#sec-18-36-6">Sample Program</a></li>
<li><a href="#sec-18-36-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-37"><code>echo()</code>                                                           </a>
<ul>
<li><a href="#sec-18-37-1">Man Page Formats</a></li>
<li><a href="#sec-18-37-2">Format Reference</a></li>
<li><a href="#sec-18-37-3">Return Value</a></li>
<li><a href="#sec-18-37-4">Notes</a></li>
<li><a href="#sec-18-37-5">Examples</a></li>
<li><a href="#sec-18-37-6">Sample Program</a>
<ul>
<li><a href="#sec-18-37-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-37-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-38"><code>echochar()</code>                                                       </a>
<ul>
<li><a href="#sec-18-38-1">Explanation</a></li>
<li><a href="#sec-18-38-2">Man Page Formats</a></li>
<li><a href="#sec-18-38-3">Format Reference</a></li>
<li><a href="#sec-18-38-4">Return Value</a></li>
<li><a href="#sec-18-38-5">Notes</a></li>
<li><a href="#sec-18-38-6">Examples</a></li>
<li><a href="#sec-18-38-7">Sample Program</a>
<ul>
<li><a href="#sec-18-38-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-38-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-39"><code>endwin()</code>                                                         </a>
<ul>
<li><a href="#sec-18-39-1">Man Page Format</a></li>
<li><a href="#sec-18-39-2">Format Reference</a></li>
<li><a href="#sec-18-39-3">Return Value</a></li>
<li><a href="#sec-18-39-4">Notes</a></li>
<li><a href="#sec-18-39-5">Example</a></li>
<li><a href="#sec-18-39-6">Sample Program #1</a>
<ul>
<li><a href="#sec-18-39-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-39-7">Sample Program #2</a>
<ul>
<li><a href="#sec-18-39-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-39-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-40"><code>erase()</code>                                                          </a>
<ul>
<li><a href="#sec-18-40-1">Man Page Formats</a></li>
<li><a href="#sec-18-40-2">Format Reference</a></li>
<li><a href="#sec-18-40-3">Return Value</a></li>
<li><a href="#sec-18-40-4">Notes</a></li>
<li><a href="#sec-18-40-5">Examples</a></li>
<li><a href="#sec-18-40-6">Sample Program</a>
<ul>
<li><a href="#sec-18-40-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-40-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-41"><code>erasechar()</code>                                                      </a>
<ul>
<li><a href="#sec-18-41-1">Man Page Format</a></li>
<li><a href="#sec-18-41-2">Format Reference</a></li>
<li><a href="#sec-18-41-3">Return Value</a></li>
<li><a href="#sec-18-41-4">Notes</a></li>
<li><a href="#sec-18-41-5">Example</a></li>
<li><a href="#sec-18-41-6">Sample Program</a>
<ul>
<li><a href="#sec-18-41-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-41-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-42"><code>ERR</code>                                                              </a>
<ul>
<li><a href="#sec-18-42-1">Man Page Format</a></li>
<li><a href="#sec-18-42-2">Format Reference</a></li>
<li><a href="#sec-18-42-3">Return Value</a></li>
<li><a href="#sec-18-42-4">Notes</a></li>
<li><a href="#sec-18-42-5">Examples</a></li>
<li><a href="#sec-18-42-6">Sample Program</a>
<ul>
<li><a href="#sec-18-42-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-42-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-43"><code>FALSE</code>                                                            </a>
<ul>
<li><a href="#sec-18-43-1">Man Page Format</a></li>
<li><a href="#sec-18-43-2">Format Reference</a></li>
<li><a href="#sec-18-43-3">Return Value</a></li>
<li><a href="#sec-18-43-4">Notes</a></li>
<li><a href="#sec-18-43-5">Examples</a></li>
<li><a href="#sec-18-43-6">Sample Program</a>
<ul>
<li><a href="#sec-18-43-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-43-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-44"><code>filter()</code>                                                         </a>
<ul>
<li><a href="#sec-18-44-1">Man Page Format</a></li>
<li><a href="#sec-18-44-2">Format Reference</a></li>
<li><a href="#sec-18-44-3">Return Value</a></li>
<li><a href="#sec-18-44-4">Notes</a></li>
<li><a href="#sec-18-44-5">Example</a></li>
<li><a href="#sec-18-44-6">Sample Program</a>
<ul>
<li><a href="#sec-18-44-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-44-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-45"><code>flash()</code>                                                          </a>
<ul>
<li><a href="#sec-18-45-1">Man Page Format</a></li>
<li><a href="#sec-18-45-2">Format Reference</a></li>
<li><a href="#sec-18-45-3">Return Value</a></li>
<li><a href="#sec-18-45-4">Notes</a></li>
<li><a href="#sec-18-45-5">Example</a></li>
<li><a href="#sec-18-45-6">Sample Program</a>
<ul>
<li><a href="#sec-18-45-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-45-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-46"><code>flushinp()</code>                                                       </a>
<ul>
<li><a href="#sec-18-46-1">Man Page Format</a></li>
<li><a href="#sec-18-46-2">Format Reference</a></li>
<li><a href="#sec-18-46-3">Return Value</a></li>
<li><a href="#sec-18-46-4">Notes</a></li>
<li><a href="#sec-18-46-5">Example</a></li>
<li><a href="#sec-18-46-6">Sample Program</a>
<ul>
<li><a href="#sec-18-46-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-46-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-47"><code>getbegyx()</code>                                                       </a>
<ul>
<li><a href="#sec-18-47-1">Man Page Format</a></li>
<li><a href="#sec-18-47-2">Format Reference</a></li>
<li><a href="#sec-18-47-3">Return Value</a></li>
<li><a href="#sec-18-47-4">Notes</a></li>
<li><a href="#sec-18-47-5">Example</a></li>
<li><a href="#sec-18-47-6">Sample Program</a></li>
<li><a href="#sec-18-47-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-48"><code>getbkgd()</code>                                                        </a>
<ul>
<li><a href="#sec-18-48-1">Man Page Format</a></li>
<li><a href="#sec-18-48-2">Format Reference</a></li>
<li><a href="#sec-18-48-3">Return Value</a></li>
<li><a href="#sec-18-48-4">Notes</a></li>
<li><a href="#sec-18-48-5">Example</a></li>
<li><a href="#sec-18-48-6">Sample Program</a>
<ul>
<li><a href="#sec-18-48-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-48-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-49"><code>getch()</code>                                                          </a>
<ul>
<li><a href="#sec-18-49-1">Man Page Formats</a></li>
<li><a href="#sec-18-49-2">Format Reference</a></li>
<li><a href="#sec-18-49-3">Return Value</a></li>
<li><a href="#sec-18-49-4">Notes</a></li>
<li><a href="#sec-18-49-5">Examples</a></li>
<li><a href="#sec-18-49-6">Sample Program</a>
<ul>
<li><a href="#sec-18-49-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-49-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-50"><code>getmaxyx()</code>                                                       </a>
<ul>
<li><a href="#sec-18-50-1">Man Page Format</a></li>
<li><a href="#sec-18-50-2">Format Reference</a></li>
<li><a href="#sec-18-50-3">Return Value</a></li>
<li><a href="#sec-18-50-4">Notes</a></li>
<li><a href="#sec-18-50-5">Example</a></li>
<li><a href="#sec-18-50-6">Sample Program</a>
<ul>
<li><a href="#sec-18-50-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-50-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-51"><code>getmouse()</code>                                                       </a>
<ul>
<li><a href="#sec-18-51-1">Man Page Format</a></li>
<li><a href="#sec-18-51-2">Format Reference</a></li>
<li><a href="#sec-18-51-3">Return Value</a></li>
<li><a href="#sec-18-51-4">Notes</a></li>
<li><a href="#sec-18-51-5">Example</a></li>
<li><a href="#sec-18-51-6">Sample Program</a>
<ul>
<li><a href="#sec-18-51-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-51-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-52"><code>getnstr()</code>                                                        </a></li>
<li><a href="#sec-18-53"><code>getparyx()</code>                                                       </a>
<ul>
<li><a href="#sec-18-53-1">Man Page Format</a></li>
<li><a href="#sec-18-53-2">Format Reference</a></li>
<li><a href="#sec-18-53-3">Return Value</a></li>
<li><a href="#sec-18-53-4">Notes</a></li>
<li><a href="#sec-18-53-5">Example</a></li>
<li><a href="#sec-18-53-6">Sample Program</a></li>
<li><a href="#sec-18-53-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-54"><code>getstr()</code>                                                         </a>
<ul>
<li><a href="#sec-18-54-1">Man Page Formats</a></li>
<li><a href="#sec-18-54-2">Format Reference</a></li>
<li><a href="#sec-18-54-3">Return Value</a></li>
<li><a href="#sec-18-54-4">Notes</a></li>
<li><a href="#sec-18-54-5">Examples</a></li>
<li><a href="#sec-18-54-6">Sample Program</a>
<ul>
<li><a href="#sec-18-54-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-54-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-55"><code>getsyx()</code>                                                         </a>
<ul>
<li><a href="#sec-18-55-1">Explanation</a></li>
<li><a href="#sec-18-55-2">Man Page Format</a></li>
<li><a href="#sec-18-55-3">Format Reference</a></li>
<li><a href="#sec-18-55-4">Return Value</a></li>
<li><a href="#sec-18-55-5">Notes</a></li>
<li><a href="#sec-18-55-6">Example</a></li>
<li><a href="#sec-18-55-7">Sample Program</a>
<ul>
<li><a href="#sec-18-55-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-55-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-56"><code>getwin()</code>                                                         </a>
<ul>
<li><a href="#sec-18-56-1">Man Page Format</a></li>
<li><a href="#sec-18-56-2">Format Reference</a></li>
<li><a href="#sec-18-56-3">Return Value</a></li>
<li><a href="#sec-18-56-4">Notes</a></li>
<li><a href="#sec-18-56-5">Example</a></li>
<li><a href="#sec-18-56-6">Sample Program</a>
<ul>
<li><a href="#sec-18-56-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-56-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-57"><code>getyx()</code>                                                          </a>
<ul>
<li><a href="#sec-18-57-1">Man Page Format</a></li>
<li><a href="#sec-18-57-2">Format Reference</a></li>
<li><a href="#sec-18-57-3">Return Value</a></li>
<li><a href="#sec-18-57-4">Notes</a></li>
<li><a href="#sec-18-57-5">Example</a></li>
<li><a href="#sec-18-57-6">Sample Program</a>
<ul>
<li><a href="#sec-18-57-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-57-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-58"><code>halfdelay()</code>                                                      </a>
<ul>
<li><a href="#sec-18-58-1">Explanation</a></li>
<li><a href="#sec-18-58-2">Man Page Format</a></li>
<li><a href="#sec-18-58-3">Format Reference</a></li>
<li><a href="#sec-18-58-4">Return Value</a></li>
<li><a href="#sec-18-58-5">Notes</a></li>
<li><a href="#sec-18-58-6">Examples</a></li>
<li><a href="#sec-18-58-7">Sample Program</a>
<ul>
<li><a href="#sec-18-58-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-58-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-59"><code>has_colors()</code>                                                     </a>
<ul>
<li><a href="#sec-18-59-1">Man Page Format</a></li>
<li><a href="#sec-18-59-2">Format Reference</a></li>
<li><a href="#sec-18-59-3">Return Value</a></li>
<li><a href="#sec-18-59-4">Notes</a></li>
<li><a href="#sec-18-59-5">Examples</a></li>
<li><a href="#sec-18-59-6">Sample Program</a>
<ul>
<li><a href="#sec-18-59-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-59-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-60"><code>has_ic()</code>                                                         </a>
<ul>
<li><a href="#sec-18-60-1">Man Page Format</a></li>
<li><a href="#sec-18-60-2">Format Reference</a></li>
<li><a href="#sec-18-60-3">Return Value</a></li>
<li><a href="#sec-18-60-4">Notes</a></li>
<li><a href="#sec-18-60-5">Example</a></li>
<li><a href="#sec-18-60-6">Sample Program</a>
<ul>
<li><a href="#sec-18-60-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-60-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-61"><code>has_il()</code>                                                         </a>
<ul>
<li><a href="#sec-18-61-1">Man Page Format</a></li>
<li><a href="#sec-18-61-2">Format Reference</a></li>
<li><a href="#sec-18-61-3">Return Value</a></li>
<li><a href="#sec-18-61-4">Notes</a></li>
<li><a href="#sec-18-61-5">Example</a></li>
<li><a href="#sec-18-61-6">Sample Program</a>
<ul>
<li><a href="#sec-18-61-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-61-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-62"><code>hline()</code>                                                          </a>
<ul>
<li><a href="#sec-18-62-1">Man Page Format</a></li>
<li><a href="#sec-18-62-2">Format Reference</a></li>
<li><a href="#sec-18-62-3">Return Value</a></li>
<li><a href="#sec-18-62-4">Notes</a></li>
<li><a href="#sec-18-62-5">Examples</a></li>
<li><a href="#sec-18-62-6">Sample Program</a></li>
<li><a href="#sec-18-62-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-63"><code>idcok()</code>                                                          </a>
<ul>
<li><a href="#sec-18-63-1">Man Page Format</a></li>
<li><a href="#sec-18-63-2">Format Reference</a></li>
<li><a href="#sec-18-63-3">Return Value</a></li>
<li><a href="#sec-18-63-4">Notes</a></li>
<li><a href="#sec-18-63-5">Example</a></li>
<li><a href="#sec-18-63-6">Sample Program</a>
<ul>
<li><a href="#sec-18-63-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-63-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-64"><code>idlok()</code>                                                          </a>
<ul>
<li><a href="#sec-18-64-1">Man Page Format</a></li>
<li><a href="#sec-18-64-2">Format Reference</a></li>
<li><a href="#sec-18-64-3">Return Value</a></li>
<li><a href="#sec-18-64-4">Notes</a></li>
<li><a href="#sec-18-64-5">Example</a></li>
<li><a href="#sec-18-64-6">Sample Program</a>
<ul>
<li><a href="#sec-18-64-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-64-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-65"><code>immedok()</code>                                                        </a>
<ul>
<li><a href="#sec-18-65-1">Man Page Format</a></li>
<li><a href="#sec-18-65-2">Format Reference</a></li>
<li><a href="#sec-18-65-3">Return Value</a></li>
<li><a href="#sec-18-65-4">Notes</a></li>
<li><a href="#sec-18-65-5">Example</a></li>
<li><a href="#sec-18-65-6">Sample Program</a>
<ul>
<li><a href="#sec-18-65-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-65-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-66"><code>inch()</code>                                                           </a>
<ul>
<li><a href="#sec-18-66-1">Man Page Format</a></li>
<li><a href="#sec-18-66-2">Format Reference</a></li>
<li><a href="#sec-18-66-3">Return Value</a></li>
<li><a href="#sec-18-66-4">Notes</a></li>
<li><a href="#sec-18-66-5">Examples</a></li>
<li><a href="#sec-18-66-6">Sample Program</a>
<ul>
<li><a href="#sec-18-66-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-66-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-67"><code>inchstr()</code>                                                        </a>
<ul>
<li><a href="#sec-18-67-1">Man Page Formats</a></li>
<li><a href="#sec-18-67-2">Format Reference</a></li>
<li><a href="#sec-18-67-3">Return Value</a></li>
<li><a href="#sec-18-67-4">Notes</a></li>
<li><a href="#sec-18-67-5">Examples</a></li>
<li><a href="#sec-18-67-6">Sample Program</a>
<ul>
<li><a href="#sec-18-67-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-67-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-68"><code>init_color()</code>                                                     </a>
<ul>
<li><a href="#sec-18-68-1">Man Page Format</a></li>
<li><a href="#sec-18-68-2">Format Reference</a></li>
<li><a href="#sec-18-68-3">Return Value</a></li>
<li><a href="#sec-18-68-4">Notes</a></li>
<li><a href="#sec-18-68-5">Examples</a></li>
<li><a href="#sec-18-68-6">Sample Program</a>
<ul>
<li><a href="#sec-18-68-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-68-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-69"><code>init_pair()</code>                                                     </a>
<ul>
<li><a href="#sec-18-69-1">Man Page Format</a></li>
<li><a href="#sec-18-69-2">Format Reference</a></li>
<li><a href="#sec-18-69-3">Return Value</a></li>
<li><a href="#sec-18-69-4">Notes</a></li>
<li><a href="#sec-18-69-5">Examples</a></li>
<li><a href="#sec-18-69-6">Sample Program</a></li>
<li><a href="#sec-18-69-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-70"><code>initscr()</code>                                                        </a>
<ul>
<li><a href="#sec-18-70-1">Man Page Format</a></li>
<li><a href="#sec-18-70-2">Format Reference</a></li>
<li><a href="#sec-18-70-3">Return Value</a></li>
<li><a href="#sec-18-70-4">Notes</a></li>
<li><a href="#sec-18-70-5">Example</a></li>
<li><a href="#sec-18-70-6">Sample Program</a>
<ul>
<li><a href="#sec-18-70-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-70-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-71"><code>innstr()</code>                                                         </a></li>
<li><a href="#sec-18-72"><code>insch()</code>                                                          </a>
<ul>
<li><a href="#sec-18-72-1">Man Page Format</a></li>
<li><a href="#sec-18-72-2">Format Reference</a></li>
<li><a href="#sec-18-72-3">Return Value</a></li>
<li><a href="#sec-18-72-4">Notes</a></li>
<li><a href="#sec-18-72-5">Examples</a></li>
<li><a href="#sec-18-72-6">Sample Program</a></li>
<li><a href="#sec-18-72-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-73"><code>insdelln()</code>                                                       </a>
<ul>
<li><a href="#sec-18-73-1">Man Page Format</a></li>
<li><a href="#sec-18-73-2">Format Reference</a></li>
<li><a href="#sec-18-73-3">Return Value</a></li>
<li><a href="#sec-18-73-4">Notes</a></li>
<li><a href="#sec-18-73-5">Examples</a></li>
<li><a href="#sec-18-73-6">Sample Program</a>
<ul>
<li><a href="#sec-18-73-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-73-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-74"><code>insertln()</code>                                                       </a>
<ul>
<li><a href="#sec-18-74-1">Man Page Format</a></li>
<li><a href="#sec-18-74-2">Format Reference</a></li>
<li><a href="#sec-18-74-3">Return Value</a></li>
<li><a href="#sec-18-74-4">Notes</a></li>
<li><a href="#sec-18-74-5">Example</a></li>
<li><a href="#sec-18-74-6">Sample Program</a>
<ul>
<li><a href="#sec-18-74-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-74-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-75"><code>insstr()</code>                                                         </a>
<ul>
<li><a href="#sec-18-75-1">Man Page Formats</a></li>
<li><a href="#sec-18-75-2">Format Reference</a></li>
<li><a href="#sec-18-75-3">Return Value</a></li>
<li><a href="#sec-18-75-4">Notes</a></li>
<li><a href="#sec-18-75-5">Examples</a></li>
<li><a href="#sec-18-75-6">Sample Program</a>
<ul>
<li><a href="#sec-18-75-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-75-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-76"><code>instr()</code>                                                          </a>
<ul>
<li><a href="#sec-18-76-1">Man Page Formats</a></li>
<li><a href="#sec-18-76-2">Format Reference</a></li>
<li><a href="#sec-18-76-3">Return Value</a></li>
<li><a href="#sec-18-76-4">Notes</a></li>
<li><a href="#sec-18-76-5">Examples</a></li>
<li><a href="#sec-18-76-6">Sample Program</a>
<ul>
<li><a href="#sec-18-76-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-76-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-77"><code>intrflush()</code>                                                      </a>
<ul>
<li><a href="#sec-18-77-1">Man Page Format</a></li>
<li><a href="#sec-18-77-2">Format Reference</a></li>
<li><a href="#sec-18-77-3">Return Value</a></li>
<li><a href="#sec-18-77-4">Notes</a></li>
<li><a href="#sec-18-77-5">Examples</a></li>
<li><a href="#sec-18-77-6">Sample Program</a>
<ul>
<li><a href="#sec-18-77-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-77-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-78"><code>isendwin()</code>                                                       </a>
<ul>
<li><a href="#sec-18-78-1">Explanation</a></li>
<li><a href="#sec-18-78-2">Man Page Format</a></li>
<li><a href="#sec-18-78-3">Format Reference</a></li>
<li><a href="#sec-18-78-4">Return Value</a></li>
<li><a href="#sec-18-78-5">Notes</a></li>
<li><a href="#sec-18-78-6">Examples</a></li>
<li><a href="#sec-18-78-7">Sample Program</a>
<ul>
<li><a href="#sec-18-78-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-78-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-79"><code>is_linetouched()</code>                                                 </a>
<ul>
<li><a href="#sec-18-79-1">Explanation</a></li>
<li><a href="#sec-18-79-2">Man Page Format</a></li>
<li><a href="#sec-18-79-3">Format Reference</a></li>
<li><a href="#sec-18-79-4">Return Value</a></li>
<li><a href="#sec-18-79-5">Notes</a></li>
<li><a href="#sec-18-79-6">Example</a></li>
<li><a href="#sec-18-79-7">Sample Program</a>
<ul>
<li><a href="#sec-18-79-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-79-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-80"><code>is_wintouched()</code>                                                  </a>
<ul>
<li><a href="#sec-18-80-1">Man Page Format</a></li>
<li><a href="#sec-18-80-2">Format Reference</a></li>
<li><a href="#sec-18-80-3">Return Value</a></li>
<li><a href="#sec-18-80-4">Notes</a></li>
<li><a href="#sec-18-80-5">Example</a></li>
<li><a href="#sec-18-80-6">Sample Program</a>
<ul>
<li><a href="#sec-18-80-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-80-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-81"><code>keyname()</code>                                                        </a>
<ul>
<li><a href="#sec-18-81-1">Man Page Format</a></li>
<li><a href="#sec-18-81-2">Format Reference</a></li>
<li><a href="#sec-18-81-3">Return Value</a></li>
<li><a href="#sec-18-81-4">Notes</a></li>
<li><a href="#sec-18-81-5">Example</a></li>
<li><a href="#sec-18-81-6">Sample Program</a>
<ul>
<li><a href="#sec-18-81-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-81-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-82"><code>keypad()</code>                                                         </a>
<ul>
<li><a href="#sec-18-82-1">Man Page Format</a></li>
<li><a href="#sec-18-82-2">Format Reference</a></li>
<li><a href="#sec-18-82-3">Return Value</a></li>
<li><a href="#sec-18-82-4">Notes</a></li>
<li><a href="#sec-18-82-5">Example</a></li>
<li><a href="#sec-18-82-6">Sample Program</a>
<ul>
<li><a href="#sec-18-82-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-82-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-83"><code>killchar()</code>                                                       </a>
<ul>
<li><a href="#sec-18-83-1">Man Page Format</a></li>
<li><a href="#sec-18-83-2">Format Reference</a></li>
<li><a href="#sec-18-83-3">Return Value</a></li>
<li><a href="#sec-18-83-4">Notes</a></li>
<li><a href="#sec-18-83-5">Example</a></li>
<li><a href="#sec-18-83-6">Sample Program</a>
<ul>
<li><a href="#sec-18-83-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-83-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-84"><code>leaveok()</code>                                                        </a>
<ul>
<li><a href="#sec-18-84-1">Explanation</a></li>
<li><a href="#sec-18-84-2">Man Page Format</a></li>
<li><a href="#sec-18-84-3">Format Reference</a></li>
<li><a href="#sec-18-84-4">Return Value</a></li>
<li><a href="#sec-18-84-5">Notes</a></li>
<li><a href="#sec-18-84-6">Examples</a></li>
<li><a href="#sec-18-84-7">Sample Program</a>
<ul>
<li><a href="#sec-18-84-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-84-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-85"><code>LINES</code>                                                            </a>
<ul>
<li><a href="#sec-18-85-1">Man Page Format</a></li>
<li><a href="#sec-18-85-2">Format Reference</a></li>
<li><a href="#sec-18-85-3">Return Value</a></li>
<li><a href="#sec-18-85-4">Notes</a></li>
<li><a href="#sec-18-85-5">Examples</a></li>
<li><a href="#sec-18-85-6">Sample Program</a></li>
<li><a href="#sec-18-85-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-86"><code>longname()</code>                                                        </a>
<ul>
<li><a href="#sec-18-86-1">Man Page Format</a></li>
<li><a href="#sec-18-86-2">Format Reference</a></li>
<li><a href="#sec-18-86-3">Return Value</a></li>
<li><a href="#sec-18-86-4">Notes</a></li>
<li><a href="#sec-18-86-5">Example</a></li>
<li><a href="#sec-18-86-6">Sample Program</a>
<ul>
<li><a href="#sec-18-86-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-86-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-87"><code>meta()</code>                                                           </a>
<ul>
<li><a href="#sec-18-87-1">Explanation</a></li>
<li><a href="#sec-18-87-2">Man Page Format</a></li>
<li><a href="#sec-18-87-3">Format Reference</a></li>
<li><a href="#sec-18-87-4">Return Value</a></li>
<li><a href="#sec-18-87-5">Notes</a></li>
<li><a href="#sec-18-87-6">Example</a></li>
<li><a href="#sec-18-87-7">Sample Program</a>
<ul>
<li><a href="#sec-18-87-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-87-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-88"><code>MEVENT</code>                                                           </a>
<ul>
<li><a href="#sec-18-88-1">Man Page Format</a></li>
<li><a href="#sec-18-88-2">Format Reference</a></li>
<li><a href="#sec-18-88-3">Return Value</a></li>
<li><a href="#sec-18-88-4">Notes</a></li>
<li><a href="#sec-18-88-5">Examples</a></li>
<li><a href="#sec-18-88-6">Sample Program</a></li>
<li><a href="#sec-18-88-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-89"><code>mouse_trafo()</code>                                                    </a>
<ul>
<li><a href="#sec-18-89-1">Man Page Format</a></li>
<li><a href="#sec-18-89-2">Format Reference</a></li>
<li><a href="#sec-18-89-3">Return Value</a></li>
<li><a href="#sec-18-89-4">Notes</a></li>
<li><a href="#sec-18-89-5">Example</a></li>
<li><a href="#sec-18-89-6">Sample Program</a>
<ul>
<li><a href="#sec-18-89-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-89-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-90"><code>mousemask()</code>                                                      </a>
<ul>
<li><a href="#sec-18-90-1">Explanation</a></li>
<li><a href="#sec-18-90-2">Man Page Format</a></li>
<li><a href="#sec-18-90-3">Format Reference</a></li>
<li><a href="#sec-18-90-4">Return Value</a></li>
<li><a href="#sec-18-90-5">Notes</a></li>
<li><a href="#sec-18-90-6">Examples</a></li>
<li><a href="#sec-18-90-7">Sample Program</a></li>
<li><a href="#sec-18-90-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-91"><code>move()</code>                                                           </a>
<ul>
<li><a href="#sec-18-91-1">Man Page Format</a></li>
<li><a href="#sec-18-91-2">Format Reference</a></li>
<li><a href="#sec-18-91-3">Return Value</a></li>
<li><a href="#sec-18-91-4">Notes</a></li>
<li><a href="#sec-18-91-5">Examples</a></li>
<li><a href="#sec-18-91-6">Sample Program</a>
<ul>
<li><a href="#sec-18-91-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-91-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-92"><code>mv</code> prefix functions                                              </a>
<ul>
<li><a href="#sec-18-92-1">Format</a></li>
<li><a href="#sec-18-92-2">Return Value</a></li>
<li><a href="#sec-18-92-3">Notes</a></li>
<li><a href="#sec-18-92-4">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-93"><code>mvderwin()</code>                                                       </a>
<ul>
<li><a href="#sec-18-93-1">Explanation</a></li>
<li><a href="#sec-18-93-2">Man Page Format</a></li>
<li><a href="#sec-18-93-3">Format Reference</a></li>
<li><a href="#sec-18-93-4">Return Value</a></li>
<li><a href="#sec-18-93-5">Notes</a></li>
<li><a href="#sec-18-93-6">Example</a></li>
<li><a href="#sec-18-93-7">Sample Program</a>
<ul>
<li><a href="#sec-18-93-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-93-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-94"><code>mvw</code> prefix functions                                             </a>
<ul>
<li><a href="#sec-18-94-1">Format</a></li>
<li><a href="#sec-18-94-2">Notes</a></li>
<li><a href="#sec-18-94-3">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-95"><code>mvwin()</code>                                                          </a>
<ul>
<li><a href="#sec-18-95-1">Man Page Format</a></li>
<li><a href="#sec-18-95-2">Format Reference</a></li>
<li><a href="#sec-18-95-3">Return Value</a></li>
<li><a href="#sec-18-95-4">Notes</a></li>
<li><a href="#sec-18-95-5">Example</a></li>
<li><a href="#sec-18-95-6">Sample Program</a>
<ul>
<li><a href="#sec-18-95-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-95-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-96"><code>napms(ms)</code>                                                        </a>
<ul>
<li><a href="#sec-18-96-1">Man Page Format</a></li>
<li><a href="#sec-18-96-2">Format Reference</a></li>
<li><a href="#sec-18-96-3">Return Value</a></li>
<li><a href="#sec-18-96-4">Notes</a></li>
<li><a href="#sec-18-96-5">Examples</a></li>
<li><a href="#sec-18-96-6">Sample Program</a>
<ul>
<li><a href="#sec-18-96-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-96-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-97"><code>NCURSES_MOUSE_VERSION</code>                                            </a>
<ul>
<li><a href="#sec-18-97-1">Man Page Format</a></li>
<li><a href="#sec-18-97-2">Format Reference</a></li>
<li><a href="#sec-18-97-3">Return Value</a></li>
<li><a href="#sec-18-97-4">Notes</a></li>
<li><a href="#sec-18-97-5">Examples</a></li>
<li><a href="#sec-18-97-6">Sample Program</a>
<ul>
<li><a href="#sec-18-97-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-97-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-98"><code>NCURSES_VERSION</code>                                                  </a>
<ul>
<li><a href="#sec-18-98-1">Explanation</a></li>
<li><a href="#sec-18-98-2">Man Page Format</a></li>
<li><a href="#sec-18-98-3">Format Reference</a></li>
<li><a href="#sec-18-98-4">Return Value</a></li>
<li><a href="#sec-18-98-5">Notes</a></li>
<li><a href="#sec-18-98-6">Examples</a></li>
<li><a href="#sec-18-98-7">Sample Program</a>
<ul>
<li><a href="#sec-18-98-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-98-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-99"><code>newpad()</code>                                                         </a>
<ul>
<li><a href="#sec-18-99-1">Explanation</a></li>
<li><a href="#sec-18-99-2">Man Page Format</a></li>
<li><a href="#sec-18-99-3">Format Reference</a></li>
<li><a href="#sec-18-99-4">Return Value</a></li>
<li><a href="#sec-18-99-5">Notes</a></li>
<li><a href="#sec-18-99-6">Examples</a></li>
<li><a href="#sec-18-99-7">Sample Program</a>
<ul>
<li><a href="#sec-18-99-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-99-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-100"><code>newterm()</code>                                                        </a>
<ul>
<li><a href="#sec-18-100-1">Man Page Format</a></li>
<li><a href="#sec-18-100-2">Format Reference</a></li>
<li><a href="#sec-18-100-3">Return Value</a></li>
<li><a href="#sec-18-100-4">Notes</a></li>
<li><a href="#sec-18-100-5">Example</a></li>
<li><a href="#sec-18-100-6">Sample Program</a>
<ul>
<li><a href="#sec-18-100-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-100-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-101"><code>newwin()</code>                                                         </a>
<ul>
<li><a href="#sec-18-101-1">Man Page Format</a></li>
<li><a href="#sec-18-101-2">Format Reference</a></li>
<li><a href="#sec-18-101-3">Return Value</a></li>
<li><a href="#sec-18-101-4">Notes</a></li>
<li><a href="#sec-18-101-5">Examples</a></li>
<li><a href="#sec-18-101-6">Sample Program</a>
<ul>
<li><a href="#sec-18-101-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-101-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-102"><code>nl()</code>                                                             </a>
<ul>
<li><a href="#sec-18-102-1">Explanation</a></li>
<li><a href="#sec-18-102-2">Man Page Format</a></li>
<li><a href="#sec-18-102-3">Format Reference</a></li>
<li><a href="#sec-18-102-4">Return Value</a></li>
<li><a href="#sec-18-102-5">Notes</a></li>
<li><a href="#sec-18-102-6">Example</a></li>
<li><a href="#sec-18-102-7">Sample Program</a>
<ul>
<li><a href="#sec-18-102-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-102-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-103"><code>nocbreak()</code>                                                       </a></li>
<li><a href="#sec-18-104"><code>nodelay()</code>                                                        </a>
<ul>
<li><a href="#sec-18-104-1">Explanation</a></li>
<li><a href="#sec-18-104-2">Man Page Format</a></li>
<li><a href="#sec-18-104-3">Format Reference</a></li>
<li><a href="#sec-18-104-4">Return Value</a></li>
<li><a href="#sec-18-104-5">Notes</a></li>
<li><a href="#sec-18-104-6">Example</a></li>
<li><a href="#sec-18-104-7">Sample Program</a>
<ul>
<li><a href="#sec-18-104-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-104-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-105"><code>noecho()</code>                                                         </a></li>
<li><a href="#sec-18-106"><code>nonl()</code>                                                           </a></li>
<li><a href="#sec-18-107"><code>noqiflush()</code>                                                      </a></li>
<li><a href="#sec-18-108"><code>noraw()</code>                                                          </a></li>
<li><a href="#sec-18-109"><code>notimeout()</code>                                                      </a>
<ul>
<li><a href="#sec-18-109-1">Explanation</a></li>
<li><a href="#sec-18-109-2">Man Page Format</a></li>
<li><a href="#sec-18-109-3">Format Reference</a></li>
<li><a href="#sec-18-109-4">Return Value</a></li>
<li><a href="#sec-18-109-5">Notes</a></li>
<li><a href="#sec-18-109-6">Example</a></li>
<li><a href="#sec-18-109-7">Sample Program</a>
<ul>
<li><a href="#sec-18-109-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-109-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-110"><code>OK</code>                                                               </a>
<ul>
<li><a href="#sec-18-110-1">Man Page Format</a></li>
<li><a href="#sec-18-110-2">Format Reference</a></li>
<li><a href="#sec-18-110-3">Return Value</a></li>
<li><a href="#sec-18-110-4">Notes</a></li>
<li><a href="#sec-18-110-5">Example</a></li>
<li><a href="#sec-18-110-6">Sample Program</a>
<ul>
<li><a href="#sec-18-110-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-110-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-111"><code>overlay()</code>                                                        </a>
<ul>
<li><a href="#sec-18-111-1">Man Page Format</a></li>
<li><a href="#sec-18-111-2">Format Reference</a></li>
<li><a href="#sec-18-111-3">Return Value</a></li>
<li><a href="#sec-18-111-4">Notes</a></li>
<li><a href="#sec-18-111-5">Example</a></li>
<li><a href="#sec-18-111-6">Sample Program</a>
<ul>
<li><a href="#sec-18-111-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-111-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-112"><code>overwrite()</code>                                                      </a>
<ul>
<li><a href="#sec-18-112-1">Man Page Format</a></li>
<li><a href="#sec-18-112-2">Format Reference</a></li>
<li><a href="#sec-18-112-3">Return Value</a></li>
<li><a href="#sec-18-112-4">Notes</a></li>
<li><a href="#sec-18-112-5">Example</a></li>
<li><a href="#sec-18-112-6">Sample Program</a>
<ul>
<li><a href="#sec-18-112-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-112-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-113"><code>pair_content()</code>                                                   </a>
<ul>
<li><a href="#sec-18-113-1">Man Page Format</a></li>
<li><a href="#sec-18-113-2">Format Reference</a></li>
<li><a href="#sec-18-113-3">Return Value</a></li>
<li><a href="#sec-18-113-4">Notes</a></li>
<li><a href="#sec-18-113-5">Examples</a></li>
<li><a href="#sec-18-113-6">Sample Program</a>
<ul>
<li><a href="#sec-18-113-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-113-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-114"><code>PAIR_NUMBER()</code>                                                    </a>
<ul>
<li><a href="#sec-18-114-1">Man Page Format</a></li>
<li><a href="#sec-18-114-2">Format Reference</a></li>
<li><a href="#sec-18-114-3">Return Value</a></li>
<li><a href="#sec-18-114-4">Notes</a></li>
<li><a href="#sec-18-114-5">Examples</a></li>
<li><a href="#sec-18-114-6">Sample Program</a>
<ul>
<li><a href="#sec-18-114-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-114-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-115"><code>pechochar()</code>                                                      </a>
<ul>
<li><a href="#sec-18-115-1">Man Page Format</a></li>
<li><a href="#sec-18-115-2">Format Reference</a></li>
<li><a href="#sec-18-115-3">Return Value</a></li>
<li><a href="#sec-18-115-4">Notes</a></li>
<li><a href="#sec-18-115-5">Examples</a></li>
<li><a href="#sec-18-115-6">Sample Program</a>
<ul>
<li><a href="#sec-18-115-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-115-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-116"><code>pnoutrefresh()</code>                                                   </a>
<ul>
<li><a href="#sec-18-116-1">Explanation</a></li>
<li><a href="#sec-18-116-2">Man Page Format</a></li>
<li><a href="#sec-18-116-3">Format Reference</a></li>
<li><a href="#sec-18-116-4">Return Value</a></li>
<li><a href="#sec-18-116-5">Notes</a></li>
<li><a href="#sec-18-116-6">Example</a></li>
<li><a href="#sec-18-116-7">Sample Program</a>
<ul>
<li><a href="#sec-18-116-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-116-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-117"><code>prefresh()</code>                                                       </a>
<ul>
<li><a href="#sec-18-117-1">Explanation</a></li>
<li><a href="#sec-18-117-2">Man Page Format</a></li>
<li><a href="#sec-18-117-3">Format Reference</a></li>
<li><a href="#sec-18-117-4">Return Value</a></li>
<li><a href="#sec-18-117-5">Notes</a></li>
<li><a href="#sec-18-117-6">Examples</a></li>
<li><a href="#sec-18-117-7">Sample Program</a></li>
<li><a href="#sec-18-117-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-118"><code>printw()</code>                                                         </a>
<ul>
<li><a href="#sec-18-118-1">Man Page Format</a></li>
<li><a href="#sec-18-118-2">Format Reference</a></li>
<li><a href="#sec-18-118-3">Return Value</a></li>
<li><a href="#sec-18-118-4">Notes</a></li>
<li><a href="#sec-18-118-5">Examples</a></li>
<li><a href="#sec-18-118-6">Sample Program</a>
<ul>
<li><a href="#sec-18-118-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-118-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-119"><code>putwin()</code>                                                         </a>
<ul>
<li><a href="#sec-18-119-1">Man Page Format</a></li>
<li><a href="#sec-18-119-2">Format Reference</a></li>
<li><a href="#sec-18-119-3">Return Value</a></li>
<li><a href="#sec-18-119-4">Notes</a></li>
<li><a href="#sec-18-119-5">Example</a></li>
<li><a href="#sec-18-119-6">Sample Program</a></li>
<li><a href="#sec-18-119-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-120"><code>qiflush()</code>                                                        </a>
<ul>
<li><a href="#sec-18-120-1">Man Page Format</a></li>
<li><a href="#sec-18-120-2">Format Reference</a></li>
<li><a href="#sec-18-120-3">Return Value</a></li>
<li><a href="#sec-18-120-4">Notes</a></li>
<li><a href="#sec-18-120-5">Examples</a></li>
<li><a href="#sec-18-120-6">Sample Program</a>
<ul>
<li><a href="#sec-18-120-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-120-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-121"><code>raw()</code>                                                            </a>
<ul>
<li><a href="#sec-18-121-1">Explanation</a></li>
<li><a href="#sec-18-121-2">Man Page Format</a></li>
<li><a href="#sec-18-121-3">Format Reference</a></li>
<li><a href="#sec-18-121-4">Return Value</a></li>
<li><a href="#sec-18-121-5">Notes</a></li>
<li><a href="#sec-18-121-6">Examples</a></li>
<li><a href="#sec-18-121-7">Sample Program</a>
<ul>
<li><a href="#sec-18-121-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-121-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-122"><code>redrawwin()</code>                                                      </a>
<ul>
<li><a href="#sec-18-122-1">Man Page Format</a></li>
<li><a href="#sec-18-122-2">Format Reference</a></li>
<li><a href="#sec-18-122-3">Return Value</a></li>
<li><a href="#sec-18-122-4">Notes</a></li>
<li><a href="#sec-18-122-5">Example</a></li>
<li><a href="#sec-18-122-6">Sample Program</a></li>
<li><a href="#sec-18-122-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-123"><code>refresh()</code>                                                        </a>
<ul>
<li><a href="#sec-18-123-1">Explanation</a></li>
<li><a href="#sec-18-123-2">Man Page Format</a></li>
<li><a href="#sec-18-123-3">Format Reference</a></li>
<li><a href="#sec-18-123-4">Return Value</a></li>
<li><a href="#sec-18-123-5">Notes</a></li>
<li><a href="#sec-18-123-6">Examples</a></li>
<li><a href="#sec-18-123-7">Sample Program</a>
<ul>
<li><a href="#sec-18-123-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-123-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-124"><code>ripoffline()</code>                                                     </a>
<ul>
<li><a href="#sec-18-124-1">Man Page Format</a></li>
<li><a href="#sec-18-124-2">Format Reference</a></li>
<li><a href="#sec-18-124-3">Return Value</a></li>
<li><a href="#sec-18-124-4">Notes</a></li>
<li><a href="#sec-18-124-5">Example</a></li>
<li><a href="#sec-18-124-6">Sample Program</a></li>
<li><a href="#sec-18-124-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-125"><code>scanw()</code>                                                          </a>
<ul>
<li><a href="#sec-18-125-1">Man Page Format</a></li>
<li><a href="#sec-18-125-2">Format Reference</a></li>
<li><a href="#sec-18-125-3">Return Value</a></li>
<li><a href="#sec-18-125-4">Notes</a></li>
<li><a href="#sec-18-125-5">Examples</a></li>
<li><a href="#sec-18-125-6">Sample Program</a>
<ul>
<li><a href="#sec-18-125-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-125-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-126"><code>scr_dump()</code>                                                       </a>
<ul>
<li><a href="#sec-18-126-1">Man Page Format</a></li>
<li><a href="#sec-18-126-2">Format Reference</a></li>
<li><a href="#sec-18-126-3">Return Value</a></li>
<li><a href="#sec-18-126-4">Notes</a></li>
<li><a href="#sec-18-126-5">Examples</a></li>
<li><a href="#sec-18-126-6">Sample Program</a></li>
<li><a href="#sec-18-126-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-127"><code>scr_init()</code>                                                       </a>
<ul>
<li><a href="#sec-18-127-1">Explanation</a></li>
<li><a href="#sec-18-127-2">Man Page Format</a></li>
<li><a href="#sec-18-127-3">Format Reference</a></li>
<li><a href="#sec-18-127-4">Return Value</a></li>
<li><a href="#sec-18-127-5">Notes</a></li>
<li><a href="#sec-18-127-6">Example</a></li>
<li><a href="#sec-18-127-7">Sample Program</a></li>
<li><a href="#sec-18-127-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-128"><code>scr_restore()</code>                                                    </a>
<ul>
<li><a href="#sec-18-128-1">Man Page Format</a></li>
<li><a href="#sec-18-128-2">Format Reference</a></li>
<li><a href="#sec-18-128-3">Return Value</a></li>
<li><a href="#sec-18-128-4">Notes</a></li>
<li><a href="#sec-18-128-5">Example</a></li>
<li><a href="#sec-18-128-6">Sample Program</a>
<ul>
<li><a href="#sec-18-128-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-128-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-129"><code>scr_set()</code>                                                        </a>
<ul>
<li><a href="#sec-18-129-1">Man Page Format</a></li>
<li><a href="#sec-18-129-2">Format Reference</a></li>
<li><a href="#sec-18-129-3">Return Value</a></li>
<li><a href="#sec-18-129-4">Notes</a></li>
<li><a href="#sec-18-129-5">Example</a></li>
<li><a href="#sec-18-129-6">Sample Program</a></li>
<li><a href="#sec-18-129-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-130"><code>scrl()</code>                                                           </a>
<ul>
<li><a href="#sec-18-130-1">Man Page Format</a></li>
<li><a href="#sec-18-130-2">Format Reference</a></li>
<li><a href="#sec-18-130-3">Return Value</a></li>
<li><a href="#sec-18-130-4">Notes</a></li>
<li><a href="#sec-18-130-5">Examples</a></li>
<li><a href="#sec-18-130-6">Sample Program</a>
<ul>
<li><a href="#sec-18-130-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-130-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-131"><code>scroll()</code>                                                         </a>
<ul>
<li><a href="#sec-18-131-1">Man Page Format</a></li>
<li><a href="#sec-18-131-2">Format Reference</a></li>
<li><a href="#sec-18-131-3">Return Value</a></li>
<li><a href="#sec-18-131-4">Notes</a></li>
<li><a href="#sec-18-131-5">Example</a></li>
<li><a href="#sec-18-131-6">Sample Program</a>
<ul>
<li><a href="#sec-18-131-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-131-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-132"><code>scrollok()</code>                                                       </a>
<ul>
<li><a href="#sec-18-132-1">Man Page Format</a></li>
<li><a href="#sec-18-132-2">Format Reference</a></li>
<li><a href="#sec-18-132-3">Return Value</a></li>
<li><a href="#sec-18-132-4">Notes</a></li>
<li><a href="#sec-18-132-5">Example</a></li>
<li><a href="#sec-18-132-6">Sample Program</a>
<ul>
<li><a href="#sec-18-132-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-132-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-133"><code>setscrreg()</code>                                                      </a>
<ul>
<li><a href="#sec-18-133-1">Man Page Format</a></li>
<li><a href="#sec-18-133-2">Format Reference</a></li>
<li><a href="#sec-18-133-3">Return Value</a></li>
<li><a href="#sec-18-133-4">Notes</a></li>
<li><a href="#sec-18-133-5">Examples</a></li>
<li><a href="#sec-18-133-6">Sample Program</a></li>
<li><a href="#sec-18-133-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-134"><code>setsyx()</code>                                                         </a>
<ul>
<li><a href="#sec-18-134-1">Man Page Format</a></li>
<li><a href="#sec-18-134-2">Format Reference</a></li>
<li><a href="#sec-18-134-3">Return Value</a></li>
<li><a href="#sec-18-134-4">Notes</a></li>
<li><a href="#sec-18-134-5">Example</a></li>
<li><a href="#sec-18-134-6">Sample Program</a>
<ul>
<li><a href="#sec-18-134-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-134-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-135"><code>set_term()</code>                                                       </a>
<ul>
<li><a href="#sec-18-135-1">Man Page Format</a></li>
<li><a href="#sec-18-135-2">Format Reference</a></li>
<li><a href="#sec-18-135-3">Return Value</a></li>
<li><a href="#sec-18-135-4">Notes</a></li>
<li><a href="#sec-18-135-5">Examples</a></li>
<li><a href="#sec-18-135-6">Sample Program</a>
<ul>
<li><a href="#sec-18-135-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-135-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-136"><code>slk_attr()</code>                                                       </a>
<ul>
<li><a href="#sec-18-136-1">Man Page Format</a></li>
<li><a href="#sec-18-136-2">Format Reference</a></li>
<li><a href="#sec-18-136-3">Return Value</a></li>
<li><a href="#sec-18-136-4">Notes</a></li>
<li><a href="#sec-18-136-5">Examples</a></li>
<li><a href="#sec-18-136-6">Sample Program</a>
<ul>
<li><a href="#sec-18-136-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-136-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-137"><code>slk_attroff()</code>                                                    </a>
<ul>
<li><a href="#sec-18-137-1">Man Page Format</a></li>
<li><a href="#sec-18-137-2">Format Reference</a></li>
<li><a href="#sec-18-137-3">Return Value</a></li>
<li><a href="#sec-18-137-4">Notes</a></li>
<li><a href="#sec-18-137-5">Example</a></li>
<li><a href="#sec-18-137-6">Sample Program</a>
<ul>
<li><a href="#sec-18-137-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-137-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-138"><code>slk_attron()</code>                                                     </a>
<ul>
<li><a href="#sec-18-138-1">Man Page Formats</a></li>
<li><a href="#sec-18-138-2">Format Reference</a></li>
<li><a href="#sec-18-138-3">Return Value</a></li>
<li><a href="#sec-18-138-4">Notes</a></li>
<li><a href="#sec-18-138-5">Examples</a></li>
<li><a href="#sec-18-138-6">Sample Program</a>
<ul>
<li><a href="#sec-18-138-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-138-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-139"><code>slk_attrset()</code>                                                    </a>
<ul>
<li><a href="#sec-18-139-1">Man Page Format</a></li>
<li><a href="#sec-18-139-2">Format Reference</a></li>
<li><a href="#sec-18-139-3">Return Value</a></li>
<li><a href="#sec-18-139-4">Notes</a></li>
<li><a href="#sec-18-139-5">Examples</a></li>
<li><a href="#sec-18-139-6">Sample Program</a>
<ul>
<li><a href="#sec-18-139-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-139-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-140"><code>slk_clear()</code>                                                      </a>
<ul>
<li><a href="#sec-18-140-1">Man Page Format</a></li>
<li><a href="#sec-18-140-2">Format Reference</a></li>
<li><a href="#sec-18-140-3">Return Value</a></li>
<li><a href="#sec-18-140-4">Notes</a></li>
<li><a href="#sec-18-140-5">Example</a></li>
<li><a href="#sec-18-140-6">Sample Program</a>
<ul>
<li><a href="#sec-18-140-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-140-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-141"><code>slk_color()</code>                                                      </a>
<ul>
<li><a href="#sec-18-141-1">Man Page Format</a></li>
<li><a href="#sec-18-141-2">Format Reference</a></li>
<li><a href="#sec-18-141-3">Return Value</a></li>
<li><a href="#sec-18-141-4">Notes</a></li>
<li><a href="#sec-18-141-5">Example</a></li>
<li><a href="#sec-18-141-6">Sample Program</a>
<ul>
<li><a href="#sec-18-141-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-141-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-142"><code>slk_init()</code>                                                       </a>
<ul>
<li><a href="#sec-18-142-1">Explanation</a></li>
<li><a href="#sec-18-142-2">Man Page Format</a></li>
<li><a href="#sec-18-142-3">Format Reference</a></li>
<li><a href="#sec-18-142-4">Return Value</a></li>
<li><a href="#sec-18-142-5">Notes</a></li>
<li><a href="#sec-18-142-6">Example</a></li>
<li><a href="#sec-18-142-7">Sample Program</a></li>
<li><a href="#sec-18-142-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-143"><code>slk_label()</code>                                                      </a>
<ul>
<li><a href="#sec-18-143-1">Man Page Format</a></li>
<li><a href="#sec-18-143-2">Format Reference</a></li>
<li><a href="#sec-18-143-3">Return Value</a></li>
<li><a href="#sec-18-143-4">Notes</a></li>
<li><a href="#sec-18-143-5">Examples</a></li>
<li><a href="#sec-18-143-6">Sample Program</a>
<ul>
<li><a href="#sec-18-143-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-143-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-144"><code>slk_noutrefresh()</code>                                                </a>
<ul>
<li><a href="#sec-18-144-1">Man Page Format</a></li>
<li><a href="#sec-18-144-2">Format Reference</a></li>
<li><a href="#sec-18-144-3">Return Value</a></li>
<li><a href="#sec-18-144-4">Notes</a></li>
<li><a href="#sec-18-144-5">Example</a></li>
<li><a href="#sec-18-144-6">Sample Program</a>
<ul>
<li><a href="#sec-18-144-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-144-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-145"><code>slk_refresh()</code>                                                    </a>
<ul>
<li><a href="#sec-18-145-1">Man Page Format</a></li>
<li><a href="#sec-18-145-2">Format Reference</a></li>
<li><a href="#sec-18-145-3">Return Value</a></li>
<li><a href="#sec-18-145-4">Notes</a></li>
<li><a href="#sec-18-145-5">Example</a></li>
<li><a href="#sec-18-145-6">Sample Program</a></li>
<li><a href="#sec-18-145-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-146"><code>slk_restore()</code>                                                    </a>
<ul>
<li><a href="#sec-18-146-1">Man Page Format</a></li>
<li><a href="#sec-18-146-2">Format Reference</a></li>
<li><a href="#sec-18-146-3">Return Value</a></li>
<li><a href="#sec-18-146-4">Notes</a></li>
<li><a href="#sec-18-146-5">Example</a></li>
<li><a href="#sec-18-146-6">Sample Program</a></li>
<li><a href="#sec-18-146-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-147"><code>slk_set()</code>                                                        </a>
<ul>
<li><a href="#sec-18-147-1">Man Page Format</a></li>
<li><a href="#sec-18-147-2">Format Reference</a></li>
<li><a href="#sec-18-147-3">Return Value</a></li>
<li><a href="#sec-18-147-4">Notes</a></li>
<li><a href="#sec-18-147-5">Examples</a></li>
<li><a href="#sec-18-147-6">Sample Program</a></li>
<li><a href="#sec-18-147-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-148"><code>slk_touch()</code>                                                      </a>
<ul>
<li><a href="#sec-18-148-1">Man Page Format</a></li>
<li><a href="#sec-18-148-2">Format Reference</a></li>
<li><a href="#sec-18-148-3">Return Value</a></li>
<li><a href="#sec-18-148-4">Notes</a></li>
<li><a href="#sec-18-148-5">Example</a></li>
<li><a href="#sec-18-148-6">Sample Program</a>
<ul>
<li><a href="#sec-18-148-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-148-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-149"><code>standend()</code>                                                       </a>
<ul>
<li><a href="#sec-18-149-1">Man Page Format</a></li>
<li><a href="#sec-18-149-2">Format Reference</a></li>
<li><a href="#sec-18-149-3">Return Value</a></li>
<li><a href="#sec-18-149-4">Notes</a></li>
<li><a href="#sec-18-149-5">Example</a></li>
<li><a href="#sec-18-149-6">Sample Program</a></li>
<li><a href="#sec-18-149-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-150"><code>standout()</code>                                                       </a>
<ul>
<li><a href="#sec-18-150-1">Man Page Format</a></li>
<li><a href="#sec-18-150-2">Format Reference</a></li>
<li><a href="#sec-18-150-3">Return Value</a></li>
<li><a href="#sec-18-150-4">Notes</a></li>
<li><a href="#sec-18-150-5">Example</a></li>
<li><a href="#sec-18-150-6">Sample Program</a>
<ul>
<li><a href="#sec-18-150-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-150-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-151"><code>start_color()</code>                                                    </a>
<ul>
<li><a href="#sec-18-151-1">Man Page Format</a></li>
<li><a href="#sec-18-151-2">Format Reference</a></li>
<li><a href="#sec-18-151-3">Return Value</a></li>
<li><a href="#sec-18-151-4">Notes</a></li>
<li><a href="#sec-18-151-5">Example</a></li>
<li><a href="#sec-18-151-6">Sample Program</a>
<ul>
<li><a href="#sec-18-151-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-151-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-152"><code>subpad()</code>                                                         </a>
<ul>
<li><a href="#sec-18-152-1">Man Page Format</a></li>
<li><a href="#sec-18-152-2">Format Reference</a></li>
<li><a href="#sec-18-152-3">Return Value</a></li>
<li><a href="#sec-18-152-4">Notes</a></li>
<li><a href="#sec-18-152-5">Example</a></li>
<li><a href="#sec-18-152-6">Sample Program</a>
<ul>
<li><a href="#sec-18-152-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-152-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-153"><code>subwin()</code>                                                         </a>
<ul>
<li><a href="#sec-18-153-1">Man Page Format</a></li>
<li><a href="#sec-18-153-2">Format Reference</a></li>
<li><a href="#sec-18-153-3">Return Value</a></li>
<li><a href="#sec-18-153-4">Notes</a></li>
<li><a href="#sec-18-153-5">Examples</a></li>
<li><a href="#sec-18-153-6">Sample Program</a></li>
<li><a href="#sec-18-153-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-154"><code>syncok()</code>                                                         </a>
<ul>
<li><a href="#sec-18-154-1">Man Page Format</a></li>
<li><a href="#sec-18-154-2">Format Reference</a></li>
<li><a href="#sec-18-154-3">Return Value</a></li>
<li><a href="#sec-18-154-4">Notes</a></li>
<li><a href="#sec-18-154-5">Example</a></li>
<li><a href="#sec-18-154-6">Sample Program</a></li>
<li><a href="#sec-18-154-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-155"><code>TABSIZE</code>                                                          </a>
<ul>
<li><a href="#sec-18-155-1">Man Page Format</a></li>
<li><a href="#sec-18-155-2">Format Reference</a></li>
<li><a href="#sec-18-155-3">Return Value</a></li>
<li><a href="#sec-18-155-4">Notes</a></li>
<li><a href="#sec-18-155-5">Examples</a></li>
<li><a href="#sec-18-155-6">Sample Program</a>
<ul>
<li><a href="#sec-18-155-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-155-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-156"><code>termattrs()</code>                                                      </a>
<ul>
<li><a href="#sec-18-156-1">Man Page Format</a></li>
<li><a href="#sec-18-156-2">Format Reference</a></li>
<li><a href="#sec-18-156-3">Return Value</a></li>
<li><a href="#sec-18-156-4">Notes</a></li>
<li><a href="#sec-18-156-5">Examples</a></li>
<li><a href="#sec-18-156-6">Sample Program</a>
<ul>
<li><a href="#sec-18-156-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-156-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-157"><code>termname()</code>                                                       </a>
<ul>
<li><a href="#sec-18-157-1">Man Page Format</a></li>
<li><a href="#sec-18-157-2">Format Reference</a></li>
<li><a href="#sec-18-157-3">Return Value</a></li>
<li><a href="#sec-18-157-4">Notes</a></li>
<li><a href="#sec-18-157-5">Example</a></li>
<li><a href="#sec-18-157-6">Sample Program</a>
<ul>
<li><a href="#sec-18-157-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-157-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-158"><code>timeout()</code>                                                        </a>
<ul>
<li><a href="#sec-18-158-1">Man Page Format</a></li>
<li><a href="#sec-18-158-2">Format Reference</a></li>
<li><a href="#sec-18-158-3">Return Value</a></li>
<li><a href="#sec-18-158-4">Notes</a></li>
<li><a href="#sec-18-158-5">Examples</a></li>
<li><a href="#sec-18-158-6">Sample Program</a>
<ul>
<li><a href="#sec-18-158-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-158-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-159"><code>touchline()</code>                                                      </a>
<ul>
<li><a href="#sec-18-159-1">Explanation</a></li>
<li><a href="#sec-18-159-2">Man Page Format</a></li>
<li><a href="#sec-18-159-3">Format Reference</a></li>
<li><a href="#sec-18-159-4">Return Value</a></li>
<li><a href="#sec-18-159-5">Notes</a></li>
<li><a href="#sec-18-159-6">Examples</a></li>
<li><a href="#sec-18-159-7">Sample Program</a>
<ul>
<li><a href="#sec-18-159-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-159-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-160"><code>touchwin()</code>                                                       </a>
<ul>
<li><a href="#sec-18-160-1">Explanation</a></li>
<li><a href="#sec-18-160-2">Man Page Format</a></li>
<li><a href="#sec-18-160-3">Format Reference</a></li>
<li><a href="#sec-18-160-4">Return Value</a></li>
<li><a href="#sec-18-160-5">Notes</a></li>
<li><a href="#sec-18-160-6">Example</a></li>
<li><a href="#sec-18-160-7">Sample Program</a>
<ul>
<li><a href="#sec-18-160-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-160-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-161"><code>TRUE</code>                                                             </a>
<ul>
<li><a href="#sec-18-161-1">Man Page Format</a></li>
<li><a href="#sec-18-161-2">Format Reference</a></li>
<li><a href="#sec-18-161-3">Return Value</a></li>
<li><a href="#sec-18-161-4">Notes</a></li>
<li><a href="#sec-18-161-5">Examples</a></li>
<li><a href="#sec-18-161-6">Sample Program</a>
<ul>
<li><a href="#sec-18-161-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-161-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-162"><code>typeahead()</code>                                                      </a>
<ul>
<li><a href="#sec-18-162-1">Explanation</a></li>
<li><a href="#sec-18-162-2">Man Page Format</a></li>
<li><a href="#sec-18-162-3">Format Reference</a></li>
<li><a href="#sec-18-162-4">Return Value</a></li>
<li><a href="#sec-18-162-5">Notes</a></li>
<li><a href="#sec-18-162-6">Examples</a></li>
<li><a href="#sec-18-162-7">Sample Program</a>
<ul>
<li><a href="#sec-18-162-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-162-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-163"><code>unctrl()</code>                                                         </a>
<ul>
<li><a href="#sec-18-163-1">Man Page Format</a></li>
<li><a href="#sec-18-163-2">Format Reference</a></li>
<li><a href="#sec-18-163-3">Return Value</a></li>
<li><a href="#sec-18-163-4">Notes</a></li>
<li><a href="#sec-18-163-5">Examples</a></li>
<li><a href="#sec-18-163-6">Sample Program</a>
<ul>
<li><a href="#sec-18-163-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-163-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-164"><code>ungetch()</code>                                                        </a>
<ul>
<li><a href="#sec-18-164-1">Explanation</a></li>
<li><a href="#sec-18-164-2">Man Page Format</a></li>
<li><a href="#sec-18-164-3">Format Reference</a></li>
<li><a href="#sec-18-164-4">Return Value</a></li>
<li><a href="#sec-18-164-5">Notes</a></li>
<li><a href="#sec-18-164-6">Examples</a></li>
<li><a href="#sec-18-164-7">Sample Program</a>
<ul>
<li><a href="#sec-18-164-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-164-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-165"><code>untouchwin()</code>                                                     </a>
<ul>
<li><a href="#sec-18-165-1">Explanation</a></li>
<li><a href="#sec-18-165-2">Man Page Format</a></li>
<li><a href="#sec-18-165-3">Format Reference</a></li>
<li><a href="#sec-18-165-4">Return Value</a></li>
<li><a href="#sec-18-165-5">Notes</a></li>
<li><a href="#sec-18-165-6">Example</a></li>
<li><a href="#sec-18-165-7">Sample Program</a></li>
<li><a href="#sec-18-165-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-166"><code>use_default_colors()</code>                                             </a>
<ul>
<li><a href="#sec-18-166-1">Man Page Format</a></li>
<li><a href="#sec-18-166-2">Format Reference</a></li>
<li><a href="#sec-18-166-3">Return Value</a></li>
<li><a href="#sec-18-166-4">Notes</a></li>
<li><a href="#sec-18-166-5">Example</a></li>
<li><a href="#sec-18-166-6">Sample Program</a>
<ul>
<li><a href="#sec-18-166-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-166-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-167"><code>use_env()</code>                                                        </a>
<ul>
<li><a href="#sec-18-167-1">Man Page Format</a></li>
<li><a href="#sec-18-167-2">Format Reference</a></li>
<li><a href="#sec-18-167-3">Return Value</a></li>
<li><a href="#sec-18-167-4">Notes</a></li>
<li><a href="#sec-18-167-5">Example</a></li>
<li><a href="#sec-18-167-6">Sample Program</a>
<ul>
<li><a href="#sec-18-167-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-167-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-168"><code>vline()</code>                                                          </a>
<ul>
<li><a href="#sec-18-168-1">Man Page Format</a></li>
<li><a href="#sec-18-168-2">Format Reference</a></li>
<li><a href="#sec-18-168-3">Return Value</a></li>
<li><a href="#sec-18-168-4">Notes</a></li>
<li><a href="#sec-18-168-5">Examples</a></li>
<li><a href="#sec-18-168-6">Sample Program</a></li>
<li><a href="#sec-18-168-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-169"><code>vwprintw()</code>                                                       </a></li>
<li><a href="#sec-18-170"><code>vwscanw()</code>                                                        </a></li>
<li><a href="#sec-18-171"><code>w</code> prefix functions                                               </a>
<ul>
<li><a href="#sec-18-171-1">Format</a></li>
<li><a href="#sec-18-171-2">Notes</a></li>
<li><a href="#sec-18-171-3">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-172"><code>wcursyncup()</code>                                                     </a>
<ul>
<li><a href="#sec-18-172-1">Man Page Format</a></li>
<li><a href="#sec-18-172-2">Format Reference</a></li>
<li><a href="#sec-18-172-3">Return Value</a></li>
<li><a href="#sec-18-172-4">Notes</a></li>
<li><a href="#sec-18-172-5">Example</a></li>
<li><a href="#sec-18-172-6">Sample Program</a>
<ul>
<li><a href="#sec-18-172-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-172-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-173"><code>wenclose()</code>                                                       </a>
<ul>
<li><a href="#sec-18-173-1">Man Page Format</a></li>
<li><a href="#sec-18-173-2">Format Reference</a></li>
<li><a href="#sec-18-173-3">Return Value</a></li>
<li><a href="#sec-18-173-4">Notes</a></li>
<li><a href="#sec-18-173-5">Example</a></li>
<li><a href="#sec-18-173-6">Sample Program</a>
<ul>
<li><a href="#sec-18-173-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-173-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-174"><code>WINDOW</code>                                                           </a>
<ul>
<li><a href="#sec-18-174-1">Man Page Format</a></li>
<li><a href="#sec-18-174-2">Format Reference</a>
<ul>
<li><a href="#sec-18-174-2-1">Cursor's location</a></li>
<li><a href="#sec-18-174-2-2">Window size</a></li>
<li><a href="#sec-18-174-2-3">Window state flags</a></li>
<li><a href="#sec-18-174-2-4">Window attributes</a></li>
<li><a href="#sec-18-174-2-5">Window options</a></li>
<li><a href="#sec-18-174-2-6">Window data</a></li>
<li><a href="#sec-18-174-2-7">Window Scrolling Region</a></li>
<li><a href="#sec-18-174-2-8">Subwindow Data</a></li>
<li><a href="#sec-18-174-2-9">Pad Data</a></li>
</ul>
</li>
<li><a href="#sec-18-174-3">Return Value</a></li>
<li><a href="#sec-18-174-4">Notes</a></li>
<li><a href="#sec-18-174-5">Examples</a></li>
<li><a href="#sec-18-174-6">Sample Program</a></li>
<li><a href="#sec-18-174-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-175"><code>wnoutrefresh()</code>                                                   </a>
<ul>
<li><a href="#sec-18-175-1">Explanation</a></li>
<li><a href="#sec-18-175-2">Man Page Format</a></li>
<li><a href="#sec-18-175-3">Format Reference</a></li>
<li><a href="#sec-18-175-4">Return Value</a></li>
<li><a href="#sec-18-175-5">Notes</a></li>
<li><a href="#sec-18-175-6">Examples</a></li>
<li><a href="#sec-18-175-7">Sample Program</a></li>
<li><a href="#sec-18-175-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-176"><code>wredrawln()</code>                                                      </a>
<ul>
<li><a href="#sec-18-176-1">Explanation</a></li>
<li><a href="#sec-18-176-2">Man Page Format</a></li>
<li><a href="#sec-18-176-3">Format Reference</a></li>
<li><a href="#sec-18-176-4">Return Value</a></li>
<li><a href="#sec-18-176-5">Notes</a></li>
<li><a href="#sec-18-176-6">Example</a></li>
<li><a href="#sec-18-176-7">Sample Program</a>
<ul>
<li><a href="#sec-18-176-7-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-176-8">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-177"><code>wrefresh()</code>                                                       </a></li>
<li><a href="#sec-18-178"><code>wsyncdown()</code>                                                      </a>
<ul>
<li><a href="#sec-18-178-1">Man Page Format</a></li>
<li><a href="#sec-18-178-2">Format Reference</a></li>
<li><a href="#sec-18-178-3">Return Value</a></li>
<li><a href="#sec-18-178-4">Notes</a></li>
<li><a href="#sec-18-178-5">Example</a></li>
<li><a href="#sec-18-178-6">Sample Program</a></li>
<li><a href="#sec-18-178-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-179"><code>wsyncup()</code>                                                        </a>
<ul>
<li><a href="#sec-18-179-1">Man Page Format</a></li>
<li><a href="#sec-18-179-2">Format Reference</a></li>
<li><a href="#sec-18-179-3">Return Value</a></li>
<li><a href="#sec-18-179-4">Notes</a></li>
<li><a href="#sec-18-179-5">Example</a></li>
<li><a href="#sec-18-179-6">Sample Program</a></li>
<li><a href="#sec-18-179-7">Also See</a></li>
</ul>
</li>
<li><a href="#sec-18-180"><code>wtimeout()</code>                                                       </a></li>
<li><a href="#sec-18-181"><code>wtouchln</code>                                                         </a>
<ul>
<li><a href="#sec-18-181-1">Man Page Format</a></li>
<li><a href="#sec-18-181-2">Format Reference</a></li>
<li><a href="#sec-18-181-3">Return Value</a></li>
<li><a href="#sec-18-181-4">Notes</a></li>
<li><a href="#sec-18-181-5">Examples</a></li>
<li><a href="#sec-18-181-6">Sample Program</a>
<ul>
<li><a href="#sec-18-181-6-1">Sample output:</a></li>
</ul>
</li>
<li><a href="#sec-18-181-7">Also See</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-19">APPENDIX B The Alternative Character Set                            </a></li>
<li><a href="#sec-20">APPENDIX C The chtype                                               </a></li>
<li><a href="#sec-21">APPENDIX D Keypad Character Codes                                   </a></li>
</ul>
</div>
</div>


<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">About the Author                                                    <a id="about_the_author" name="about_the_author"></a></h2>
<div class="outline-text-2" id="text-1">
<p>
<b>Dan Gookin</b> has been writing about technology for over 20
years. He's contributed articles to numerous high-tech magazines and
written more than 100 books on personal computers, many of them
accurate.
</p>

<p>
Dan combines his love of writing with his gizmo fascination to
create books that are informative, entertaining, and not
boring. Having sold more than 14 million titles translated into more
than 30 languages, Dan can attest that his method of crafting
computer tomes does seem to work.
</p>

<p>
Perhaps his most famous title is the original <i>DOS For Dummies</i>,
published in 1991. It became the world's fastest-selling computer
book, at one time moving more copies per week than the <i>New York
Times #1</i> bestseller (though as a reference, it could not be listed
on the NYT Bestseller list). From that book spawned the entire line
of <i>For Dummies books</i>, which remains a publishing phenomenon to
this day.
</p>

<p>
Dan's most recent titles include <i>Word 2007 For Dummies</i>, <i>Laptops
For Dummies</i>, 2nd Edition, and <i>PCs For Dummies</i>, 10th Edition. He
also maintains the vast and helpful Web page <a href="http://www.wambooli.com">www.wambooli.com</a>.
</p>

<p>
Dan holds a degree in Communications/Visual Arts from the University
of California, San Diego. Presently he lives in the Pacific
Northwest, where he enjoys spending time with his boys in the gentle
woods of Idaho.
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Acknowledgments                                                     <a id="acknowledgments" name="acknowledgments"></a></h2>
<div class="outline-text-2" id="text-2">
<p>
I'd like to thank Thomas Dickey for his marvelous work augmenting my
dive into the NCurses library. I truly appreciate his participation
in this project and admire him not only for maintaining NCurses but
working to assist others with their quentions and problems. Thank
you, Thomas!
</p>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Introduction                                                        <a id="introduction" name="introduction"></a></h2>
<div class="outline-text-2" id="text-3">
<p>
The NCurses library is a programming tool you can use in UNIX
distributions as well as in Windows under CYGWIN to program,
control, and manipulate text on the terminal screen. With NCurses
you can control interactive I/O, organize information into windows
on the screen, use color to highlight text and organize information,
and even use a mouse to further refine input. It's all possible
with NCurses.
</p>

<p>
The NCurses library is a programming tool you can use in UNIX
distributions as well as in WinBug$ under <b>CYGWIN</b> to program,
control, and manipulate text on the terminal
</p>

<p>
This book presents NCurses in two parts. The first part is a
14-chapter tutorial that covers enough of the basic NCurses library
to get you started and more. The second part is an A to Z reference
of more than 175 NCurses functions. It is not a rehash of the man
pages but descriptions and examples based on my own research. The
reference is cross-referenced, and the entire book is indexed.
</p>

<p>
I've created this book so that it will be the only Curses reference
you'll need.  Feel free to mark up the pages, dog-ear, and put
sticky notes where necessary.  This is <i>your</i> book!
</p>
</div>

<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">Assumptions                                                        <a id="assumptions" name="assumptions"></a></h3>
<div class="outline-text-3" id="text-3-1">
<p>
This book assumes that you're using a UNIX-like operating system
(Linux, FreeBSD, Mac OS X, or some other OS based on UNIX).
</p>

<p>
Most UNIX operating systems today use a graphical user interface
(GUI), though for programming Curses you'll need to have access to
a terminal screen. This can be a terminal window inside the
GUI. Make sure you know how to open such a beast.
</p>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2">Curses or NCurses?                                                 <a id="curses_or_ncurses" name="curses_or_ncurses"></a></h3>
<div class="outline-text-3" id="text-3-2">
<p>
The Curses library of terminal control functions has been with UNIX
since the early 1980s. As such, it was part of the older versions
of UNIX, which required complex licenses and such to be used.
</p>

<p>
NCurses is the <i>New</i> Curses software emulation of the original
Curses and is available from the GNU folks at the Free Software
Foundation. Odds are pretty good that the computer system you're
using employs NCurses, not the original Curses. Because of that,
this book uses NCurses to refer to the library and its functions.
</p>

<p>
The book is current with NCurses version 5.5.
</p>
</div>
</div>

<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3">Conventions                                                        <a id="conventions" name="conventions"></a></h3>
<div class="outline-text-3" id="text-3-3">
<p>
In this book, you'll find the following conventions used:
</p>

<ul class="org-ul">
<li>C language keywords, function names, or prompt commands are
listed in monospace type, such as: <code>if</code> or <code>newwin()</code> or <code>ls -l</code>.
</li>

<li>Filenames are listed in monospaced, such as <code>a.out</code> or
<code>goodbye.c</code>.  Directory and pathnames are also in monospace:
<code>~/prog/c/curses</code>
</li>

<li>Program code appears with the source code filename first,
followed by the code:

<dl class="org-dl">
<dt> <a id="Listing-I-1" name="Listing-I-1">Listing I-1</a> </dt><dd><a href="code/book/box.c"><code>box.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="box.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  box(stdscr,<span style="color: #ffa07a;">'*'</span>,<span style="color: #ffa07a;">'*'</span>);
<span class="linenr"> 8: </span>  refresh();
<span class="linenr"> 9: </span>  getch();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  endwin();
<span class="linenr">12: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">13: </span>}
</pre>
</div>
</dd>
</dl>
</li>
</ul>


<p>
The line numbers, to the left of the bar, are for reference only;
do not type them. The code is to the right of the bar.
</p>

<p>
The programs in this book are short and to the point. As such, they
rarely include comments. Even so, be sure to comment your own code
and name your variables in a friendly way.
</p>

<p>
Some programs later in the book dispense with error-checking for
some NCurses procedures. This is noted as a bad practice in real
life but is done here to keep the code short and easy to read and
type. In your code, always be sure to check for errors with those
NCurses functions that can return errors, as noted in the text.
</p>
</div>
</div>

<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4">Compatibility Issues                                               <a id="compatibility_issues" name="compatibility_issues"></a></h3>
<div class="outline-text-3" id="text-3-4">
<p>
I wrote this book on a G5 Mac running OS X. Programs were also
tested on a FreeBSD computer as well as a system running Mandrake
Linux. All the programs in this book work, but not all of them work
well or identically on all systems. Even though NCurses is very
universal, do not expect all the code here to fly perfectly on your
computer.
</p>

<p>
If you encounter problems with NCurses on your OS, please refer to
the OS Technical Support â or an online forum or Wikipedia â for
assistance. Odds are pretty good that I don't have your same setup,
so e-mailing me isn't going to get you anywhere.
</p>

<p>
As this book goes to press, I've already reported several dozen
issues with NCurses on Mac OS X to the OS X developer support team,
as well as to the NCurses maintenance team.
</p>
</div>
</div>

<div id="outline-container-sec-3-5" class="outline-3">
<h3 id="sec-3-5">Contacting the Author                                              <a id="contacting_the_author" name="contacting_the_author"></a></h3>
<div class="outline-text-3" id="text-3-5">
<p>
Here is my real e-mail address:
</p>

<p>
<a href="mailto:dgookin@wambooli.com">mailto:dgookin@wambooli.com</a>
</p>

<p>
I cannot promise to answer all my e-mail, as I get a ton of it and
most of it is for technical support, which is not my business. I do
enjoy hearing feedback about my books, and I will answer questions
about the books. I cannot, obviously, write your source code for
you.
</p>

<p>
This book has a companion web page, which is shared with the site I
use to support my C programming books. The page can be found at:
</p>

<p>
<a href="http://www.c-for-dummies.com/ncurses/">http://www.c-for-dummies.com/ncurses/</a>
</p>

<p>
There you'll find supplemental material and bonus programs, plus
perhaps an FAQ when one is warranted. The C Language forum has
plenty of regulars who know C very well and are eager to help out
beginners as well as old hands. Try visiting there first with your
problems or questions regarding C.
</p>

<p>
Enjoy NCurses!
</p>

<p>
DAN
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">CHAPTER  1 The Setup                                                <a id="chapter_1" name="chapter_1"></a></h2>
<div class="outline-text-2" id="text-4">
<p>
This chapter covers a basic setup and organization for you to get
started with NCurses programming. Here you'll find:
</p>

<ul class="org-ul">
<li>An introduction to the terminal window in UNIX
</li>
<li>A smattering of basic shell commands
</li>
<li>Creating a special curses directory for this document's programs
</li>
<li>A review of available text editors
</li>
<li>The creation of a basic NCurses program
</li>
<li>A review of the gcc compiler and linking commands
</li>
<li>Re-editing source code and debugging exercises
</li>
</ul>


<p>
The idea here is to show you how everything works and to get you
comfortable programming with NCurses, even if you've never written a
UNIX program before.
</p>
</div>

<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">NCurses Is a UNIX Thing                                            <a id="ncurses_is_a_unix_thing" name="ncurses_is_a_unix_thing"></a></h3>
<div class="outline-text-3" id="text-4-1">
<p>
You must have a UNIX-like operating system to work the samples and
examples in this book.
</p>

<p>
Beyond this, note that you must also have the programming libraries
installed for your operating system. Without those libraries,
programming in NCurses just isn't gonna happen. Refer to your
operating system's installation or setup program, such as
<code>/stand/sysinstall</code> in FreeBSD, to install the C programming
libraries for your operating system. If special extensions are
required to get the NCurses library installed, use them!
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>It's possible to program NCurses in Windows when using
the Cygwin environment. I've not toyed with Cygwin, so
I'm unable to comment on it here.  For more information,
refer to <a href="http://www.cygwin.com">www.cygwin.com</a>.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2">Run (Don't Walk) to a Terminal Screen Near You                     <a id="run_to_a_terminal_screen_near_you" name="run_to_a_terminal_screen_near_you"></a></h3>
<div class="outline-text-3" id="text-4-2">
<p>
<i>NCurses</i> is about programming the terminal screen, so you'll need
access to a terminal screen or window to run the programs.
</p>

<p>
You can either use one of the virtual terminals (which you can
access on most PCs by pressing Alt+F1, Alt+F2, Alt+F3, and so on)
or open a terminal window in the X Window System environment or in
Mac OS X using the Terminal program. (See <a href="#Figure-1-1">Figure 1-1</a>.)
</p>

<dl class="org-dl">
<dt> <a id="Figure-1-1" name="Figure-1-1">Figure 1-1</a> </dt><dd>A terminal window for Mac OS X


<div class="figure">
<p><img src="img/Figure1-1.jpg" alt="Figure1-1.jpg" />
</p>
</div>
</dd>
</dl>


<p>
Note that the terminal you choose can affect what NCurses does. Not
all terminal types can, for example, do color or draw lines on the
screen.
</p>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3">Know Something About the Shell                                     <a id="know_something_about_the_shell" name="know_something_about_the_shell"></a></h3>
<div class="outline-text-3" id="text-4-3">
<p>
The program you use in the terminal screen is a <i>shell</i>. It
displays a shell prompt and lets you type one of the gazillions of
UNIX commands and what not â which is all basic UNIX stuff.
</p>

<p>
The following sections review basic shell operations and a
smattering of commands. If you feel you already know this, skim up
to the section titled <a href="#make_a_place_for_your_stuff">"Make a Place for Your Stuff."</a>
</p>
</div>

<div id="outline-container-sec-4-3-1" class="outline-4">
<h4 id="sec-4-3-1">Some Shelly Stuff                                                 <a id="some_shelly_stuff" name="some_shelly_stuff"></a></h4>
<div class="outline-text-4" id="text-4-3-1">
<p>
For example, the standard Bourne shell may look like this:
</p>

<pre class="example">
$
</pre>

<p>
The dollar sign is the prompt, and you type your commands after
the prompt.
</p>

<p>
The Bash shell, popular with Linux, may look like this:
</p>

<pre class="example">
Bash-2.05a$
</pre>

<p>
Or the shell may be customized to display your login name:
</p>

<pre class="example">
dang$
</pre>

<p>
Or even the working directory:
</p>

<pre class="example">
/home/dang/$
</pre>

<p>
Whatever!
</p>

<p>
No one really cares about which shell you use, but you should know
enough shell commands to be able to do these things:
</p>

<ul class="org-ul">
<li>Make directories
</li>
<li>Display a file's contents
</li>
<li>Copy files
</li>
<li>Rename files
</li>
<li>Remove files
</li>
</ul>


<p>
It's beyond the scope of this book to teach you such stuff, though
a handy list of popular shell commands is provided at the end of
this chapter.
</p>

<p>
Note that this book does not display the shell prompt when you're
directed to enter a command. Simply type the command; then press
Enter to send the command to the shell program for processing.
</p>

<p>
It is always assumed that you press the Enter key to input the
command.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>Please do check your typing! The shell is very fussy
about getting things correct. In the Bash shell, you'll
see a <code>command not found</code> error when you mistype
something:

<pre class="example">
-bash: tcc: command not found
</pre>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-4-3-2" class="outline-4">
<h4 id="sec-4-3-2">Know Your History, Because You're Going to Repeat It              <a id="know_your_history" name="know_your_history"></a></h4>
<div class="outline-text-4" id="text-4-3-2">
<p>
One handy shell feature you should take advantage of is the
history. Various <code>history</code> commands allow you to recall previously
typed text at the command prompt. This is commonly done as you
edit, compile, re-edit, and recompile your code.
</p>

<p>
For example, most of the time you're using this book you'll be
cycling through three sets of commands. First comes the editing:
</p>

<div class="org-src-container">

<pre class="src src-sh">vim goodbye.c
</pre>
</div>

<p>
Then comes the compiling:
</p>

<div class="org-src-container">

<pre class="src src-sh">gcc -lncurses goodbye.c
</pre>
</div>

<p>
Then comes the running:
</p>

<div class="org-src-container">

<pre class="src src-sh">./a.out
</pre>
</div>

<p>
I'll cover these steps in detail later, but for now recognize that
these commands are to be repeated over and over: Edit, compile,
run (or test); then re-edit, recompile, and test again. To assist
you in that task, employ your shell's history function.
</p>

<p>
In the Bash shell, for example, use the up arrow key on your
keyboard to recall a previous command. To recall the second
previous command, press the up arrow key twice. I'm not intimate
with the other shells, so if you use the C shell or Bourne shell,
review your documentation for any history commands available with
those shells.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4">Make a Place for Your Stuff                                        <a id="make_a_place_for_your_stuff" name="make_a_place_for_your_stuff"></a></h3>
<div class="outline-text-3" id="text-4-4">
<p>
Please do be organized and build yourself a handy little directory
into which you can save, compile, and test the various programs
presented in this document.
</p>

<p>
For example, in my <i>home</i> directory, I have the following set up:
</p>

<pre class="example">
$HOME/prog/c/ncurses
</pre>

<p>
<code>$HOME</code> is the home directory, the shell variable that represents
your account's home directory for most UNIX shells that I've played
with. It can also be abbreviated as <code>~/</code> in some shells.
</p>

<p>
Then I have a subdirectory called <code>prog</code>, which contains all my
programming junk and test files. <code>prog</code> contains subdirectories for
C language programs, Perl programs, shell scripts, and whatever
else I'm dabbling in.
</p>

<p>
The C subdirectory contains C programs and directories.
</p>

<p>
Finally, the <code>ncurses</code> directory is where I built all the sample
files for this book.
</p>

<p>
You should consider a similar setup for your system, even if it's
just something like <code>$HOME/ncurses</code>. As long as you can keep all
the sample files around and be able to access them later, you'll be
a happy camper.
</p>

<p>
If you want to create a <code>~/prog/c/ncurses</code> directory for your
stuff, you can use the following command in your <i>home</i> directory:
</p>

<div class="org-src-container">

<pre class="src src-sh">mkdir -p prog/c/ncurses
</pre>
</div>

<p>
The <code>-p</code> switch directs <code>mkdir</code> to build all parent directories to
the final <code>NCurses</code> directory.
</p>
</div>
</div>

<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5">Using an Editor to Create an NCurses Program                       <a id="using_an_editor_tocreate_an_ncurses_program" name="using_an_editor_tocreate_an_ncurses_program"></a></h3>
<div class="outline-text-3" id="text-4-5">
<p>
There's no point in bothering with a fancy developer environment or
IDE when you're programming NCurses. I think you'll be happier
using the terminal window and a shell prompt, unless you've been
totally corrupted by some IDE. Then you're on your own!
</p>
</div>

<div id="outline-container-sec-4-5-1" class="outline-4">
<h4 id="sec-4-5-1">Picking an Editor                                                 <a id="picking_an_editor" name="picking_an_editor"></a></h4>
<div class="outline-text-4" id="text-4-5-1">
<p>
Since day one of UNIX, a text editor has been used to create
code. That's what I recommend for this book. Any text editor will
do, and most UNIX-like operating systems give you a smattering of
editors to choose from:
</p>

<ul class="org-ul">
<li><b>ee</b>. The "easy editor" is a popular choice for many UNIX
newcomers.  No one will think any less of you for using ee,
especially if you're using it with your C programming.
</li>

<li><b>GNU Emacs</b>. This is the most popular choice, mostly because its
commands are more word processor-like and you don't have to keep
whacking the Escape key as you do in vi/vim.
</li>

<li><b>vim</b>. This is my personal choice, simply because it's so damn
raw and complex. As you get used to vim, though, it becomes a
very powerful and handy tool. Plus it's common to all Unixes.
</li>
</ul>


<p>
Whenever this book tells you to edit or create some source code,
you'll use your favorite text editor to make it happen. (And
please do create these programs in your <code>ncurses</code> directory, as
covered in the previous section.)
</p>

<p>
If you don't know any editors, I recommend ee as the
easiest. Otherwise, this book does not teach you how to use any
text editor; I assume you'll figure that out on your own.
</p>
</div>
</div>

<div id="outline-container-sec-4-5-2" class="outline-4">
<h4 id="sec-4-5-2">Creating Your First NCurses Program                               <a id="creating_your_first_ncurses_program" name="creating_your_first_ncurses_program"></a></h4>
<div class="outline-text-4" id="text-4-5-2">
<p>
Rather than just discuss all this stuff, why not get moving?
</p>

<p>
Use the <code>cd</code> command to change directories to the <code>ncurses</code>
directory you just created. You can confirm which directory you're
using with the pwd command.
</p>

<p>
This is what I see on my screen:
</p>

<div class="org-src-container">

<pre class="src src-sh">/home/dang/prog/c/ncurses
</pre>
</div>

<p>
Your screen will probably show something different. The point is
the same: You're in the <code>ncurses</code> directory and ready to create
some source code with your editor.
</p>

<p>
Source code is presented in this book as follows: First comes the
filename, then the source code. To the left are line numbers for
reference purposes only.  Do not type the line numbers!
</p>

<p>
Use your editor to name (or create) the file; then input all the
text <i>exactly</i> as shown in <a href="#Listing-1-1">Listing 1-1</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-1-1" name="Listing-1-1">Listing 1-1</a> </dt><dd><a href="code/book/goodbye.c"><code>goodbye.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="goodbye.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  addstr( <span style="color: #ffa07a;">"Goodbye, cruel C programming!"</span> );
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  endwin();
<span class="linenr"> 9: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">10: </span>}
</pre>
</div>
</dd>
</dl>


<p>
So if you're using vim, you would type:
</p>

<div class="org-src-container">

<pre class="src src-sh">vim goodbye.c
</pre>
</div>

<p>
Then you would enter the text into the editor using your favorite,
cryptic vim commands.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>Note that some compilers require there to be an extra
blank line following the last line of code. This is not
shown above or in any sample code in this document.
</dd>
</dl>


<p>
When you're done entering text, double-check to ensure that you
didn't miss anything.
</p>

<p>
Note that from now on it's assumed that whenever you see source
code as shown here, you are to type it and name it according to
the source code heading. And, naturally, you don't have to type
<i>every</i> program, only those you want to experiment with.
</p>
</div>
</div>

<div id="outline-container-sec-4-5-3" class="outline-4">
<h4 id="sec-4-5-3">Some Deviations                                                   <a id="some_deviations" name="some_deviations"></a></h4>
<div class="outline-text-4" id="text-4-5-3">
<p>
The next step in the programming process is compiling and linking,
handled deftly by the common <code>gcc</code> command. But before compiling
and linking, consider a few sidetracks, just to get you oriented
if you're not used to programming in UNIX.
</p>

<p>
Use the <code>ls</code> command to view the contents of your <code>ncurses</code>
directory.  The ls command displays or lists the files in the
directory, one of which should be <code>goodbye.c</code>. Confirm that.
</p>

<pre class="example">
~/prog/c/ncurses$    ls
goodbye.c
~/prog/c/ncurses$
</pre>

<p>
You can also use the <i>long</i> variation on the <code>ls</code> command to see
more details.
</p>

<pre class="example">
~/prog/c/ncurses$ ls -l
total 8
-rw-r--r--   1 dang dang      113 dec    7 13:02 goodbye.c
~/prog/c/ncurses$
</pre>

<p>
Now you can see permissions, owner, group, file size, and date
information for the <code>goodbye.c</code> file â all of which help to
confirm the file's existence.
</p>

<p>
Finally, you can view the file's contents with the <code>cat</code> command:
</p>

<pre class="example">
~/prog/c/ncurses$    cat goodbye.c
#include &lt;ncurses.h&gt;

int main(void)
{
  initscr();
  addstr( Goodbye, cruel C programming! );

  getch();

  endwin();
  return 0;
}
</pre>

<p>
And there is the file yet again on the screen.
</p>

<p>
Typing <code>ls</code> and cat are not required steps in the program-creation
process. I just like to remind you of their use here, which I
liken to peering into the mail drop box twice just to confirm that
your mail actually made it into the box and is not somehow stuck
on the hinged lid.
</p>

<p>
Time to compile!
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6">Know Thy Compiler                                                  <a id="know_thy_compiler" name="know_thy_compiler"></a></h3>
<div class="outline-text-3" id="text-4-6">
<p>
The standard C compiler in the UNIX environment is <code>gcc</code>, the GNU C
compiler. Here is how it works in this book: You will see source
code listed, such as the <code>goodbye.c</code> program. You will immediately
know to type it and compile it.
</p>

<p>
To compile, you will type something at the shell prompt, perhaps
like this:
</p>

<div class="org-src-container">

<pre class="src src-sh">gcc goodbye.c -lncurses
</pre>
</div>

<p>
That's the <code>gcc</code> command, your compiler.
</p>

<p>
The first option is the name of the source code file, the text file
you created.  In this case, it's named <code>goodbye.c</code>. The single,
lowercase c denotes a standard C source code file, not C++.
</p>

<p>
Finally comes <code>-lncurses</code>, which tells the compiler to <code>-l</code> "link
in" the <code>NCurses</code> library. <i>This is very important!</i> <code>NCurses</code> is
not just a header file; it's also a <i>library</i>. And you must link in
the library to have those NCurses functions work.
</p>

<p>
Use this command:
</p>

<div class="org-src-container">

<pre class="src src-sh">gcc goodbye.c -lncurses
</pre>
</div>

<p>
And you're compiled. Or not.
</p>
</div>

<div id="outline-container-sec-4-6-1" class="outline-4">
<h4 id="sec-4-6-1">Linking NCurses or Curses?                                        <a id="linking_ncurses_or_curses" name="linking_ncurses_or_curses"></a></h4>
<div class="outline-text-4" id="text-4-6-1">
<p>
On most systems I've visited, both the CURSES and NCURSES
libraries are the same thing, meaning that if you link in
<code>-lcurses</code> instead of <code>-lncurses</code>, the results are the same. The
only advantage here is that typing <code>-lcurses</code> saves you a
keystroke. Otherwise, I recommend using <code>-lncurses</code>.
</p>
</div>
</div>

<div id="outline-container-sec-4-6-2" class="outline-4">
<h4 id="sec-4-6-2">What Does the gcc Command Do?                                     <a id="what_does_the_gcc_command_do" name="what_does_the_gcc_command_do"></a></h4>
<div class="outline-text-4" id="text-4-6-2">
<p>
The <code>gcc</code> command either outputs a slew of error messages or shows
you nothing.
</p>

<p>
When you get a slew of error messages, you must re-edit the source
file and try to work out whatever bugs you can. The compiler is
brutally honest, but it's also nice in that it does give you a
line number to show you where (approximately) you screwed up.
</p>

<p>
When <code>gcc</code> does nothing, the source code is properly compiled and
linked.  This is what you want.
</p>

<p>
In this case, I've tricked you into typing sloppy code so that
you'll see an error message. Something like:
</p>

<pre class="example">
goodbye.c:6: macro 'addstr' used with too many (2) args
</pre>

<p>
One variation of the <code>gcc</code> compiler yielded even more information:
</p>

<pre class="example">
goodbye.c:6:45: macro "addstr" passed 2 arguments, but takes just 1
</pre>

<p>
These error messages are just oozing with information:
</p>

<ul class="org-ul">
<li><code>goodbye.c</code> tells you which source code file is offensive.
</li>

<li>The 6 tells you that the error is either in line 6 or the
previous line. In the second example, the 45 tells you which
column in the line is offensive â very specific.
</li>

<li>Then the error message itself; something is apparently wrong
with the call to the addstr macro. Must fix.
</li>
</ul>


<dl class="org-dl">
<dt> NOTE </dt><dd>If you didn't see the error message, you probably have
been coding C for some time and just put the <code>addstr()</code>
function's text in double quotes out of habit. Good for
you!
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-4-6-3" class="outline-4">
<h4 id="sec-4-6-3">Re-editing Your Source Code                                       <a id="re-editing_your_source_code" name="re-editing_your_source_code"></a></h4>
<div class="outline-text-4" id="text-4-6-3">
<p>
In programming you do more re-editing than editing. In this case,
the error was on purpose so I could show you how the compiler
displays an error message. The fix is easy: Just edit the
<code>goodbye.c</code> source code file again.
</p>

<p>
Don't forget to use your shell's history (if available) to recall
that editing command!
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>Here's a tip: Familiarize yourself with the editor's
command that instantly jumps to a specific line
number. Most of your editing will actually be
re-editing, where the compiler directs you to a specific
line number. If you know the line-number-jumping
command, you can get there quickly to fix your source
code and try (again) to compile it:

<p>
In <code>vim</code>, the line number skipping command is <code>nG</code>, where
<code>n</code> is the line number and <code>G</code> is Shift+G. Thus, typing
<code>6G</code> will get you right to line 6.
</p>
</dd>
</dl>


<p>
The line should read:
</p>

<div class="org-src-container">

<pre class="src src-c">addstr( <span style="color: #ffa07a;">"Goodbye, cruel C programming!"</span> );
</pre>
</div>

<p>
Then you should save the file to disk and re-compile it. But
nothing happens. That's good! However&#x2026;.
</p>
</div>
</div>

<div id="outline-container-sec-4-6-4" class="outline-4">
<h4 id="sec-4-6-4">Where Is the Program?                                             <a id="where_is_the_program" name="where_is_the_program"></a></h4>
<div class="outline-text-4" id="text-4-6-4">
<p>
The program <code>gcc</code> creates is named <code>a.out</code>. It's a binary file,
and its permissions are all properly set so that the operating
system knows it's a program file and not a slice of Velveeta.
</p>

<p>
Use the ls command to confirm that <code>a.out</code> exists, if you like.
</p>

<p>
To run the program, you need to focus on the current directory:
<code>./a.out</code>.
</p>

<p>
You can't just type <code>a.out</code>, because the operating system looks
only to the search path for programs to run. So you must
specifically direct tired old UNIX to look in the current
directory â abbreviated by the <code>.</code> single dot â to run the
program.
</p>

<p>
So <code>./</code> means "look in the current directory" and <code>a.out</code> means
"run the file named <code>a.out</code>."
</p>

<p>
Of course, if you have the manual dexterity, you can always type a
full pathname, something like:
</p>

<div class="org-src-container">

<pre class="src src-sh">~/prog/c/ncurses/a.out
</pre>
</div>

<p>
This also runs the a.out program, but I believe you'll find typing
<code>./A.OUT</code> a lot easier.
</p>

<p>
Nothing happens, not even an error. Again, there is a problem and
you need to re-edit and recompile.
</p>
</div>
</div>

<div id="outline-container-sec-4-6-5" class="outline-4">
<h4 id="sec-4-6-5">Fixing Stuff (Again)                                              <a id="fixing_stuff" name="fixing_stuff"></a></h4>
<div class="outline-text-4" id="text-4-6-5">
<p>
Fixing stuff (again) in this case means that you forgot a key
NCurses command. (Or more properly, fixing it again here means
that I didn't specify a command on purpose simply to drive this
point home.)
</p>

<p>
The problem? You didn't use the <code>refresh()</code> function, which is a
common blunder in NCurses programming. Only by using <code>refresh()</code>
is the NCurses "window" updated and any text written to the screen
displayed. So, back to the editor!
</p>

<p>
Insert the <code>refresh()</code> function after the <code>addstr()</code> function on
line 6. Your code should look like <a href="#Listing-1-2">Listing 1-2</a>, complete.
</p>

<dl class="org-dl">
<dt> <a id="Listing-1-2" name="Listing-1-2">Listing 1-2</a> </dt><dd><a href="code/book/goodbye.c"><code>goodbye.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="goodbye.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  addstr( <span style="color: #ffa07a;">"Goodbye, cruel C programming!"</span> );
<span class="linenr"> 7: </span>  refresh();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  endwin();
<span class="linenr">10: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">11: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Double-check your work.
</p>

<p>
Remember that you can use your shell's history to quickly recall
those common commands: your editor, your compiler, and the
<code>./a.out</code> command.
</p>

<p>
Now it should work, and you'll see the string thrown up onto the
screen via NCurses, as shown in <a href="#Figure-1-2">Figure 1-2</a>. Congratulations!
</p>

<dl class="org-dl">
<dt> <a id="Figure-1-2" name="Figure-1-2">Figure 1-2</a> </dt><dd>Output of the <code>goodbye.c</code> code.


<div class="figure">
<p><img src="img/Figure1-2.jpg" alt="Figure1-2.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-4-6-6" class="outline-4">
<h4 id="sec-4-6-6">Don't Panic When You Still Don't See Anything!                    <a id="don_t_panic_when_you_still_don_t_see_anything" name="don_t_panic_when_you_still_don_t_see_anything"></a></h4>
<div class="outline-text-4" id="text-4-6-6">
<p>
Even with the <code>refresh()</code> function in the code, it's still
possible that you won't see any program output. The problem isn't
the program or even NCurses; it's your terminal.
</p>

<p>
Many terminals, such as xterm, support a feature known as
<i>rmcup</i>. It restores the screen to what it looked like before a
program was run. The situation also occurs with any full-screen
terminal program, such as <code>man</code> or <code>less</code>; the program's text
disappears after you quit the program, and the prompt "window" is
restored.
</p>

<p>
Sadly, there is no handy way to switch off <i>rmcup</i> support from a
terminal window. The <code>terminfo</code> file for the terminal needs to be
recompiled to remove <i>rmcup</i> support, or a new <code>terminfo</code> file
needs to be created in your home directory, one that lacks <i>rmcup</i>
as an option.
</p>

<p>
The quick solution is to use the <code>getch()</code> function in your
code. By inserting a line with <code>getch()</code> before the <code>endwin()</code>
function, you can pause output and see what NCurses does before
the program quits, as shown in <a href="#Listing-1-3">Listing 1-3</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-1-3" name="Listing-1-3">Listing 1-3</a> </dt><dd><a href="code/book/goodbye.c"><code>goodbye.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="goobye.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  addstr( <span style="color: #ffa07a;">"Goodbye, cruel C programming!"</span> );
<span class="linenr"> 7: </span>  refresh();
<span class="linenr"> 8: </span>  getch();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  endwin();
<span class="linenr">11: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">12: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The new line 8 was added, allowing the program to pause, and for
you to read the output.
</p>

<p>
Many of the program examples in this book use <code>getch()</code> to pause
output.  But some programs do not; be sure to use <code>getch()</code> in
your code to see output, or modify your <code>terminfo</code> file to disable
the <i>rmcup</i> feature.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>It might also help to be vocal about the <i>rmcup</i> feature
for future releases of your operating system. While many
folks may see <i>rmcup</i> as a handy thing, other users
dislike it. The solution is to make the feature easy to
disable.

<p>
Let's hope that will be possible sooner than later.
</p>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-4-6-7" class="outline-4">
<h4 id="sec-4-6-7">Do You Think <code>a.out</code> Is a Goofy Name?                             <a id="do_you_think_a.out_is_a_goofy_name" name="do_you_think_a.out_is_a_goofy_name"></a></h4>
<div class="outline-text-4" id="text-4-6-7">
<p>
Yes, <code>a.out</code> is a goofy name, but that's because the compiler
doesn't know any better.
</p>

<p>
For running the myriad test programs in this book, using <code>a.out</code>
will be a blessing. It won't take up as much disk space as
individually compiling each program and creating separate silly
little programs, plus it means you can instantly recall the
<code>./a.out</code> command using your shell's history command.
</p>

<p>
But anyway, if you'd rather compile to a different output file,
you need to specify the <code>-o</code> switch when you use <code>gcc</code>. It goes
like this:
</p>

<div class="org-src-container">

<pre class="src src-sh">gcc goodbye.c -lncurses -o goodbye
</pre>
</div>

<p>
<code>gcc</code> is still the compiler.
</p>

<p>
<code>goodbye.c</code> is the source code.
</p>

<p>
<code>-lncurses</code> directs the compiler to link in the <i>NCurses</i> library.
</p>

<p>
And finally, <code>-o goodbye</code> tells <code>gcc</code> to create the output file
named <code>goodbye</code> as opposed to creating <code>a.out</code>.
</p>

<p>
Use the preceding command to accomplish this.
</p>

<p>
Do not forget the <code>./</code> prefix! Silly old UNIX needs to know where
to find the file. So you must type <code>./goodbye</code> to run the program.
</p>

<p>
By the way, the output file doesn't have to be the same name as
the source code file. You could use the following command if you
like:
</p>

<div class="org-src-container">

<pre class="src src-sh">gcc goodbye.c -lncurses -o cloppyfeen
</pre>
</div>

<p>
This creates the program file named <code>cloppyfeen</code> from the source
code found in <code>goodbye.c</code>, so what you name the final program file
can be anything you like.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4-7" class="outline-3">
<h3 id="sec-4-7">All Done!                                                          <a id="all_done" name="all_done"></a></h3>
<div class="outline-text-3" id="text-4-7">
<p>
That pretty much does it for your whirlwind introduction to NCurses
programming using the C language in the UNIX environment. This
chapter has imparted the following knowledge, stuff that you'll
need to carry with you throughout the remainder of this document:
</p>
</div>

<div id="outline-container-sec-4-7-1" class="outline-4">
<h4 id="sec-4-7-1">General Info                                                      <a id="general_info" name="general_info"></a></h4>
<div class="outline-text-4" id="text-4-7-1">
<p>
Keep in mind that it's a good idea to keep your learning NCurses
files in your special <code>NCURSES</code> directory. This is assumed.
</p>

<p>
Do remember those handy shell history commands. You'll be doing a
lot of repetitious commands here, and pressing the up arrow key is
a lot easier than retyping boring old UNIX commands.
</p>

<p>
And from now on, I will not be reminding you to specifically
input, compile, and run the sample programs. There may be other,
specific instructions given in the text, but whenever you see
source code, it's assumed that you can type it in and run it if
you want to learn more.
</p>
</div>
</div>

<div id="outline-container-sec-4-7-2" class="outline-4">
<h4 id="sec-4-7-2">Handy Shell Commands to Know                                      <a id="handy_shell_commands_to_know" name="handy_shell_commands_to_know"></a></h4>
<div class="outline-text-4" id="text-4-7-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>cat</code></td>
<td class="left">Displays a text file (source code) to the screen</td>
</tr>

<tr>
<td class="left"><code>clear</code></td>
<td class="left">Clears the screen</td>
</tr>

<tr>
<td class="left"><code>cp</code></td>
<td class="left">Copies a file</td>
</tr>

<tr>
<td class="left"><code>ls -l</code></td>
<td class="left">Lists files in the long format</td>
</tr>

<tr>
<td class="left"><code>ls</code></td>
<td class="left">Lists files</td>
</tr>

<tr>
<td class="left"><code>mv</code></td>
<td class="left">Moves or renames a file</td>
</tr>

<tr>
<td class="left"><code>rm</code></td>
<td class="left">Removes (deletes) a file</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-4-7-3" class="outline-4">
<h4 id="sec-4-7-3">Source Code Tidbits                                               <a id="source_code_tidbits" name="source_code_tidbits"></a></h4>
<div class="outline-text-4" id="text-4-7-3">
<p>
End the source code file with <code>.c</code> to show that it's a C language
source code file.  (Some editors, such as vim, may even recognize
this and bless you with colorcoded, in context contents as you
edit.)
</p>

<p>
The <code>main()</code> function is an <code>int</code> and must return a value to the
shell via either <code>return</code> or the <code>exit()</code> function.
</p>

<p>
If you use the <code>exit()</code> function, remember to include the
<code>stdlib.h</code> header file at the top of your source code.
</p>

<p>
If the program seems not to display anything, remember to add a
<code>getch()</code> function before the <code>endwin()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-4-7-4" class="outline-4">
<h4 id="sec-4-7-4">Compiling Tips                                                    <a id="compiling_tips" name="compiling_tips"></a></h4>
<div class="outline-text-4" id="text-4-7-4">
<p>
The compiler used in this book is <code>gcc</code>.
</p>

<p>
You must link in the NCurses library by using the <code>-lncurses</code>
option to properly compile these programs.
</p>

<p>
The program file produced is always named <code>a.out</code>.
</p>

<p>
You must type <code>./a.out</code> to test run the program file.
</p>

<p>
You can use the <code>-o</code> compiler option to specify the name of the
output file as something different from <code>a.out</code>.
</p>

<p>
The compiler command format is:
</p>

<div class="org-src-container">

<pre class="src src-sh">gcc filename.c -lncurses
</pre>
</div>

<p>
You supply the <code>filename</code> according to the source code name given
in this document.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">CHAPTER  2 Basic I/O, the NCurses Way                               <a id="chapter_2" name="chapter_2"></a></h2>
<div class="outline-text-2" id="text-5">
<p>
NCurses allows you full control over terminal screen (or window) but
only if you heed its rules! There is a definite way to set up an
NCurses program and some specific tricks and traps to know. Also,
you must use NCurses' own I/O functions to display text as well as
read input from the keyboard.
</p>
</div>

<div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1">The Skeleton                                                       <a id="the_skeleton" name="the_skeleton"></a></h3>
<div class="outline-text-3" id="text-5-1">
<p>
The majority of NCurses programs have the same basic <a href="code/book/skeleton">skeleton</a>,
which looks something like this:
</p>

<div class="org-src-container">

<pre class="src src-c" id="skeleton"><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>

<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
{
  initscr();         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Initialize ncurses </span><span style="color: #ff4500;">*/</span>

  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">i/o and other programming done here </span><span style="color: #ff4500;">*/</span>

  endwin();          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Properly close ncurses </span><span style="color: #ff4500;">*/</span>
  <span style="color: #00ffff;">return</span> 0;          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">cough up return value for the shell </span><span style="color: #ff4500;">*/</span>
}
</pre>
</div>

<p>
The bookends are the two functions <code>initscr()</code> and
<code>endwin()</code>. Between them you can stuff all the NCurses commands and
functions that your little heart desires, plus the usual hoard of C
programming commands â with the exception of the standard I/O
commands. No, you must use NCurses' own I/O commands for NCurses to
work. But more on that later.
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
</pre>
</div>

<p>
You must include the <code>ncurses.h</code> header file so that the compiler
doesn't choke on your NCurses functions.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>Please note that including the <code>ncurses.h</code> header file
does not automatically link in the NCurses library. No,
you must do that with the <code>-lncurses</code> switch when you
compile (as covered in <a href="#chapter_1">Chapter 1</a>). There is a difference
between the header and library files!
</dd>
</dl>


<p>
The NCurses header file does a few nifty tricks. First, it
automatically includes the following other header files:
</p>

<ul class="org-ul">
<li><code>stdio.h</code>
</li>
<li><code>unctrl.h</code>
</li>
<li><code>stdarg.h</code>
</li>
<li><code>stddef.h</code>
</li>
</ul>


<p>
Therefore, there is no need to re-include these header files in
your source code. In fact, if you do, you may end up slowing things
down and creating files much larger than they need to be. So if
you're tempted to do this:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdio.h&gt;</span>
<span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
</pre>
</div>

<p>
Do only this instead:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
</pre>
</div>

<p>
Also, the <code>ncurses.h</code> file defines such things as <code>TRUE</code>, <code>FALSE</code>,
<code>OK</code>, <code>ERR</code>, and other useful constants. It contains definitions
for structures you'll be using later. Plus, it includes many other
wonderful and useful goodies. If you have the time, peruse the
header file, which can be found at <code>/usr/include/ncurses.h</code>.
</p>
</div>

<div id="outline-container-sec-5-1-1" class="outline-4">
<h4 id="sec-5-1-1">The <code>initscr()</code> Function                                          <a id="the_initscr_function" name="the_initscr_function"></a></h4>
<div class="outline-text-4" id="text-5-1-1">
<p>
The <code>initscr()</code> function initializes NCurses. It does not clear
the terminal screen. Instead, it sets up internal memory
structures and interfaces between the NCurses functions and your
computer's terminal I/O thingy.
</p>

<p>
Two important items <code>initscr()</code> creates are called the <i>standard
screen</i> and the <i>current screen</i>. Both of these are internal
structures used by NCurses to efficiently display information on
the terminal screen.
</p>

<p>
The standard screen, or <code>stdscr</code>, is the default output window for
NCurses, as shown in <a href="#Figure-2-1">Figure 2-1</a>. As you'll discover later in
<a href="#chapter_8">Chapter 8</a>, all NCurses output commands, and a select few input
commands, are window oriented. The standard screen is the main
window you'll use, and it's exactly the same size as the terminal
screen. The <code>initscr()</code> function creates the standard screen and
uses the variable <code>stdscr</code> to reference it.
</p>

<dl class="org-dl">
<dt> <a id="Figure-2-1" name="Figure-2-1">Figure 2-1</a> </dt><dd>The standard screen is the default window
for NCurses text output commands.


<div class="figure">
<p><img src="img/Figure2-1.jpg" alt="Figure2-1.jpg" />
</p>
</div>
</dd>
</dl>


<p>
The standard screen, however, is not the same as the terminal
window, and stuff you write to the standard screen doesn't appear
on the terminal window.  Well, not right away.
</p>

<p>
The <code>refresh()</code> command is required to update text on the terminal
window, letting you see what NCurses has done. What <code>refresh()</code>
does is to check for new text has been output by NCurses and
update that text on the current screen, or <code>curscr</code>, as shown in
<a href="#Figure-2-2">Figure 2-2</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-2-2" name="Figure-2-2">Figure 2-2</a> </dt><dd>The current screen holds an approximation of
what NCurses believes to be on the terminal
window.


<div class="figure">
<p><img src="img/Figure2-2.jpg" alt="Figure2-2.jpg" />
</p>
</div>
</dd>
</dl>


<p>
The current screen is NCurses's internal representation of what is
believed to be on the terminal screen, or what the user sees, as
shown in <a href="#Figure-2-2">Figure 2-2</a>. The <code>refresh()</code> function is responsible for
updating the current screen, which then updates what is shown to
the user.
</p>

<p>
Like the standard screen, the current screen is an NCurses
window. But unlike <code>stdscr</code>, it's uncommon (and not recommended)
to output directly to <code>curscr</code>. There are many reasons for this,
as you'll learn later in this book.
</p>

<p>
In addition to the standard screen and current screen, there is
something called the <i>virtual screen</i>. The virtual screen exists
for efficiency's sake. It contains updated information, only those
items changed or <i>touched</i> in a certain window and which are
waiting to be updated on the current screen, as shown in <a href="#Figure-2-3">Figure 2-3</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-2-3" name="Figure-2-3">Figure 2-3</a> </dt><dd>How the virtual screen helps keep text output
efficient


<div class="figure">
<p><img src="img/Figure2-3.jpg" alt="Figure2-3.jpg" />
</p>
</div>
</dd>
</dl>


<p>
Internally, the <code>refresh()</code> function consists of two commands. The
first is <code>wnoutrefresh()</code>, which updates only the changed portions
of a window or the standard screen to the virtual screen. The
second half of the <code>refresh()</code> function is <code>doupdate()</code>, which
makes the current screen match the virtual screen's
updates. Again, this is done to keep text output efficient. The
other way would be to update the complete terminal screen each
time new text is output, which can be maddeningly slow on some
terminals.
</p>

<p>
All this terminology (standard screen, current screen, virtual
screen, <code>wnoutrefresh()</code> and <code>doupdate()</code>) can be
overwhelming. Don't let it get to you now. It's merely the
internal mechanisms by which NCurses works. As another example,
consider the source code for <a href="code/book/goodbye.c"><code>goodbye.c</code></a> as shown in <a href="#chapter_1">Chapter 1</a>:
</p>

<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span>   <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  addstr(<span style="color: #ffa07a;">"Goodbye, cruel C programming!"</span>);
<span class="linenr"> 7: </span>  refresh();
<span class="linenr"> 8: </span>  getch();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  endwin();
<span class="linenr">11: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">12: </span>}
</pre>
</div>

<p>
In line 5, the <code>initscr()</code> function configures NCurses and creates
both the <code>stdscr</code> and <code>curscr</code>.
</p>

<p>
Text is written to the stdscr using the <code>addstr()</code> function in
line 6.
</p>

<p>
The <code>refresh()</code> command in line 7 updates both the virtual screen,
which immediately updates the current screen and, in the end, the
terminal window so that you can see the text.
</p>

<p>
In line 8, everything pauses with <code>getch()</code>, waiting for the user
to press Enter.
</p>

<p>
The <code>endwin()</code> function shuts NCurses down in line 10, but
<code>endwin()</code> deserves its own section and explanation.
</p>
</div>
</div>

<div id="outline-container-sec-5-1-2" class="outline-4">
<h4 id="sec-5-1-2">The <code>initscr()</code> Function's Exceptions                             <a id="the_initscr_function_s_exceptions" name="the_initscr_function_s_exceptions"></a></h4>
<div class="outline-text-4" id="text-5-1-2">
<p>
For starting out, it's easy to remember that <code>initscr()</code> is the
function that initializes NCurses for your code. But <code>initscr()</code>
isn't alone; it has a twin function called <code>newterm()</code>.
</p>

<p>
The <code>newterm()</code> function sets up NCurses just as <code>initscr()</code> does,
but it allows you more control over the input and output
sources. Therefore, it's kind of an advanced function, and, if
you're curious, you can look it up in <a href="#appendix_a">Appendix A</a>. Otherwise, it
does not appear in the tutorial portion of this book.
</p>

<p>
Also, <code>initscr()</code> isn't necessarily the very first NCurses
function you'll use in your code. There are several functions in
NCurses that must be used <i>before</i> <code>initscr()</code> These functions are
mentioned under the definition of <code>initscr()</code> in <a href="#appendix_a">Appendix A</a>, and
more information on each function can be found in that appendix as
well.
</p>
</div>
</div>

<div id="outline-container-sec-5-1-3" class="outline-4">
<h4 id="sec-5-1-3">The <code>endwin()</code> Function                                           <a id="the_endwin_function" name="the_endwin_function"></a></h4>
<div class="outline-text-4" id="text-5-1-3">
<p>
The cleanup hitter in the NCurses line up is the <code>endwin()</code>
function. It undoes any modifications that NCurses has made to
your terminal, and does other tidying up.
</p>

<p>
<i>It's very important that you finish your NCurses program with
this command!</i>
</p>

<p>
If you neglect to use <code>endwin()</code>, your terminal's behavior becomes
unpredictable. (This is the voice of experience here.) So be very,
very sure that you use <code>endwin()</code> when your program is done â
especially if you're programming some large, monster program with
several exit holes.
</p>

<p>
Note that the standard C output functions â <code>putc()</code>, <code>puts()</code>,
<code>printf()</code>, and so on â do output text when NCurses is active,
though by doing so NCurses would be confused about what's on the
display. Therefore, it's better not to use such output functions
while NCurses is actively outputting text.
</p>

<p>
Incidentally, <code>endwin()</code> need not be the end of your NCurses
program. It's possible to use <code>endwin()</code> to merely suspend NCurses
and return to the terminal. When the <code>refresh()</code> function is used
after <code>endwin()</code>, it reactivates NCurses visual mode, though you
must still use another <code>endwin()</code> function to properly end your
program. The entry for <code>endwin()</code> in <a href="#appendix_a">Appendix A</a> explains more
about this feature.
</p>
</div>
</div>

<div id="outline-container-sec-5-1-4" class="outline-4">
<h4 id="sec-5-1-4">The <code>refresh()</code> Function                                          <a id="the_refresh_function" name="the_refresh_function"></a></h4>
<div class="outline-text-4" id="text-5-1-4">
<p>
Rare is the NCurses program without a <code>refresh()</code> function. It's
almost required. <code>refresh()</code> updates the screen, noting any
changes between what you want on the screen and what's there and
writing the difference.
</p>

<p>
Use the following code in <a href="#Listing-2-1">Listing 2-1</a> to create the <code>cls</code> program.
</p>

<dl class="org-dl">
<dt> <a id="Listing-2-1" name="Listing-2-1">Listing 2-1</a> </dt><dd><a href="code/book/cls.c"><code>cls.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="cls.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span>   <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  refresh();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  endwin();
<span class="linenr"> 9: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">10: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Yes, indeed, the program clears the screen. Here's how. When
<code>initscr()</code> runs, it initializes <code>stdscr</code>, the default window, to
all blanks and it sets the cursor to the <i>home</i> position, top row,
left-most column. The <code>refresh()</code> function updates <code>stdscr</code> to the
current screen and the terminal display, which has the effect of
clearing the screen and homing the cursor.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2">Writing Text                                                       <a id="writing_text" name="writing_text"></a></h3>
<div class="outline-text-3" id="text-5-2">
<p>
Here are three popular NCurses text output functions:
</p>

<ul class="org-ul">
<li><code>addch(ch);</code>
</li>
<li><code>addstr(*str);</code>
</li>
<li><code>printw(format,var[,var...]);</code>
</li>
</ul>


<p>
The <code>addch()</code> function places (or adds) a single character to the
display.
</p>

<p>
<code>addstr()</code> adds an entire string, essentially calling <code>addch()</code>
over and over until the entire string is coughed up. You've already
seen <code>addstr()</code> in use with the <code>goodbye.c</code> program in
<a href="#chapter_1">Chapter 1</a>. It's similar to the <code>puts()</code> function in C, though a
newline (<code>\n</code>) isn't automatically appended to the string.
</p>

<p>
<code>printw()</code> is the NCurses version of the <code>printf()</code> function. It
outputs a formatted string to the display.
</p>

<p>
NCurses sports more text output functions, but for getting started
these three basic functions are fine.
</p>
</div>

<div id="outline-container-sec-5-2-1" class="outline-4">
<h4 id="sec-5-2-1">Tossing Up Text One Stupid Character at a Time                    <a id="tossing_up_text_one_stupid_character_at_a_time" name="tossing_up_text_one_stupid_character_at_a_time"></a></h4>
<div class="outline-text-4" id="text-5-2-1">
<p>
I love marquee programs. But rather than write a really fancy one,
I'll just show you how <code>addch()</code> can blurt out one character at a
time as the following program in <a href="#Listing-2-2">Listing 2-2</a> demonstrates.
</p>

<dl class="org-dl">
<dt> <a id="Listing-2-2" name="Listing-2-2">Listing 2-2</a> </dt><dd><a href="code/book/add1.c"><code>add1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="ADD1.C"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span>     <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text</span>[] = <span style="color: #ffa07a;">"Greetings from NCurses!"</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">t</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();             <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">initialize NCurses             </span><span style="color: #ff4500;">*/</span>
<span class="linenr"> 9: </span>  t = text;              <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">initialize the pointer         </span><span style="color: #ff4500;">*/</span>
<span class="linenr">10: </span>
<span class="linenr">11: </span>  <span style="color: #00ffff;">while</span>(*t)              <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">loop through the whole string  </span><span style="color: #ff4500;">*/</span>
<span class="linenr">12: </span>    {
<span class="linenr">13: </span>      addch(*t);         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">put one char to curscr         </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>      t++;               <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">increment the pointer          </span><span style="color: #ff4500;">*/</span>
<span class="linenr">15: </span>      refresh();         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">update the screen              </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>      napms(100);        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">delay a bit to see the display </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>    }                    <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">end while                      </span><span style="color: #ff4500;">*/</span>
<span class="linenr">18: </span>  getch();               <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">wait here                      </span><span style="color: #ff4500;">*/</span>
<span class="linenr">19: </span>
<span class="linenr">20: </span>  endwin();              <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">clean up NCurses               </span><span style="color: #ff4500;">*/</span>
<span class="linenr">21: </span>  <span style="color: #00ffff;">return</span> 0;              <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">keep the shell happy           </span><span style="color: #ff4500;">*/</span>
<span class="linenr">22: </span>}
</pre>
</div>
</dd>
</dl>


<p>
This program inches through a string of text using a pointer
<code>t</code>. The pointer allows each character in the string to be
displayed one at a time via the <code>addch()</code> function.
</p>

<p>
The <code>napms()</code> function pauses output one-tenth of a second between
each character displayed, which helps to drive home the nature of
<code>addch()</code>. I'll cover <code>napms()</code> in more detail in the next
section.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>Note the importance of <code>refresh()</code> !You cannot see
what's on the screen until you refresh!
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-5-2-2" class="outline-4">
<h4 id="sec-5-2-2">Pausing for a Side-trip                                           <a id="pausing_for_a_side-trip" name="pausing_for_a_side-trip"></a></h4>
<div class="outline-text-4" id="text-5-2-2">
<p>
In addition to all the fun screen (and soon-to-come keyboard)
frivolity, NCurses also features a variable pausing function,
<code>napms()</code>. Such a cute name!
</p>

<div class="org-src-container">

<pre class="src src-c">napms(ms);
</pre>
</div>

<p>
The <code>napms()</code> function pauses program execution for <code>ms</code>
milliseconds. So the statement:
</p>

<div class="org-src-container">

<pre class="src src-c">napms(1000);
</pre>
</div>

<p>
causes program execution to pause for one whole second. The
statement:
</p>

<div class="org-src-container">

<pre class="src src-c">napms(100);
</pre>
</div>

<p>
used in the code for <code>add1.c</code> pauses execution for only a paltry
1/10<sup>th</sup> second.
</p>

<p>
Change the value of <code>napms()</code> in line 16 of the <code>add1.c</code> code in
<a href="#Listing-2-3">Listing 2-3</a> to see how it affects the program's output.
</p>
</div>
</div>

<div id="outline-container-sec-5-2-3" class="outline-4">
<h4 id="sec-5-2-3">Blurping Text                                                     <a id="blurping_text" name="blurping_text"></a></h4>
<div class="outline-text-4" id="text-5-2-3">
<p>
There's no point in using <code>addch()</code> to display an entire line of
text. That's because there's also the <code>addstr()</code> function, which
takes care of the tedious task for you.
</p>

<dl class="org-dl">
<dt> <a id="Listing-2-3" name="Listing-2-3">Listing 2-3</a> </dt><dd><a href="code/book/add2.c"><code>add2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="ADD2.C"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span>     <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text1</span>[] = <span style="color: #ffa07a;">"Oh give me a clone!\n"</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text2</span>[] = <span style="color: #ffa07a;">"Yes a clone of my own!"</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  addstr(text1);       <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">add the first string  </span><span style="color: #ff4500;">*/</span>
<span class="linenr">10: </span>  addstr(text2);       <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">add the second string </span><span style="color: #ff4500;">*/</span>
<span class="linenr">11: </span>  refresh();           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">display the result    </span><span style="color: #ff4500;">*/</span>
<span class="linenr">12: </span>  getch();             <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">wait                  </span><span style="color: #ff4500;">*/</span>
<span class="linenr">13: </span>
<span class="linenr">14: </span>  endwin();
<span class="linenr">15: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">16: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Note the comments in <a href="#Listing-2-3">Listing 2-3</a>: The string is <i>added</i> with the
<code>addstr()</code> function, not displayed. The string gets displayed only
when <code>refresh()</code> updates the current screen.
</p>

<p>
Another thing to note: The <code>\n</code> at the end of the first string
did, indeed, move the cursor down to the next line.
</p>

<p>
This next program example in <a href="#Listing-2-4">Listing 2-4</a> contains a subtle
variation on the <code>add2.c</code> code.
</p>

<dl class="org-dl">
<dt> <a id="Listing-2-4" name="Listing-2-4">Listing 2-4</a> </dt><dd><a href="code/book/add3.c"><code>add3.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="ADD3.C"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span>     <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text1</span>[] = <span style="color: #ffa07a;">"Oh give me a clone!\n"</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text2</span>[] = <span style="color: #ffa07a;">"Yes a clone of my own!"</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  addstr(text1);    <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">add the first string      </span><span style="color: #ff4500;">*/</span>
<span class="linenr">10: </span>  addstr(text2);    <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">add the second string     </span><span style="color: #ff4500;">*/</span>
<span class="linenr">11: </span>  move(2,0);        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">cursor to row 3, column 1 </span><span style="color: #ff4500;">*/</span>
<span class="linenr">12: </span>  addstr(<span style="color: #ffa07a;">"With the Y chromosome changed to the X."</span>);
<span class="linenr">13: </span>  refresh();        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">display the result        </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  endwin();
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>
</dd>
</dl>


<p>
I added the <code>move()</code> function in line 11, which changes the
cursor's location on the standard screen window. I also added
another <code>addstr()</code> function at line 12 to write the next line of
text.
</p>
</div>
</div>

<div id="outline-container-sec-5-2-4" class="outline-4">
<h4 id="sec-5-2-4">The <code>move()</code> Function                                             <a id="the_move_function" name="the_move_function"></a></h4>
<div class="outline-text-4" id="text-5-2-4">
<p>
There are many cursors in NCurses. For example, each window has
its own cursor and that cursor location stays the same in each
window regardless of what happens to the cursor in other windows.
</p>

<p>
In the code for <code>add3.c</code> shown in <a href="#Listing-2-4">Listing 2-4</a>, the newline
displayed by <code>addstr()</code> in line 9 moves the cursor on the standard
screen window from the end of the current line of text, down to
the start of the next line â as you would expect.
</p>

<p>
In line 11 of <code>add3.c</code>, the <code>move()</code> function moves the cursor's
location. Here is the format of the <code>move()</code> function:
</p>

<div class="org-src-container">

<pre class="src src-c">move(y,x)
</pre>
</div>

<p>
<code>y</code> is a row value, going up and down the screen.
</p>

<p>
<code>x</code> is a column value, going left to right across the screen.
</p>

<p>
The upper-left corner of the screen is coordinate <code>0,0</code>. And, of
course, the total number of rows and columns depends on your
terminal configuration, though there is a way to discover it, as
I'll show you in <a href="#chapter_4">Chapter 4</a>. <a href="#Figure-2-4">Figure 2-4</a> also helps illustrate how
the coordinates work out.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>It's important to remember that the <code>move()</code> function
puts the row first, or <code>Y</code>, <code>X</code> (if you're used to
Cartesian coordinates). Think row, column as opposed to
<code>X</code>, <code>Y</code>.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-5-2-5" class="outline-4">
<h4 id="sec-5-2-5">The Old Formatted Text Trick                                      <a id="the_old_formatted_text_trick" name="the_old_formatted_text_trick"></a></h4>
<div class="outline-text-4" id="text-5-2-5">
<p>
In NCurses, the <code>printw()</code> function can be used just like
<code>printf()</code> to display strings of text, variables, formatted text,
and all that sort of junk. If you know <code>printf()</code>,you also know
<code>printw()</code> â but remember that in NCurses the <code>printw()</code> function
is the one you want to use. Check out <a href="#Listing-2-5">Listing 2-5</a> to see how this
works.
</p>

<dl class="org-dl">
<dt> <a id="Figure-2-4" name="Figure-2-4">Figure 2-4</a> </dt><dd>Plotting window coordinates in NCurses


<div class="figure">
<p><img src="img/Figure2-4.jpg" alt="Figure2-4.jpg" />
</p>
</div>
</dd>

<dt> <a id="Listing-2-5" name="Listing-2-5">Listing 2-5</a> </dt><dd><a href="code/book/yoda.c"><code>yoda.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="YODA.C"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span>   <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">yoda</span> = 874;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ss</span> = 65;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  printw(<span style="color: #ffa07a;">"Yoda is %d years old\n"</span>,yoda);
<span class="linenr">10: </span>  printw(<span style="color: #ffa07a;">"He has collected %d years\n"</span>,yoda-ss);
<span class="linenr">11: </span>  printw(<span style="color: #ffa07a;">"of Social Security."</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  endwin();
<span class="linenr">16: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">17: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Nothing truly new here. The <code>printw()</code> function works just as you
would expect <code>printf()</code> to work.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3">Reading Text                                                       <a id="reading_text" name="reading_text"></a></h3>
<div class="outline-text-3" id="text-5-3">
<p>
There is nothing really magical about writing text to the
screen. Well, the <code>move()</code> function is pretty cool. But the really
cool stuff â especially if you're weary of a lack of
single-character input functions in C â comes with reading text in
from the keyboard.
</p>

<p>
Here are some NCurses console input functions:
</p>

<ul class="org-ul">
<li><code>getch()</code>
</li>
<li><code>getstr(*str)</code>
</li>
<li><code>getnstr(*str,length)</code>
</li>
<li><code>scanw(format,var[,var...])</code>
</li>
</ul>


<p>
The <code>getch()</code> function returns a single character from the
console. There is no need to press the Enter key, because the
character is read right away.
</p>

<p>
The <code>getstr()</code> and <code>getnstr()</code> functions read in a string of text
from the console. Of the two, use <code>getnstr()</code>, which measures input
and is therefore more secure than the straight <code>getstr()</code> function.
</p>

<p>
Finally, <code>scanw()</code> works just like the standard I/O function
<code>scanf()</code>. It allows formatted input.
</p>

<p>
There are other NCurses functions for console input. Some help you
shape input, which I'll get into later in this book. For now I'm
just going to demonstrate the basic commands listed here.
</p>
</div>

<div id="outline-container-sec-5-3-1" class="outline-4">
<h4 id="sec-5-3-1">The Silly Typewriter Program                                      <a id="the_silly_typewriter_program" name="the_silly_typewriter_program"></a></h4>
<div class="outline-text-4" id="text-5-3-1">
<p>
Nothing best demonstrates "one character in/one character out"
than a simple, stupid typewriter program, such as the one in
<a href="#Listing-2-6">Listing 2-6</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-2-6" name="Listing-2-6">Listing 2-6</a> </dt><dd><a href="code/book/typewriter.c"><code>typewriter.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="TYPEWRITER.C"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span>   <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  addstr(<span style="color: #ffa07a;">"Type a few lines of text\n"</span>);
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"Press ~ to quit\n"</span>);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #00ffff;">while</span>( (ch = getch()) != <span style="color: #ffa07a;">'~'</span>)
<span class="linenr">13: </span>    ;
<span class="linenr">14: </span>
<span class="linenr">15: </span>  endwin();
<span class="linenr">16: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">17: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Note the while loop here. Basically, it's saying to read all
character input until the <code>~</code> character is received; then
bail. Try the program out:
</p>

<pre class="example">
Type a few lines of text
Press ~ to quit
</pre>

<p>
Pressing Enter may result in a return instead of a return/line
feed combination. That's fine; the program is more about I/O than
actually editing text.
</p>

<p>
Note, however, that <code>getch()</code> in its natural state does display
the text you've input; there is no need to use <code>refresh()</code> when
<code>getch()</code> is reading text.
</p>

<p>
The <code>getch()</code> function doesn't always display text as it's
typed. It's possible in NCurses to turn off echo on input. I'll
cover that in <a href="#chapter_7">Chapter 7</a>.
</p>
</div>
</div>

<div id="outline-container-sec-5-3-2" class="outline-4">
<h4 id="sec-5-3-2">Consuming a String Whole                                          <a id="consuming_a_string_whole" name="consuming_a_string_whole"></a></h4>
<div class="outline-text-4" id="text-5-3-2">
<p>
The <code>getstr()</code> function works similarly to the standard <code>gets()</code>
function, which simply takes keyboard input and stuffs it into a
buffer â and without bounds checking, I might add. I demonstrate
the function in <a href="#Listing-2-7">Listing 2-7</a>, but for security reasons, in your
real programs, please use the <code>getnstr()</code> function instead, which
is shown in the next section.
</p>

<dl class="org-dl">
<dt> <a id="Listing-2-7" name="Listing-2-7">Listing 2-7</a> </dt><dd><a href="code/book/string1.c"><code>string1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="STRIG1.C"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span>    <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">first</span>[24];
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">last</span>[32];
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"What is your first name? "</span>);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  getstr(first);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"What is your last name? "</span>);
<span class="linenr">14: </span>  refresh();
<span class="linenr">15: </span>  getstr(last);
<span class="linenr">16: </span>
<span class="linenr">17: </span>  printw(<span style="color: #ffa07a;">"Pleased to meet you, %s %s!"</span>,first,last);
<span class="linenr">18: </span>  refresh();
<span class="linenr">19: </span>  getch();
<span class="linenr">20: </span>
<span class="linenr">21: </span>  endwin();
<span class="linenr">22: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">23: </span>}
</pre>
</div>
</dd>
</dl>


<p>
In this program, only 24 characters are allocated for first name
storage, then 32 for last name. Please be sane about this and try
not to type any super-long names!
</p>

<p>
Also note the positioning of the <code>refresh()</code> functions. Like
<code>getch()</code>, <code>getstr()</code> normally displays its input as you type, so
there's no need to <code>refresh()</code> after or during the function.
</p>

<pre class="example">
What is your first name? Clark
What is your last name? Kent
Pleased to meet you, Clark Kent!
</pre>

<p>
And it pretty much works as you would expect it to.
</p>
</div>
</div>

<div id="outline-container-sec-5-3-3" class="outline-4">
<h4 id="sec-5-3-3">Swallowing Only So Much of a String                               <a id="swallowing_only_so_much_of_a_string" name="swallowing_only_so_much_of_a_string"></a></h4>
<div class="outline-text-4" id="text-5-3-3">
<p>
Rather than risk some idiot typing 3,000 characters of text for
his first name (the latter part of which is a worm program
designed to hijack your computer), use the <code>getnstr()</code> function
instead of <code>getstr()</code>. That <code>n</code> in there means "accept only <i>n</i>
characters of input," a wise and logical addition to the input
command.
</p>

<p>
<a href="#Listing-2-8">Listing 2-8</a> shows a subtle modification of the previous
<code>string1.c</code> program.
</p>

<dl class="org-dl">
<dt> <a id="Listing-2-8" name="Listing-2-8">Listing 2-8</a> </dt><dd><a href="code/book/string2.c"><code>string2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="STRING2.C"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span>   <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">first</span>[4];
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">last</span>[4];
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"Enter the first 3 letters of your first name? "</span>);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  getnstr(first,3);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"Enter the first 3 letters of your last name? "</span>);
<span class="linenr">14: </span>  refresh();
<span class="linenr">15: </span>  getnstr(last,3);
<span class="linenr">16: </span>
<span class="linenr">17: </span>  addstr(<span style="color: #ffa07a;">"Your secret agent name is "</span>);
<span class="linenr">18: </span>  printw(<span style="color: #ffa07a;">"%s%s"</span>,first,last);
<span class="linenr">19: </span>  addch(<span style="color: #ffa07a;">'!'</span>);
<span class="linenr">20: </span>  refresh();
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  endwin();
<span class="linenr">24: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">25: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The size of the input buffers, <code>first</code> and <code>last</code>, is set to 4
characters. That's 3 letters plus the null <code>\0</code> at the end of the
string.
</p>

<p>
Note the format for <code>getnstr()</code>: First comes the character buffer,
then the maximum character count. Users can still backspace and
erase after reaching that number of characters, but if they try to
type any more, the computer beeps at them (or the screen flashes).
</p>

<p>
The <code>printw()</code> function displays the two short strings.
</p>

<p>
Finally <code>addch()</code> is used to display the exclamation point.
</p>
</div>
</div>

<div id="outline-container-sec-5-3-4" class="outline-4">
<h4 id="sec-5-3-4">The Obligatory <code>scanw()</code> Program                                  <a id="the_obligatory_scanw_program" name="the_obligatory_scanw_program"></a></h4>
<div class="outline-text-4" id="text-5-3-4">
<p>
I'm not a big <code>scanf()</code> fan (as you already know if you've read my
C programming books); therefore you're not going to be seeing much
of <code>scanw()</code> outside of this section. Given that, <a href="#Listing-2-9">Listing 2-9</a>
shows the obligatory demonstration of <code>scanw()</code>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-2-9" name="Listing-2-9">Listing 2-9</a> </dt><dd><a href="code/book/sushi.c"><code>sushi.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="SUSHI.C"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">UNI</span> 4.5
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">pieces</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"SUSHI BAR"</span>);
<span class="linenr">12: </span>  move(3,0);
<span class="linenr">13: </span>  printw(<span style="color: #ffa07a;">"We have Uni today for $%.2f.\n"</span>,UNI);
<span class="linenr">14: </span>  addstr(<span style="color: #ffa07a;">"How many pieces would you like? "</span>);
<span class="linenr">15: </span>  refresh();
<span class="linenr">16: </span>
<span class="linenr">17: </span>  scanw(<span style="color: #ffa07a;">"%d"</span>,&amp;pieces);
<span class="linenr">18: </span>  printw(<span style="color: #ffa07a;">"You want %d pieces?\n"</span>,pieces);
<span class="linenr">19: </span>  printw(<span style="color: #ffa07a;">"That will be $%.2f!"</span>,UNI*(<span style="color: #98fb98;">float</span>)pieces);
<span class="linenr">20: </span>  refresh();
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  endwin();
<span class="linenr">24: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">25: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Again, this could just be a simple <code>scanf()</code> program, though
<code>scanw()</code> is used instead. I've not much more to say about it,
mostly because, as I've already mentioned, I'm not a big <code>scanf()</code>
fan.
</p>

<dl class="org-dl">
<dt> TIP </dt><dd>The big flub everyone makes with <code>scanf()/scanw()</code> is
forgetting the ampersand before nonarray variable
names. That one will cost you a core dump or three if you
don't catch it.
</dd>
</dl>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">CHAPTER  3 Formatting Text                                          <a id="chapter_3" name="chapter_3"></a></h2>
<div class="outline-text-2" id="text-6">
<p>
NCurses not only puts text up on the screen; it also lets you put
text on the screen with <i>style</i>. While the style may not be as
elaborate as the styles offered in a GUI word processor, it is
enough to add emphasis, fun, and perhaps a wee bit o' color to what
would otherwise be boring terminal text.
</p>
</div>

<div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1">Text Abuse with Text Attributes                                    <a id="text_abuse_with_text_attributes" name="text_abuse_with_text_attributes"></a></h3>
<div class="outline-text-3" id="text-6-1">
<p>
There are three useful functions that control the tone of the text
displayed on the screen:
</p>

<ul class="org-ul">
<li><code>attrset(attr)</code>
</li>
<li><code>attron(attr)</code>
</li>
<li><code>attroff(attr)</code>
</li>
</ul>


<p>
The <code>attrset()</code> function sets text attributes. It directs NCurses
to apply the attribute(s) specified to all text displayed from that
point onward.
</p>

<p>
The <code>attron()</code> and <code>attroff()</code> functions turn specific text
attributes on or off, respectively.
</p>

<p>
There is some confusion regarding whether to use <code>attrset()</code> or
<code>attron()</code> to apply text attributes. You can use either one. For
example:
</p>

<div class="org-src-container">

<pre class="src src-c">attrset(A_BOLD);
attron(A_BOLD);
</pre>
</div>

<p>
Both these statements apply the bold text attribute to any text
displayed afterward. The difference is that <code>attrset()</code> <i>turns off</i>
all other attributes previously applied, leaving only bold applied
to the text, while <code>attron()</code> adds the bold attribute to any
attributes already applied to the text.
</p>
</div>

<div id="outline-container-sec-6-1-1" class="outline-4">
<h4 id="sec-6-1-1">More than Boring Black and White (but Not Much)                   <a id="more_than_boring_black_and_white" name="more_than_boring_black_and_white"></a></h4>
<div class="outline-text-4" id="text-6-1-1">
<p>
When you start up NCurses, the text output is displayed using the
normal (<code>A_NORMAL</code>) text attribute. That equates to the standard
white text on a black background or however you have your terminal
configured (for example, green text on a white background or
whatever).
</p>

<p>
But that's so boring!
</p>

<p>
<a href="#Table-3-1">Table 3-1</a> lists the basic (noncolor) text attributes you can apply
to text using the <code>attrset()</code> or <code>attron()</code> functions.
</p>

<dl class="org-dl">
<dt> <a id="Table-3-1" name="Table-3-1">Table 3-1</a> </dt><dd>NCurses Text Attributes

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">ATTRIBUTE NAME</th>
<th scope="col" class="left">WHAT IT DOES</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>A_ALTCHARSET</code></td>
<td class="left">Displays text using an alternative character set (defined by your terminal)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_BLINK</code></td>
<td class="left">Annoying blinking text</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_BOLD</code></td>
<td class="left">Bright text, bold text, thick text (depending on terminal type)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_DIM</code></td>
<td class="left">Dimmed text (not as bright as regular text)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_INVIS</code></td>
<td class="left">"Hidden text" (available only on certain terminals)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_NORMAL</code></td>
<td class="left">Normal text</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_REVERSE</code></td>
<td class="left">Inverse text</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_STANDOUT</code></td>
<td class="left">Same as standout()</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_UNDERLINE</code></td>
<td class="left">Underline text</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_PROTECT</code></td>
<td class="left">"Protected text," available only on certain terminals, prevents text from being overwritten.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_HORIZONTAL</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_LEFT</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_LOW</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_RIGHT</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_TOP</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_VERTICAL</code></td>
<td class="left">Not implemented</td>
</tr>
</tbody>
</table>
</dd>
</dl>


<p>
The attributes listed in <a href="#Table-3-1">Table 3-1</a> are used with the <code>attrset()</code>,
<code>attron()</code>, and <code>attroff()</code> functions to control the appearance of
text on the screen.  <code>attron()</code> and <code>attroff()</code> are used to set
and reset individual attributes.  <code>attrset()</code> is used to override
any previous text attributes and set a new attribute for all text.
</p>

<p>
Some attributes are defined by the XSI (X/Open System Interface)
but not yet implemented, at least not in any version of NCurses
I've found. These are: <code>A_HORIZONTAL</code>, <code>A_LEFT</code>, <code>A_LOW</code>,
<code>A_RIGHT</code>, <code>A_TOP</code>, and <code>A_VERTICAL</code>.  (These are "highlighted
modes," and I'm not really certain what that means.)
</p>
</div>
</div>

<div id="outline-container-sec-6-1-2" class="outline-4">
<h4 id="sec-6-1-2">Testing Some Attributes                                           <a id="testing_some_attributes" name="testing_some_attributes"></a></h4>
<div class="outline-text-4" id="text-6-1-2">
<p>
You can use the following program in <a href="#Listing-3-1">Listing 3-1</a> as a base or test
bed for testing the various attributes listed in <a href="#Table-3-1">Table 3-1</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-3-1" name="Listing-3-1">Listing 3-1</a> </dt><dd><a href="code/book/twinkle.c"><code>twinkle.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="twinkle.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  attron(A_BOLD);
<span class="linenr"> 8: </span>  addstr(<span style="color: #ffa07a;">"Twinkle, twinkle little star\n"</span>);
<span class="linenr"> 9: </span>  attron(A_BLINK);
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"How I wonder what you are.\n"</span>);
<span class="linenr">11: </span>  attroff(A_BOLD);
<span class="linenr">12: </span>  addstr(<span style="color: #ffa07a;">"Up above the world so high,\n"</span>);
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"Like a diamond in the sky.\n"</span>);
<span class="linenr">14: </span>  attrset(A_NORMAL);
<span class="linenr">15: </span>  addstr(<span style="color: #ffa07a;">"Twinkle, twinkle little star\n"</span>);
<span class="linenr">16: </span>  addstr(<span style="color: #ffa07a;">"How I wonder what you are.\n"</span>);
<span class="linenr">17: </span>  refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>  endwin();
<span class="linenr">20: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">21: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The important thing to remember about this code is that an
attribute stays on until you turn it off, either via <code>attroff()</code>
or <code>attrset()</code>. Otherwise, the attributes are slapped on to all
text output after the attribute function is used, which can be
seen in <a href="#Figure-3-1">Figure 3-1</a>.
</p>

<p>
<code>A_BOLD</code> displays the text foreground in bold.
</p>

<dl class="org-dl">
<dt> <a id="Figure-3-1" name="Figure-3-1">Figure 3-1</a> </dt><dd>Output of the <code>twinkle.c</code> code


<div class="figure">
<p><img src="img/Figure3-1.jpg" alt="Figure3-1.jpg" />
</p>
</div>
</dd>
</dl>


<p>
<code>A_BLINK</code> blinks the text on and off. Note that your terminal
definition, or GUI terminal preferences panel, may disable this
feature. It's generally accepted that blinking text is perhaps the
most irritating attribute you can ever assign to anything on the
screen.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>Note that text attributes affect only text, not the
spaces or "blanks" between words.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-6-1-3" class="outline-4">
<h4 id="sec-6-1-3">Multiple-Attribute Mania                                          <a id="multiple-attribute_mania" name="multiple-attribute_mania"></a></h4>
<div class="outline-text-4" id="text-6-1-3">
<p>
You don't have to issue multiple <code>attrset()</code>, <code>attron()</code>, or
<code>attroff()</code> functions to apply or remove multiple
attributes. Thanks to the unique bit patterns of the attribute
constants in NCurses, text attributes can be applied all at once
by using a logical OR between each attribute you want in a single
<code>attron()</code> or <code>attrset()</code> function.
</p>

<p>
For example, if you want your text bold and blinking, you can use:
</p>

<div class="org-src-container">

<pre class="src src-c">attrset(A_BOLD | A_BLINK);
</pre>
</div>

<p>
Here, both the bold and blink attributes are specified, meaning
any text displayed after that statement will boldly blink (highly
irritating). See <a href="#Listing-3-2">Listing 3-2</a> as an example.
</p>

<dl class="org-dl">
<dt> <a id="Listing-3-2" name="Listing-3-2">Listing 3-2</a> </dt><dd><a href="code/book/annoy.c"><code>annoy.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="annoy.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">COUNT</span> 5
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text</span>[COUNT][10] = { <span style="color: #ffa07a;">"Do"</span>, <span style="color: #ffa07a;">"you"</span>, <span style="color: #ffa07a;">"find"</span>, <span style="color: #ffa07a;">"this"</span>, <span style="color: #ffa07a;">"silly?"</span> };
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">a</span>,<span style="color: #eedd82;">b</span>;
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  initscr();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #00ffff;">for</span>(a=0;a&lt;COUNT;a++)
<span class="linenr">13: </span>    {
<span class="linenr">14: </span>      <span style="color: #00ffff;">for</span>(b=0;b&lt;COUNT;b++)
<span class="linenr">15: </span>        {
<span class="linenr">16: </span>          <span style="color: #00ffff;">if</span>(b==a) attrset(A_BOLD | A_UNDERLINE);
<span class="linenr">17: </span>          printw(<span style="color: #ffa07a;">"%s"</span>,text[b]);
<span class="linenr">18: </span>          <span style="color: #00ffff;">if</span>(b==a) attroff(A_BOLD | A_UNDERLINE);
<span class="linenr">19: </span>          addch(<span style="color: #ffa07a;">' '</span>);
<span class="linenr">20: </span>        }
<span class="linenr">21: </span>      addstr(<span style="color: #ffa07a;">"\b\n"</span>);
<span class="linenr">22: </span>    }
<span class="linenr">23: </span>  refresh();
<span class="linenr">24: </span>  getch();
<span class="linenr">25: </span>
<span class="linenr">26: </span>  endwin();
<span class="linenr">27: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">28: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Here's some sample output:
</p>

<div class="block">
<p>
<b><span class="underline">Do</span></b> you find this silly?
Do <b><span class="underline">you</span></b> find this silly?
Do you <b><span class="underline">find</span></b> this silly?
Do you find <b><span class="underline">this</span></b> silly?
Do you find this <b><span class="underline">silly</span></b>?
</p>

</div>

<p>
Any number of attributes (including color) can be applied in a
single <code>attron()</code> or <code>attrset()</code> command and likewise turned off
via <code>attroff()</code> or <code>standend()</code>. Simply specify the <code>|</code> (logical
OR) between the attribute constants.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2">Can It Do Color?                                                   <a id="can_it_do_color" name="can_it_do_color"></a></h3>
<div class="outline-text-3" id="text-6-2">
<p>
Of course, NCurses can do color! The question is whether or not the
terminal can. Fortunately, the NCurses library comes with the tools
to assist you in determining whether or not the terminal is color
blind or rainbow ready.
</p>

<div class="org-src-container">

<pre class="src src-c">has_colors()
</pre>
</div>

<p>
The <code>has_colors()</code> function returns a logical <code>TRUE</code> if the
terminal is able to display colored text, <code>FALSE</code> otherwise. (Both
<code>TRUE</code> and <code>FALSE</code> are defined in <code>ncurses.h</code>, so don't fret over
them or redefine them in your code.)
</p>

<p>
After determining whether the terminal has colors, you need to
start up NCurses color abilities. Here's the function that does
that, aptly named:
</p>

<div class="org-src-container">

<pre class="src src-c">start_color()
</pre>
</div>

<p>
The <code>start_color()</code> function returns <code>OK</code> if the color functions
are properly initialized. (And <code>OK</code> is defined in <code>ncurses.h</code>.) So
after successful completion of the <code>start_color()</code> command, you can
use color attributes on text and to shade the background.
</p>

<p>
The following program in <a href="#Listing-3-3">Listing 3-3</a> determines whether your
terminal can do colors in NCurses and can start the color
routines. If so, the program tells you how many colors and color
combinations you can use. (More on that in the next section.)
</p>

<dl class="org-dl">
<dt> <a id="Listing-3-3" name="Listing-3-3">Listing 3-3</a> </dt><dd><a href="code/book/colortest.c"><code>colortest.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="colortest.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">msg</span>);
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">first test for color ability of the terminal </span><span style="color: #ff4500;">*/</span>
<span class="linenr">11: </span>  <span style="color: #00ffff;">if</span>(!has_colors())
<span class="linenr">12: </span>    bomb(<span style="color: #ffa07a;">"Terminal cannot do colors\n"</span>);
<span class="linenr">13: </span>
<span class="linenr">14: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">next attempt to initialize curses colors </span><span style="color: #ff4500;">*/</span>
<span class="linenr">15: </span>  <span style="color: #00ffff;">if</span>(start_color() != OK)
<span class="linenr">16: </span>    bomb(<span style="color: #ffa07a;">"Unable to start colors.\n"</span>);
<span class="linenr">17: </span>
<span class="linenr">18: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">colors are okay; continue </span><span style="color: #ff4500;">*/</span>
<span class="linenr">19: </span>  printw(<span style="color: #ffa07a;">"Colors have been properly initialized.\n"</span>);
<span class="linenr">20: </span>  printw(<span style="color: #ffa07a;">"Congratulations!\n"</span>);
<span class="linenr">21: </span>  printw(<span style="color: #ffa07a;">"NCurses reports that you can use %d colors,\n"</span>,COLORS);
<span class="linenr">22: </span>  printw(<span style="color: #ffa07a;">"and %d color pairs."</span>,COLOR_PAIRS);
<span class="linenr">23: </span>  refresh();
<span class="linenr">24: </span>  getch();
<span class="linenr">25: </span>
<span class="linenr">26: </span>  endwin();
<span class="linenr">27: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">28: </span>}
<span class="linenr">29: </span>
<span class="linenr">30: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">msg</span>)
<span class="linenr">31: </span>{
<span class="linenr">32: </span>  endwin();
<span class="linenr">33: </span>  puts(msg);
<span class="linenr">34: </span>  exit(1);
<span class="linenr">35: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Here's the output I see on my computer:
</p>

<pre class="example">
Colors have been properly initialized.
Congratulations!
NCurses reports that you can use 256 colors,
and 256 color pairs.
</pre>

<p>
Note the use of the <code>COLORS</code> and <code>COLOR_PAIRS</code>. These constants are
set when <code>start_color()</code> checks to see how many colors are
available to the terminal, as well as how much space is left for
storing color information in the NCurses <code>attr_t</code> variable
type. The next section explains the difference between <code>COLORS</code> and
<code>COLOR_PAIRS</code>.
</p>
</div>

<div id="outline-container-sec-6-2-1" class="outline-4">
<h4 id="sec-6-2-1">Colors and Color Pairs                                            <a id="colors_and_color_pairs" name="colors_and_color_pairs"></a></h4>
<div class="outline-text-4" id="text-6-2-1">
<p>
In NCurses, the <code>COLORS</code> and <code>COLOR_PAIRS</code> constants report how
many colors the terminal can display and how many color
combinations (foreground + background â a <i>color pair</i>) can be
defined. This may not be the way you've dealt with text colors in
the past, so pay attention!
</p>

<p>
The <code>COLORS</code> value reflects the basic set of colors available to
the terminal.  The typical PC reports only eight colors
available. These are the standard eight text colors used on PCs
since the first IBM PC color graphics adapter set the standard
back in 1981. The colors are listed in <a href="#Table-3-2">Table 3-2</a>, along with their
NCurses constant names and values.
</p>

<dl class="org-dl">
<dt> <a id="Table-3-2" name="Table-3-2">Table 3-2</a> </dt><dd>NCurses Colors

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="right" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right">NCURSES NUMBER</th>
<th scope="col" class="right">PC BIOS NUMBER</th>
<th scope="col" class="left">PC NAME</th>
<th scope="col" class="left">NCURSES NAME</th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">0</td>
<td class="right">0</td>
<td class="left">Black</td>
<td class="left"><code>COLOR_BLACK</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">1</td>
<td class="right">4</td>
<td class="left">Red</td>
<td class="left"><code>COLOR_RED</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">2</td>
<td class="right">2</td>
<td class="left">Green</td>
<td class="left"><code>COLOR_GREEN</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">3</td>
<td class="right">6</td>
<td class="left">Brown</td>
<td class="left"><code>COLOR_YELLOW</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">4</td>
<td class="right">1</td>
<td class="left">Blue</td>
<td class="left"><code>COLOR_BLUE</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">5</td>
<td class="right">5</td>
<td class="left">Magenta</td>
<td class="left"><code>COLOR_MAGENTA</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">6</td>
<td class="right">3</td>
<td class="left">Cyan</td>
<td class="left"><code>COLOR_CYAN</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">7</td>
<td class="right">7</td>
<td class="left">White</td>
<td class="left"><code>COLOR_WHITE</code></td>
</tr>
</tbody>
</table>
</dd>
</dl>

<p>
It's important to remember that the <code>COLORS</code> value tells you how
many colors are available, yet the colors are numbered starting
with zero. So the range of colors available is 0 through <code>COLORS</code>
minus one.
</p>

<p>
A <i>color pair</i> is simply a combination of foreground and
background color attributes. Each combination is a color pair and
assigned a number from 1 through the value of <code>COLOR_PAIRS</code>
minus 1.
</p>

<p>
For example, the color pair <code>COLOR_YELLOW</code>, <code>COLOR_RED</code> indicates
yellow text on a red background. To assign those colors as a text
attribute, you must first associate them with a color pair
number. This is done with the <code>init_pair</code> function:
</p>

<div class="org-src-container">

<pre class="src src-c">init_pair(pair,f,b)
</pre>
</div>

<p>
The <code>init_pair()</code> function assigns two colors to color pair number
<code>pair</code>. <code>f</code> is the foreground, or text, color; <code>b</code> is the
background color.
</p>

<div class="org-src-container">

<pre class="src src-c">init_pair(1,COLOR_YELLOW,COLOR_RED);
</pre>
</div>

<p>
The preceding statement defines color pair number 1 as yellow text
on a red background.
</p>

<p>
The next step is to apply the color attribute to the text. This is
done by using the <code>attrset()</code> or <code>attron()</code> function just as you
would apply any other text attribute. The key, however, is to use
the <code>COLOR_PAIR(n)</code> constant:
</p>

<div class="org-src-container">

<pre class="src src-c">attrset(COLOR_PAIR(1));
</pre>
</div>

<p>
The preceding statement applies the color attributes assigned to
color pair 1 to the text that follows. If <code>COLOR_PAIR(1)</code> is
defined as yellow text on a red background, that's the attribute
taken by the text.
</p>

<p>
To apply a different color to the text, use <code>init_pair()</code> to set
up foreground and background colors for a color pair. Then use the
<code>COLOR_PAIR(n)</code> constant with <code>attrset()</code> or <code>attron()</code> to apply
that color pair combination to your text.
</p>
</div>
</div>

<div id="outline-container-sec-6-2-2" class="outline-4">
<h4 id="sec-6-2-2">Eight or Sixteen Colors?                                          <a id="eight_or_sixteen_colors" name="eight_or_sixteen_colors"></a></h4>
<div class="outline-text-4" id="text-6-2-2">
<p>
While NCurses may report only eight colors available, on most
terminals there are twice as many colors to choose from. The
secret is to apply the bold text attribute (<code>A_BOLD</code>) with a color
pair.
</p>

<p>
The bold text attribute affects only the foreground text color. It
gives you access to the eight <i>brighter</i> versions of the standard
eight (or however many) text colors available.
</p>

<p>
For example, if color pair 1 is defined as Magenta on Black,
applying bold to the text attribute yields pink on black text:
</p>

<div class="org-src-container">

<pre class="src src-c">attrset(COLOR_PAIR(1) | A_BOLD);
</pre>
</div>

<p>
The other foreground text colors become brighter versions of their
original colors when logically <code>OR</code>'d with the <code>A_BOLD</code>
attribute. Brown actually becomes yellow, and black becomes a
midtone gray.
</p>
</div>
</div>

<div id="outline-container-sec-6-2-3" class="outline-4">
<h4 id="sec-6-2-3">Spruce Up Some Text!                                              <a id="spruce_up_some_text" name="spruce_up_some_text"></a></h4>
<div class="outline-text-4" id="text-6-2-3">
<p>
The color-pair stuff is only confusing when you're reading about
it. The best way to understand the way NCurses applies color is,
naturally, with a test program such as <a href="#Listing-3-4">Listing 3-4</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-3-4" name="Listing-3-4">Listing 3-4</a> </dt><dd><a href="code/book/colorme.c"><code>colorme.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="colorme.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>);
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  start_color();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  init_pair(1,COLOR_BLACK,COLOR_RED);
<span class="linenr">12: </span>  init_pair(2,COLOR_BLUE,COLOR_BLACK);
<span class="linenr">13: </span>  attrset(COLOR_PAIR(1));
<span class="linenr">14: </span>  addstr(<span style="color: #ffa07a;">"My name is Mr. Black!\n"</span>);
<span class="linenr">15: </span>  attrset(COLOR_PAIR(2));
<span class="linenr">16: </span>  addstr(<span style="color: #ffa07a;">"My name is Mr. Blue!\n"</span>);
<span class="linenr">17: </span>  attrset(COLOR_PAIR(1));
<span class="linenr">18: </span>  addstr(<span style="color: #ffa07a;">"How do you do?\n"</span>);
<span class="linenr">19: </span>  attrset(COLOR_PAIR(2));
<span class="linenr">20: </span>  addstr(<span style="color: #ffa07a;">"How do I do "</span>);
<span class="linenr">21: </span>  attron(A_BOLD);
<span class="linenr">22: </span>  addstr(<span style="color: #ffa07a;">"what"</span>);
<span class="linenr">23: </span>  attroff(A_BOLD);
<span class="linenr">24: </span>  addch(<span style="color: #ffa07a;">'?'</span>);
<span class="linenr">25: </span>  refresh();
<span class="linenr">26: </span>  getch();
<span class="linenr">27: </span>
<span class="linenr">28: </span>  endwin();
<span class="linenr">29: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">30: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Note that I'm not using any error-checking with <code>start_color()</code> in
line 10.  In this code, I'm assuming that you know whether or not
your terminal can do color. In the code you plan on releasing,
it's wise to check for color and have your programs behave
accordingly.
</p>

<p>
This basic program contains a simple back-and-forth conversation
between two color pairs, shown in <a href="#Figure-3-2">Figure 3-2</a>. Be mindful of the
parenthesis in the <code>attrset(COLOR_PAIR(n))</code> statements.
</p>

<dl class="org-dl">
<dt> <a id="Figure-3-2" name="Figure-3-2">Figure 3-2</a> </dt><dd>Sample output for <code>colorme.c</code> code


<div class="figure">
<p><img src="img/Figure3-2.jpg" alt="Figure3-2.jpg" />
</p>
</div>
</dd>
</dl>


<p>
Notice how the color attributes affect only the text put to the
screen. The red background doesn't "splash" out the rest of the
line, and the foreground color, like other text attributes,
affects only characters, not the blanks or white space between
text.
</p>
</div>
</div>

<div id="outline-container-sec-6-2-4" class="outline-4">
<h4 id="sec-6-2-4">A Color Thing Your Terminal Probably Cannot Do                    <a id="a_color_thing_your_terminal_probably_cannot_do" name="a_color_thing_your_terminal_probably_cannot_do"></a></h4>
<div class="outline-text-4" id="text-6-2-4">
<p>
NCurses has a treat for you when you're lucky enough to have a
terminal that can define its own text colors. For example, you can
define pink text and use it if you like. This is done via the
<code>init_color()</code> function. The problem is that this function doesn't
appear to be supported on many terminals. That can be confirmed
with another function, <code>can_change_color()</code>, which returns a
logical <code>TRUE</code> or <code>FALSE</code> depending on whether the terminal has
the color-changing ability:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(!can_change_color())
  bomb(<span style="color: #ffa07a;">"Unable to do color change.\n"</span>);
</pre>
</div>

<p>
Now if you can get it to work, the <code>init_color()</code> function comes
into play, wherein you can create your own unique text
colors. That function looks something like this:
</p>

<div class="org-src-container">

<pre class="src src-c">init_color(color,r,g,b);
</pre>
</div>

<p>
The values passed to <code>init_color()</code> are all short integers. The
first <code>color</code> represents the new color number. It must be in the
range of zero to <code>COLOR</code> minus 1. Then come values for the red
(<code>r</code>), green (<code>g</code>), and blue (<code>b</code>) arguments, each of which ranges
from 0 to 1000, representing the intensity of that particular
color.
</p>

<p>
So, for example, the following call to <code>init_color()</code> defines (or
redefines) color number 2 as a dark gray:
</p>

<div class="org-src-container">

<pre class="src src-c">init_color(2,250,250,250);
</pre>
</div>

<p>
The following source code in <a href="#Listing-3-5">Listing 3-5</a> demonstrates how
<code>init_color</code> is used to define the color pink for color code 1.
</p>

<dl class="org-dl">
<dt> <a id="Listing-3-5" name="Listing-3-5">Listing 3-5</a> </dt><dd><a href="code/book/color_me.c"><code>color_me.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="color_me.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">NEW_COLOR</span> 1
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">RED</span> 1000
<span class="linenr"> 5: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">GREEN</span> 750
<span class="linenr"> 6: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">BLUE</span> 750
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 9: </span>{
<span class="linenr">10: </span>  initscr();
<span class="linenr">11: </span>  start_color();
<span class="linenr">12: </span>  <span style="color: #00ffff;">if</span>(!can_change_color())
<span class="linenr">13: </span>    addstr(<span style="color: #ffa07a;">"This probably won't work, but anyway:\n"</span>);
<span class="linenr">14: </span>
<span class="linenr">15: </span>  init_color(NEW_COLOR,RED,GREEN,BLUE);
<span class="linenr">16: </span>
<span class="linenr">17: </span>  init_pair(1,NEW_COLOR,COLOR_BLACK);
<span class="linenr">18: </span>  attrset(COLOR_PAIR(1));
<span class="linenr">19: </span>  printw(<span style="color: #ffa07a;">"This is the new color %d.\n"</span>,NEW_COLOR);
<span class="linenr">20: </span>  refresh();
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  endwin();
<span class="linenr">24: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">25: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The <code>init_color()</code> function is used in line 15 to create the new
color "pink" by mixing 1000 points of red with 750 points each of
blue and green, which works out to be pink. Then that color is put
to use by the <code>init_pair()</code> function, and the <code>printw()</code> function
should display its text in the new color.
</p>

<p>
On my terminal, which cannot change text color values, the new
color shows up as red, which is the default for color 1 anyway. I
would call that a failure.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-6-3" class="outline-3">
<h3 id="sec-6-3">Coloring a Window                                                  <a id="coloring_a_window" name="coloring_a_window"></a></h3>
<div class="outline-text-3" id="text-6-3">
<p>
In addition to coloring text, NCurses' color attributes can be
applied to windows as well, including the standard screen, the
default window you see in NCurses. (The standard screen is the same
size as the terminal screen.)
</p>

<p>
The function to fill the standard screen window with color (or any
text attribute) is:
</p>

<div class="org-src-container">

<pre class="src src-c">bkgd()
</pre>
</div>

<p>
The <code>bkdg()</code> function, as its name suggests, sets the background
attributes for the standard screen. Every screen location is filled
with the attribute(s) specified, whether they're plain text
attributes or color.
</p>
</div>

<div id="outline-container-sec-6-3-1" class="outline-4">
<h4 id="sec-6-3-1">Screen Background Color                                           <a id="screen_background_color" name="screen_background_color"></a></h4>
<div class="outline-text-4" id="text-6-3-1">
<p>
To set the background color, you must do three things, two of
which you already know:
</p>

<ol class="org-ol">
<li>First, activate color. Use the <code>has_color()</code> command if
necessary to determine whether the console can do colors. If
so, use <code>start_color()</code> to put NCurses into rainbow mode.
</li>

<li>Second, use <code>init_pair()</code> to create the color pair(s) you want
to use, setting foreground and background colors.
</li>

<li>Third, use <code>bkgd()</code> to color the entire window.
</li>
</ol>


<p>
The code shown in <a href="#Listing-3-6">Listing 3-6</a> demonstrates how background color is
set.
</p>

<dl class="org-dl">
<dt> <a id="Listing-3-6" name="Listing-3-6">Listing 3-6</a> </dt><dd><a href="code/book/bgcolor1.c"><code>bgcolor1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="bgcolor1.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  start_color();
<span class="linenr"> 8: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr"> 9: </span>  bkgd(COLOR_PAIR(1));
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  getch();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  endwin();
<span class="linenr">14: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">15: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The result should be a solid blue screen, top to bottom. Any text
added at this point appears with the color attribute applied
automatically, in this case with white text on a blue background.
</p>

<p>
Press the Enter key to end the program; then modify the code to
add some text. For example, insert the following before line 10:
</p>

<div class="org-src-container">

<pre class="src src-c">addstr(<span style="color: #ffa07a;">"So this is what a color screen looks like?\n"</span>);
</pre>
</div>

<p>
The text appears on the screen with the same attribute: white text
on a blue background.
</p>
</div>
</div>

<div id="outline-container-sec-6-3-2" class="outline-4">
<h4 id="sec-6-3-2">More than Solid                                                   <a id="more_than_solid" name="more_than_solid"></a></h4>
<div class="outline-text-4" id="text-6-3-2">
<p>
Now if the solid screen bores you, it's possible to use the
<code>bkgd()</code> function to fill each character space on the screen with
a given character. That's because the argument to the <code>bkgd()</code>
function is a <code>chtype</code> character.
</p>

<p>
The NCurses <code>chtype</code> is a special type of variable that includes
both an attribute and a character. So, if you like, you can
specify a single character as the background attribute for a
window.
</p>

<p>
Modify the <code>bgcolor1.c</code> source code and change line 9 to read:
</p>

<div class="org-src-container">

<pre class="src src-c">bkgd(<span style="color: #ffa07a;">'.'</span>);
</pre>
</div>

<p>
Upon running the program, you'll see the window's background
filled with dots or periods. They appear between words as well
because it's the dot that defines the window's background
"attribute."
</p>

<p>
To combine the dot and the color pair, modify line 9 to read:
</p>

<div class="org-src-container">

<pre class="src src-c">bkgd(COLOR_PAIR(1)    | <span style="color: #ffa07a;">'.'</span>);
</pre>
</div>

<p>
The <code>|</code> in the code is the <i>logical</i> OR. It takes the value of
<code>COLOR_PAIR(1)</code> and logically ORs it with the character code for a
period. You can also use the logical <code>OR</code> to apply other
attributes or characters for the <code>bkgd()</code> function. (See <a href="#appendix_c">Appendix
C</a> for more information on the <code>chtype</code> variable in NCurses.)
</p>
</div>
</div>

<div id="outline-container-sec-6-3-3" class="outline-4">
<h4 id="sec-6-3-3">Changing Color on the Fly                                         <a id="changing_color_on_the_fly" name="changing_color_on_the_fly"></a></h4>
<div class="outline-text-4" id="text-6-3-3">
<p>
The <code>bkgd()</code> function affects all attributes and unused character
places on the screen. Any text you've written stays on the screen
as text; only the attributes are changed, as <a href="#Listing-3-7">Listing 3-7</a>
demonstrates:
</p>

<dl class="org-dl">
<dt> <a id="Listing-3-7" name="Listing-3-7">Listing 3-7</a> </dt><dd><a href="code/book/bgcolor2.c"><code>bgcolor2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="bgcolor2.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  start_color();
<span class="linenr"> 8: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr"> 9: </span>  init_pair(2,COLOR_GREEN,COLOR_WHITE);
<span class="linenr">10: </span>  init_pair(3,COLOR_RED,COLOR_GREEN);
<span class="linenr">11: </span>  bkgd(COLOR_PAIR(1));
<span class="linenr">12: </span>  addstr(<span style="color: #ffa07a;">"I think that I shall never see\n"</span>);
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"a color screen as pretty as thee.\n"</span>);
<span class="linenr">14: </span>  addstr(<span style="color: #ffa07a;">"For seasons may change\n"</span>);
<span class="linenr">15: </span>  addstr(<span style="color: #ffa07a;">"and storms may thunder;\n"</span>);
<span class="linenr">16: </span>  addstr(<span style="color: #ffa07a;">"But color text shall always wonder."</span>);
<span class="linenr">17: </span>  refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  bkgd(COLOR_PAIR(2));
<span class="linenr">21: </span>  refresh();
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  bkgd(COLOR_PAIR(3));
<span class="linenr">25: </span>  refresh();
<span class="linenr">26: </span>  getch();
<span class="linenr">27: </span>
<span class="linenr">28: </span>  endwin();
<span class="linenr">29: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">30: </span>}
</pre>
</div>
</dd>
</dl>

<p>
The program initially displays some text on the screen, blue on a
white background. Press the Enter key and the colors change to
green on a white background â but the text is unchanged. Press
Enter again and the text color changes to red, the background to
green. Ugly, but it proves that you can change the screen color
without bothering any printed text.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-6-4" class="outline-3">
<h3 id="sec-6-4">Noise, Too!                                                        <a id="noise_too" name="noise_too"></a></h3>
<div class="outline-text-3" id="text-6-4">
<p>
NCurses doesn't have sound routines (at least not yet), but there
is an audible way to attract attention to your programs, a way
beyond text attributes and colors. Two functions do the job.
</p>

<p>
The <code>beep()</code> function, as you can guess, simply beeps the
terminal's speaker. Or, if you're from the ancient days, it would
ring the bell on the teletype! Either way, it's getting the user's
attention.
</p>

<p>
The <code>flash()</code> function is newer than beep, designed to get
attention by flashing the screen, supposedly to assist the hearing
impaired in recognizing alerts. Sadly, <code>flash()</code> isn't implemented
on every terminal, so it may just beep the speaker on your
computer. The one way to find out is to run a test program such as
<a href="#Listing-3-8">Listing 3-8</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-3-8" name="Listing-3-8">Listing 3-8</a> </dt><dd><a href="code/book/notice.c"><code>notice.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="notice.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  addstr(<span style="color: #ffa07a;">"Attention!\n"</span>);
<span class="linenr"> 8: </span>  beep();
<span class="linenr"> 9: </span>  refresh();
<span class="linenr">10: </span>  getch();
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"I said, ATTENTION!\n"</span>);
<span class="linenr">12: </span>  flash();
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>  endwin();
<span class="linenr">16: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">17: </span>}
</pre>
</div>
</dd>
</dl>

<p>
After you see <code>Attention!</code> on the screen, you should hear the
beep. Press Enter to see <code>I said, ATTENTION!</code> and look for the
flash. On my computer, I just heard another beep. Press Enter again
to end the program.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7">CHAPTER  4 Around the Window                                        <a id="chapter_4" name="chapter_4"></a></h2>
<div class="outline-text-2" id="text-7">
<p>
One of the things that make NCurses appeal to programmers is the
control it offers, not only over the text you display but over the
location of that text as well. The key is moving the
cursor. Secondary to that, of course, is knowing how big the
terminal screen (or, in NCurses, the standard screen window) can be,
so that you keep all your text visible.
</p>
</div>

<div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1">Measuring the Standard Screen                                      <a id="measuring_the_standard_screen" name="measuring_the_standard_screen"></a></h3>
<div class="outline-text-3" id="text-7-1">
<p>
If you're going to be moving the cursor hither, thither, and yon,
it helps to know the dimensions of your terminal screen. Not every
terminal is going to be exactly like yours, and it's an especially
bad thing to assume that all terminals follow the dimensions of the
standard PC text screen's 25 rows by 80 columns.
</p>

<p>
In NCurses the terminal screen isn't part of the equation. Instead,
a window is used called the <i>standard screen</i>, which coincidentally
is just the same size and dimensions as the terminal's
screen. (Yes, this may seem trivial at this point, but soon you'll
discover NCurses window functions, wherein all this makes much more
sense.)
</p>
</div>

<div id="outline-container-sec-7-1-1" class="outline-4">
<h4 id="sec-7-1-1">The Size of the Window Is Y by X                                  <a id="the_size_of_the_window_is_y_by_x" name="the_size_of_the_window_is_y_by_x"></a></h4>
<div class="outline-text-4" id="text-7-1-1">
<p>
To discover the size of any window in NCurses, the following
function can be used:
</p>

<div class="org-src-container">

<pre class="src src-c">getmaxyx(win,y,x)
</pre>
</div>

<p>
The <code>getmaxyx()</code> function returns the dimensions of the window
<code>win</code> in rows and columns, where <code>y</code> is the row and <code>x</code> is the
column. That the function is named <code>getmaxyx()</code> should help you
remember that <code>y</code>, or rows, comes first.
</p>

<p>
The <code>win</code> argument is the name of a specific window in
NCurses. For the terminal screen, you use the standard screen
window, which is named <code>stdscr</code>.
</p>

<p>
The <code>y</code> and <code>x</code> arguments are <code>int</code> variables (not pointers) that
will hold the maximum number of rows and columns in the named
window. (See <a href="#Listing-4-1">Listing 4-1</a>.)
</p>

<dl class="org-dl">
<dt> <a id="Listing-4-1" name="Listing-4-1">Listing 4-1</a> </dt><dd><a href="code/book/screensize.c"><code>screensize.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="screensize.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">y</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">10: </span>  printw(<span style="color: #ffa07a;">"Window size is %d rows, %d columns.\n"</span>,y,x);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  getch();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  endwin();
<span class="linenr">15: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">16: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Here's what I see for output:
</p>

<pre class="example">
Windows size is 24 rows, 80 columns.
</pre>

<p>
That's my terminal window's size; yours may be different. Because
my terminal window is in a graphical window in a GUI, I can resize
it. When I do and make the window wider, rerunning the program
reports the new results:
</p>

<pre class="example">
Windows size is 24 rows, 85 columns.
</pre>

<p>
The point here is to remember that it's a <i>bad thing</i> to guess the
terminal's size. Write your code so that your program uses
<code>getmaxyx()</code> to determine the screen size and save those values in
variables; do not use constants!
</p>
</div>
</div>

<div id="outline-container-sec-7-1-2" class="outline-4">
<h4 id="sec-7-1-2">And Now: the Shortcut                                             <a id="and_now_the_shortcut" name="and_now_the_shortcut"></a></h4>
<div class="outline-text-4" id="text-7-1-2">
<p>
The <code>getmaxyx()</code> function can read the dimensions of any NCurses
window, but because the standard screen is special, there are two
NCurses constants you can use as well (refer to <a href="#Listing-4-2">Listing 4-2</a>):
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">LINES</span>
<span style="color: #eedd82;">COLS</span>
</pre>
</div>

<p>
The value of the <code>LINES</code> constant is equal to the number of rows
on the standard screen window and, therefore, the terminal screen.
</p>

<p>
The value of <code>COLS</code> is equal to the number of columns on the
standard screen window, as well as the terminal.
</p>

<dl class="org-dl">
<dt> <a id="Listing-4-2" name="Listing-4-2">Listing 4-2</a> </dt><dd><a href="code/book/stdscrsize.c"><code>stdscrsize.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="stdscrsize.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  printw(<span style="color: #ffa07a;">"Window size is %d rows, %d columns.\n"</span>,LINES,COLS);
<span class="linenr"> 8: </span>  refresh();
<span class="linenr"> 9: </span>  getch();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  endwin();
<span class="linenr">12: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">13: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The output is the same as from the <code>screensize.c</code> code, though
<code>LINES</code> and <code>COLS</code> are always specific to the standard screen.
</p>

<p>
Do remember that the <code>y</code> constant is <code>LINES</code>, not ROWS.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-7-2" class="outline-3">
<h3 id="sec-7-2">Moving the Cursor Around                                           <a id="moving_the_cursor_around" name="moving_the_cursor_around"></a></h3>
<div class="outline-text-3" id="text-7-2">
<p>
In NCurses, the cursor â that thing that tells curses where to put
the next character on the screen â is moved around via the <code>move()</code>
function but also by most commands that put text to the screen. As
you've seen in early chapters, putting a <code>\n</code> to the screen moves
the text down to the next line. Nothing surprising there.
</p>

<p>
To provide basic cursor control, there is only one command:
</p>

<div class="org-src-container">

<pre class="src src-c">move(y,x)
</pre>
</div>

<p>
You've already seen this command at work in <a href="#chapter_2">Chapter 2</a>, and there's
really nothing to it. But in this chapter I'll add three more
interesting commands that combine moving the cursor with slapping
down text:
</p>

<ul class="org-ul">
<li><code>mvaddch(y,x,ch)</code>
</li>
<li><code>mvaddstr(y,x,*str)</code>
</li>
<li><code>mvprintw(y,x,format,arg[...])</code>
</li>
</ul>


<p>
Oh, you could probably guess how they go, but I love sample
programs, and the urge to create them is just <i>too great!</i> So
follow along and learn a tad bit more about moving the cursor in
NCurses.
</p>
</div>

<div id="outline-container-sec-7-2-1" class="outline-4">
<h4 id="sec-7-2-1">Watch Out! I've Got You Cornered!                                 <a id="watch_out_i_ve_got_you_cornered" name="watch_out_i_ve_got_you_cornered"></a></h4>
<div class="outline-text-4" id="text-7-2-1">
<p>
There are four corners on the standard screen: upper left, upper
right, lower left, and lower right. And you know what would just
look lovely in each corner? Why, an asterisk, that's what. Just
like the program in <a href="#Listing-4-3">Listing 4-3</a> demonstrates:
</p>

<dl class="org-dl">
<dt> <a id="Listing-4-3" name="Listing-4-3">Listing 4-3</a> </dt><dd><a href="code/book/corners1.c"><code>corners1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="cornes1.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">rows</span>,<span style="color: #eedd82;">cols</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  getmaxyx(stdscr,rows,cols);
<span class="linenr"> 9: </span>  rows--;
<span class="linenr">10: </span>  cols--;
<span class="linenr">11: </span>
<span class="linenr">12: </span>  move(0,0);              <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">UL corner         </span><span style="color: #ff4500;">*/</span>
<span class="linenr">13: </span>  addch(<span style="color: #ffa07a;">'*'</span>);
<span class="linenr">14: </span>  refresh();
<span class="linenr">15: </span>  napms(500);             <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">pause half a sec. </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>
<span class="linenr">17: </span>  move(0,cols);           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">UR corner         </span><span style="color: #ff4500;">*/</span>
<span class="linenr">18: </span>  addch(<span style="color: #ffa07a;">'*'</span>);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  napms(500);
<span class="linenr">21: </span>
<span class="linenr">22: </span>  move(rows,0);           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">LL corner         </span><span style="color: #ff4500;">*/</span>
<span class="linenr">23: </span>  addch(<span style="color: #ffa07a;">'*'</span>);
<span class="linenr">24: </span>  refresh();
<span class="linenr">25: </span>  napms(500);
<span class="linenr">26: </span>
<span class="linenr">27: </span>  move(rows,cols);        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">LR corner         </span><span style="color: #ff4500;">*/</span>
<span class="linenr">28: </span>  addch(<span style="color: #ffa07a;">'*'</span>);
<span class="linenr">29: </span>  refresh();
<span class="linenr">30: </span>  getch();
<span class="linenr">31: </span>
<span class="linenr">32: </span>  endwin();
<span class="linenr">33: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">34: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The program slaps down an asterisk in every corner of the screen.
</p>

<p>
Line 12 isn't necessary; NCurses initializes the cursor at the
<i>home</i> location of 0,0 when the standard screen window is created
by <code>initscr()</code> Even so, I recommend using a <code>move(0,0)</code>; statement
in your code just in case future editions of NCurses change and
because it's never really a good idea to assume anything in your
code.
</p>
</div>
</div>

<div id="outline-container-sec-7-2-2" class="outline-4">
<h4 id="sec-7-2-2">Some Compacting                                                   <a id="some_compacting" name="some_compacting"></a></h4>
<div class="outline-text-4" id="text-7-2-2">
<p>
The folks who write and maintain NCurses came to a strong
realization many years ago that any <code>move()</code> function is usually
followed by a command to actually stick <i>text</i> on the screen. I
mean, the following code in any program would be rather silly:
</p>

<div class="org-src-container">

<pre class="src src-c">move(10,13);             <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">move to here             </span><span style="color: #ff4500;">*/</span>
move(5,6);               <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">then to here             </span><span style="color: #ff4500;">*/</span>
move(17,11);             <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">try out this spot        </span><span style="color: #ff4500;">*/</span>
move(21,0);              <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">then put the cursor here </span><span style="color: #ff4500;">*/</span>
</pre>
</div>

<p>
What's the point of all that? No, sir, <code>move()</code> functions are
followed by some type of text output function or statement. And
you already know three of them: <code>addch()</code>, <code>addstr()</code>, and
<code>printw()</code>. By prefixing <code>mv</code> (for <i>move</i>) to each of those
commands, you get a combined move-and-print command.
</p>

<p>
<a href="#Listing-4-4">Listing 4-4</a> shows a modification, do-over to the original
<code>corner1.c</code> source code:
</p>

<dl class="org-dl">
<dt> <a id="Listing-4-4" name="Listing-4-4">Listing 4-4</a> </dt><dd><a href="code/book/corners2.c"><code>corners2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="corners2.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">rows</span>,<span style="color: #eedd82;">cols</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  getmaxyx(stdscr,rows,cols);
<span class="linenr"> 9: </span>  rows--;
<span class="linenr">10: </span>  cols--;
<span class="linenr">11: </span>
<span class="linenr">12: </span>  mvaddch(0,0,<span style="color: #ffa07a;">'*'</span>);           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">UL corner         </span><span style="color: #ff4500;">*/</span>
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  napms(500);                 <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">pause half a sec. </span><span style="color: #ff4500;">*/</span>
<span class="linenr">15: </span>
<span class="linenr">16: </span>  mvaddch(0,cols,<span style="color: #ffa07a;">'*'</span>);        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">UR corner         </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>  refresh();
<span class="linenr">18: </span>  napms(500);
<span class="linenr">19: </span>
<span class="linenr">20: </span>  mvaddch(rows,0,<span style="color: #ffa07a;">'*'</span>);        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">LL corner         </span><span style="color: #ff4500;">*/</span>
<span class="linenr">21: </span>  refresh();
<span class="linenr">22: </span>  napms(500);
<span class="linenr">23: </span>
<span class="linenr">24: </span>  mvaddch(rows,cols,<span style="color: #ffa07a;">'*'</span>);     <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">LR corner         </span><span style="color: #ff4500;">*/</span>
<span class="linenr">25: </span>  refresh();
<span class="linenr">26: </span>
<span class="linenr">27: </span>  getch();
<span class="linenr">28: </span>
<span class="linenr">29: </span>  endwin();
<span class="linenr">30: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">31: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The output is the same, but you've saved a lot of typing and
redundancy. Note the format for the <code>mvaddch()</code> function:
</p>

<div class="org-src-container">

<pre class="src src-c">mvaddch(y,x,ch)
</pre>
</div>

<p>
The row and column come first, and the character to punch in that
spot goes last. Again, this is just like combining the two
functions, <code>move()</code> and <code>addch()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-7-2-3" class="outline-4">
<h4 id="sec-7-2-3">Center that Title!                                                <a id="center_that_title" name="center_that_title"></a></h4>
<div class="outline-text-4" id="text-7-2-3">
<p>
It's possible to have lots of fun with math and positioning text
all over the screen. Don't run away! Remember that the computer
does the math. Centering text on the screen is an old and ancient
art. It works like this:
</p>

<ol class="org-ol">
<li>Figure out how wide the screen is.
</li>

<li>Figure out how wide your title text is.
</li>

<li>Subtract the title text length from the screen width. The value
left over needs to be shared equally as spaces on either side
of the title.
</li>

<li>Divide the value left over by two. That's the number of
characters to space over to center the title.
</li>
</ol>


<p>
But don't fret over writing that code yourself. The following
program in <a href="#Listing-4-5">Listing 4-5</a> has it all done for you.
</p>

<dl class="org-dl">
<dt> <a id="Listing-4-5" name="Listing-4-5">Listing 4-5</a> </dt><dd><a href="code/book/ctitle.c"><code>ctitle.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="ctitle.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;string.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">center</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">row</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">title</span>);
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  center(1, <span style="color: #ffa07a;">"Penguin Soccer Finals"</span>);
<span class="linenr">11: </span>  center(5, <span style="color: #ffa07a;">"Cattle Dung Samples from Temecula"</span>);
<span class="linenr">12: </span>  center(7, <span style="color: #ffa07a;">"Catatonic Theater"</span>);
<span class="linenr">13: </span>  center(9, <span style="color: #ffa07a;">"Why Do Ions Hate Each Other?"</span>);
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  endwin();
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
<span class="linenr">19: </span>
<span class="linenr">20: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">center</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">row</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">title</span>)
<span class="linenr">21: </span>{
<span class="linenr">22: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">len</span>,<span style="color: #eedd82;">indent</span>,<span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">width</span>;
<span class="linenr">23: </span>
<span class="linenr">24: </span>  getmaxyx(stdscr,y,width);   <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">get screen width              </span><span style="color: #ff4500;">*/</span>
<span class="linenr">25: </span>
<span class="linenr">26: </span>  len = strlen(title);        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">get title's length            </span><span style="color: #ff4500;">*/</span>
<span class="linenr">27: </span>  indent = width - len;       <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">subtract it from screen width </span><span style="color: #ff4500;">*/</span>
<span class="linenr">28: </span>  indent /= 2;                <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">divide result into two        </span><span style="color: #ff4500;">*/</span>
<span class="linenr">29: </span>
<span class="linenr">30: </span>  mvaddstr(row,indent,title);
<span class="linenr">31: </span>  refresh();
<span class="linenr">32: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The <code>center()</code> function is what centers the title text on a
line. You supply the row number and the line of text to
center. The <code>center()</code> function then centers that text on the
given row.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>Remember that the top row on the terminal screen is
zero, not 1!
</dd>
</dl>


<p>
I included several <code>center()</code> commands with titles of varying
length. Feel free to add more or experiment with the lengths.
</p>

<p>
The math part is done in the <code>center()</code> function. First, the
string's length is calculated and returned by the <code>strlen()</code>
function and stored in the <code>len</code> variable. Then that's subtracted
from the screen's width, as returned from <code>getmaxyx()</code>. Then it's
cut in half in line 28.
</p>
</div>
</div>

<div id="outline-container-sec-7-2-4" class="outline-4">
<h4 id="sec-7-2-4">Some Fun with <code>mvprintw()</code>                                        <a id="some_fun_with_mvprintw" name="some_fun_with_mvprintw"></a></h4>
<div class="outline-text-4" id="text-7-2-4">
<p>
Why do the math when the compiler can do it for you? One gem with
<code>printf()</code>, and then, of course, NCurses' <code>printw()</code>, is that it
can justify strings in its output. For example:
</p>

<div class="org-src-container">

<pre class="src src-c">printf(<span style="color: #ffa07a;">"%40s"</span>, <span style="color: #ffa07a;">"This is right-justified"</span>);
</pre>
</div>

<p>
The <code>%s</code> normally tells <code>printf()</code> to replace the <code>%s</code> with a
string. The <code>%40s</code>, however, tells <code>printf()</code> to set aside 40
spaces in which to stick the string. As with numbers, the string
is right-justified:
</p>

<pre class="example">
________________This is right-justified
</pre>

<p>
Now if you prefix the size of the field with a minus sign, you get
left-justified output:
</p>

<div class="org-src-container">

<pre class="src src-c">printf(<span style="color: #ffa07a;">"%-40s"</span>, <span style="color: #ffa07a;">"This is left-justified"</span>);
</pre>
</div>

<p>
The <code>-40</code> means to set aside 40 spaces and left-justify the given
string. To wit:
</p>

<pre class="example">
This is left-justified_________________
</pre>

<p>
This calculating feature of <code>printf()</code>, and therefore <code>printw()</code>
and therefore <code>mvprintw()</code>, can be put to use to do interesting
justification on the screen without a lot of mathematical
overhead, as the following program in <a href="#Listing-4-6">Listing 4-6</a> demonstrates:
</p>

<dl class="org-dl">
<dt> <a id="Listing-4-6" name="Listing-4-6">Listing 4-6</a> </dt><dd><a href="code/book/mydata.c"><code>mydata.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="mydata.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">COL1</span> 5
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">COL2</span> 38
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  mvprintw(5,COL1, <span style="color: #ffa07a;">"%30s"</span>, <span style="color: #ffa07a;">"Your name:"</span>);
<span class="linenr">11: </span>  mvprintw(5,COL2, <span style="color: #ffa07a;">"%-30s"</span>, <span style="color: #ffa07a;">"Art Grockmeister"</span>);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  mvprintw(7,COL1, <span style="color: #ffa07a;">"%30s"</span>, <span style="color: #ffa07a;">"Your company:"</span>);
<span class="linenr">14: </span>  mvprintw(7,COL2, <span style="color: #ffa07a;">"%-30s"</span>, <span style="color: #ffa07a;">"Sterling/Worbletyme"</span>);
<span class="linenr">15: </span>
<span class="linenr">16: </span>  mvprintw(9,COL1, <span style="color: #ffa07a;">"%30s"</span>, <span style="color: #ffa07a;">"Position:"</span>);
<span class="linenr">17: </span>  mvprintw(9,COL2, <span style="color: #ffa07a;">"%-30s"</span>, <span style="color: #ffa07a;">"Grand Duke of Finance"</span>);
<span class="linenr">18: </span>
<span class="linenr">19: </span>  mvprintw(11,COL1, <span style="color: #ffa07a;">"%30s"</span>, <span style="color: #ffa07a;">"Date hired:"</span>);
<span class="linenr">20: </span>  mvprintw(11,COL2, <span style="color: #ffa07a;">"%-30s"</span>, <span style="color: #ffa07a;">"October 19, 1993"</span>);
<span class="linenr">21: </span>  refresh();
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  endwin();
<span class="linenr">25: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">26: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The move-cursor commands don't seem to be logical until you think
of them as placing given 30-character fields on the
screen. Remember that the <code>printw()</code> function is doing the
alignment.
</p>

<p>
Here's what the output generally looks like:
</p>

<pre class="example">
   Your name:   Art Grockmeister

Your company:   Sterling/Worbletyme

    Position:   Grand Duke of Finance

  Date hired:   October 19, 1993
</pre>

<p>
You can adjust the positions of the columns easily by changing the
values of the <code>COL1</code> and <code>COL2</code> constants. This is why they were
declared as constants instead of being hard-coded into the
program.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-7-3" class="outline-3">
<h3 id="sec-7-3">Whither the Cursor?                                                <a id="whither_the_cursor" name="whither_the_cursor"></a></h3>
<div class="outline-text-3" id="text-7-3">
<p>
Knowing where the cursor is doesn't seem as popular or necessary a
function as being able to move the cursor. But consider the case
where a program involves full-screen user input. In that example,
it helps to have a function that tracks down where the booger is.
</p>

<p>
The <code>getyx()</code> function reads the logical cursor location from the
window <code>win</code> (<code>stdscr</code> for the standard screen) and puts its row
and column positions into the variables <code>y</code> and <code>x</code>. As with the
<code>move()</code> function, the home location 0,0 is the upper-left corner
of the screen. (See <a href="#Listing-4-7">Listing 4-7</a>.)
</p>

<dl class="org-dl">
<dt> <a id="Listing-4-7" name="Listing-4-7">Listing 4-7</a> </dt><dd><a href="code/book/whereami.c"><code>whereami.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="whereami.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">ch</span>=<span style="color: #ffa07a;">'\0'</span>;              <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">initialize ch to NULL </span><span style="color: #ff4500;">*/</span>
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">row</span>,<span style="color: #eedd82;">col</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"Type some text; '~' to end:\n"</span>);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #00ffff;">while</span>( (ch=getch()) != <span style="color: #ffa07a;">'~'</span>)
<span class="linenr">14: </span>    ;
<span class="linenr">15: </span>
<span class="linenr">16: </span>  getyx(stdscr,row,col);
<span class="linenr">17: </span>  printw(<span style="color: #ffa07a;">"\n\nThe cursor was at row %d, column %d\n"</span>,row,col);
<span class="linenr">18: </span>  printw(<span style="color: #ffa07a;">"when you stopped typing."</span>);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  endwin();
<span class="linenr">23: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">24: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The program lets you type away on the screen, similar to the
<code>typewriter.c</code> program shown earlier in this book. When you press
the tilde key, <code>~</code>, the <code>getyx</code> function grabs the location of the
cursor, and the <code>printw</code> statement tells you where it was.
</p>

<p>
Note that the function is named <code>getyx()</code>, not <code>getxy()</code>.
</p>

<p>
Here's a sample of the output you may see:
</p>

<pre class="example">
Type some text; '~' to end:
Bill is a jerk!~

The cursor was at row 1, column 16
When you stopped typing.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8">CHAPTER  5 More Text Manipulation                                   <a id="chapter_5" name="chapter_5"></a></h2>
<div class="outline-text-2" id="text-8">
<p>
NCurses provides a wealth of text-manipulation functions, which are
more than just positioning the cursor. There are functions that can
insert and delete characters or lines of text, causing other text on
the screen to jump around and make room or to fill in the gaps. This
chapter covers those amazing functions.
</p>
</div>

<div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1">Inserting and Deleting Functions                                   <a id="inserting_and_deleting_functions" name="inserting_and_deleting_functions"></a></h3>
<div class="outline-text-3" id="text-8-1">
<p>
Writing a program that spits up text on the screen is a relatively
easy task.  What becomes a pain in the rear is when you have to
<i>modify</i> the text you splash on the screen. That becomes the "Oh,
no!  I now have to rethink how all this is going to work" chore.
</p>

<p>
Face it. Some dolt somewhere is always going to change his
mind. You must learn to be versatile, to plan ahead. And if that's
not always possible, you can rely on the following functions in
NCurses that insert and delete text:
</p>

<ul class="org-ul">
<li><code>insch(ch)</code>
</li>
<li><code>insertln()</code>
</li>
<li><code>delch()</code>
</li>
<li><code>deleteln()</code>
</li>
</ul>


<p>
The <code>ins</code> sisters are used to insert a single character or a
complete line of text.  The <code>insch()</code> inserts a character. The
<code>insertln()</code> function scrolls in a blank line of text.
</p>

<p>
The <code>del</code> brothers have no arguments. They delete a single character
or an entire line of text from the screen.
</p>

<p>
As someone who's struggled to write his own text editor can attest,
these routines are blessings in disguise! And they work in the
logical manner you would expect them to â yet another wreath to
toss on the monument to NCurses' designers.
</p>
</div>
</div>

<div id="outline-container-sec-8-2" class="outline-3">
<h3 id="sec-8-2">Editing Shakespeare                                                <a id="editing_shakespeare" name="editing_shakespeare"></a></h3>
<div class="outline-text-3" id="text-8-2">
<p>
The following source code in <a href="#Listing-5-1">Listing 5-1</a> serves as the core for the
next several sets of programs.
</p>

<dl class="org-dl">
<dt> <a id="Listing-5-1" name="Listing-5-1">Listing 5-1</a> </dt><dd><a href="code/book/hamlet1.c"><code>hamlet1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="hamlet1.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham1</span>[]   =   <span style="color: #ffa07a;">"To be, or not to be: that is the question:\n"</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham2</span>[]   =   <span style="color: #ffa07a;">"Whether 'tis nobler in the mind to suffer\n"</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham3</span>[]   =   <span style="color: #ffa07a;">"The slings and arrows of outrageous fortune,\n"</span>;
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham4</span>[]   =   <span style="color: #ffa07a;">"Or to take arms against a sea of troubles,\n"</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham5</span>[]   =   <span style="color: #ffa07a;">"And by opposing end them?\n"</span>;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  initscr();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  addstr(Ham1);
<span class="linenr">14: </span>  addstr(Ham3);
<span class="linenr">15: </span>  addstr(Ham5);
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>  getch();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  endwin();
<span class="linenr">20: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">21: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The program dutifully prints every other line of the start of
Hamlet's famous soliloquy:
</p>

<pre class="example">
To be, or not to be: that is the question:
The slings and arrows of outrageous fortune
And by opposing end them?
</pre>

<p>
Doesn't quite sound the same, right? Of course, to the ignorant it
still "sounds" like Shakespeare â but I'm not here to argue the
merits of the bard's poetry or why people seem so turned off by
him.
</p>
</div>

<div id="outline-container-sec-8-2-1" class="outline-4">
<h4 id="sec-8-2-1">Inserting Some Lines                                              <a id="inserting_some_lines" name="inserting_some_lines"></a></h4>
<div class="outline-text-4" id="text-8-2-1">
<p>
The purpose of this lesson is to rebuild the quote properly. The
<code>hamlet1.c</code> code contains all the text so you don't have to retype
the entire soliloquy. But just pretend the input was coming from
the terminal and you needed to insert a new line of text between
lines 1 and 2?
</p>

<p>
Remember that on the screen, lines 1 and 2 appear on screen rows 0
and 1.  Therefore, you would need to insert a blank line at row 1
and shove in the new text there. Further, you would need to scroll
the other lines down so that the new line wouldn't overwrite the
existing line.
</p>

<p>
Fortunately, the <code>insertln()</code> function does all that: It inserts a
blank line all the way across the screen and scrolls the rest of
the text beneath that line down one notch (see <a href="#Listing-5-2">Listing 5-2</a>). At
that point, you merely need to add the string of text you need.
</p>

<dl class="org-dl">
<dt> <a id="Listing-5-2" name="Listing-5-2">Listing 5-2</a> </dt><dd><a href="code/book/hamlet2.c"><code>hamlet2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="hamlet2.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham1</span>[]   =   <span style="color: #ffa07a;">"To be, or not to be: that is the question:\n"</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham2</span>[]   =   <span style="color: #ffa07a;">"Whether 'tis nobler in the mind to suffer\n"</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham3</span>[]   =   <span style="color: #ffa07a;">"The slings and arrows of outrageous fortune,\n"</span>;
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham4</span>[]   =   <span style="color: #ffa07a;">"Or to take arms against a sea of troubles,\n"</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham5</span>[]   =   <span style="color: #ffa07a;">"And by opposing end them?\n"</span>;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  initscr();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  addstr(Ham1);
<span class="linenr">14: </span>  addstr(Ham3);
<span class="linenr">15: </span>  addstr(Ham5);
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>  getch();        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">wait for key press                    </span><span style="color: #ff4500;">*/</span>
<span class="linenr">18: </span>
<span class="linenr">19: </span>  move(1,0);      <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">position cursor                       </span><span style="color: #ff4500;">*/</span>
<span class="linenr">20: </span>  insertln();     <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">insert a blank line, scroll text down </span><span style="color: #ff4500;">*/</span>
<span class="linenr">21: </span>  addstr(Ham2);   <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">line to insert                        </span><span style="color: #ff4500;">*/</span>
<span class="linenr">22: </span>  refresh();
<span class="linenr">23: </span>  getch();        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">wait for key press                    </span><span style="color: #ff4500;">*/</span>
<span class="linenr">24: </span>
<span class="linenr">25: </span>  endwin();
<span class="linenr">26: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">27: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Lines 18 through 22 are the new ones, as shown in the listing,
inserting the proper second line of the speech. When the program
runs, after the first three lines are displayed, press Enter. That
way, <code>getch()</code> has something to eat, and then the rest of the
program works.
</p>

<p>
The new code starts by moving the logical cursor to row 1 (the
second row) column 0 (first column).
</p>

<p>
Next, the <code>insertln()</code> function creates a blank line on the same
line where the logical cursor is placed. It always blanks the
entire line, even if the cursor is placed on the far left side of
the screen.
</p>

<p>
Finally, the <code>addstr()</code> function inserts a new string of text at
the cursor's position, which is still 1,0. The <code>insertln()</code>
function does not move the cursor; it uses the cursor's row
position as a guide for which line to blank.
</p>

<p>
The result is that the existing text is scrolled down and the new
line is inserted.  (Note that <code>insertln()</code> scrolls the entire
contents of the standard screen window. If there is text on the
last line, that line is scrolled off into oblivion.)
</p>
</div>
</div>

<div id="outline-container-sec-8-2-2" class="outline-4">
<h4 id="sec-8-2-2">Final Changes to Hamlet                                           <a id="final_changes_to_hamlet" name="final_changes_to_hamlet"></a></h4>
<div class="outline-text-4" id="text-8-2-2">
<p>
The problem with <code>hamlet2.c</code> is that it's still missing one line
of text. There are multiple ways to add that last line of text and
finish the program, any one of which is acceptable as long as the
results on the screen look like this:
</p>

<pre class="example">
To be, or not to be: that is the question:
Whether 'tis nobler in the mind to suffer
The slings and arrows of outrageous fortune,
Or to take arms against a sea of troubles,
And by opposing end them?
</pre>

<p>
Try your own solution before looking at mine in <a href="#Listing-5-3">Listing 5-3</a>.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>The most common mistake is forgetting that the first
<code>insertln</code> scrolls down the rest of the text; you must
move the cursor to row 3, not row 2, to insert the
fourth line.
</dd>

<dt> <a id="Listing-5-3" name="Listing-5-3">Listing 5-3</a> </dt><dd><a href="code/book/hamlet3.c"><code>hamlet3.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="hamlet3.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham1</span>[] = <span style="color: #ffa07a;">"To be, or not to be: that is the question:\n"</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham2</span>[] = <span style="color: #ffa07a;">"Whether 'tis nobler in the mind to suffer\n"</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham3</span>[] = <span style="color: #ffa07a;">"The slings and arrows of outrageous fortune,\n"</span>;
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham4</span>[] = <span style="color: #ffa07a;">"Or to take arms against a sea of troubles,\n"</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham5</span>[] = <span style="color: #ffa07a;">"And by opposing end them?\n"</span>;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  initscr();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  addstr(Ham1);
<span class="linenr">14: </span>  addstr(Ham3);
<span class="linenr">15: </span>  addstr(Ham5);
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>  getch();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  move(1,0);        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">position cursor                     </span><span style="color: #ff4500;">*/</span>
<span class="linenr">20: </span>  insertln();       <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">insert blank line, scroll text down </span><span style="color: #ff4500;">*/</span>
<span class="linenr">21: </span>  addstr(Ham2);     <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">line to insert                      </span><span style="color: #ff4500;">*/</span>
<span class="linenr">22: </span>  refresh();
<span class="linenr">23: </span>  getch();
<span class="linenr">24: </span>
<span class="linenr">25: </span>  move(3,0);
<span class="linenr">26: </span>  insertln();       <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">insert blank line at line 4         </span><span style="color: #ff4500;">*/</span>
<span class="linenr">27: </span>  addstr(Ham4);     <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">add line 4                          </span><span style="color: #ff4500;">*/</span>
<span class="linenr">28: </span>  refresh();
<span class="linenr">29: </span>  getch();
<span class="linenr">30: </span>
<span class="linenr">31: </span>  endwin();
<span class="linenr">32: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">33: </span>}
</pre>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-8-2-3" class="outline-4">
<h4 id="sec-8-2-3">Inserting One Character at a Time                                 <a id="inserting_one_character_at_a_time" name="inserting_one_character_at_a_time"></a></h4>
<div class="outline-text-4" id="text-8-2-3">
<p>
The <code>insch()</code> function inserts only one character into a row of
text, shoving all the characters to the right one space to the
right. And like <code>insertln()</code>, any character that gets shoved off
the left side of the screen is forgotten; no "wrapping" takes
place with <code>insch()</code>.
</p>

<p>
The following source code in <a href="#Listing-5-4">Listing 5-4</a> is one of those classic
chestnuts, the scrolling marquee. Of course, it's a lot easier to
write, thanks to the <code>insch()</code> function.
</p>

<dl class="org-dl">
<dt> <a id="Listing-5-4" name="Listing-5-4">Listing 5-4</a> </dt><dd><a href="code/book/marquee1.c"><code>marquee1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="marquee1.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;string.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 5: </span>{
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text</span>[] = <span style="color: #ffa07a;">"Stock Market Swells! DOW tops 15,000!"</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">t</span>;
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">len</span>;
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  initscr();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  len = strlen(text);
<span class="linenr">13: </span>  t = text;                <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">initialize pointer             </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  <span style="color: #00ffff;">while</span>(len)
<span class="linenr">15: </span>    {
<span class="linenr">16: </span>      move(5,5);           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">always insert at the same spot </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>      insch(*(t+len-1));   <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">work through string backwards  </span><span style="color: #ff4500;">*/</span>
<span class="linenr">18: </span>      refresh();
<span class="linenr">19: </span>      napms(100);          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">.1 sec. delay                  </span><span style="color: #ff4500;">*/</span>
<span class="linenr">20: </span>      len--;
<span class="linenr">21: </span>    }
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  endwin();
<span class="linenr">25: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">26: </span>}
</pre>
</div>
</dd>
</dl>

<p>
Each character in the string is processed backward in the <code>while</code>
loop (lines 14-21), from the end to the beginning. The
<code>*(t+len-1)</code> calculation initially points to the last character in
the string, based on its length <code>len</code> (with the <code>t</code> pointer always
pointing at the start of the string).
</p>

<p>
As the <code>while</code> loop decrements the value of <code>len</code>, the
<code>*(t+len-1)</code> calculation points to each previous character in the
string. The <code>insch()</code> function then displays that character at
location 5,5, pushing the rest of the text on that line one notch
to the left. The result is the scrolling marquee.
</p>
</div>
</div>

<div id="outline-container-sec-8-2-4" class="outline-4">
<h4 id="sec-8-2-4">A More Visual Example                                             <a id="a_more_visual_example" name="a_more_visual_example"></a></h4>
<div class="outline-text-4" id="text-8-2-4">
<p>
The following code in <a href="#Listing-5-5">Listing 5-5</a> modifies the original
<code>marquee1.c</code> source code, filling the screen with text so that you
can more graphically see how the <code>insch()</code> function affects text
on the screen.
</p>

<dl class="org-dl">
<dt> <a id="Listing-5-5" name="Listing-5-5">Listing 5-5</a> </dt><dd><a href="code/book/marquee2.c"><code>marquee2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="marquee2.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;string.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">fill</span>(<span style="color: #98fb98;">void</span>);
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text</span>[] = <span style="color: #ffa07a;">"Stock Market Swells! DOW tops 15,000!"</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">t</span>;
<span class="linenr">10: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">len</span>;
<span class="linenr">11: </span>
<span class="linenr">12: </span>  initscr();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  fill();
<span class="linenr">15: </span>  refresh();
<span class="linenr">16: </span>  len = strlen(text);
<span class="linenr">17: </span>  t = text;               <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">initialize pointer             </span><span style="color: #ff4500;">*/</span>
<span class="linenr">18: </span>  <span style="color: #00ffff;">while</span>(len)
<span class="linenr">19: </span>    {
<span class="linenr">20: </span>      move(5,5);          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">always insert at the same spot </span><span style="color: #ff4500;">*/</span>
<span class="linenr">21: </span>      insch(*(t+len-1));  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">work through string backwards  </span><span style="color: #ff4500;">*/</span>
<span class="linenr">22: </span>      refresh();
<span class="linenr">23: </span>      napms(100);         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">.1 sec. delay                  </span><span style="color: #ff4500;">*/</span>
<span class="linenr">24: </span>      len--;
<span class="linenr">25: </span>    }
<span class="linenr">26: </span>  getch();
<span class="linenr">27: </span>
<span class="linenr">28: </span>  endwin();
<span class="linenr">29: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">30: </span>}
<span class="linenr">31: </span>
<span class="linenr">32: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">fill</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">33: </span>{
<span class="linenr">34: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">a</span>,<span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">y</span>;
<span class="linenr">35: </span>
<span class="linenr">36: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">37: </span>  <span style="color: #00ffff;">for</span>(a=0; a&lt;y; a++)
<span class="linenr">38: </span>    addstr(<span style="color: #ffa07a;">"A B C D E F G H I J K L M N O P Q R S T U V W X Y Z\n"</span>);
<span class="linenr">39: </span>}
</pre>
</div>
</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-sec-8-3" class="outline-3">
<h3 id="sec-8-3">Less of Hamlet                                                     <a id="less_of_hamlet" name="less_of_hamlet"></a></h3>
<div class="outline-text-3" id="text-8-3">
<p>
On the deleting side, NCurses offers the <code>delch()</code> and <code>deleteln()</code>
functions. My favorite is <code>delch()</code> because I can pronounce
it. Even so, the following source code in <a href="#Listing-5-6">Listing 5-6</a> shows
<code>deleteln()</code> first. It's a modification of the original <code>hamlet.c</code>
source code, which makes typing easier.
</p>

<dl class="org-dl">
<dt> <a id="Listing-5-6" name="Listing-5-6">Listing 5-6</a> </dt><dd><a href="code/book/hamlet4.c"><code>hamlet4.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="hamlet4.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham1</span>[] = <span style="color: #ffa07a;">"To be, or not to be: that is the question:\n"</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham2</span>[] = <span style="color: #ffa07a;">"Whether 'tis nobler in the mind to suffer\n"</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham3</span>[] = <span style="color: #ffa07a;">"The slings and arrows of outrageous fortune,\n"</span>;
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham4</span>[] = <span style="color: #ffa07a;">"Or to take arms against a sea of troubles,\n"</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham5</span>[] = <span style="color: #ffa07a;">"And by opposing end them?\n"</span>;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  initscr();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  addstr(Ham1);
<span class="linenr">14: </span>  addstr(Ham2);
<span class="linenr">15: </span>  addstr(Ham3);
<span class="linenr">16: </span>  addstr(Ham4);
<span class="linenr">17: </span>  addstr(Ham5);
<span class="linenr">18: </span>  refresh();
<span class="linenr">19: </span>  getch();         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">wait for key press         </span><span style="color: #ff4500;">*/</span>
<span class="linenr">20: </span>
<span class="linenr">21: </span>  move(1,0);       <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">move to the line to delete </span><span style="color: #ff4500;">*/</span>
<span class="linenr">22: </span>  deleteln();      <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Delete and backscroll      </span><span style="color: #ff4500;">*/</span>
<span class="linenr">23: </span>  refresh();
<span class="linenr">24: </span>  getch();         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">wait for key press         </span><span style="color: #ff4500;">*/</span>
<span class="linenr">25: </span>
<span class="linenr">26: </span>  endwin();
<span class="linenr">27: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">28: </span>}
</pre>
</div>
</dd>
</dl>


<p>
First, the whole chunk of text is displayed. Good.
</p>

<p>
Press Enter to delete the text. Note how it scrolls up? Yes, the
<code>deleteln()</code> function is nearly the opposite of the <code>insertln()</code>
function, complete with logical reverse scrolling. And the vanished
line goes off into bit-hell as well; don't look for it anywhere.
</p>

<p>
Do note that <code>deleteln()</code> does not affect the location of the
cursor. After the last <code>refresh()</code> command above, the cursor is
still at location 1,0, eagerly awaiting more text to be added to
the screen.
</p>
</div>

<div id="outline-container-sec-8-3-1" class="outline-4">
<h4 id="sec-8-3-1">Goodbye, Chunk of Text!                                           <a id="goodbye_chunk_of_text" name="goodbye_chunk_of_text"></a></h4>
<div class="outline-text-4" id="text-8-3-1">
<p>
It's time to edit Hamlet's speech. Your job is to display the
text, then press a key to delete the word "<code>outrageous</code>".
</p>

<p>
The command to use is <code>delch()</code>, which has no arguments. It simply
removes whichever character happens to be lurking at the current
cursor position. Any characters to the right on the same line are
then shuffled over left one notch; a blank character is then added
to the end of the line.
</p>

<p>
Hint: "<code>outrageous</code>" is 10 characters long, but you probably also
want to delete the space character immediately after it. So 11.
</p>

<p>
Here's another hint: Row 2, Column 25.
</p>

<p>
You should be able to see the text displayed, press a key, and
then watch as the word "outrageous" vanishes. Such tidy editing.
</p>

<p>
As long as your program worked, everything is fine by me. For
comparison purposes only, <a href="#Listing-5-7">Listing 5-7</a> shows my solution to the
problem.
</p>

<dl class="org-dl">
<dt> <a id="Listing-5-7" name="Listing-5-7">Listing 5-7</a> </dt><dd><a href="code/book/hamlet5.c"><code>hamlet5.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="hamlet5.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham1</span>[] = <span style="color: #ffa07a;">"To be, or not to be: that is the question:\n"</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham2</span>[] = <span style="color: #ffa07a;">"Whether 'tis nobler in the mind to suffer\n"</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham3</span>[] = <span style="color: #ffa07a;">"The slings and arrows of outrageous fortune,\n"</span>;
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham4</span>[] = <span style="color: #ffa07a;">"Or to take arms against a sea of troubles,\n"</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham5</span>[] = <span style="color: #ffa07a;">"And by opposing end them?\n"</span>;
<span class="linenr">10: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>;
<span class="linenr">11: </span>
<span class="linenr">12: </span>  initscr();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  addstr(Ham1);
<span class="linenr">15: </span>  addstr(Ham2);
<span class="linenr">16: </span>  addstr(Ham3);
<span class="linenr">17: </span>  addstr(Ham4);
<span class="linenr">18: </span>  addstr(Ham5);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  getch();             <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">wait for key press                  </span><span style="color: #ff4500;">*/</span>
<span class="linenr">21: </span>
<span class="linenr">22: </span>  move(2,25);          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">move to the start of "outrageous"   </span><span style="color: #ff4500;">*/</span>
<span class="linenr">23: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;11;c++)
<span class="linenr">24: </span>    delch();           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">gobble!                             </span><span style="color: #ff4500;">*/</span>
<span class="linenr">25: </span>  refresh();
<span class="linenr">26: </span>  getch();             <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">wait for key press                  </span><span style="color: #ff4500;">*/</span>
<span class="linenr">27: </span>
<span class="linenr">28: </span>  endwin();
<span class="linenr">29: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">30: </span>}
</pre>
</div>
</dd>
</dl>

<p>
Gobble! Note that <code>delch()</code> does not "backscroll" the screen or
"reverse wrap" any text from the following line. You can make such
a thing happens, but <i>you</i> will have to write the code that does
it.
</p>
</div>
</div>

<div id="outline-container-sec-8-3-2" class="outline-4">
<h4 id="sec-8-3-2">Out It Goes and in It Comes                                       <a id="out_it_goes_and_in_it_comes" name="out_it_goes_and_in_it_comes"></a></h4>
<div class="outline-text-4" id="text-8-3-2">
<p>
One more final modification to the Hamlet speech!
</p>

<p>
On your own, modify the source code so that it displays each
character of "<code>outrageous</code>" being deleted one at a time. Further,
modify the source code so that the word "<code>obnoxious</code>" is inserted
in place of "<code>outrageous</code>", again one character at a time. Hint:
Use the <code>napms()</code> function to create a delay between inserting and
deleting each character.
</p>

<p>
How did you do? Did you forget to not delete (or reinsert) the
space after "outrageous"? Did you use <code>insch()</code> and discover that
your new text was inserted backward? Or did you cheat and just use
my solution, shown in <a href="#Listing-5-8">Listing 5-8</a>?
</p>

<dl class="org-dl">
<dt> <a id="Listing-5-8" name="Listing-5-8">Listing 5-8</a> </dt><dd><a href="code/book/hamlet6.c"><code>hamlet6.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="hamlet6.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham1</span>[] = <span style="color: #ffa07a;">"To be, or not to be: that is the question:\n"</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham2</span>[] = <span style="color: #ffa07a;">"Whether 'tis nobler in the mind to suffer\n"</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham3</span>[] = <span style="color: #ffa07a;">"The slings and arrows of outrageous fortune,\n"</span>;
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham4</span>[] = <span style="color: #ffa07a;">"Or to take arms against a sea of troubles,\n"</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">Ham5</span>[] = <span style="color: #ffa07a;">"And by opposing end them?\n"</span>;
<span class="linenr">10: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">ob</span> = <span style="color: #ffa07a;">"obnoxious"</span>;
<span class="linenr">11: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  initscr();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  addstr(Ham1);
<span class="linenr">16: </span>  addstr(Ham2);
<span class="linenr">17: </span>  addstr(Ham3);
<span class="linenr">18: </span>  addstr(Ham4);
<span class="linenr">19: </span>  addstr(Ham5);
<span class="linenr">20: </span>  refresh();
<span class="linenr">21: </span>  getch();               <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">wait for key press                  </span><span style="color: #ff4500;">*/</span>
<span class="linenr">22: </span>
<span class="linenr">23: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">First, remove "outrageous" </span><span style="color: #ff4500;">*/</span>
<span class="linenr">24: </span>
<span class="linenr">25: </span>  move(2,25);            <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">move to the start of "outrageous"   </span><span style="color: #ff4500;">*/</span>
<span class="linenr">26: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;10;c++)      <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">only loop 2 times                   </span><span style="color: #ff4500;">*/</span>
<span class="linenr">27: </span>    {
<span class="linenr">28: </span>      delch();           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">gobble!                             </span><span style="color: #ff4500;">*/</span>
<span class="linenr">29: </span>      refresh();         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">update screen (cursor doesn't move) </span><span style="color: #ff4500;">*/</span>
<span class="linenr">30: </span>
<span class="linenr">31: </span>      napms(100);        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">pause                               </span><span style="color: #ff4500;">*/</span>
<span class="linenr">32: </span>    }
<span class="linenr">33: </span>
<span class="linenr">34: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Second, insert "obnoxious" </span><span style="color: #ff4500;">*/</span>
<span class="linenr">35: </span>
<span class="linenr">36: </span>  move(2,25);            <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">reset cursor                        </span><span style="color: #ff4500;">*/</span>
<span class="linenr">37: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;9;c++)
<span class="linenr">38: </span>    {
<span class="linenr">39: </span>      insch( *(ob+8-c) );
<span class="linenr">40: </span>      refresh();
<span class="linenr">41: </span>      napms(100);
<span class="linenr">42: </span>    }
<span class="linenr">43: </span>  getch();
<span class="linenr">44: </span>
<span class="linenr">45: </span>  endwin();
<span class="linenr">46: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">47: </span>}
</pre>
</div>
</dd>
</dl>


<p>
In this source code, I decided to use a little pointer math to
display the "<code>obnoxious</code>" string:
</p>

<div class="org-src-container">

<pre class="src src-c">insch(*(ob+8-c));
</pre>
</div>

<p>
Pointer <code>ob</code> is positioned to point at the "s" in obnoxious.
That's eight characters into the string minus the value of <code>c</code>,
which is zero at the start of the <code>for</code> loop. As the for loop
progress, the value of <code>c</code> increases, which backsteps one
character at a time through the string.
</p>

<p>
Remember that <code>insch()</code> inserts text backward because it doesn't
move the cursor. So you have to slide "<code>obnoxious</code>" in back to
front.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9">CHAPTER  6 Clearing and Zapping                                     <a id="chapter_6" name="chapter_6"></a></h2>
<div class="outline-text-2" id="text-9">
<p>
There is a difference between clearing a chunk of the screen and
deleting text in NCurses. That difference is that clearing merely
erases, replacing the text with blank characters. Deleting, on the
other hand, removes the text and tightens up the hole, which is
demonstrated with the <code>delch()</code> and <code>deleteln()</code> functions in
<a href="#chapter_5">Chapter 5</a>.
</p>

<p>
In this chapter, you're introduced to the handful of NCurses
commands that erase text without scrolling or tightening up the
holes. I call it "Clearing and Zapping."
</p>
</div>

<div id="outline-container-sec-9-1" class="outline-3">
<h3 id="sec-9-1">Commands to Erase Chunks of the Screen                             <a id="commands_to_erase_chunks_of_the_screen" name="commands_to_erase_chunks_of_the_screen"></a></h3>
<div class="outline-text-3" id="text-9-1">
<p>
NCurses sports four functions to clear or erase any chunk of the
screen:
</p>

<ul class="org-ul">
<li><code>erase()</code>
</li>
<li><code>clear()</code>
</li>
<li><code>clrtobot()</code>
</li>
<li><code>clrtoeol()</code>
</li>
</ul>


<p>
The <code>erase()</code> and <code>clear()</code> functions do pretty much the same
thing: clear the screen. Between the two, the <code>clear()</code> function is
more thorough, though it has more internal overhead.
</p>

<p>
The <code>clrtobot()</code> function clears from the cursor's current position
to the bottom of the screen. And <code>clrtoeol()</code> clears from the
cursor's position to the end of the current line. Simple.
</p>
</div>

<div id="outline-container-sec-9-1-1" class="outline-4">
<h4 id="sec-9-1-1">The Obligatory Test Program                                       <a id="the_obligatory_test_program" name="the_obligatory_test_program"></a></h4>
<div class="outline-text-4" id="text-9-1-1">
<p>
The best way to demonstrate the erase-chunks commands is to have
something on the screen worthy of erasure. For that I present the
<code>blah1.c</code> program in <a href="#Listing-6-1">Listing 6-1</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-6-1" name="Listing-6-1">Listing 6-1</a> </dt><dd><a href="code/book/blah1.c"><code>blah1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="blah1.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>,<span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">cmax</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">10: </span>  cmax = (x * y) / 5;
<span class="linenr">11: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;cmax;c++) addstr(<span style="color: #ffa07a;">"blah "</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  endwin();
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The code uses the <code>getmaxyx()</code> function to grab the screen size,
given in <code>y</code> columns and <code>x</code> rows. Then a calculation is made to
determine the maximum number of strings, <code>blah+space</code>, that can be
put on the terminal screen.
</p>

<p>
Running the program results in a screen full of blah, as shown in
<a href="#Figure-6-1">Figure 6-1</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-6-1" name="Figure-6-1">Figure 6-1</a> </dt><dd>Screen full of blah


<div class="figure">
<p><img src="img/Figure6-1.jpg" alt="Figure6-1.jpg" />
</p>
</div>
</dd>
</dl>


<p>
Now you're ready to experiment with clearing chunks of text on the
screen.
</p>
</div>
</div>

<div id="outline-container-sec-9-1-2" class="outline-4">
<h4 id="sec-9-1-2">Clear the Screen!                                                 <a id="clear_the_screen" name="clear_the_screen"></a></h4>
<div class="outline-text-4" id="text-9-1-2">
<p>
The first modification to <code>blah1.c</code> is the <code>BLAH2.C</code> source code
shown in <a href="#Listing-6-2">Listing 6-2</a>. This code shows how the <code>clear</code> function is
used to clear the screen.
</p>

<dl class="org-dl">
<dt> <a id="Listing-6-2" name="Listing-6-2">Listing 6-2</a> </dt><dd><a href="code/book/blah2.c"><code>blah2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="blah2.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>,<span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">cmax</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">10: </span>  cmax = (x * y) / 5;
<span class="linenr">11: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;cmax;c++) addstr(<span style="color: #ffa07a;">"blah "</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  clear();             <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">clear the screen   </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>  refresh();           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">don't forget this! </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>  getch();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  endwin();
<span class="linenr">20: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">21: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The code in <a href="#Listing-6-2">Listing 6-2</a> uses the <code>clear()</code> function in line 15 to
clear the standard screen window. But that does nothing visually;
remember that a <code>refresh()</code> function is required (line 16) to show
what's been done.
</p>

<p>
Note that this clearing of the screen moves the cursor to "home"
after clearing the screen, just as if you issued a <code>move(0,0)</code>
function.
</p>
</div>
</div>

<div id="outline-container-sec-9-1-3" class="outline-4">
<h4 id="sec-9-1-3">Clear or Erase?                                                   <a id="clear_or_erase" name="clear_or_erase"></a></h4>
<div class="outline-text-4" id="text-9-1-3">
<p>
The <code>erase()</code> and <code>clear()</code> functions are nearly identical, but the
<code>clear()</code> function does a more thorough job, ensuring that the
NCurses window is completely redrawn from scratch the next time a
<code>refresh()</code> function is issued.
</p>

<p>
Using the <code>BLAH2.C</code> source code, create a file, <a href="code/book/blah3.c"><code>blah3.c</code></a>. In that
file, replace line 15 with:
</p>

<div class="org-src-container">

<pre class="src src-c">erase();
</pre>
</div>

<p>
The output is the same.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-9-2" class="outline-3">
<h3 id="sec-9-2">Clrto means Clear To                                               <a id="clrto_means_clear_to" name="clrto_means_clear_to"></a></h3>
<div class="outline-text-3" id="text-9-2">
<p>
Oftentimes, you don't really want to erase the entire screen but
rather only part of it. Because the text screen runs top to bottom,
the two nonfull-screen NCurses erasing functions erase text from
the cursor's current position to either the end of the current line
of text or the end of the screen, depending on which you use.
</p>
</div>

<div id="outline-container-sec-9-2-1" class="outline-4">
<h4 id="sec-9-2-1">Less Blah on the End of a Line                                    <a id="less_blah_on_the_end_of_a_line" name="less_blah_on_the_end_of_a_line"></a></h4>
<div class="outline-text-4" id="text-9-2-1">
<p>
The <code>clrtoeol()</code> function (see <a href="#Listing-6-3">Listing 6-3</a>) is used to erase text
from the cursor's position to the end of the current line. If you
use the vi/vim editor, this is equivalent to the <code>D</code> command,
though, unlike a text editor, <code>clrtoeol()</code> erases text on the
screen; it's a visual command.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd><i>EOL</i> means <i>End of Line</i> in primitive computer-speak.
There is no EOL control code, though the Master Computer
in the film Tron said, "End of line," whenever it was
done talking. This trivia tidbit has absolutely nothing
to do with NCurses.
</dd>

<dt> <a id="Listing-6-3" name="Listing-6-3">Listing 6-3</a> </dt><dd><a href="code/book/blah4.c"><code>blah4.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="blah.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>,<span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">cmax</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">10: </span>  cmax = (x * y) / 5;
<span class="linenr">11: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;cmax;c++) addstr(<span style="color: #ffa07a;">"blah "</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  move(5,20);          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Setup the cursor         </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>  clrtoeol();          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">clear to the end of line </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>  refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  endwin();
<span class="linenr">21: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">22: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The <code>clrtoeol()</code> function clears text only from the cursor's
position to the end of the line (line 6). No surprises. No
shocks. No Taco Bell dog dancing across the screen.
</p>

<p>
And, yes, the <code>clrtoeol()</code> function does not affect the cursor's
position, nor does it alter any text on any other row.
</p>
</div>
</div>

<div id="outline-container-sec-9-2-2" class="outline-4">
<h4 id="sec-9-2-2">Less Blah to the End of the Screen                                <a id="less_blah_to_the_end_of_the_screen" name="less_blah_to_the_end_of_the_screen"></a></h4>
<div class="outline-text-4" id="text-9-2-2">
<p>
The <code>clrtobot()</code> function (see <a href="#Listing-6-4">Listing 6-4</a>) takes all the text
from the cursor's position to the last position on the screen and
replaces the text with blanks (spaces). After using <code>clrtobot()</code>,
the screen looks half blank, more or less.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd><i>BOT</i> means <i>Bottom of Text</i>.
</dd>

<dt> <a id="Listing-6-4" name="Listing-6-4">Listing 6-4</a> </dt><dd><a href="code/book/blah5.c"><code>blah5.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="blah5.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>,<span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">cmax</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">10: </span>  cmax = (x * y) / 5;
<span class="linenr">11: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;cmax;c++) addstr(<span style="color: #ffa07a;">"blah "</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  move(5,20);        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Setup the cursor           </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>  clrtobot();        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">clear to the end of screen </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>  refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  endwin();
<span class="linenr">21: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">22: </span>}
</pre>
</div>
</dd>
</dl>


<p>
From the original <code>blah4.c</code> source code, only line 16 is
changed. Replace the <code>clrtoeol()</code> function with <code>clrtobot()</code>. That
directs NCurses to clear the screen from the cursor's position
(5,20) to the end of the screen.
</p>

<p>
The screen fills with the "blahs" again. Press a key, and the
bottom twothirds is zapped, leaving only four "blahs" on
line 6. It looks something like <a href="#Figure-6-2">Figure 6-2</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-6-2" name="Figure-6-2">Figure 6-2</a> </dt><dd>Using <code>clrtobot()</code> to clear part of the
screen


<div class="figure">
<p><img src="img/Figure6-2.jpg" alt="Figure6-2.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-sec-9-3" class="outline-3">
<h3 id="sec-9-3">You Mean that's It for My NCurses Erasing Fun and Excitement?      <a id="you_mean_that_s_it_for_my_ncurses_erasing_fun_and_excitement" name="you_mean_that_s_it_for_my_ncurses_erasing_fun_and_excitement"></a></h3>
<div class="outline-text-3" id="text-9-3">
<p>
yep.
</p>

<p>
There are no NCurses commands to clear the top part of the screen,
so no counterpart to <code>clrtobot()</code> exists. Likewise, no command
exists to erase text from the cursor's position to the <i>start</i> of a
line. Even so, it's possible to code these commands yourself,
should you need them.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10">CHAPTER  7 Keyboard Madness!                                        <a id="chapter_7" name="chapter_7"></a></h2>
<div class="outline-text-2" id="text-10">
<p>
The <code>getch()</code> function is one of the immediate blessings that
NCurses offers struggling *nix programmers. Unlike the C macro
<code>getchar()</code>, which is a stream-reading command, <code>getch()</code> hops back
right away with whatever key was pressed. Such a function helps make
your programs more interactive, which can be a huge bonus.
</p>

<p>
Using <code>getch()</code> merely to read the keyboard is grand, but there is
far more <code>getch()</code> can do. In fact, this lengthy chapter discusses
many of the options available to <code>getch()</code> and how you can use it to
do more than you possibly expected.
</p>
</div>

<div id="outline-container-sec-10-1" class="outline-3">
<h3 id="sec-10-1">Reading from the Keyboard                                          <a id="reading_from_the_keyboard" name="reading_from_the_keyboard"></a></h3>
<div class="outline-text-3" id="text-10-1">
<p>
The <code>getch()</code> function normally waits until a key is pressed on the
keyboard. This is known as a <i>blocking</i> call; program execution is
stopped until a key is pressed. But it's possible to change that
behavior so that <code>getch()</code> does not pause the program. In NCurses,
that's done with the <code>nodelay()</code> function.
</p>

<div class="org-src-container">

<pre class="src src-c">nodelay(stdscr,TRUE)
</pre>
</div>

<p>
The preceding function directs the <code>getch()</code> function to become
nonblocking for the given window, the standard screen
(<code>stdscr</code>). To restore <code>getch()</code> to its normal blocking mode, this
version of <code>nodelay()</code> is used:
</p>

<div class="org-src-container">

<pre class="src src-c">nodelay(stdscr,FALSE)
</pre>
</div>

<p>
When <code>getch()</code> is in nonblocking mode, it will not pause program
execution to wait for a key press. Instead, when no key is pressed
or a key isn't waiting to be read from the keyboard buffer,
<code>getch()</code> returns the value <code>ERR</code> â and the program
continues. Likewise, if a key is pressed, <code>getch()</code> returns the
key's value, as it usually does â and the program continues.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd><code>TRUE</code>, <code>FALSE</code>, and <code>ERR</code> are defined in <code>ncurses.h</code>.
</dd>
</dl>
</div>

<div id="outline-container-sec-10-1-1" class="outline-4">
<h4 id="sec-10-1-1">Is a Character Waiting?                                           <a id="is_a_character_waiting" name="is_a_character_waiting"></a></h4>
<div class="outline-text-4" id="text-10-1-1">
<p>
The following program in <a href="#Listing-7-1">Listing 7-1</a> demonstrates how <code>getch()</code>'s
personality can be changed by using the <code>nodelay()</code> function.
</p>

<dl class="org-dl">
<dt> <a id="Listing-7-1" name="Listing-7-1">Listing 7-1</a> </dt><dd><a href="code/book/keywait1.c"><code>keywait1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="keywait1.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">value</span> = 0;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"Press any key to begin:\n"</span>);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  getch();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  nodelay(stdscr,TRUE);           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">turn off getch() wait </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  addstr(<span style="color: #ffa07a;">"Press any key to stop the insane loop!\n"</span>);
<span class="linenr">15: </span>  <span style="color: #00ffff;">while</span>(getch() == ERR)
<span class="linenr">16: </span>    {
<span class="linenr">17: </span>      printw(<span style="color: #ffa07a;">"%d\r"</span>,value++);
<span class="linenr">18: </span>      refresh();
<span class="linenr">19: </span>    }
<span class="linenr">20: </span>
<span class="linenr">21: </span>  endwin();
<span class="linenr">22: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">23: </span>}
</pre>
</div>
</dd>
</dl>


<p>
At first, in line 11, <code>getch()</code> carries on its normal blocking
function. The program waits for a key to be pressed on the
keyboard. (The key's value is unimportant, so it's not saved.)
</p>

<p>
The <code>nodelay()</code> function in line 13 turns off <code>getch()</code>'s
blocking. Therefore, the <code>while</code> loop continues as long as
<code>getch()</code> returns the value <code>ERR</code>, which is what it generates when
no key has been pressed. During the while loop, values are
displayed on the screen so that you're aware of the program
continuing.
</p>

<p>
Note that there is no need to restore <code>getch()</code>'s function with
another <code>nodelay()</code> function, at least not in this example.
</p>
</div>
</div>

<div id="outline-container-sec-10-1-2" class="outline-4">
<h4 id="sec-10-1-2">Testing Waiting Characters                                        <a id="testing_waiting_characters" name="testing_waiting_characters"></a></h4>
<div class="outline-text-4" id="text-10-1-2">
<p>
With <code>getch()</code>'s waiting ability turned off, you can use <code>getch()</code>
to filter through keys pressed on the keyboard and scan for only
those you need, discarding the rest.
</p>

<p>
For example, suppose you need to modify the <code>keywait1.c</code> program
so that instead of any key stopping the insane loop, only the
spacebar works to stop it.
</p>

<p>
Try it! Modify the <code>keywait1.c</code> source code on your own. Change
the code so that only the spacebar key stops the insane
loop. There are many ways to do this, so be creative!
</p>

<p>
If you've done things properly, the program stops the loop only
when the spacebar has been pressed. You can press other keys on
the keyboard, and the program continues to loop; only the spacebar
stops it.
</p>

<p>
<a href="#Listing-7-2">Listing 7-2</a> shows my solution, though it is only one of many.
</p>

<dl class="org-dl">
<dt> <a id="Listing-7-2" name="Listing-7-2">Listing 7-2</a> </dt><dd><a href="code/book/keywait2.c"><code>keywait2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="keywait2.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">value</span> = 0;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"Press any key to begin:\n"</span>);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  getch();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  nodelay(stdscr,TRUE);           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">turn off getch() wait </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  addstr(<span style="color: #ffa07a;">"Press the Spacebar to stop the insane loop!\n"</span>);
<span class="linenr">15: </span>  <span style="color: #00ffff;">while</span>(1)
<span class="linenr">16: </span>    {
<span class="linenr">17: </span>      printw(<span style="color: #ffa07a;">"%d\r"</span>,value++);
<span class="linenr">18: </span>      refresh();
<span class="linenr">19: </span>      <span style="color: #00ffff;">if</span>(getch() == <span style="color: #ffa07a;">' '</span>) <span style="color: #00ffff;">break</span>;
<span class="linenr">20: </span>    }
<span class="linenr">21: </span>
<span class="linenr">22: </span>  endwin();
<span class="linenr">23: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">24: </span>}
</pre>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-10-1-3" class="outline-4">
<h4 id="sec-10-1-3">How to Implement <code>kbhit()</code>                                        <a id="how_to_implement_kbhit" name="how_to_implement_kbhit"></a></h4>
<div class="outline-text-4" id="text-10-1-3">
<p>
If you're an ancient DOS programmer or just familiar with the C
language on the PC, you might remember (and reminisce about) the
old <code>kbhit()</code> function.  It was used to determine whether or not
characters were waiting to be read from the keyboard
buffer. <code>kbhit()</code> returned <code>TRUE</code> if characters were waiting,
<code>FALSE</code> otherwise.
</p>

<p>
You can use <code>nodelay()</code> and <code>getch()</code> in NCurses to emulate this
behavior somewhat but not exactly. The problem is that <code>getch()</code>
still fetches a key. So what you need is a way to take that key
and stuff it back to the keyboard input queue. The function that
handles that is called, logically, <code>ungetch()</code>. Here's the format:
</p>

<div class="org-src-container">

<pre class="src src-c">ungetch(ch)
</pre>
</div>

<p>
The <code>ungetch()</code> function places the character ch back into the
input buffer.  You can do this to pre-stuff characters if you like
or to toss back characters when creating a <code>kbhit()</code>-like
function, as shown in <a href="#Listing-7-3">Listing 7-3</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-7-3" name="Listing-7-3">Listing 7-3</a> </dt><dd><a href="code/book/kbhit.c"><code>kbhit.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="kbhit.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">kbhit</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>,<span style="color: #eedd82;">r</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">turn off getch() blocking and echo </span><span style="color: #ff4500;">*/</span>
<span class="linenr"> 8: </span>  nodelay(stdscr,TRUE);
<span class="linenr"> 9: </span>  noecho();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">check for input </span><span style="color: #ff4500;">*/</span>
<span class="linenr">12: </span>  ch = getch();
<span class="linenr">13: </span>  <span style="color: #00ffff;">if</span>( ch == ERR)           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">no input </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>    r = FALSE;
<span class="linenr">15: </span>  <span style="color: #00ffff;">else</span>                     <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">input   </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>    {
<span class="linenr">17: </span>      r = TRUE;
<span class="linenr">18: </span>      ungetch(ch);
<span class="linenr">19: </span>    }
<span class="linenr">20: </span>
<span class="linenr">21: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">restore block and echo </span><span style="color: #ff4500;">*/</span>
<span class="linenr">22: </span>  echo();
<span class="linenr">23: </span>  nodelay(stdscr,FALSE);
<span class="linenr">24: </span>  <span style="color: #00ffff;">return</span>(r);
<span class="linenr">25: </span>}
<span class="linenr">26: </span>
<span class="linenr">27: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">28: </span>{
<span class="linenr">29: </span>  initscr();
<span class="linenr">30: </span>
<span class="linenr">31: </span>  addstr(<span style="color: #ffa07a;">"Press any key to end this program:"</span>);
<span class="linenr">32: </span>  <span style="color: #00ffff;">while</span>(!kbhit())
<span class="linenr">33: </span>    ;
<span class="linenr">34: </span>
<span class="linenr">35: </span>  endwin();
<span class="linenr">36: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">37: </span>}
</pre>
</div>
</dd>
</dl>


<p>
And when you press a key, the program ends. <i>VoÃ­lÃ </i>, there is your
<code>kbhit()</code> function equivalent.
</p>

<p>
Of course, this function does assume that <code>echo()</code> is set and
<code>nodelay()</code> is <code>FALSE</code> for the standard screen. It also assumes
that the standard screen is the input screen. Adjust these items
as needed for your own use, or just assume that <code>kbhit()</code> makes
these assumptions and live with it.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>See the section "<a href="#silence_please">Silence, please!</a>" later in this chapter
for more information on the <a href="#echo"><code>echo()</code></a> function.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-10-1-4" class="outline-4">
<h4 id="sec-10-1-4">Flushing Input                                                    <a id="flushing_input" name="flushing_input"></a></h4>
<div class="outline-text-4" id="text-10-1-4">
<p>
Text typed at the computer keyboard is stored in a buffer. The
various textreading, or keyboard input, functions fetch characters
from that buffer as the program needs them, which is a basic
description of how keyboard input works.
</p>

<p>
The reason for the buffer is to allow for keyboard input while the
program is doing something else. I can think of two benefits to
this:
</p>

<ul class="org-ul">
<li>First, it allows you to type ahead while the computer can do
something else (and the keyboard buffer is often called the
<i>type-ahead buffer</i>).
</li>

<li>Second, it means that the program doesn't have to constantly
scan the keyboard to determine whether you've pressed a key.
</li>
</ul>


<p>
There are times, however, when you want to clear or <i>flush</i> the
keyboard buffer. For example, suppose your program asks a very
serious question and requires a Y or N key press. There may just
be a rogue Y or N in the keyboard buffer, so when your program
pauses to read the keyboard, it may read that older key press
instead of the one corresponding to the current question. To
prevent that from happening, you can flush input, clearing the
keyboard buffer.  In NCurses, the <code>flushinp()</code> function carries
out that task (see <a href="#Listing-7-4">Listing 7-4</a>).
</p>

<dl class="org-dl">
<dt> <a id="Listing-7-4" name="Listing-7-4">Listing 7-4</a> </dt><dd><a href="code/book/flush1.c"><code>flush1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="flush1.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">buffer</span>[81];
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"Type on the keyboard whilst I wait...\n"</span>);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  napms(5000);        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">5 seconds </span><span style="color: #ff4500;">*/</span>
<span class="linenr">12: </span>
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"Here is what you typed:\n"</span>);
<span class="linenr">14: </span>  getnstr(buffer,80);
<span class="linenr">15: </span>  refresh();
<span class="linenr">16: </span>
<span class="linenr">17: </span>  endwin();
<span class="linenr">18: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">19: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The program displays some text:
</p>

<pre class="example">
Type on the keyboard whilst I wait...
</pre>

<p>
While that's on the screen, type something such as your name or
the everpopular <b>asdf</b>. Then, after a five-second pause, you'll
see that text displayed.
</p>

<p>
The <code>flush1.c</code> code demonstrates the type-ahead buffer in
action. While the <code>napms()</code> function in line 11 is holding up
program execution, the keyboard can still be used, and any
characters you type are stored in the keyboard's buffer. The
<code>getnstr()</code> function later picks up, processes, and displays what
you typed, what was waiting in the buffer. Pressing Enter ends
<code>getnstr()</code>'s waiting, also ending the program.
</p>

<p>
The following modification to <code>flush1.c</code> in <a href="#Listing-7-5">Listing 7-5</a> inserts
the <code>flushinp()</code> function before <code>getnstr()</code>. Because input is
flushed, anything you type will be erased from the buffer and
<code>getnstr()</code> will just have to wait!
</p>

<dl class="org-dl">
<dt> <a id="Listing-7-5" name="Listing-7-5">Listing 7-5</a> </dt><dd><a href="code/book/flush2.c"><code>flush2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="flush2.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">buffer</span>[81];
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"Type on the keyboard whilst I wait...\n"</span>);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  napms(5000);        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">5 seconds </span><span style="color: #ff4500;">*/</span>
<span class="linenr">12: </span>
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"Here is what you typed:\n"</span>);
<span class="linenr">14: </span>  flushinp();
<span class="linenr">15: </span>  getnstr(buffer,80);
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>
<span class="linenr">18: </span>  endwin();
<span class="linenr">19: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">20: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Line 14 is the new line.
</p>

<p>
When the code is run, you'll see:
</p>

<div class="org-src-container">

<pre class="src src-e">Type on the keyboard whilst I wait...
</pre>
</div>

<p>
Go ahead and type text as you did before. Then wait.
</p>

<div class="org-src-container">

<pre class="src src-e">Here is what you typed:
</pre>
</div>

<p>
Because of the <code>flushinp()</code> function, no text is displayed.
</p>
</div>
</div>

<div id="outline-container-sec-10-1-5" class="outline-4">
<h4 id="sec-10-1-5">Silence, Please!                                                  <a id="silence_please" name="silence_please"></a></h4>
<div class="outline-text-4" id="text-10-1-5">
<p>
Aside from waiting for your keyboard input, another normal
behavior for <code>getch()</code> is to echo, or display, the character typed
on the screen. It was popular for old C compilers to include a
<code>getch()</code> function that did not echo the character typed; it was
the companion <code>getche()</code> function that <i>echoed</i> the character
typed to the display.
</p>

<p>
Those old functions are long gone (though I've seen them in some C
compilers). Even so, the point is that turning text-echoing off
and on is something programmers desire, as shown in <a href="#Listing-7-6">Listing
7-6</a>. NCurses is happy to oblige.
</p>

<dl class="org-dl">
<dt> <a id="Listing-7-6" name="Listing-7-6">Listing 7-6</a> </dt><dd><a href="code/book/whoru.c"><code>whoru.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="whoru.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">name</span>[46];
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">password</span>[9];
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  mvprintw(3,10,<span style="color: #ffa07a;">"Enter your name: "</span>);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  getnstr(name,45);
<span class="linenr">13: </span>  mvprintw(5,6,<span style="color: #ffa07a;">"Enter your password: "</span>);
<span class="linenr">14: </span>  refresh();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  getnstr(password,8);
<span class="linenr">17: </span>
<span class="linenr">18: </span>  endwin();
<span class="linenr">19: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">20: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The program asks for your name and password. Sadly, the password
is displayed as it's typed, which is a security risk. It would be
nice to turn off the echo of characters while the password is
input, right? But not if you insert the following on line 15:
</p>

<div class="org-src-container">

<pre class="src src-c">noecho();
</pre>
</div>

<p>
After recompiling and running, the password is typed "in the
dark." The <code>noecho()</code> function affected input by not echoing the
characters typed. Yes, even though <code>getch()</code> isn't used,
internally the <code>getnstr()</code> function does use <code>getch()</code>'s guts, so
<code>noecho()</code> turns off the display for <i>all</i> input functions.
</p>

<p>
To turn on the display again (which isn't necessary in this sample
program), use the <code>echo()</code> function.
</p>

<p>
Remember! Even with <code>noecho()</code>, text is being processed by the
program.  The <code>noecho()</code> function affects only the display, not
the keyboard.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-10-2" class="outline-3">
<h3 id="sec-10-2">Reading Special Keys                                               <a id="reading_special_keys" name="reading_special_keys"></a></h3>
<div class="outline-text-3" id="text-10-2">
<p>
The amazing <code>getch()</code> function is so incredibly handy that
marketing wizards could do one of those 30-minute, late-night
infomercials on the thing. For example, when properly coddled,
<code>getch()</code> can be told to interpret nonalphanumeric keys on the
keyboard. This includes function keys, arrow keys, cursor control
keys, and even a few keys seldom found on the typical PC keyboard.
</p>
</div>
</div>

<div id="outline-container-sec-10-3" class="outline-3">
<h3 id="sec-10-3">Keypad On!                                                         <a id="keypad_on" name="keypad_on"></a></h3>
<div class="outline-text-3" id="text-10-3">
<p>
All keys on the computer keyboard generate a code when that key is
pressed.  The code is returned by key-reading functions, either as
the raw code itself or as some other special value as "cooked" by
the operating system.
</p>

<p>
In the case of the alphanumeric keys, the key's ASCII character
value is returned when you press that key. For other keys, other
values are returned, a 16-bit value, a pair of 8-bit values, or
perhaps even an escape sequence. Knowing which type of value
returned means you can determine exactly which key was pressed,
even nonalphanumeric keys. The drawback, of course, is that not
every terminal produces the same results or even has the same keys.
</p>

<p>
NCurses to the rescue!
</p>

<p>
The <code>ncurses.h</code> header file defines many of the extra keys found on
terminal keyboards. To activate and use those definitions, the
<code>keypad()</code> function is used:
</p>

<div class="org-src-container">

<pre class="src src-c">keypad(stdscr,TRUE)
</pre>
</div>

<p>
The <code>keypad()</code> function indicates which window it affects, such as
<code>stdscr</code> for the standard screen, followed by <code>TRUE</code> to turn the
feature on or <code>FALSE</code> to turn it off. Once enabled, your program
can use various defined keyboard constants to read those extra
keyboard keys, as the following program in <a href="#Listing-7-7">Listing 7-7</a>
demonstrates.
</p>

<dl class="org-dl">
<dt> <a id="Listing-7-7" name="Listing-7-7">Listing 7-7</a> </dt><dd><a href="code/book/arrowkeys.c"><code>arrowkeys.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="arrowkeys.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  keypad(stdscr,TRUE);
<span class="linenr">10: </span>  <span style="color: #00ffff;">do</span>
<span class="linenr">11: </span>    {
<span class="linenr">12: </span>      ch = getch();
<span class="linenr">13: </span>      <span style="color: #00ffff;">switch</span>(ch)
<span class="linenr">14: </span>        {
<span class="linenr">15: </span>        <span style="color: #00ffff;">case</span> KEY_DOWN:
<span class="linenr">16: </span>          addstr(<span style="color: #ffa07a;">"Down\n"</span>);
<span class="linenr">17: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">18: </span>        <span style="color: #00ffff;">case</span> KEY_UP:
<span class="linenr">19: </span>          addstr(<span style="color: #ffa07a;">"Up\n"</span>);
<span class="linenr">20: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">21: </span>        <span style="color: #00ffff;">case</span> KEY_LEFT:
<span class="linenr">22: </span>          addstr(<span style="color: #ffa07a;">"Left\n"</span>);
<span class="linenr">23: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">24: </span>        <span style="color: #00ffff;">case</span> KEY_RIGHT:
<span class="linenr">25: </span>          addstr(<span style="color: #ffa07a;">"Right\n"</span>);
<span class="linenr">26: </span>        <span style="color: #00ffff;">default</span>:
<span class="linenr">27: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">28: </span>        }
<span class="linenr">29: </span>      refresh();
<span class="linenr">30: </span>    } <span style="color: #00ffff;">while</span>(ch != <span style="color: #ffa07a;">'\n'</span>);
<span class="linenr">31: </span>
<span class="linenr">32: </span>  endwin();
<span class="linenr">33: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">34: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Locate the arrow keys on your computer keyboard. As you press each
arrow key, you'll see that key's direction displayed on the screen,
as shown in <a href="#Figure-7-1">Figure 7-1</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-7-1" name="Figure-7-1">Figure 7-1</a> </dt><dd>Sample output of the <code>arrowkeys.c</code> source
code


<div class="figure">
<p><img src="img/Figure7-1.jpg" alt="Figure7-1.jpg" />
</p>
</div>
</dd>

<dt> NOTE </dt><dd>Note that other keys display as well. That's because
<code>getch()</code> is in echo mode, and that's the way it behaves.
</dd>

<dt> NOTE </dt><dd>You will need to turn the numeric keypad off to use the
arrow keys on the 8, 4, 6, and 2 keys on the standard PC
keyboard.
</dd>
</dl>
</div>

<div id="outline-container-sec-10-3-1" class="outline-4">
<h4 id="sec-10-3-1">What's Where on the Keyboard                                      <a id="what_s_where_on_the_keyboard" name="what_s_where_on_the_keyboard"></a></h4>
<div class="outline-text-4" id="text-10-3-1">
<p>
When the <code>keypad()</code> function has activated the keyboard's extra
keys, you can use the definitions in <code>ncurses.h</code> to help your
program read the keys.
</p>

<p>
To determine exactly which keys are available to you, refer to
<a href="#Table-7-1">Table 7-1</a>. A more complete list can be found in <a href="#appendix_d">Appendix D</a>.
</p>

<dl class="org-dl">
<dt> <a id="Table-7-1" name="Table-7-1">Table 7-1</a> </dt><dd>Some special key definitions

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">DEFINITION</th>
<th scope="col" class="left">KEYBOARD KEY</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>KEY_UP</code></td>
<td class="left">Cursor up arrow</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_DOWN</code></td>
<td class="left">Cursor down arrow</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_LEFT</code></td>
<td class="left">Cursor left arrow</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_RIGHT</code></td>
<td class="left">Cursor right arrow</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_HOME</code></td>
<td class="left">Home key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_NPAGE</code></td>
<td class="left">Page Down or Next Page</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_PPAGE</code></td>
<td class="left">Page Up or Previous Page</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_END</code></td>
<td class="left">End key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_BACKSPACE</code></td>
<td class="left">Backspace key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_F(n)</code></td>
<td class="left">Function key <i>n</i></td>
</tr>
</tbody>
</table>
</dd>
</dl>


<p>
You might want to run some tests to assure that NCurses on your
computer can access the function keys. For example, to check for
Function key 5, you would use:
</p>

<div class="org-src-container">

<pre class="src src-c">ch == KEY_F(5)
</pre>
</div>

<p>
as the comparison. Remember that variable <code>ch</code> must be an <code>int</code>,
not a <code>char</code> (that's a common mistake).
</p>

<p>
Also be aware that your operating system may steal the function
keys from your program. If so, you can use the <code>raw()</code> function in
NCurses to try to get the function keys passed directly to your
program. Refer to <a href="#appendix_a">Appendix A</a> for more information on the <code>raw()</code>
function.
</p>
</div>
</div>

<div id="outline-container-sec-10-3-2" class="outline-4">
<h4 id="sec-10-3-2">The Highlighted Menu Bar                                          <a id="the_highlighted_menu_bar" name="the_highlighted_menu_bar"></a></h4>
<div class="outline-text-4" id="text-10-3-2">
<p>
Knowing what you've learned so far in this book, you should now be
able to pull off quite a few tricks using NCurses. One of them is
a fancy moving menu bar system, similar to what's shown in <a href="#Figure-7-2">Figure 7-2</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-7-2" name="Figure-7-2">Figure 7-2</a> </dt><dd>A sample menu bar system


<div class="figure">
<p><img src="img/Figure7-2.jpg" alt="Figure7-2.jpg" />
</p>
</div>
</dd>
</dl>


<p>
Working the menu system involves pressing the up or down arrows on
the keyboard. When you do, the highlight bar moves up or down to
select an item in the menu. Pressing the Enter key selects that
item.
</p>

<p>
The source code for such a fancy interface isn't really that
difficult, given the way NCurses works. <a href="#Listing-7-8">Listing 7-8</a> shows one way
to pull it off.
</p>

<dl class="org-dl">
<dt> <a id="Listing-7-8" name="Listing-7-8">Listing 7-8</a> </dt><dd><a href="code/book/menubar.c"><code>menubar.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="menubar.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">MENUMAX</span> 6
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">drawmenu</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">item</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>;
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">mainmenu</span>[] = <span style="color: #ffa07a;">"Main Menu"</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">menu</span>[MENUMAX][21] = {        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">6 items for MENUMAX </span><span style="color: #ff4500;">*/</span>
<span class="linenr">10: </span>    <span style="color: #ffa07a;">"Answer E-mail"</span>,
<span class="linenr">11: </span>    <span style="color: #ffa07a;">"Off to the Web"</span>,
<span class="linenr">12: </span>    <span style="color: #ffa07a;">"Word processing"</span>,
<span class="linenr">13: </span>    <span style="color: #ffa07a;">"Financial management"</span>,
<span class="linenr">14: </span>    <span style="color: #ffa07a;">"Maintenance"</span>,
<span class="linenr">15: </span>    <span style="color: #ffa07a;">"Shutdown"</span>
<span class="linenr">16: </span>  };
<span class="linenr">17: </span>
<span class="linenr">18: </span>  clear();
<span class="linenr">19: </span>  addstr(mainmenu);
<span class="linenr">20: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;MENUMAX;c++)
<span class="linenr">21: </span>    {
<span class="linenr">22: </span>      <span style="color: #00ffff;">if</span>( c==item )
<span class="linenr">23: </span>        attron(A_REVERSE);          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">highlight selection </span><span style="color: #ff4500;">*/</span>
<span class="linenr">24: </span>      mvaddstr(3+(<span style="color: #98fb98;">c</span>*2),20,menu[c]);
<span class="linenr">25: </span>      attroff(A_REVERSE);           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">remove highlight    </span><span style="color: #ff4500;">*/</span>
<span class="linenr">26: </span>    }
<span class="linenr">27: </span>  mvaddstr(17,25,<span style="color: #ffa07a;">"Use arrow keys to move; Enter to select:"</span>);
<span class="linenr">28: </span>  refresh();
<span class="linenr">29: </span>}
<span class="linenr">30: </span>
<span class="linenr">31: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">32: </span>{
<span class="linenr">33: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">key</span>,<span style="color: #eedd82;">menuitem</span>;
<span class="linenr">34: </span>
<span class="linenr">35: </span>  menuitem = 0;
<span class="linenr">36: </span>
<span class="linenr">37: </span>  initscr();
<span class="linenr">38: </span>
<span class="linenr">39: </span>  drawmenu(menuitem);
<span class="linenr">40: </span>  keypad(stdscr,TRUE);
<span class="linenr">41: </span>  noecho();                         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Disable echo        </span><span style="color: #ff4500;">*/</span>
<span class="linenr">42: </span>  <span style="color: #00ffff;">do</span>
<span class="linenr">43: </span>    {
<span class="linenr">44: </span>      key = getch();
<span class="linenr">45: </span>      <span style="color: #00ffff;">switch</span>(key)
<span class="linenr">46: </span>        {
<span class="linenr">47: </span>        <span style="color: #00ffff;">case</span> KEY_DOWN:
<span class="linenr">48: </span>          menuitem++;
<span class="linenr">49: </span>          <span style="color: #00ffff;">if</span>(menuitem &gt; MENUMAX-1) menuitem = 0;
<span class="linenr">50: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">51: </span>        <span style="color: #00ffff;">case</span> KEY_UP:
<span class="linenr">52: </span>          menuitem--;
<span class="linenr">53: </span>          <span style="color: #00ffff;">if</span>(menuitem &lt; 0) menuitem = MENUMAX-1;
<span class="linenr">54: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">55: </span>        <span style="color: #00ffff;">default</span>:
<span class="linenr">56: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">57: </span>        }
<span class="linenr">58: </span>      drawmenu(menuitem);
<span class="linenr">59: </span>    } <span style="color: #00ffff;">while</span>(key != <span style="color: #ffa07a;">'\n'</span>);
<span class="linenr">60: </span>
<span class="linenr">61: </span>  echo();                           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">re-enable echo      </span><span style="color: #ff4500;">*/</span>
<span class="linenr">62: </span>
<span class="linenr">63: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">At this point, the value of the selected menu is kept in the</span>
<span class="linenr">64: </span><span style="color: #ff4500;">     menuitem variable. The program can branch off to whatever subroutine</span>
<span class="linenr">65: </span><span style="color: #ff4500;">     is required to carry out that function</span>
<span class="linenr">66: </span><span style="color: #ff4500;">  </span><span style="color: #ff4500;">*/</span>
<span class="linenr">67: </span>
<span class="linenr">68: </span>  endwin();
<span class="linenr">69: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">70: </span>}
</pre>
</div>
</dd>
</dl>


<p>
It's a long piece of source code, but the actual guts that do the
work aren't that complex.
</p>

<p>
The code required to move the menu bar isn't really that
difficult. The program reads the up and down arrow key in the same
way as the <code>arrowkeys.c</code> source code shown earlier in this
chapter. Note, however, that I do turn echo off in line 41 so that
extra characters typed at the prompt are not distracting. A
complementary <code>echo()</code> command at line 61 turns on echoing for the
rest of the code (supposedly).
</p>

<p>
The <code>menuitem</code> variable keeps track of which menu item is
highlighted and selected. Its value is changed by pressing the up
or down arrow keys. Those keys merely change the value of
<code>menuitem</code>. (The display highlighting is more of an after effect.)
The <code>if</code> comparisons in lines 49 and 53 assure that <code>menuitem</code>
never gets out of range; if so, the value "wraps."
</p>

<p>
The core of the program is the <code>drawmenu()</code> function at
line 5. It's not really that tough to do; the <code>for</code> loop at line
20 does all the work. It displays each line of the menu one after
the other. The math in line 24 assures that a blank line separates
each menu command. And the <code>if</code> comparison in line 22 turns on the
<code>A_REVERSE</code> attribute for the one menu item that is highlighted.
</p>

<p>
The advantage of NCurses here is that the <code>refresh()</code> statement in
line 28 redraws the entire screen. So the highlight bar doesn't
really move; it's merely redrawn. That avoids the work of having
to find the previously highlighted text and manually
unhighlighting it.
</p>

<p>
After the fancy display work is done, the program can
continue. Branching to the proper menu-routine is simply done by
using the value of <code>menuitem</code> and, say, a <code>switch-case</code> structure.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11">CHAPTER  8 Windows, Windows Everywhere!                             <a id="chapter_8" name="chapter_8"></a></h2>
<div class="outline-text-2" id="text-11">
<p>
From the "And Now He Tells You" Department comes this important
tidbit: NCurses is a windowed environment. Nearly all NCurses text
output functions are window oriented, either directly or via a macro
defined in the <code>ncurses.h</code> header file.
</p>

<p>
If you've been plowing through the tutorial part of book front to
back, you haven't really noticed this windowed aspect of
NCurses. Well, not by much, at least. Those few commands that
required a <code>window</code> argument used <code>stdscr</code>, the standard screen. But
that really isn't as much the standard screen as it is the default
window to which NCurses sends its output.
</p>

<p>
In the bigger picture, the standard screen is only one of many
windows your programs can use in NCurses. So be prepared for some
eye-opening looks through various NCurses windows.
</p>
</div>

<div id="outline-container-sec-11-1" class="outline-3">
<h3 id="sec-11-1">Ye Olde Standard Screen                                            <a id="ye_olde_standard_screen" name="ye_olde_standard_screen"></a></h3>
<div class="outline-text-3" id="text-11-1">
<p>
When the <code>initscr()</code> function initializes NCurses, it does various
things (performs duties, sets up memory, and so on). One of the
many tasks is to create the default window for program output, the
standard screen, named <code>stdscr</code>.
</p>
</div>

<div id="outline-container-sec-11-1-1" class="outline-4">
<h4 id="sec-11-1-1">Commands that Require a Window Argument                           <a id="commands_that_require_a_window_argument" name="commands_that_require_a_window_argument"></a></h4>
<div class="outline-text-4" id="text-11-1-1">
<p>
So far in this book, you've experienced commands that use <code>stdscr</code>
to refer to the terminal window. Here's a sampling:
</p>

<ul class="org-ul">
<li><code>getmaxyx(win,row,col)</code>
</li>
<li><code>getyx(win,y,x)</code>
</li>
<li><code>keypad(win,bf)</code>
</li>
<li><code>nodelay(win,bf)</code>
</li>
</ul>


<p>
Each of these commands requires a <code>win</code> or window argument, so
that NCurses knows which window on the screen to refer
to. Previous chapters in this book use <code>stdscr</code> to represent the
standard screen, the only window NCurses creates. But other window
names can be used as well, the names of new windows you create
yourself. (More on that in a few paragraphs.)
</p>
</div>
</div>

<div id="outline-container-sec-11-1-2" class="outline-4">
<h4 id="sec-11-1-2">The Pseudo Commands                                               <a id="the_pseudo_commands" name="the_pseudo_commands"></a></h4>
<div class="outline-text-4" id="text-11-1-2">
<p>
Nearly all text-output functions in NCurses require a <code>win</code>
argument, specifying which window to send the output. As a <code>win</code>
argument, <code>stdscr</code> isn't used much, because many of the command
text-output functions have been customized for use with <code>stdscr</code>;
those text-output functions exist as special macros written in the
<code>ncurses.h</code> file.
</p>

<p>
For example, the <code>addch()</code> function, which adds a character to the
standard screen, is really a macro. The actual function is named
<code>waddch()</code> and here is its format:
</p>

<div class="org-src-container">

<pre class="src src-c">waddch(win,ch);
</pre>
</div>

<p>
The <code>addch</code> macro, or pseudo function, looks like this in
<code>ncurses.h</code>:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#define</span> <span style="color: #87cefa;">addch</span>(<span style="color: #eedd82;">ch</span>)                 waddch(stdscr,ch)
</pre>
</div>

<p>
So anytime you've used <code>addch()</code> in a program, the compiler
secretly swaps it out with the proper window-based function,
<code>waddch()</code>, specifying <code>stdscr</code> as the named window.
</p>

<p>
Pseudo functions have been used for just about all of the
character and textoutput functions introduced so far in this
book's tutorial. There's nothing wrong with using the shorter,
nonwindowed version of the function; my purpose here is simply to
tell you that NCurses always refers to a specific window for its
commands, whether you're using a window version of a function or
not.
</p>

<p>
<i>Surprise!</i>
</p>

<p>
The window (real) version of any pseudo function has the same name
as the pseudo function, but the real function is prefixed by a
<code>w</code>. Also, the function's first argument is the name of the window
the function acts upon.
</p>
</div>
</div>

<div id="outline-container-sec-11-1-3" class="outline-4">
<h4 id="sec-11-1-3">The Other Prefix, <code>mv</code>                                            <a id="the_other_prefix_mv" name="the_other_prefix_mv"></a></h4>
<div class="outline-text-4" id="text-11-1-3">
<p>
NCurses actually sports two prefixes for its text output
commands. In addition to <code>w</code>, specifying a window, there is also
<code>mv</code>, which was explained in <a href="#chapter_4">Chapter 4</a>.
</p>

<p>
When you prefix a command with <code>mv</code>, the first two arguments are
the row (<code>y</code>) and column (<code>x</code>) to position the cursor before
outputting text. Therefore:
</p>

<div class="org-src-container">

<pre class="src src-c">addch(<span style="color: #ffa07a;">'Q'</span>);
</pre>
</div>

<p>
The preceding command outputs a <code>Q</code> wherever the cursor currently
happens to be.
</p>

<div class="org-src-container">

<pre class="src src-c">mvaddch(5,10,<span style="color: #ffa07a;">'Q'</span>);
</pre>
</div>

<p>
The preceding command places a cursor at position 5,10 on the
screen.  That's the sixth row, 11th column. Remember that the
first row and column are numbered zero.
</p>

<p>
To direct <code>addch()</code> to a specific window <i>and</i> a specific
location, this format is used:
</p>

<div class="org-src-container">

<pre class="src src-c">mvwaddch(stdscr,5,10,<span style="color: #ffa07a;">'Q'</span>);
</pre>
</div>

<p>
The <code>mv</code> prefix always comes first; after all, the <i>real</i> command
is <code>waddch()</code>, not <code>addch()</code>. <i>But</i>, inside the parenthesis, the
window's name comes first, as shown above. You'll probably forget
that from time to time, but the slew of pointer error messages
generated will help remind you.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-11-2" class="outline-3">
<h3 id="sec-11-2">Making Windows                                                     <a id="making_windows" name="making_windows"></a></h3>
<div class="outline-text-3" id="text-11-2">
<p>
Creating a new window is simple, thanks to the <code>newwin()</code> function:
</p>

<div class="org-src-container">

<pre class="src src-c">newwin(rows,cols,y_org,x_org)
</pre>
</div>

<p>
The <code>newwin()</code> function is told the window's size in <code>rows</code> and
<code>cols</code> (vertical by horizontal characters) and where the window is
located on the terminal screen, given that the upper-left corner of
the terminal is location 0,0.
</p>

<p>
The range of values for <code>rows</code>, <code>cols</code>, <code>y_org</code>, and <code>x_org</code>
depends on your computer's memory and, of course, screen size. The
smallest you can go is a one-character window.
</p>

<p>
When the call to <code>newwin()</code> is successful, a pointer to a window
structure is returned. This structure is declared in your program
using this format:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">name</span>;
</pre>
</div>

<p>
The <code>WINDOW</code> variable is defined in <code>ncurses.h</code>; you supply the
name, which is the name you'll use to refer to the new window. When
the call fails, <code>NULL</code> is returned. (The call fails because of a
lack of memory or because the window is too large for the screen or
doesn't fit entirely on the screen.)
</p>

<p>
And now: the shortcut!
</p>

<div class="org-src-container">

<pre class="src src-c">newwin(0,0,0,0);
</pre>
</div>

<p>
When you use the <code>newwin()</code> function with all zeros, a new window
is created that is the exact same size and location as the standard
screen. Ta-da!
</p>
</div>

<div id="outline-container-sec-11-2-1" class="outline-4">
<h4 id="sec-11-2-1">The Obligatory New Window Sample Program                          <a id="the_obligatory_new_window_sample_program" name="the_obligatory_new_window_sample_program"></a></h4>
<div class="outline-text-4" id="text-11-2-1">
<p>
The following source code directs NCurses to create two windows on
the screen. The first, naturally, is the standard screen. But the
<code>newwin()</code> function in line 13 creates a second window, named
<code>two</code> (line 5), as shown in <a href="#Listing-8-1">Listing 8-1</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-8-1" name="Listing-8-1">Listing 8-1</a> </dt><dd><a href="code/book/twowin1.c"><code>twowin1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="twowin1.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">two</span>;          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">pointer for new window </span><span style="color: #ff4500;">*/</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"This is the original window, stdscr.\n"</span>);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  getch();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  two = newwin(0,0,0,0);
<span class="linenr">14: </span>  <span style="color: #00ffff;">if</span>( two == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">15: </span>    {
<span class="linenr">16: </span>      addstr(<span style="color: #ffa07a;">"Unable to allocate memory for new window."</span>);
<span class="linenr">17: </span>      endwin();
<span class="linenr">18: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">19: </span>    }
<span class="linenr">20: </span>  waddstr(two,<span style="color: #ffa07a;">"This is the new window created!\n"</span>);
<span class="linenr">21: </span>
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  endwin();
<span class="linenr">25: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">26: </span>}
</pre>
</div>
</dd>
</dl>


<p>
When the program runs, you'll see the text:
</p>

<pre class="example">
This is the original window, stdscr
</pre>

<p>
That's the standard screen. Press Enter to see the new window and
its text.
</p>

<p>
And&#x2026; <i>nothing!</i>
</p>

<p>
Press Enter to end the program.
</p>

<p>
The program compiled properly, so there must be some other reason
why the new window didn't display. Here's a review:
</p>

<ul class="org-ul">
<li>Line 13: The new window is created.
</li>

<li>Lines 14 through 19: When there is a problem, this chunk of code
handles the situation. So the new window most definitely is
created and exists in the program. That's not what's wrong.
</li>

<li>Line 20: Could be a problem, but there's no way to find out when
you cannot see the text.
</li>
</ul>


<p>
Hmmm. You can't see the text. If you recall from your basic
knowledge of NCurses, what is required so that you can see text
output?
</p>

<p>
Yep! It's the <code>refresh()</code> function. But for a specific window, you
need the <code>wrefresh()</code> function. Here's the format:
</p>

<div class="org-src-container">

<pre class="src src-c">wrefresh(win)
</pre>
</div>

<p>
The <code>wrefresh()</code> function is required to update and display the
content of a specific window, <code>win</code>. (In fact, the <code>refresh()</code>
function itself is merely a macro defined as <code>wrefresh(stdscr)</code>.)
So all the program is missing is a <code>wrefresh()</code> to update the new
window. The following needs to be added at line 23:
</p>

<div class="org-src-container">

<pre class="src src-c">wrefresh(two);
</pre>
</div>

<p>
The program now runs as expected, and when you press the Enter
key, you'll see the window <code>two</code> and the text displayed:
</p>

<pre class="example">
This is the new window created!
</pre>

<p>
What you're seeing above and on the screen is text belonging to
the window <code>two</code>. Though you cannot see the standard screen
window's text, it's still there, in memory somewhere. What's
visible on the screen now is only the contents of the new window,
<code>two</code>.
</p>

<p>
If the program continued, you could direct text output to one
screen or the other and you can switch between the windows as
well, as demonstrated in the following section.
</p>
</div>
</div>

<div id="outline-container-sec-11-2-2" class="outline-4">
<h4 id="sec-11-2-2">Switching between Windows                                         <a id="switching_between_windows" name="switching_between_windows"></a></h4>
<div class="outline-text-4" id="text-11-2-2">
<p>
There is no advantage of having multiple windows unless you can
switch between them. For example, you can have one window (or a
set of windows) detailing help information. You can then display
those windows when a user hits the Help key or some other key on
the keyboard, as the code in <a href="#Listing-8-2">Listing 8-2</a> demonstrates.
</p>

<dl class="org-dl">
<dt> <a id="Listing-8-2" name="Listing-8-2">Listing 8-2</a> </dt><dd><a href="code/book/helpmenu1.c"><code>helpmenu1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="helpmenu1.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">showhelp</span>(<span style="color: #98fb98;">void</span>);
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">help</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 8: </span>{
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  initscr();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">build help menu </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  <span style="color: #00ffff;">if</span>((help = newwin(0,0,0,0)) == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">15: </span>    {
<span class="linenr">16: </span>      addstr(<span style="color: #ffa07a;">"Unable to allocate window memory\n"</span>);
<span class="linenr">17: </span>      endwin();
<span class="linenr">18: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">19: </span>    }
<span class="linenr">20: </span>  mvwaddstr(help,6,32,<span style="color: #ffa07a;">"Help menu Screen"</span>);
<span class="linenr">21: </span>  mvwaddstr(help,9,28,<span style="color: #ffa07a;">"Press the ~ key to quit"</span>);
<span class="linenr">22: </span>  mvwaddstr(help,12,28,<span style="color: #ffa07a;">"Press ENTER to go back"</span>);
<span class="linenr">23: </span>
<span class="linenr">24: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">now start the program loop </span><span style="color: #ff4500;">*/</span>
<span class="linenr">25: </span>
<span class="linenr">26: </span>  addstr(<span style="color: #ffa07a;">"Typer Program\n"</span>);
<span class="linenr">27: </span>  addstr(<span style="color: #ffa07a;">"Press + for help:\n\n"</span>);
<span class="linenr">28: </span>  refresh();
<span class="linenr">29: </span>  noecho();
<span class="linenr">30: </span>  <span style="color: #00ffff;">do</span>
<span class="linenr">31: </span>    {
<span class="linenr">32: </span>      ch = getch();
<span class="linenr">33: </span>      refresh();
<span class="linenr">34: </span>      <span style="color: #00ffff;">if</span>(ch == <span style="color: #ffa07a;">'+'</span>)
<span class="linenr">35: </span>        showhelp();
<span class="linenr">36: </span>      <span style="color: #00ffff;">else</span>
<span class="linenr">37: </span>        addch(ch);
<span class="linenr">38: </span>    } <span style="color: #00ffff;">while</span> (ch != <span style="color: #ffa07a;">'~'</span>);
<span class="linenr">39: </span>
<span class="linenr">40: </span>  endwin();
<span class="linenr">41: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">42: </span>}
<span class="linenr">43: </span>
<span class="linenr">44: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">showhelp</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">45: </span>{
<span class="linenr">46: </span>
<span class="linenr">47: </span>  wrefresh(help);
<span class="linenr">48: </span>  getch();               <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">wait for key press </span><span style="color: #ff4500;">*/</span>
<span class="linenr">49: </span>
<span class="linenr">50: </span>  refresh();
<span class="linenr">51: </span>}
</pre>
</div>
</dd>
</dl>


<p>
This example is yet another typing program, <i>la-di-da</i>! Note,
however, that echo is off and, therefore, an <code>addch()</code> function is
required (line 37) to display input. But anyway, when you press
the <code>+</code> key, a second window <code>help</code> appears displaying the help
screen. Pressing Enter then returns you to the standard screen.
</p>

<p>
The <code>showhelp()</code> function is where the swapping takes place. The
function used to display the help screen is <code>wrefresh()</code> function,
as shown in line 47.  Likewise, a <code>refresh()</code> function in line 50
is used to switch back to the standard screen. That makes sense,
so why doesn't it work?
</p>

<p>
Well, it does work! The <code>wrefresh()</code> function writes only changed
text to the screen. Refer to <a href="#chapter_2">Chapter 2</a>: Only new text written to
the screen or text changed â what NCurses refers to as <i>touched</i>
text â is written to the screen when you <code>wrefresh()</code>. By working
in that manner, NCurses is very efficient.  But when you want to
display an entire window's contents, that behavior isn't very
helpful.
</p>

<p>
The solution is to force NCurses to display the entire
window. Without manually going through and rewriting the thing,
you can use the <code>touchwin()</code> function:
</p>

<div class="org-src-container">

<pre class="src src-c">touchwin(win)
</pre>
</div>

<p>
The <code>touchwin()</code> function leads NCurses to believe that every
character location in the window win has been touched or updated
since the last refresh.  Therefore, on the next <code>refresh()</code> or
<code>wrefresh()</code> call, the entire window will be written to the
screen.
</p>

<p>
To fix the code, add the following at line 46:
</p>

<div class="org-src-container">

<pre class="src src-c">touchwin(help);
</pre>
</div>

<p>
And add the following at line 49:
</p>

<div class="org-src-container">

<pre class="src src-c">touchwin(stdscr);
</pre>
</div>

<p>
After compiling, you can deftly switch between the windows (using
<code>+</code> and Enter), with everything working as expected.
</p>
</div>
</div>

<div id="outline-container-sec-11-2-3" class="outline-4">
<h4 id="sec-11-2-3">Windows of a Smaller Size                                         <a id="windows_of_a_smaller_size" name="windows_of_a_smaller_size"></a></h4>
<div class="outline-text-4" id="text-11-2-3">
<p>
There is no reason for the help menu window to be as large as it
is. Using the <code>newwin()</code> function, you can set the size and
location of the new window to be as large as the screen (with all
zeros; line 14 of <code>helpmenu1.c</code>) or as tiny as one character. Here
is the full format for the <code>newwin()</code> function again:
</p>

<div class="org-src-container">

<pre class="src src-c">newwin(rows,cols,y_org,x_org)
</pre>
</div>

<p>
<a href="#Figure-8-1">Figure 8-1</a> shows a graphical representation of how those arguments
work.
</p>

<dl class="org-dl">
<dt> <a id="Figure-8-1" name="Figure-8-1">Figure 8-1</a> </dt><dd>Positioning a new window on the screen


<div class="figure">
<p><img src="img/Figure8-1.jpg" alt="Figure8-1.jpg" />
</p>
</div>
</dd>
</dl>


<p>
The values <code>rows</code> and <code>cols</code> set the size of the new window. The
window's position is relative to the screen, <code>y_org</code> and <code>x_org</code>,
where the <i>home</i> position is 0,0. Remember that the <code>newwin()</code>
function fails either when not enough memory is available or part
of the window hangs off the visible screen. I didn't do it in the
sample program, but consider using the <code>getmaxyx()</code> function to
determine screen width and height before you set the new window's
size.
</p>

<p>
Meanwhile, to change the help window's size, edit the
<code>MENUHELP1.C</code> source code and change line 14 as follows:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>((help = newwin(10,30,4,26)) == <span style="color: #7fffd4;">NULL</span>)
</pre>
</div>

<p>
Also change lines 20, 21 and 22 to:
</p>

<div class="org-src-container">

<pre class="src src-c"><span class="linenr">1: </span>mvwaddstr(help,1,7,<span style="color: #ffa07a;">"Help menu Screen"</span>);
<span class="linenr">2: </span>mvwaddstr(help,5,3,<span style="color: #ffa07a;">"Press the ~ key to quit"</span>);
<span class="linenr">3: </span>mvwaddstr(help,8,4,<span style="color: #ffa07a;">"Press ENTER to go back"</span>);
</pre>
</div>

<p>
The changes are minor; just some positioning and new offsets. But
after saving, compiling, and running, you can still see the
original window, <code>stdscr</code>, behind the <code>help</code> window.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-11-3" class="outline-3">
<h3 id="sec-11-3">Removing a Window                                                  <a id="removing_a_window" name="removing_a_window"></a></h3>
<div class="outline-text-3" id="text-11-3">
<p>
To remove a single window, such as a new window you created, the
<code>delwin()</code> function is used:
</p>

<div class="org-src-container">

<pre class="src src-c">delwin(win)
</pre>
</div>

<p>
The <code>delwin()</code> function removes the window <code>win</code>, a window you
created by using the <code>newwin()</code> function sometime earlier in your
code. <code>delwin()</code> removes the window's internal structure and memory
used by the window, but it does not erase the window's screen
image. To do that, you'll have to <code>wrefresh()</code>, and possibly
<code>touchwin()</code>, another window on the screen. See <a href="#Listing-8-3">Listing 8-3</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-8-3" name="Listing-8-3">Listing 8-3</a> </dt><dd><a href="code/book/twowin2.c"><code>twowin2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="twowin2.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">two</span>;         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">pointer for new window </span><span style="color: #ff4500;">*/</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"This is the original window, stdscr.\n"</span>);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  getch();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  two = newwin(0,0,0,0);
<span class="linenr">14: </span>  <span style="color: #00ffff;">if</span>( two == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">15: </span>    {
<span class="linenr">16: </span>      addstr(<span style="color: #ffa07a;">"Unable to allocate memory for new window."</span>);
<span class="linenr">17: </span>      endwin();
<span class="linenr">18: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">19: </span>    }
<span class="linenr">20: </span>  waddstr(two,<span style="color: #ffa07a;">"This is the new window created!\n"</span>);
<span class="linenr">21: </span>  wrefresh(two);
<span class="linenr">22: </span>  wgetch(two);
<span class="linenr">23: </span>
<span class="linenr">24: </span>  delwin(two);
<span class="linenr">25: </span>  addstr(<span style="color: #ffa07a;">"The second window was removed.\n"</span>);
<span class="linenr">26: </span>  refresh();
<span class="linenr">27: </span>  getch();
<span class="linenr">28: </span>
<span class="linenr">29: </span>  endwin();
<span class="linenr">30: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">31: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The preceding source code is a simple update from <code>TWOWIN1.C</code>,
wherein the code was added to remove the window created.
</p>

<p>
When the program is run, after pressing the Enter key, the second
window is removed. The screen may look something like this:
</p>

<pre class="example">
This is the new window created!
The second window was removed.
</pre>

<p>
On some terminals you may need to force NCurses to update the
<i>standard screen</i>. That's because the <code>delwin()</code> function does not
repaint the screen after deleting a window. So to update the screen
you need another refresh; insert a new line before the <code>refresh()</code>
function in line 26:
</p>

<div class="org-src-container">

<pre class="src src-c">touchwin(stdscr);
</pre>
</div>

<p>
That fixes the updating problem.
</p>
</div>
</div>

<div id="outline-container-sec-11-4" class="outline-3">
<h3 id="sec-11-4">Dueling Windows                                                    <a id="dueling_windows" name="dueling_windows"></a></h3>
<div class="outline-text-3" id="text-11-4">
<p>
The following series of programs shows you what fun you can have
with windows. Each program is based on the code shown in <a href="#Listing-8-4">Listing
8-4</a>, which produces four separate windows on the screen.
</p>

<dl class="org-dl">
<dt> <a id="Listing-8-4" name="Listing-8-4">Listing 8-4</a> </dt><dd><a href="code/book/quad1.c"><code>quad1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="quad1.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">void</span>);
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">a</span>,*<span style="color: #eedd82;">b</span>,*<span style="color: #eedd82;">c</span>,*<span style="color: #eedd82;">d</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">maxx</span>,<span style="color: #eedd82;">maxy</span>,<span style="color: #eedd82;">halfx</span>,<span style="color: #eedd82;">halfy</span>;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  initscr();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">calculate window sizes and locations </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  getmaxyx(stdscr,maxy,maxx);
<span class="linenr">15: </span>  halfx = maxx &gt;&gt; 1;
<span class="linenr">16: </span>  halfy = maxy &gt;&gt; 1;
<span class="linenr">17: </span>
<span class="linenr">18: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create four windows to fill the screen </span><span style="color: #ff4500;">*/</span>
<span class="linenr">19: </span>  <span style="color: #00ffff;">if</span>( (a = newwin(halfy,halfx,0,0)) == <span style="color: #7fffd4;">NULL</span>) bomb();
<span class="linenr">20: </span>  <span style="color: #00ffff;">if</span>( (b = newwin(halfy,halfx,0,halfx)) == <span style="color: #7fffd4;">NULL</span>) bomb();
<span class="linenr">21: </span>  <span style="color: #00ffff;">if</span>( (c = newwin(halfy,halfx,halfy,0)) == <span style="color: #7fffd4;">NULL</span>) bomb();
<span class="linenr">22: </span>  <span style="color: #00ffff;">if</span>( (d = newwin(halfy,halfx,halfy,halfx)) == <span style="color: #7fffd4;">NULL</span>) bomb();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Write to each window </span><span style="color: #ff4500;">*/</span>
<span class="linenr">25: </span>  mvwaddstr(a,0,0,<span style="color: #ffa07a;">"This is   window A\n"</span>);
<span class="linenr">26: </span>  wrefresh(a);
<span class="linenr">27: </span>  mvwaddstr(b,0,0,<span style="color: #ffa07a;">"This is   window B\n"</span>);
<span class="linenr">28: </span>  wrefresh(b);
<span class="linenr">29: </span>  mvwaddstr(c,0,0,<span style="color: #ffa07a;">"This is   window C\n"</span>);
<span class="linenr">30: </span>  wrefresh(c);
<span class="linenr">31: </span>  mvwaddstr(d,0,0,<span style="color: #ffa07a;">"This is   window D\n"</span>);
<span class="linenr">32: </span>  wrefresh(d);
<span class="linenr">33: </span>  wgetch(a);
<span class="linenr">34: </span>
<span class="linenr">35: </span>  endwin();
<span class="linenr">36: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">37: </span>}
<span class="linenr">38: </span>
<span class="linenr">39: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">40: </span>{
<span class="linenr">41: </span>  addstr(<span style="color: #ffa07a;">"Unable to allocate memory for new window.\n"</span>);
<span class="linenr">42: </span>  refresh();
<span class="linenr">43: </span>  endwin();
<span class="linenr">44: </span>  exit(1);
<span class="linenr">45: </span>}
</pre>
</div>
</dd>
</dl>

<p>
When run, the program creates four windows: <code>a</code>, <code>b</code>, <code>c</code>, and
<code>d</code>. Each window is labeled with a specific <code>mvwaddstr()</code> function
and a specific <code>wrefresh()</code>.
</p>
</div>

<div id="outline-container-sec-11-4-1" class="outline-4">
<h4 id="sec-11-4-1">Stained Glass Windows                                             <a id="stained_glass_windows" name="stained_glass_windows"></a></h4>
<div class="outline-text-4" id="text-11-4-1">
<p>
Is it a window or a hole? In fact, the window itself is really
defined by the space around it, the frame and the panes of
glass. When I work with windows, I want to see that frame. The
best way I think that can happen is with color, as the following
improvement to the <code>quad1.c</code> program (<a href="#Listing-8-5">Listing 8-5</a>) demonstrates.
</p>

<dl class="org-dl">
<dt> <a id="Listing-8-5" name="Listing-8-5">Listing 8-5</a> </dt><dd><a href="code/book/quad2.c"><code>quad2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="Quad2.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">void</span>);
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">a</span>,*<span style="color: #eedd82;">b</span>,*<span style="color: #eedd82;">c</span>,*<span style="color: #eedd82;">d</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">maxx</span>,<span style="color: #eedd82;">maxy</span>,<span style="color: #eedd82;">halfx</span>,<span style="color: #eedd82;">halfy</span>;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  initscr();
<span class="linenr">12: </span>  start_color();
<span class="linenr">13: </span>  init_pair(1,COLOR_BLACK,COLOR_BLUE);
<span class="linenr">14: </span>  init_pair(2,COLOR_BLACK,COLOR_RED);
<span class="linenr">15: </span>  init_pair(3,COLOR_BLACK,COLOR_GREEN);
<span class="linenr">16: </span>  init_pair(4,COLOR_BLACK,COLOR_CYAN);
<span class="linenr">17: </span>
<span class="linenr">18: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">calculate window sizes and locations </span><span style="color: #ff4500;">*/</span>
<span class="linenr">19: </span>  getmaxyx(stdscr,maxy,maxx);
<span class="linenr">20: </span>  halfx = maxx &gt;&gt; 1;
<span class="linenr">21: </span>  halfy = maxy &gt;&gt; 1;
<span class="linenr">22: </span>
<span class="linenr">23: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create four windows to fill the screen </span><span style="color: #ff4500;">*/</span>
<span class="linenr">24: </span>  <span style="color: #00ffff;">if</span>( (a = newwin(halfy,halfx,0,0)) == <span style="color: #7fffd4;">NULL</span>) bomb();
<span class="linenr">25: </span>  <span style="color: #00ffff;">if</span>( (b = newwin(halfy,halfx,0,halfx)) == <span style="color: #7fffd4;">NULL</span>) bomb();
<span class="linenr">26: </span>  <span style="color: #00ffff;">if</span>( (c = newwin(halfy,halfx,halfy,0)) == <span style="color: #7fffd4;">NULL</span>) bomb();
<span class="linenr">27: </span>  <span style="color: #00ffff;">if</span>( (d = newwin(halfy,halfx,halfy,halfx)) == <span style="color: #7fffd4;">NULL</span>) bomb();
<span class="linenr">28: </span>
<span class="linenr">29: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Write to each window </span><span style="color: #ff4500;">*/</span>
<span class="linenr">30: </span>  mvwaddstr(a,0,0,<span style="color: #ffa07a;">"This is window A\n"</span>);
<span class="linenr">31: </span>  wbkgd(a,COLOR_PAIR(1));
<span class="linenr">32: </span>  wrefresh(a);
<span class="linenr">33: </span>  mvwaddstr(b,0,0,<span style="color: #ffa07a;">"This is window B\n"</span>);
<span class="linenr">34: </span>  wbkgd(b,COLOR_PAIR(2));
<span class="linenr">35: </span>  wrefresh(b);
<span class="linenr">36: </span>  mvwaddstr(c,0,0,<span style="color: #ffa07a;">"This is window C\n"</span>);
<span class="linenr">37: </span>  wbkgd(c,COLOR_PAIR(3));
<span class="linenr">38: </span>  wrefresh(c);
<span class="linenr">39: </span>  mvwaddstr(d,0,0,<span style="color: #ffa07a;">"This is window D\n"</span>);
<span class="linenr">40: </span>  wbkgd(d,COLOR_PAIR(4));
<span class="linenr">41: </span>  wrefresh(d);
<span class="linenr">42: </span>  wgetch(a);
<span class="linenr">43: </span>
<span class="linenr">44: </span>  endwin();
<span class="linenr">45: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">46: </span>}
<span class="linenr">47: </span>
<span class="linenr">48: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">49: </span>{
<span class="linenr">50: </span>  addstr(<span style="color: #ffa07a;">"Unable to allocate memory for new window.\n"</span>);
<span class="linenr">51: </span>  refresh();
<span class="linenr">52: </span>  endwin();
<span class="linenr">53: </span>  exit(1);
<span class="linenr">54: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The <code>start_color()</code> function in line 12 initializes color but
without error checking: I'm assuming that your terminal can do
color and further that <code>start_color()</code> will not fail. Remember in
your "real" programs to always use <code>has_colors()</code> and test to see
if <code>start_color()</code> returns <code>OK</code> before moving on in color.
</p>

<p>
The program defines four colors pairs, each of which is assigned
to a specific window via the <code>wbkgd()</code> function.
</p>

<p>
Sample output is shown in <a href="#Figure-8-2">Figure 8-2</a>. As you can see, the four
windows appear individually mapped and well delineated (though not
in color in this book).
</p>

<dl class="org-dl">
<dt> <a id="Figure-8-2" name="Figure-8-2">Figure 8-2</a> </dt><dd>Coloring the four windows' separate colors


<div class="figure">
<p><img src="img/Figure8-2.jpg" alt="Figure8-2.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-11-4-2" class="outline-4">
<h4 id="sec-11-4-2">Stop Repeating Me!                                                <a id="stop_repeating_me" name="stop_repeating_me"></a></h4>
<div class="outline-text-4" id="text-11-4-2">
<p>
The following, third rendition of the quad series of programs in
<a href="#Listing-8-6">Listing 8-6</a> adds a <code>while</code> loop to show you yet another aspect of
NCurses and its windows.
</p>

<dl class="org-dl">
<dt> <a id="Listing-8-6" name="Listing-8-6">Listing 8-6</a> </dt><dd><a href="code/book/quad3.c"><code>quad3.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="quad3.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">void</span>);
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">a</span>,*<span style="color: #eedd82;">b</span>,*<span style="color: #eedd82;">c</span>,*<span style="color: #eedd82;">d</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">maxx</span>,<span style="color: #eedd82;">maxy</span>,<span style="color: #eedd82;">halfx</span>,<span style="color: #eedd82;">halfy</span>;
<span class="linenr">10: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr">11: </span>
<span class="linenr">12: </span>  initscr();
<span class="linenr">13: </span>  start_color();
<span class="linenr">14: </span>  init_pair(1,COLOR_BLACK,COLOR_BLUE);
<span class="linenr">15: </span>  init_pair(2,COLOR_BLACK,COLOR_RED);
<span class="linenr">16: </span>  init_pair(3,COLOR_BLACK,COLOR_GREEN);
<span class="linenr">17: </span>  init_pair(4,COLOR_BLACK,COLOR_CYAN);
<span class="linenr">18: </span>
<span class="linenr">19: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">calculate window sizes and locations </span><span style="color: #ff4500;">*/</span>
<span class="linenr">20: </span>  getmaxyx(stdscr,maxy,maxx);
<span class="linenr">21: </span>  halfx = maxx &gt;&gt; 1;
<span class="linenr">22: </span>  halfy = maxy &gt;&gt; 1;
<span class="linenr">23: </span>
<span class="linenr">24: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create four windows to fill the screen </span><span style="color: #ff4500;">*/</span>
<span class="linenr">25: </span>  <span style="color: #00ffff;">if</span>( (a = newwin(halfy,halfx,0,0)) == <span style="color: #7fffd4;">NULL</span>) bomb();
<span class="linenr">26: </span>  <span style="color: #00ffff;">if</span>( (b = newwin(halfy,halfx,0,halfx)) == <span style="color: #7fffd4;">NULL</span>) bomb();
<span class="linenr">27: </span>  <span style="color: #00ffff;">if</span>( (c = newwin(halfy,halfx,halfy,0)) == <span style="color: #7fffd4;">NULL</span>) bomb();
<span class="linenr">28: </span>  <span style="color: #00ffff;">if</span>( (d = newwin(halfy,halfx,halfy,halfx)) == <span style="color: #7fffd4;">NULL</span>) bomb();
<span class="linenr">29: </span>
<span class="linenr">30: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Write to each window </span><span style="color: #ff4500;">*/</span>
<span class="linenr">31: </span>  wbkgd(a,COLOR_PAIR(1));
<span class="linenr">32: </span>  mvwaddstr(a,0,0,<span style="color: #ffa07a;">"This is window A\n"</span>);
<span class="linenr">33: </span>  wrefresh(a);
<span class="linenr">34: </span>  wbkgd(b,COLOR_PAIR(2));
<span class="linenr">35: </span>  mvwaddstr(b,0,0,<span style="color: #ffa07a;">"This is window B\n"</span>);
<span class="linenr">36: </span>  wrefresh(b);
<span class="linenr">37: </span>  wbkgd(c,COLOR_PAIR(3));
<span class="linenr">38: </span>  mvwaddstr(c,0,0,<span style="color: #ffa07a;">"This is window C\n"</span>);
<span class="linenr">39: </span>  wrefresh(c);
<span class="linenr">40: </span>  wbkgd(d,COLOR_PAIR(4));
<span class="linenr">41: </span>  mvwaddstr(d,0,0,<span style="color: #ffa07a;">"This is window D\n"</span>);
<span class="linenr">42: </span>  wrefresh(d);
<span class="linenr">43: </span>
<span class="linenr">44: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Update each window </span><span style="color: #ff4500;">*/</span>
<span class="linenr">45: </span>  <span style="color: #00ffff;">do</span>
<span class="linenr">46: </span>    {
<span class="linenr">47: </span>      ch = wgetch(a);
<span class="linenr">48: </span>      waddch(b,ch);
<span class="linenr">49: </span>      waddch(c,ch);
<span class="linenr">50: </span>      waddch(d,ch);
<span class="linenr">51: </span>      wrefresh(b);
<span class="linenr">52: </span>      wrefresh(c);
<span class="linenr">53: </span>      wrefresh(d);
<span class="linenr">54: </span>    } <span style="color: #00ffff;">while</span>(ch != <span style="color: #ffa07a;">'~'</span>);
<span class="linenr">55: </span>
<span class="linenr">56: </span>  endwin();
<span class="linenr">57: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">58: </span>}
<span class="linenr">59: </span>
<span class="linenr">60: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">61: </span>{
<span class="linenr">62: </span>  addstr(<span style="color: #ffa07a;">"Unable to allocate memory for new window.\n"</span>);
<span class="linenr">63: </span>  refresh();
<span class="linenr">64: </span>  endwin();
<span class="linenr">65: </span>  exit(1);
<span class="linenr">66: </span>}
</pre>
</div>
</dd>
</dl>


<p>
In brief:
</p>

<ul class="org-ul">
<li>Line 10 is added to declare a character input variable; remember
that it's an <code>int</code> not a <code>char</code>.
</li>

<li>Lines 45 through 54 are new; creating an input loop. The
<code>getch()</code> function automatically displays input, useful here to
avoid a flash-peek at the standard screen. The <code>wgetch()</code>
function is used in line 47. It reads a character input from
window <code>a</code>, which also displays on window <code>a</code>. The remaining
functions display the same character on the other three windows.
</li>
</ul>


<dl class="org-dl">
<dt> NOTE </dt><dd>Though NCurses uses only one input queue, it's possible
to read input from a specific window. This is done
mostly for modifying the text, as certain input
functions can be filtered through various windows. Refer
to the entry for <a href="#getch"><code>getch()</code></a> in <a href="#appendix_a">Appendix A</a>.
</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-sec-11-5" class="outline-3">
<h3 id="sec-11-5">On Your Own                                                        <a id="on_your_own" name="on_your_own"></a></h3>
<div class="outline-text-3" id="text-11-5">
<p>
Write an NCurses program that creates two side-by-side windows that
fill the screen. As you type in the first window, text also appears
in the second window but with the rot13 filter applied. (Rot13 is a
simple cipher where A and N are swapped, B and O, C and P, and so
on for the 26 letters of the alphabet.)
</p>

<p>
My solution for this problem can be found on this book's companion
page on the Web: <a href="http://www.c-for-dummies.com/ncurses/">www.c-for-dummies.com/ncurses/</a>. Or follow <a href="code/bonus-programs/dualrot13.c">this</a>
link.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12">CHAPTER  9 Subwindows                                               <a id="chapter_9" name="chapter_9"></a></h2>
<div class="outline-text-2" id="text-12">
<p>
Subwindows are strange and interesting creatures in NCurses. From
one perspective, they are exactly what you imagine them to be: tiny
windows within other windows. But at the same time, because of the
way NCurses implements subwindows, they are not what they seem to
be.
</p>

<p>
I once struggled with the concept of subwindows in NCurses. In fact,
much of the documentation on the Internet claims that subwindows are
buggy and should be avoided. That isn't exactly correct. With proper
understanding, subwindows can be time-saving gizmos in NCurses, not
to be avoided at all.
</p>
</div>

<div id="outline-container-sec-12-1" class="outline-3">
<h3 id="sec-12-1">The Thing with Subwindows                                          <a id="the_thing_with_subwindows" name="the_thing_with_subwindows"></a></h3>
<div class="outline-text-3" id="text-12-1">
<p>
Subwindows are like real windows in NCurses in that they share the
same data structure. You use the same <code>WINDOW</code> variable to create a
subwindow as you do a full window. NCurses functions that control
or manipulate a window also control and manipulate subwindows (with
a few exceptions). But a subwindow is <i>not</i> the same thing as a
real window.
</p>

<p>
The main difference between a subwindow and a real window is that
subwindows share memory with a parent window. So when you put a
character to a subwindow, you're also placing that character into
the parent window as well.
</p>

<p>
For example, in <a href="#Figure-9-1">Figure 9-1</a>, it appears that there are two windows
on the screen. The smaller window is a subwindow, which has
different color attributes from the parent window. The parent
window shows the text <code>Hello, son</code>, and the subwindow displays
<code>Hello, Dad</code>. Even so, the text <code>Hello, Dad</code> also exists in the
parent window. The memory is shared.
</p>

<dl class="org-dl">
<dt> <a id="Figure-9-1" name="Figure-9-1">Figure 9-1</a> </dt><dd>A glorious subwindow


<div class="figure">
<p><img src="img/Figure9-1.jpg" alt="Figure9-1.jpg" />
</p>
</div>
</dd>
</dl>


<p>
If you were to change the text in the subwindow, you would also be
changing or adding text to the parent. Likewise, the parent window
can change text in the subwindow. This can be confusing and
frustrating but only when you assume that a subwindow is like a
regular window. It is not.
</p>

<p>
The best way to think of a subwindow is merely as a convenient way
to reference a specific portion of the parent.
</p>

<p>
<a href="#Figure-9-2">Figure 9-2</a> illustrates an example of using subwindows to reference
a region on the screen. The areas boxed at the bottom of the screen
in <a href="#Figure-9-2">Figure 9-2</a> contain information that is occasionally rewritten or
updated. Rather than have to do a lot of complex cursor-positioning
math, simply create a subwindow in the proper spot; then use that
window as a reference to position the cursor. This is one example
of how subwindows can be used to define regions of the screen
instead of separate windows.
</p>

<p>
As long as you consider the subwindow to be merely a reference to a
specific portion of the parent, you'll do well with subwindows. But
when you believe the subwindow to be separate and unique, like a
real window, you'll get into all sorts of trouble.
</p>

<dl class="org-dl">
<dt> <a id="Figure-9-2" name="Figure-9-2">Figure 9-2</a> </dt><dd>An example of a useful subwindow


<div class="figure">
<p><img src="img/Figure9-2.jpg" alt="Figure9-2.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-12-2" class="outline-3">
<h3 id="sec-12-2">Making Subwindows                                                  <a id="making_subwindows" name="making_subwindows"></a></h3>
<div class="outline-text-3" id="text-12-2">
<p>
Subwindows have all of the basic attributes of real windows: a
name, size, location, unique cursor coordinates, and so on. Because
they share memory with the parent, the subwindow must reside
completely within the parent window. And, naturally, subwindows are
created by using their own unique functions:
</p>

<ul class="org-ul">
<li><code>subwin(win,rows,cols,y,x)</code>
</li>
<li><code>derwin(win,rows,cols,y,x)</code>
</li>
</ul>


<p>
The only difference between these functions has to do with the
final two arguments. With <code>subwin()</code>, <code>y</code> and <code>x</code> are coordinates
relative to the screen; in <code>derwin()</code>, <code>y</code> and <code>x</code> are relative to
the parent window.
</p>

<p>
After creation, the subwindow can be addressed like any other
window, named in a window-oriented command, deleted, or affected in
the same was as regular windows. Subwindows can even have
subwindows of their own.
</p>
</div>

<div id="outline-container-sec-12-2-1" class="outline-4">
<h4 id="sec-12-2-1">Your First Subwindow                                              <a id="your_first_subwindow" name="your_first_subwindow"></a></h4>
<div class="outline-text-4" id="text-12-2-1">
<p>
Subwindows exist totally within a parent window. In a way, it
helps to think of them more as a <i>region</i> of the parent window,
though the subwindow still maintains its own cursor and text, and
attributes can be written directly to the subwindow just as with
other windows in NCurses.
</p>

<div class="org-src-container">

<pre class="src src-c">subwin(win,rows,cols,y,x)
</pre>
</div>

<p>
The <code>subwin()</code> function creates the subwindow. <code>win</code> refers to the
parent window, which can be <code>stdscr</code>, the standard screen. <code>rows</code>
and <code>cols</code> gives the size of the subwindow in character rows and
columns. Finally, the <code>x</code> and <code>y</code> represent the upper-left
location of the subwindow relative to the <i>screen</i>, not the parent
window <code>org</code>.
</p>

<p>
When the <code>subwin()</code> function is successful, a new window is
created, returned as a <code>WINDOW</code> pointer by <code>subwin()</code> (see line 13
in the <code>kid1.c</code> code in <a href="#Listing-9-1">Listing 9-1</a>). When the function fails,
such as when no memory is available or the subwindow does not
reside completely within the parent, <code>NULL</code> is returned.
</p>

<dl class="org-dl">
<dt> <a id="Listing-9-1" name="Listing-9-1">Listing 9-1</a> </dt><dd><a href="code/book/kid1.c"><code>kid1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="kid1.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">sonny</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  start_color();        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">remember to check for errors! </span><span style="color: #ff4500;">*/</span>
<span class="linenr"> 9: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">10: </span>  init_pair(2,COLOR_RED,COLOR_YELLOW);
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create subwindow </span><span style="color: #ff4500;">*/</span>
<span class="linenr">13: </span>  sonny = subwin(stdscr,5,20,10,30);
<span class="linenr">14: </span>  <span style="color: #00ffff;">if</span>(sonny == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">15: </span>    {
<span class="linenr">16: </span>      addstr(<span style="color: #ffa07a;">"Unable to create subwindow\n"</span>);
<span class="linenr">17: </span>      endwin();
<span class="linenr">18: </span>      <span style="color: #00ffff;">return</span> 1;
<span class="linenr">19: </span>    }
<span class="linenr">20: </span>
<span class="linenr">21: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">color windows and splash some text </span><span style="color: #ff4500;">*/</span>
<span class="linenr">22: </span>  bkgd(COLOR_PAIR(1));
<span class="linenr">23: </span>  addstr(<span style="color: #ffa07a;">"Hello, son."</span>);
<span class="linenr">24: </span>  wbkgd(sonny,COLOR_PAIR(2));
<span class="linenr">25: </span>  waddstr(sonny,<span style="color: #ffa07a;">"Hello, Dad."</span>);
<span class="linenr">26: </span>  refresh();
<span class="linenr">27: </span>  getch();
<span class="linenr">28: </span>
<span class="linenr">29: </span>  endwin();
<span class="linenr">30: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">31: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The code uses color to help you locate the subwindow on the
screen. Note that the <code>start_color()</code> function is used in this
code without error checking; remember to do error checking, as
well as use the <code>has_colors()</code> function for any code you plan on
releasing publicly.
</p>

<p>
(Sample output can be seen in <a href="#Figure-9-1">Figure 9-1</a>.)
</p>
</div>
</div>

<div id="outline-container-sec-12-2-2" class="outline-4">
<h4 id="sec-12-2-2">Your Second Subwindow                                             <a id="your_second_subwindow" name="your_second_subwindow"></a></h4>
<div class="outline-text-4" id="text-12-2-2">
<p>
The following code in <a href="#Listing-9-2">Listing 9-2</a> is a modification of the
original <code>kid1.c</code> source code. This time I've added the <code>derwin()</code>
function, which uses coordinates relative to the parent window to
create the new subwindow. (Of course, because in both cases the
parent is the standard screen, there really is no gross difference
shown.)
</p>

<dl class="org-dl">
<dt> <a id="Listing-9-2" name="Listing-9-2">Listing 9-2</a> </dt><dd><a href="code/book/kid2.c"><code>kid2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="kid2.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">sonny</span>,*<span style="color: #eedd82;">babygirl</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  start_color();            <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">remember to check for errors! </span><span style="color: #ff4500;">*/</span>
<span class="linenr"> 9: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">10: </span>  init_pair(2,COLOR_RED,COLOR_YELLOW);
<span class="linenr">11: </span>  init_pair(3,COLOR_CYAN,COLOR_WHITE);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create subwindow and remember to check for errors! </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  sonny = subwin(stdscr,5,20,10,30);
<span class="linenr">15: </span>  babygirl = derwin(stdscr,5,20,1,50);
<span class="linenr">16: </span>
<span class="linenr">17: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">color windows and splash some text </span><span style="color: #ff4500;">*/</span>
<span class="linenr">18: </span>  bkgd(COLOR_PAIR(1));
<span class="linenr">19: </span>  addstr(<span style="color: #ffa07a;">"Hello, son, hello baby girl."</span>);
<span class="linenr">20: </span>  wbkgd(sonny,COLOR_PAIR(2));
<span class="linenr">21: </span>  waddstr(sonny,<span style="color: #ffa07a;">"Hello, Dad."</span>);
<span class="linenr">22: </span>  wbkgd(babygirl,COLOR_PAIR(3));
<span class="linenr">23: </span>  waddstr(babygirl,<span style="color: #ffa07a;">"Hello, Papa."</span>);
<span class="linenr">24: </span>  refresh();
<span class="linenr">25: </span>  getch();
<span class="linenr">26: </span>
<span class="linenr">27: </span>  endwin();
<span class="linenr">28: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">29: </span>}
</pre>
</div>
</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-sec-12-3" class="outline-3">
<h3 id="sec-12-3">Sub-subwindows                                                     <a id="sub-subwindows" name="sub-subwindows"></a></h3>
<div class="outline-text-3" id="text-12-3">
<p>
Because a subwindow is considered a real window in nearly every
sense, it's quite possible for a subwindow to have a subwindow of
its own. You simply name the subwindow's variable as the <code>win</code> in
the <code>subwin()</code> function, as the code in <a href="#Listing-9-3">Listing 9-3</a> demonstrates.
</p>

<dl class="org-dl">
<dt> <a id="Listing-9-3" name="Listing-9-3">Listing 9-3</a> </dt><dd><a href="code/book/kid3.c"><code>kid3.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="kid3.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">grandpa</span>,*<span style="color: #eedd82;">father</span>,*<span style="color: #eedd82;">boy</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">maxx</span>,<span style="color: #eedd82;">maxy</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  start_color();        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">remember to check for errors! </span><span style="color: #ff4500;">*/</span>
<span class="linenr">11: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">12: </span>  init_pair(2,COLOR_RED,COLOR_YELLOW);
<span class="linenr">13: </span>  init_pair(3,COLOR_CYAN,COLOR_GREEN);
<span class="linenr">14: </span>
<span class="linenr">15: </span>  getmaxyx(stdscr,maxy,maxx);
<span class="linenr">16: </span>
<span class="linenr">17: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create windows - remember to check for errors! </span><span style="color: #ff4500;">*/</span>
<span class="linenr">18: </span>  grandpa = newwin(maxy-4,maxx-10,2,5);
<span class="linenr">19: </span>  father = subwin(grandpa,maxy-8,maxx-20,4,10);
<span class="linenr">20: </span>  boy = subwin(father,maxy-16,maxx-40,8,20);
<span class="linenr">21: </span>
<span class="linenr">22: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">color windows and splash some text </span><span style="color: #ff4500;">*/</span>
<span class="linenr">23: </span>  wbkgd(grandpa,COLOR_PAIR(1));
<span class="linenr">24: </span>  waddstr(grandpa,<span style="color: #ffa07a;">"Grandpa"</span>);
<span class="linenr">25: </span>  wbkgd(father,COLOR_PAIR(2));
<span class="linenr">26: </span>  waddstr(father,<span style="color: #ffa07a;">"Father"</span>);
<span class="linenr">27: </span>  wbkgd(boy,COLOR_PAIR(3));
<span class="linenr">28: </span>  waddstr(boy,<span style="color: #ffa07a;">"Boy"</span>);
<span class="linenr">29: </span>  wrefresh(grandpa);
<span class="linenr">30: </span>  wgetch(grandpa);
<span class="linenr">31: </span>
<span class="linenr">32: </span>  endwin();
<span class="linenr">33: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">34: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The program creates three windows. First comes window <code>grandpa</code>,
which is a "real" window. Then <code>father</code> is created as a subwindow
of <code>grandpa</code>.  Finally, son is created as a subwindow of <code>father</code>.
The background colors make the windows more dramatically visible on
the screen.
</p>
</div>
</div>

<div id="outline-container-sec-12-4" class="outline-3">
<h3 id="sec-12-4">Removing a Subwindow                                               <a id="removing_a_subwindow" name="removing_a_subwindow"></a></h3>
<div class="outline-text-3" id="text-12-4">
<p>
Subwindows are killed off just like regular windows, using the same
<code>delwin()</code> function. Deleting a subwindow removes the subwindow's
internal structure (the thing <code>WINDOW</code> points at) but not the
window's data, because that information is shared with the parent
window. Also, to visually remove the subwindow, the parent window
must be touched and refreshed, as the following program in <a href="#Listing-9-4">Listing
9-4</a> demonstrates.
</p>

<dl class="org-dl">
<dt> <a id="Listing-9-4" name="Listing-9-4">Listing 9-4</a> </dt><dd><a href="code/book/kid4.c"><code>kid4.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="kid4.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">grandpa</span>,*<span style="color: #eedd82;">father</span>,*<span style="color: #eedd82;">boy</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">maxx</span>,<span style="color: #eedd82;">maxy</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  start_color();        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">remember to check for errors! </span><span style="color: #ff4500;">*/</span>
<span class="linenr">11: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">12: </span>  init_pair(2,COLOR_RED,COLOR_YELLOW);
<span class="linenr">13: </span>  init_pair(3,COLOR_CYAN,COLOR_GREEN);
<span class="linenr">14: </span>
<span class="linenr">15: </span>  getmaxyx(stdscr,maxy,maxx);
<span class="linenr">16: </span>
<span class="linenr">17: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create windows - remember to check for errors! </span><span style="color: #ff4500;">*/</span>
<span class="linenr">18: </span>  grandpa = newwin(maxy-4,maxx-10,2,5);
<span class="linenr">19: </span>  father = subwin(grandpa,maxy-8,maxx-20,4,10);
<span class="linenr">20: </span>  boy = subwin(father,maxy-16,maxx-40,8,20);
<span class="linenr">21: </span>
<span class="linenr">22: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">color windows and splash some text </span><span style="color: #ff4500;">*/</span>
<span class="linenr">23: </span>  wbkgd(grandpa,COLOR_PAIR(1));
<span class="linenr">24: </span>  waddstr(grandpa,<span style="color: #ffa07a;">"Grandpa\n"</span>);
<span class="linenr">25: </span>  wbkgd(father,COLOR_PAIR(2));
<span class="linenr">26: </span>  waddstr(father,<span style="color: #ffa07a;">"Father\n"</span>);
<span class="linenr">27: </span>  wbkgd(boy,COLOR_PAIR(3));
<span class="linenr">28: </span>  waddstr(boy,<span style="color: #ffa07a;">"Boy\n"</span>);
<span class="linenr">29: </span>  wrefresh(grandpa);
<span class="linenr">30: </span>  wgetch(grandpa);
<span class="linenr">31: </span>
<span class="linenr">32: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">remove the subwindow "boy" </span><span style="color: #ff4500;">*/</span>
<span class="linenr">33: </span>  delwin(boy);
<span class="linenr">34: </span>  wclear(father);
<span class="linenr">35: </span>  waddstr(father,<span style="color: #ffa07a;">"Bye, son!\n"</span>);
<span class="linenr">36: </span>  wrefresh(father);
<span class="linenr">37: </span>  wgetch(father);
<span class="linenr">38: </span>
<span class="linenr">39: </span>  endwin();
<span class="linenr">40: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">41: </span>}
</pre>
</div>
</dd>
</dl>

<p>
The code is merely a modification to the <code>kid3.c</code> source. Added are
lines 32 through 37.
</p>

<p>
The <code>delwin()</code> function removes window <code>boy</code> in line 33. Then
<code>boy</code>'s parent window, <code>father</code>, is cleared, a string is added, and
the <code>father</code> window is refreshed.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>Merely refreshing the parent window does not remove the
subwindow (same data, remember?). The parent window can
overwrite the subwindow or remove it entirely with any
character-erasing function, including <code>wclear()</code>, as
shown in line 34 of the program.
</dd>

<dt> NOTE </dt><dd>This is important: You should delete a window's
subwindows before you can delete the main window. If you
don't, the memory used by the subwindow will not be
released in your program, and other, various ugly and
unpredictable errors may result.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-12-5" class="outline-3">
<h3 id="sec-12-5">Subwindows Versus Windows                                          <a id="subwindows_versus_windows" name="subwindows_versus_windows"></a></h3>
<div class="outline-text-3" id="text-12-5">
<p>
Subwindows work like real windows in many ways:
</p>

<ul class="org-ul">
<li>Subwindows use a separate <code>WINDOW</code> data structure in memory.
</li>

<li>Subwindows sport their own cursor, separate from the parent
window's cursor.
</li>

<li>Subwindows can have their own color and text attributes.
</li>

<li>Subwindows can be manipulated by all the same functions that
manipulate regular windows.
</li>
</ul>


<p>
There are a few exceptions to that last point: Some functions do
not behave the same way with subwindows as they do with real
windows. Those specific functions that don't work with subwindows
are documented in <a href="#appendix_a">Appendix A</a>, as well as in the various man pages
and other references.
</p>

<p>
Internally, a subwindow knows that it's a subwindow. It can
reference the parent window, thanks to a pointer stored inside the
subwindow's <code>WINDOW</code> structure. Sadly, that doesn't work the other
way around: Parent windows have no way of knowing whether they have
subwindows. This is the main reason you're not supposed to remove a
window unless you first remove its subwindows.
</p>

<p>
Finally, remember the shared memory deal. Anything you write to a
subwindow is also written to the parent. Likewise, the parent has
no respect for its subwindow and can effortlessly write text over
the subwindow's text. In fact, text written over the subwindow's
text becomes part of the subwindow, thanks to the shared memory.
</p>

<p>
As long as you can keep these points in mind, and put subwindows to
use as I've described here, I believe you'll find them useful and
handy to have.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-13" class="outline-2">
<h2 id="sec-13">CHAPTER 10 More Window Tricks                                       <a id="chapter_10" name="chapter_10"></a></h2>
<div class="outline-text-2" id="text-13">
<p>
NCurses has a basket full of windows tricks, more than what one
chapter alone can handle. In fact, <a href="#chapter_8">Chapter 8</a> just touched on the
surface of what you can do with windows. This chapters carries on,
offering even more windows tricks, including copying windows,
windows that scroll or not, and moving windows.
</p>
</div>

<div id="outline-container-sec-13-1" class="outline-3">
<h3 id="sec-13-1">Copying Window Contents                                            <a id="copying_window_contents" name="copying_window_contents"></a></h3>
<div class="outline-text-3" id="text-13-1">
<p>
Copying text between two windows is possible by using one of
NCurses window copying functions. They are
</p>

<ul class="org-ul">
<li><code>overlay (swin,dwin)</code>
</li>
<li><code>overwrite(swin,dwin)</code>
</li>
<li><code>copywin(swin,dwin,srow,scol,drow,dcol,dxrow,dxcol,type)</code>
</li>
<li><code>dupwin(win)</code>
</li>
</ul>


<p>
Of the first three, the <code>copywin()</code> function is my favorite and the
most powerful. Even so, each one serves a purpose and helps you get
text from one window into another.
</p>
</div>

<div id="outline-container-sec-13-1-1" class="outline-4">
<h4 id="sec-13-1-1">To overlay or to overwrite?                                       <a id="to_overlay_or_to_overwrite" name="to_overlay_or_to_overwrite"></a></h4>
<div class="outline-text-4" id="text-13-1-1">
<p>
The <code>overlay()</code> and <code>overwrite()</code> functions work almost
identically, taking the contents of source window, the source or
<code>scrwin</code>, and plopping that text down into the destination window,
or <code>destwin</code>. The difference between the two is subtle, as shown
in <a href="#Listing-10-1">Listing 10-1</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-10-1" name="Listing-10-1">Listing 10-1</a> </dt><dd><a href="code/book/doop1.c"><code>doop1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="doop1.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">alpha</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text1</span>[] = <span style="color: #ffa07a;">"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat."</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text2</span>[] = <span style="color: #ffa07a;">"Four score and seven years ago our fathers brought forth on this continent, a new nation, conceived in Liberty, and dedicated to the proposition that all men are created equal."</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  start_color();                 <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Remember to check for errors! </span><span style="color: #ff4500;">*/</span>
<span class="linenr">12: </span>  init_pair(1, COLOR_RED, COLOR_BLACK);
<span class="linenr">13: </span>  init_pair(2, COLOR_WHITE,  COLOR_BLACK);
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Build windows </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>  alpha = newwin(0,0,0,0);       <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Remember to check for errors! </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>
<span class="linenr">18: </span>  attron(COLOR_PAIR(1));         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Add color attribute to text   </span><span style="color: #ff4500;">*/</span>
<span class="linenr">19: </span>  addstr(text1);                 <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Add text to stdscr and wait   </span><span style="color: #ff4500;">*/</span>
<span class="linenr">20: </span>  refresh();
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  wattron(alpha, COLOR_PAIR(2)); <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Add color attribute to text   </span><span style="color: #ff4500;">*/</span>
<span class="linenr">24: </span>  waddstr(alpha,text2);          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Show win alpha and wait       </span><span style="color: #ff4500;">*/</span>
<span class="linenr">25: </span>  wrefresh(alpha);
<span class="linenr">26: </span>  wgetch(alpha);
<span class="linenr">27: </span>
<span class="linenr">28: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Copy text from one window to the other, non-destructively    </span><span style="color: #ff4500;">*/</span>
<span class="linenr">29: </span>  overlay(stdscr,alpha);
<span class="linenr">30: </span>  wrefresh(alpha);
<span class="linenr">31: </span>  wgetch(alpha);
<span class="linenr">32: </span>
<span class="linenr">33: </span>  endwin();
<span class="linenr">34: </span>  <span style="color: #00ffff;">return</span>(0);
<span class="linenr">35: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The source code looks tough, thanks to the two large text
strings. The first, <code>text1</code>, is the classic <i>Lorem ipsum</i>
text. The second, <code>text2</code>, is Lincoln's Gettysburg
Address. Honestly, you can replace either string with other text,
as long as the text is unique and the two strings are different
from each other.
</p>

<p>
The program doesn't check for an error when the new window,
<code>alpha</code>, is created in line 16; you would want to do error
checking for your "real" programs. The zeros in the <code>newwin()</code>
function assure that both source and destination windows occupy
the full screen, which seems to be how the <code>overlay()</code> function
(line 29) works best.
</p>

<p>
First the program displays the <i>Lorem ipsum</i> text in the <code>stdscr</code>
window.  Something like this:
</p>

<pre class="example">
Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam
nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat
volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation
ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.
</pre>

<p>
Press the Enter key and the contents of the <code>alpha</code> window are
displayed, looking something like this:
</p>

<pre class="example">
Four score and seven years ago our fathers brought forth on this
continent, a new nation, conceived in Liberty, and dedicated to the
proposition that all men are created equal.
</pre>

<p>
Finally, press the Enter key again to overlay the contents of
<code>stdscr</code> on top of <code>alpha</code>. Here's what the mess could look like:
</p>

<pre class="example">
Loremsipsumadolorvsityamet,aconsectetuerradipiscingfelit,osedhdiamono
nummy,nibheeuismodntincidunteutilaoreettdolore magnaaaliquamteratrvol
utpat. Utawisilenim ademinimtveniam,lquis nostrud exerci tation
ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.
</pre>

<p>
The <i>Lorem ipsum</i> text overlays the original <code>alpha</code> window
text. The only <code>alpha</code> window text that peeks through is whatever
was found in the spaces between the <code>stdscr</code> text. It's hard to
tell which text is which in the output, but <a href="#Figure-10-1">Figure 10-1</a> should
help.
</p>

<dl class="org-dl">
<dt> <a id="Figure-10-1" name="Figure-10-1">Figure 10-1</a> </dt><dd>Original text in red, alpha text in white,
overlay showing white text through red.


<div class="figure">
<p><img src="img/Figure10-1.jpg" alt="Figure10-1.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-13-1-2" class="outline-4">
<h4 id="sec-13-1-2">The <code>overwrite()</code> difference                                      <a id="the_overwrite_difference" name="the_overwrite_difference"></a></h4>
<div class="outline-text-4" id="text-13-1-2">
<p>
To see how <code>overwrite()</code> differs from <code>overlay()</code> is easy.
</p>

<p>
Change lines 28 and 29 to read:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Copy text from one window to the other, destructively </span><span style="color: #ff4500;">*/</span>
overwrite(stdscr,alpha);
</pre>
</div>

<p>
The <code>overwrite()</code> function is destructive, so no characters from
the original text appear, peeking through <i>Lorem ipsum</i> as they
did in the <code>doop1.c</code> program.
</p>
</div>
</div>

<div id="outline-container-sec-13-1-3" class="outline-4">
<h4 id="sec-13-1-3">The magic of <code>copywin()</code>                                          <a id="the_magic_of_copywin" name="the_magic_of_copywin"></a></h4>
<div class="outline-text-4" id="text-13-1-3">
<p>
The best of the three basic text-copying functions is <code>copywin()</code>,
which allows you a great deal of control over which chunk of text
is copied from the source window and where it ends up in the
destination window. And unlike <code>overlay()</code> and <code>overwrite()</code>,
<code>copywin()</code> seems to work on windows of any size. Here's the
detailed format:
</p>

<div class="org-src-container">

<pre class="src src-c">copywin(swin,dwin,srow,scol,drow,dcol,dxrow,dxcol,type)
</pre>
</div>

<p>
The <code>srcwin</code> and <code>destwin</code> are the source and destination windows,
which can be of any size or position on the screen.
</p>

<p>
<code>srow</code> and <code>scol</code> are the starting coordinates of the chunk of text to
be copied, as offset within the <code>srcwin</code>.
</p>

<p>
<code>drow</code> and <code>dcol</code> set the starting coordinates of where the chunk
will be copied into the <code>destwin</code>. The size of the chunk copied is
set by <code>dxrow</code> and <code>dxcol</code>, which are offsets with <code>destwin</code>.
</p>

<p>
Finally, <code>type</code> can be either <code>TRUE</code> or <code>FALSE</code>. If <code>TRUE</code>, then
the text copied is non-destructive, as with <code>overlay()</code>. If
<code>FALSE</code>, then the text block replaces the block in the <code>destwin</code>,
just like <code>overwrite()</code>.
</p>

<p>
I realize that's confusing, so I drew up <a href="#Figure-10-2">Figure 10-2</a> to help you
visualize things.
</p>

<dl class="org-dl">
<dt> <a id="Figure-10-2" name="Figure-10-2">Figure 10-2</a> </dt><dd>A visual explanation of the <code>copywin()</code>
                           function


<div class="figure">
<p><img src="img/Figure10-2.jpg" alt="Figure10-2.jpg" />
</p>
</div>
</dd>
</dl>


<p>
Here's a sample program to toy with (see <a href="#Listing-10-2">Listing 10-2</a>).
</p>

<dl class="org-dl">
<dt> <a id="Listing-10-2" name="Listing-10-2">Listing 10-2</a> </dt><dd><a href="code/book/doop3.c"><code>doop3.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="doop3.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">top</span>,*<span style="color: #eedd82;">bottom</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">maxx</span>, <span style="color: #eedd82;">maxy</span>, <span style="color: #eedd82;">halfx</span>, <span style="color: #eedd82;">halfy</span>, <span style="color: #eedd82;">rc</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text1</span>[] = <span style="color: #ffa07a;">"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat."</span>;
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text2</span>[] = <span style="color: #ffa07a;">"Four score and seven years ago our fathers brought forth on this continent, a new nation, conceived in Liberty, and dedicated to the proposition that all men are created equal."</span>;
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  initscr();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Get window sizes </span><span style="color: #ff4500;">*/</span>
<span class="linenr">13: </span>  getmaxyx(stdscr,maxy,maxx);
<span class="linenr">14: </span>  halfy = maxy &gt;&gt; 1;
<span class="linenr">15: </span>  halfx = maxx &gt;&gt; 1;
<span class="linenr">16: </span>
<span class="linenr">17: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Build windows </span><span style="color: #ff4500;">*/</span>
<span class="linenr">18: </span>  top = newwin(halfy,maxx,0,0);
<span class="linenr">19: </span>  bottom = newwin(halfy,halfx,halfy,halfx);
<span class="linenr">20: </span>
<span class="linenr">21: </span>  waddstr(top,text1);
<span class="linenr">22: </span>  wrefresh(top);
<span class="linenr">23: </span>  waddstr(bottom,text2);
<span class="linenr">24: </span>  wrefresh(bottom);
<span class="linenr">25: </span>
<span class="linenr">26: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Wait for key press </span><span style="color: #ff4500;">*/</span>
<span class="linenr">27: </span>  wgetch(top);
<span class="linenr">28: </span>
<span class="linenr">29: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Copy text from top to bottom </span><span style="color: #ff4500;">*/</span>
<span class="linenr">30: </span>  rc = copywin(top,bottom,0,0,0,0,4,12,FALSE);
<span class="linenr">31: </span>  wrefresh(bottom);
<span class="linenr">32: </span>  wgetch(bottom);
<span class="linenr">33: </span>
<span class="linenr">34: </span>  endwin();
<span class="linenr">35: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">36: </span>}
</pre>
</div>
</dd>
</dl>


<p>
For your "real" programs, remember to check for errors when
creating the two windows in lines 19 and 20.
</p>

<p>
The <code>copywin()</code> function uses the <code>FALSE</code> option, so the rectangle
of text from window <code>top</code> overwrites the original contents of
window <code>bottom</code>. <a href="#Figure-10-3">Figure 10-3</a> may help you to see the results.
</p>

<dl class="org-dl">
<dt> <a id="Figure-10-3" name="Figure-10-3">Figure 10-3</a> </dt><dd>Cute graphical illustration of <code>copywin()</code>


<div class="figure">
<p><img src="img/Figure10-3.jpg" alt="Figure10-3.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-13-1-4" class="outline-4">
<h4 id="sec-13-1-4">Plain old window duplication                                      <a id="plain_old_window_duplication" name="plain_old_window_duplication"></a></h4>
<div class="outline-text-4" id="text-13-1-4">
<p>
The final window copying function is <code>dupwin()</code>, which copies an
entire window â size, text and all â to a new window, a
duplicate. It's basically the <code>newwin()</code> function, but uses an
existing window as a template to create the new window.
</p>

<div class="org-src-container">

<pre class="src src-c">newwin = dupwin(win)
</pre>
</div>

<p>
The <code>dupwin()</code> function returns a <code>WINDOW</code> pointer, which is then
used to reference and write to the new window (<a href="#Listing-10-3">Listing 10-3</a>).
</p>

<dl class="org-dl">
<dt> <a id="Listing-10-3" name="Listing-10-3">Listing 10-3</a> </dt><dd><a href="code/book/dup.c"><code>dup.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="dup.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">fred</span>,*<span style="color: #eedd82;">barney</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Build window &amp; wait </span><span style="color: #ff4500;">*/</span>
<span class="linenr">10: </span>  fred = newwin(0,0,0,0);
<span class="linenr">11: </span>  waddstr(fred,<span style="color: #ffa07a;">"This is the original window, Fred.\n"</span>);
<span class="linenr">12: </span>  wrefresh(fred);
<span class="linenr">13: </span>  wgetch(fred);
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Create and show barney </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>  barney = dupwin(fred);
<span class="linenr">17: </span>  waddstr(barney,<span style="color: #ffa07a;">"This is the Barney copy of window Fred.\n"</span>);
<span class="linenr">18: </span>  wrefresh(barney);
<span class="linenr">19: </span>  wgetch(barney);
<span class="linenr">20: </span>
<span class="linenr">21: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Go back to fred </span><span style="color: #ff4500;">*/</span>
<span class="linenr">22: </span>  waddstr(fred,<span style="color: #ffa07a;">"Nice to see you again!\n"</span>);
<span class="linenr">23: </span>  wrefresh(fred);
<span class="linenr">24: </span>  wgetch(fred);
<span class="linenr">25: </span>
<span class="linenr">26: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">One more time to barney </span><span style="color: #ff4500;">*/</span>
<span class="linenr">27: </span>  waddstr(barney,<span style="color: #ffa07a;">"And Barney says 'Hi' as well.\n"</span>);
<span class="linenr">28: </span>  touchwin(barney);
<span class="linenr">29: </span>  wrefresh(barney);
<span class="linenr">30: </span>  wgetch(barney);
<span class="linenr">31: </span>
<span class="linenr">32: </span>  endwin();
<span class="linenr">33: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">34: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The new window <code>barney</code> is created based on <code>fred</code> in line 16. The
new window inherits <code>fred</code>'s text. Then the program bounces back
and forth between the windows, displaying information.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-13-2" class="outline-3">
<h3 id="sec-13-2">Scrolling Around                                                   <a id="scrolling_around" name="scrolling_around"></a></h3>
<div class="outline-text-3" id="text-13-2">
<p>
Scrolling text doesn't seem like a big deal, and it isn't â today!
Thirty years ago it was a big deal â so much so that a scrolling
screen of text <i>was</i> patented (probably by IBM).
</p>

<p>
The fact that text scrolls on the screen seems to be taken for
granted. But it's not something that the terminal does
automatically: scrolling must be programmed. After all, the screen
is merely a matrix of text. Internally, the screen buffer is only
as big as the screen. Whenever you see something larger than the
screen displayed (and scrollable), it's programming magic that
moves text from a separate buffer to the screen.
</p>

<p>
Fortunately, scrolling the screen is no big deal, even if you have
to program the scroll yourself: a line of text is removed, the
remaining text is moved, then a new line of text is added. It's not
really that complicated, and you could do it yourself â but you
don't have to! NCurses gladly handles any scrolling chores your
programs require.
</p>
</div>

<div id="outline-container-sec-13-2-1" class="outline-4">
<h4 id="sec-13-2-1">Can it scroll?                                                    <a id="can_it_scroll" name="can_it_scroll"></a></h4>
<div class="outline-text-4" id="text-13-2-1">
<p>
In NCurses, scrolling text is a window attribute, just like the
window's size, location, cursor location, and other
attributes. This attribute is normally turned off, meaning that
windows in NCurses doesn't scroll a window by default. Here's
proof, as shown in <a href="#Listing-10-4">Listing 10-4</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-10-4" name="Listing-10-4">Listing 10-4</a> </dt><dd><a href="code/book/scroller.c"><code>scroller.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="scroller.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">FILENAME</span> <span style="color: #ffa07a;">"gettysburg.txt"</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">FILE</span> *<span style="color: #eedd82;">text</span>;
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">lister</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">maxy</span>,<span style="color: #eedd82;">maxx</span>,<span style="color: #eedd82;">ch</span>;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  initscr();
<span class="linenr">12: </span>  getmaxyx(stdscr,maxy,maxx);
<span class="linenr">13: </span>
<span class="linenr">14: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create window lister </span><span style="color: #ff4500;">*/</span>
<span class="linenr">15: </span>  lister = newwin(maxy,maxx/2,0,maxx/4);
<span class="linenr">16: </span>  <span style="color: #00ffff;">if</span>( lister == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">17: </span>    {
<span class="linenr">18: </span>      addstr(<span style="color: #ffa07a;">"unable to create window\n"</span>);
<span class="linenr">19: </span>      refresh(); getch();
<span class="linenr">20: </span>      endwin();
<span class="linenr">21: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">22: </span>    }
<span class="linenr">23: </span>
<span class="linenr">24: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">open the file </span><span style="color: #ff4500;">*/</span>
<span class="linenr">25: </span>  text = fopen(FILENAME,<span style="color: #ffa07a;">"r"</span>);
<span class="linenr">26: </span>  <span style="color: #00ffff;">if</span>( text == <span style="color: #7fffd4;">NULL</span> )
<span class="linenr">27: </span>    {
<span class="linenr">28: </span>      addstr(<span style="color: #ffa07a;">"unable to open file\n"</span>);
<span class="linenr">29: </span>      refresh(); getch();
<span class="linenr">30: </span>      endwin();
<span class="linenr">31: </span>      <span style="color: #00ffff;">return</span>(2);
<span class="linenr">32: </span>    }
<span class="linenr">33: </span>
<span class="linenr">34: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">display the file's contents </span><span style="color: #ff4500;">*/</span>
<span class="linenr">35: </span>  <span style="color: #00ffff;">do</span>
<span class="linenr">36: </span>    {
<span class="linenr">37: </span>      ch = fgetc(text);
<span class="linenr">38: </span>      waddch(lister,ch);
<span class="linenr">39: </span>      wrefresh(lister);
<span class="linenr">40: </span>    } <span style="color: #00ffff;">while</span> (ch != EOF);
<span class="linenr">41: </span>  fclose(text);
<span class="linenr">42: </span>  getch();
<span class="linenr">43: </span>
<span class="linenr">44: </span>  endwin();
<span class="linenr">45: </span>  <span style="color: #00ffff;">return</span>(0);
<span class="linenr">46: </span>}
</pre>
</div>
</dd>
</dl>


<p>
This program creates a new window, <code>lister</code>. The window is half
the width of the standard screen, but just as tall. A file is
opened on disk and displayed, character by character, in the
window. The notion here is to display enough text that the window
needs to scroll to display the whole thing.
</p>

<p>
Note that the filename is defined in line 3. I'm using the text
from Lincoln's Gettysburg Address, which is saved in the same
folder as <code>scroller.c</code> and in a file named <code>gettysburg.txt</code>. Be
sure to specify the name of an existing text file in line 3; the
file must contain enough text to require the window to scroll to
display it all.
</p>

<p>
Breaking with tradition here, I'm doing some error-checking in
this program, both for creating the new window as well as opening
the file.
</p>

<p>
And&#x2026; it doesn't scroll. Instead, after the window is filled,
remaining text in the file continues to be plugged in to the
bottom-most, right character position in window <code>lister</code>.
</p>
</div>
</div>

<div id="outline-container-sec-13-2-2" class="outline-4">
<h4 id="sec-13-2-2">Scroll Away                                                       <a id="scroll_away" name="scroll_away"></a></h4>
<div class="outline-text-4" id="text-13-2-2">
<p>
Enabling scrolling in NCurses is easy, thanks to the <code>scrollok()</code>
function:
</p>

<div class="org-src-container">

<pre class="src src-c">scrollok(win,TRUE);
</pre>
</div>

<p>
The <code>scrollok()</code> function sets or resets the ability of a window
to scroll. The window is specified as <code>win</code>, and the second
argument is either <code>TRUE</code> or <code>FALSE</code> to turn scrolling on or off
(respectively) for that window.
</p>

<p>
Add the following at line 23:
</p>

<div class="org-src-container">

<pre class="src src-c">scrollok(lister,TRUE);
</pre>
</div>

<p>
This time the text continues to display as the window scrolls its
contents up, allowing for the new text.
</p>

<p>
If your text file isn't long enough to scroll the window, then
choose another file.
</p>

<p>
Scrolling affects the location of the window's cursor. When a
character is placed at the bottom right position in a window,
scrolling advances the text up one line (the scroll), then returns
the cursor to the start of the bottom line in the window, column
zero.
</p>
</div>
</div>

<div id="outline-container-sec-13-2-3" class="outline-4">
<h4 id="sec-13-2-3">The old manual scroll                                             <a id="the_old_manual_scroll" name="the_old_manual_scroll"></a></h4>
<div class="outline-text-4" id="text-13-2-3">
<p>
Whether a window has its scrolling attribute set or not, you can
still manually scroll the text in a window by using the <code>scroll()</code>
function:
</p>

<div class="org-src-container">

<pre class="src src-c">scroll(win)
</pre>
</div>

<p>
The <code>scroll()</code> function scrolls text in the window <code>win</code> up one
line. This works only if the window has its scrolling attribute
set. When in doubt, set scrolling on with <code>scrollok(win,TRUE)</code>,
otherwise the <code>scroll()</code> function returns <code>ERR</code> (see <a href="#Listing-10-5">Listing 10-5</a>).
</p>

<dl class="org-dl">
<dt> <a id="Listing-10-5" name="Listing-10-5">Listing 10-5</a> </dt><dd><a href="code/book/scrup1.c"><code>scrup1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="scrup1"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">maxy</span>,<span style="color: #eedd82;">maxx</span>,<span style="color: #eedd82;">y</span>;
<span class="linenr"> 6: </span>  initscr();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  getmaxyx(stdscr,maxy,maxx);
<span class="linenr"> 9: </span>  scrollok(stdscr,TRUE);
<span class="linenr">10: </span>
<span class="linenr">11: </span>  <span style="color: #00ffff;">for</span>(y=0;y&lt;=maxy;y++)
<span class="linenr">12: </span>    mvprintw(y,0,<span style="color: #ffa07a;">"This is boring text written to line %d."</span>,y);
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  scroll(stdscr);
<span class="linenr">17: </span>  refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  endwin();
<span class="linenr">21: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">22: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The code uses the standard screen, <code>stdscr</code>, for output, though
scrolling works similarly for any window. In line 9, the
<code>scrollok()</code> function allows the <code>stdscr</code> to be scrolled. The
<code>for</code> loop, lines 11 and 12, fill the screen with text. After
pressing Enter (line 14), the <code>scroll()</code> function in line 16
scrolls the text on the screen up one notch.
</p>

<p>
Here are some things to notice when the screen scrolls:
</p>

<ul class="org-ul">
<li>The top line of the window is scrolled away; it disappears.
</li>

<li>All lines after the top line are each scrolled up one notch.
</li>

<li>A blank line fills the last line of the screen.
</li>

<li>The cursor position <i>does not</i> change; it remains at the same
coordinates as before the scroll. So if the cursor is at
position 10,15, it will not scroll up to line 9,15, but rather
remain at 10,15.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-13-2-4" class="outline-4">
<h4 id="sec-13-2-4">Scrolling by leaps and bounds                                     <a id="scrolling_by_leaps_and_bounds" name="scrolling_by_leaps_and_bounds"></a></h4>
<div class="outline-text-4" id="text-13-2-4">
<p>
Say you need to scroll the screen up two lines instead of three?
It can happen.  One way to make it happen is to just use
<code>scroll()</code> thrice.
</p>

<p>
Edit line 16 to read:
</p>

<div class="org-src-container">

<pre class="src src-c">scroll(stdscr); scroll(stdscr); scroll(stdscr);
</pre>
</div>

<p>
Did it work? It should have, though I've found some versions of
NCurses that require this nonsense:
</p>

<div class="org-src-container">

<pre class="src src-c">scroll(stdscr);
refresh();
scroll(stdscr);
refresh();
scroll(stdscr);
refresh();
</pre>
</div>

<p>
Regardless of how you get it to work, you're wasting
code. Obviously there must be a better solution than awkwardly
re-issuing <code>scroll()</code> functions. And that solution is this
function:
</p>

<div class="org-src-container">

<pre class="src src-c">scrl(n)
</pre>
</div>

<p>
The <code>scrl()</code> function scrolls the standard screen <code>n</code> number of
lines. So to scroll up three lines, <code>scrl(3)</code> would be used. To
make <code>scrl()</code> imitate <code>scroll()</code>, <code>scrl(1)</code> would be used (see
<a href="#Listing-10-6">Listing 10-6</a>).
</p>

<dl class="org-dl">
<dt> <a id="Listing-10-6" name="Listing-10-6">Listing 10-6</a> </dt><dd><a href="code/book/scrup2.c"><code>scrup2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="scrup2.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">maxy</span>,<span style="color: #eedd82;">maxx</span>,<span style="color: #eedd82;">y</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  getmaxyx(stdscr,maxy,maxx);
<span class="linenr"> 9: </span>  scrollok(stdscr,TRUE);
<span class="linenr">10: </span>
<span class="linenr">11: </span>  <span style="color: #00ffff;">for</span>(y=0;y&lt;=maxy;y++)
<span class="linenr">12: </span>    mvprintw(y,0,<span style="color: #ffa07a;">"This is boring text written to line %d."</span>,y);
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  scrl(3);
<span class="linenr">17: </span>  refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  endwin();
<span class="linenr">21: </span>  <span style="color: #00ffff;">return</span>(0);
<span class="linenr">22: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Only line 16 is changed, from the <code>scroll()</code> function to
<code>scrl(3)</code>. The result scrolls the screen up three lines instead of
one.
</p>

<p>
As expected, the <code>scrl()</code> function hops text on the screen up by
three rows.  Blank rows replace the rows scrolled up from the
bottom of the window. And, as with the <code>scroll()</code> function, the
cursor's position on the screen is not affected by the function
call.
</p>

<p>
The window version of the <code>scroll()</code> function is <code>wscrl()</code>. The
format is
</p>

<div class="org-src-container">

<pre class="src src-c">wscrl(win,n)
</pre>
</div>

<p>
<code>win</code> is the name of the window being scrolled and <code>n</code> indicates
the number of lines to scroll.
</p>

<p>
Both <code>wscrl()</code> and <code>scrl()</code> return <code>OK</code> upon success and <code>ERR</code>
when there is problem. The most common problem is that the window
does not have its scrolling attribute set.
</p>
</div>
</div>

<div id="outline-container-sec-13-2-5" class="outline-4">
<h4 id="sec-13-2-5">Negative scrolling                                                <a id="negative_scrolling" name="negative_scrolling"></a></h4>
<div class="outline-text-4" id="text-13-2-5">
<p>
The <code>scrl()</code> function is a true scrolling function, one that
doesn't assume things always have to scroll <i>up</i>. In fact, when
you specify a <i>negative</i> value for <code>n</code> in <code>scrl(n)</code> text on the
screen scrolls <i>down</i>. See for yourself; change line 16 to read:
</p>

<div class="org-src-container">

<pre class="src src-c">scrl(-3);
</pre>
</div>

<p>
Scrolling down is merely the opposite of scrolling up: lines move
<i>down</i> on the screen. New, blank lines appear at the top. Text at
the bottom of the screen is scrolled into oblivion. The cursor's
position does not change.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-13-3" class="outline-3">
<h3 id="sec-13-3">The Moving Experience                                              <a id="the_moving_experience" name="the_moving_experience"></a></h3>
<div class="outline-text-3" id="text-13-3">
<p>
When NCurses creates a window it doesn't really bolt it down on the
screen.  Just as you can change text within a window, text
attributes, the cursor location in the window, you can also change
the window's location on the screen.  This is thanks to the handy
<code>mvwin()</code> function:
</p>

<div class="org-src-container">

<pre class="src src-c">mvwin(win,row,col);
</pre>
</div>

<p>
The <code>mvwin()</code> function moves window <code>win</code> to new location <code>row</code>,
<code>col</code>, relative to the standard screen. (So 0,0 is the upper-left
corner.)  As long as the whole window remains on the screen, you
can move it anywhere. See <a href="#Listing-10-7">Listing 10-7</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-10-7" name="Listing-10-7">Listing 10-7</a> </dt><dd><a href="code/book/windrop.c"><code>windrop.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="windrop.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">TSIZE</span> 18
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">b</span>;
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">maxy</span>,<span style="color: #eedd82;">maxx</span>,<span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>;
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  initscr();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  getmaxyx(stdscr,maxy,maxx);
<span class="linenr">13: </span>  x = (maxx-TSIZE) &gt;&gt; 1;
<span class="linenr">14: </span>
<span class="linenr">15: </span>  b = newwin(1,TSIZE,0,x);
<span class="linenr">16: </span>  waddstr(b,<span style="color: #ffa07a;">"I'm getting sick!"</span>);
<span class="linenr">17: </span>
<span class="linenr">18: </span>  <span style="color: #00ffff;">for</span>(y=1;y&lt;maxy;y++)
<span class="linenr">19: </span>    {
<span class="linenr">20: </span>      mvwin(b,y,x);
<span class="linenr">21: </span>      wrefresh(b);
<span class="linenr">22: </span>      wgetch(b);
<span class="linenr">23: </span>    }
<span class="linenr">24: </span>
<span class="linenr">25: </span>  endwin();
<span class="linenr">26: </span>  <span style="color: #00ffff;">return</span>(0);
<span class="linenr">27: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The code creates a long, thin window <code>b</code>, which barely contains the
text <code>I'm getting sick!</code>. The <code>for</code> loop is used to change the
window's location on the screen, dropping vertically from the first
row down to the last row.
</p>

<p>
The window drops down on the screen, one line for every press of
the Enter key. But because the underlying window isn't updated,
window <code>b</code>'s old location remains visible. Must fix that!
</p>

<p>
Insert these two lines after line 21, inside the <code>for</code> loop:
</p>

<div class="org-src-container">

<pre class="src src-c">touchline(stdscr,y-1,1);
refresh();
</pre>
</div>

<p>
The <code>touchline()</code> function works like <code>touchwin()</code>, though instead
of updating the entire window only a single line of a window is
updated â and that saves time. So in this case, the previous line
of the background window, <code>stdscr</code>, is updated as window <code>b</code> is
moved to the line below.
</p>

<p>
The window actually does appear to move, now that its previous
location is erased. (Actually, the window beneath the moving window
is refreshed, which has the effect of erasing the moving window's
previous position.)
</p>

<p>
The only effect you can add now is to populate the background
window with something interesting, which further shows that window
<code>b</code> is moving over something.
</p>

<p>
Insert these two lines before line 15:
</p>

<div class="org-src-container">

<pre class="src src-c">bkgd(<span style="color: #ffa07a;">'.'</span>);
refresh();
</pre>
</div>

<p>
The <code>bkgd()</code> function fills the <code>stdscr</code> window's background with
periods.  Or if you want to be more creative, just flood the
background window with random text or the Gettysburg address â
anything that can help prove window <code>b</code> moves (or floats) over the
top of that window.
</p>

<p>
Window <code>b</code> moves as before, but now you can see that the background
window's contents do not change.
</p>

<p>
When using <code>mvwin()</code>, remember these points:
</p>

<ul class="org-ul">
<li>The window can be moved anywhere on the screen, as long as the
entire window remains on the screen. If one or more rows or
columns falls off the edge of the screen, then the window is not
moved; the <code>mvwin()</code> function returns <code>ERR</code>.
</li>

<li>To complete the move, the window in the background must be
updated. The <code>touchline()</code> or <code>touchwin()</code> functions can handle
this, followed by a <code>wrefresh()</code> of the background window.
</li>

<li>Do not move subwindows using <code>mvwin()</code>. Subwindows share memory
with the parent window, but the parent window is unaware of
this. Therefore, when you move the subwindow, NCurses cannot
update which text was moved in which window and the results can
be disastrous.
</li>

<li>Don't confuse the <code>mvwin()</code> function with <code>wmove()</code>, which is
used to move the cursor's location in a window.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-14" class="outline-2">
<h2 id="sec-14">CHAPTER 11 Dig My Pad, Man                                          <a id="chapter_11" name="chapter_11"></a></h2>
<div class="outline-text-2" id="text-14">
<p>
Welcome to the Brobdingnagian part of your NCurses version of
<i>Gulliver's Travels</i>. It's the land of the big. If you recall,
adventurer Gulliver visits many lands in Jonathan Swift's
<i>Gulliver's Travels</i>. Nearly everyone remembers Lilliput, land of
the little people. But Gulliver also visits a land of giants, called
Brobdingnag.
</p>

<p>
In NCurses, there are windows, but there are also <i>pads</i>. A pad is a
supersized, Brobdingnagian window (or can be). Unlike regular
windows, which can be at least one character in size and at most the
same size as the terminal screen, a pad can be any size, up to as
much as memory allows. This chapter explores the possibilities of
pads.
</p>
</div>

<div id="outline-container-sec-14-1" class="outline-3">
<h3 id="sec-14-1">The Monster Window                                                 <a id="the_monster_window" name="the_monster_window"></a></h3>
<div class="outline-text-3" id="text-14-1">
<p>
Pads are not really the same things as windows in a number of
interesting and useful ways. About the most obvious is that a pad
can be any size, from one character on up to many columns and rows,
far beyond what can be seen on the screen at once.
</p>
</div>

<div id="outline-container-sec-14-1-1" class="outline-4">
<h4 id="sec-14-1-1">Making a Pad                                                      <a id="making_a_pad" name="making_a_pad"></a></h4>
<div class="outline-text-4" id="text-14-1-1">
<p>
Pads are created like windows. The <code>WINDOW</code> type is used to define
the variable â just like a window, though a new command is used to
actually create the pad:
</p>

<div class="org-src-container">

<pre class="src src-c">newpad(rows,cols)
</pre>
</div>

<p>
<code>rows</code> and <code>cols</code> set the height and width of the pad in
characters. Values range from 1 up to however large a pad memory
can handle.
</p>

<p>
The value returned from <code>newpad()</code> is the address of a <code>WINDOW</code>
structure in memory (see <a href="#Listing-11-1">Listing 11-1</a>), which is exactly the same
as for a regular window, though as you'll read in a few
paragraphs, pads and windows have differences.
</p>

<dl class="org-dl">
<dt> <a id="Listing-11-1" name="Listing-11-1">Listing 11-1</a> </dt><dd><a href="code/book/bigpad1.c"><code>bigpad1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="bigpad1.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">p</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">c</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create a new pad </span><span style="color: #ff4500;">*/</span>
<span class="linenr">11: </span>  p = newpad(50,100);
<span class="linenr">12: </span>  <span style="color: #00ffff;">if</span>( p == <span style="color: #7fffd4;">NULL</span> )
<span class="linenr">13: </span>    {
<span class="linenr">14: </span>      addstr(<span style="color: #ffa07a;">"Unable to create new pad"</span>);
<span class="linenr">15: </span>      refresh();
<span class="linenr">16: </span>      endwin();
<span class="linenr">17: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">18: </span>    }
<span class="linenr">19: </span>
<span class="linenr">20: </span>  addstr(<span style="color: #ffa07a;">"New pad created"</span>);
<span class="linenr">21: </span>  refresh();
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  endwin();
<span class="linenr">25: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">26: </span>}
</pre>
</div>
</dd>
</dl>

<p>
The pad is created in line 11, assigned to variable <code>p</code>. Line 12
tests to see if memory can handle a pad of 100 columns by 50 rows
(more than four times the size of the typical terminal screen).
</p>

<p>
If the pad was created, "New pad created" is displayed on the
standard screen. Why wasn't the text put and displayed from the
pad? You'll read why in the next section!
</p>
</div>
</div>

<div id="outline-container-sec-14-1-2" class="outline-4">
<h4 id="sec-14-1-2">Viewing a Pad's Contents                                          <a id="viewing_a_pad_s_contents" name="viewing_a_pad_s_contents"></a></h4>
<div class="outline-text-4" id="text-14-1-2">
<p>
Text is put to a pad just like any other window using the standard
NCurses text-output commands. Unlike standard windows, however,
you just can't refresh a pad, not with <code>wrefresh()</code>, at
least. Here's proof. Change lines 20 and 21 to read:
</p>

<div class="org-src-container">

<pre class="src src-c">waddstr(p,<span style="color: #ffa07a;">"New pad created"</span>);
wrefresh(p);
</pre>
</div>

<p>
Nothing, eh?
</p>

<p>
True, the <code>waddstr()</code> function did indeed add text to the pad. But
<code>wrefresh()</code> doesn't update or display the pad. Even if it could,
consider this: When the pad was created, where was it put on the
screen?
</p>

<p>
<i>Ah-ha!</i>
</p>

<p>
Pads, unlike windows, lack screen coordinates. In fact, it helps
to think of a pad as a virtual screen that's way, way off in
memory. There is just no relationship between the pad itself and
the visible screen.
</p>

<p>
To display text written to the pad, you need to know where it is
on the pad and copy that chunk from the pad to the screen for
display. The <code>prefresh()</code> function is what handles the operation:
</p>

<div class="org-src-container">

<pre class="src src-c">prefresh(pad,pminrow,pmincol,sminrow,smincol,smaxrow,smaxcol)
</pre>
</div>

<p>
The <code>prefresh()</code> function looks intimidating, but it's not: <code>pad</code>
is the name of a pad created by using the <code>newpad()</code> function. The
rest of the arguments define a rectangle of text (and attributes)
in the pad and specify where that rectangle will be placed on the
standard screen. The remaining arguments of <code>prefresh()</code> calculate
that rectangle's location:
</p>

<p>
<code>pminrow</code> and <code>pmincol</code> represent the <code>Y</code> and <code>X</code> coordinates of
the upper-left corner of a chunk of the pad.
</p>

<p>
<code>sminrow</code> and <code>smincol</code> are the Y and X coordinates on the
standard screen where the chunk of the pad will be
displayed. <code>smaxrow</code> and <code>smaxcol</code> define the size of the
rectangle, both relative to the pad and the screen. <a href="#Figure-11-1">Figure 11-1</a>
helps illustrate this.
</p>

<p>
Change line 21 to read:
</p>

<div class="org-src-container">

<pre class="src src-c">prefresh(p,0,0,0,0,1,15);
</pre>
</div>

<p>
Now you see the text; <code>prefresh()</code> copies a chunk from the pad and
displays it on the screen.
</p>

<dl class="org-dl">
<dt> <a id="Figure-11-1" name="Figure-11-1">Figure 11-1</a> </dt><dd>Mapping out how <code>prefresh()</code> works


<div class="figure">
<p><img src="img/Figure11-1.jpg" alt="Figure11-1.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-14-1-3" class="outline-4">
<h4 id="sec-14-1-3">More Pad-Viewing Stuff                                            <a id="more_pad-viewing_stuff" name="more_pad-viewing_stuff"></a></h4>
<div class="outline-text-4" id="text-14-1-3">
<p>
One key thing to remember about pads is that the pad's size is set
starting with one, yet <code>prefresh()</code> uses zero as a base. So if a
pad were 20 characters wide, you would reference those characters
from column 0 through column 19 â not 1 through 20.
</p>

<p>
<a href="#Listing-11-2">Listing 11-2</a> shows yet another pad program to whet your pad
appetite.
</p>

<dl class="org-dl">
<dt> <a id="Listing-11-2" name="Listing-11-2">Listing 11-2</a> </dt><dd><a href="code/book/paddy1.c"><code>paddy1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="paddy.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">FILENAME</span> <span style="color: #ffa07a;">"gettysburg.txt"</span>
<span class="linenr"> 5: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">TALL</span> 24
<span class="linenr"> 6: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">WIDE</span> 19
<span class="linenr"> 7: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">SPACER</span> 5
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>);
<span class="linenr">10: </span>
<span class="linenr">11: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">12: </span>{
<span class="linenr">13: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">p</span>;
<span class="linenr">14: </span>  <span style="color: #98fb98;">FILE</span> *<span style="color: #eedd82;">f</span>;
<span class="linenr">15: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr">16: </span>
<span class="linenr">17: </span>  initscr();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create a new pad </span><span style="color: #ff4500;">*/</span>
<span class="linenr">20: </span>  p = newpad(200,WIDE+1);
<span class="linenr">21: </span>  <span style="color: #00ffff;">if</span>( p == <span style="color: #7fffd4;">NULL</span> )
<span class="linenr">22: </span>    bomb(<span style="color: #ffa07a;">"Unable to create new pad\n"</span>);
<span class="linenr">23: </span>
<span class="linenr">24: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">open the file </span><span style="color: #ff4500;">*/</span>
<span class="linenr">25: </span>  f = fopen(FILENAME,<span style="color: #ffa07a;">"r"</span>);
<span class="linenr">26: </span>  <span style="color: #00ffff;">if</span>( f == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">27: </span>    bomb(<span style="color: #ffa07a;">"Unable to open file\n"</span>);
<span class="linenr">28: </span>
<span class="linenr">29: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">display file's contents on the pad </span><span style="color: #ff4500;">*/</span>
<span class="linenr">30: </span>  <span style="color: #00ffff;">while</span>( (ch=fgetc(f)) != EOF)
<span class="linenr">31: </span>    waddch(p,ch);
<span class="linenr">32: </span>  fclose(f);
<span class="linenr">33: </span>
<span class="linenr">34: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">display the pad's contents on the screen </span><span style="color: #ff4500;">*/</span>
<span class="linenr">35: </span>  prefresh(p,       0, 0, 0,               0, TALL-1, WIDE);
<span class="linenr">36: </span>  prefresh(p,    TALL, 0, 0,     WIDE+SPACER, TALL-1, <span style="color: #98fb98;">WIDE</span>*2+SPACER);
<span class="linenr">37: </span>  prefresh(p,  <span style="color: #98fb98;">TALL</span>*2, 0, 0, <span style="color: #98fb98;">WIDE</span>*2+SPACER*2, TALL-1, <span style="color: #98fb98;">WIDE</span>*3+SPACER*2);
<span class="linenr">38: </span>  wgetch(p);
<span class="linenr">39: </span>
<span class="linenr">40: </span>  endwin();
<span class="linenr">41: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">42: </span>}
<span class="linenr">43: </span>
<span class="linenr">44: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>)
<span class="linenr">45: </span>{
<span class="linenr">46: </span>  addstr(message);
<span class="linenr">47: </span>  refresh(); getch();
<span class="linenr">48: </span>  endwin();
<span class="linenr">49: </span>  exit(1);
<span class="linenr">50: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The code creates a tall, narrow pad in line 20, 200 lines deep by
20 lines wide.  The constant <code>WIDE</code> is defined as 19 because the
actual width of the pad goes from zero to 19, not 20. That comes
into play later in the code.
</p>

<p>
The text file defined at line 4 is read in line 25. I've used the
<code>gettysburg.txt</code> file, which is a text copy of Lincoln's
Gettysburg Address. (Ensure that whatever file you specify is in
the same directory as the <code>paddy1.c</code> program.) Each character is
read from the program and put to the pad in lines 30 and 31.
</p>

<p>
Of course, nothing shows up on the screen until <code>prefresh()</code> comes
around. This code takes the long, tall pad and displays the first
three chunks of the file in the columns on the screen in lines 35,
36, and 37. Constants <code>TALL</code> and <code>WIDE</code> define the height and
width of the chunk read; <code>SPACER</code> is used to put some air between
the columns.
</p>

<p>
The output is shown in <a href="#Figure-11-2">Figure 11-2</a>, with <a href="#Figure-11-3">Figure 11-3</a> describing
how it works.
</p>

<dl class="org-dl">
<dt> <a id="Figure-11-2" name="Figure-11-2">Figure 11-2</a> </dt><dd>Output of the <code>paddy.c</code> source code


<div class="figure">
<p><img src="img/Figure11-2.jpg" alt="Figure11-2.jpg" />
</p>
</div>
</dd>

<dt> <a id="Figure-11-3" name="Figure-11-3">Figure 11-3</a> </dt><dd>What <code>paddy.c</code> does


<div class="figure">
<p><img src="img/Figure11-3.jpg" alt="Figure11-3.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-sec-14-2" class="outline-3">
<h3 id="sec-14-2">Subpads                                                            <a id="subpads" name="subpads"></a></h3>
<div class="outline-text-3" id="text-14-2">
<p>
Just as windows can have subwindows, there is also a beast known as
a <i>subpad</i>. Yeah, I'm not thrilled about it. Like the subwindow,
the subpad shares memory with the parent; changing the contents of
a subpad changes the text on a pad.
</p>
</div>

<div id="outline-container-sec-14-2-1" class="outline-4">
<h4 id="sec-14-2-1">Making a subpad                                                   <a id="making_a_subpad" name="making_a_subpad"></a></h4>
<div class="outline-text-4" id="text-14-2-1">
<p>
Almost without thinking, you can guess that the <code>subpad()</code>
function creates a new subpad:
</p>

<div class="org-src-container">

<pre class="src src-c">subpad(org,rows,cols,y,x)
</pre>
</div>

<p>
<code>org</code> is the parent pad. <code>rows</code> and <code>cols</code> set the subpad's size,
which (logically) must not be greater than the <code>orig</code> pad's
size. <code>y</code> and <code>x</code> set the subpad's position relative to the
parent, where 0,0 is the upper-left corner.
</p>

<p>
If the <code>subpad()</code> call is successful, a subpad is created in
memory and a pointer to a <code>WINDOW</code> structure is returned by
<code>subpad()</code>. If <code>NULL</code> is returned, the subpad was not
created. (See <a href="#Listing-11-3">Listing 11-3</a>.)
</p>

<dl class="org-dl">
<dt> <a id="Listing-11-3" name="Listing-11-3">Listing 11-3</a> </dt><dd><a href="code/book/sonofpad.c"><code>sonofpad.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="sonofpad.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>);
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">pod</span>,*<span style="color: #eedd82;">pea</span>;
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  initscr();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create a new pad </span><span style="color: #ff4500;">*/</span>
<span class="linenr">13: </span>  pod = newpad(50,50);
<span class="linenr">14: </span>  <span style="color: #00ffff;">if</span>( pod == <span style="color: #7fffd4;">NULL</span> )
<span class="linenr">15: </span>    bomb(<span style="color: #ffa07a;">"Unable to create new pad"</span>);
<span class="linenr">16: </span>
<span class="linenr">17: </span>  addstr(<span style="color: #ffa07a;">"New pad created\n"</span>);
<span class="linenr">18: </span>  refresh();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create a subpad </span><span style="color: #ff4500;">*/</span>
<span class="linenr">21: </span>  pea = subpad(pod,20,20,29,29);
<span class="linenr">22: </span>  <span style="color: #00ffff;">if</span>( pea == <span style="color: #7fffd4;">NULL</span> )
<span class="linenr">23: </span>    bomb(<span style="color: #ffa07a;">"Unable to create subpad"</span>);
<span class="linenr">24: </span>
<span class="linenr">25: </span>  addstr(<span style="color: #ffa07a;">"Subpad created\n"</span>);
<span class="linenr">26: </span>  refresh(); getch();
<span class="linenr">27: </span>
<span class="linenr">28: </span>  endwin();
<span class="linenr">29: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">30: </span>}
<span class="linenr">31: </span>
<span class="linenr">32: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>)
<span class="linenr">33: </span>{
<span class="linenr">34: </span>  addstr(message);
<span class="linenr">35: </span>  refresh(); getch();
<span class="linenr">36: </span>  endwin();
<span class="linenr">37: </span>  exit(1);
<span class="linenr">38: </span>}
</pre>
</div>
</dd>
</dl>


<p>
First, the pad is created; if successful, you'll see:
</p>

<pre class="example">
New pad created
</pre>

<p>
Then a subpad on that pad is created. If the stars are in proper
alignment, you'll see:
</p>

<pre class="example">
Subpad created
</pre>

<p>
Pop the cork on some bubbly.
</p>
</div>
</div>

<div id="outline-container-sec-14-2-2" class="outline-4">
<h4 id="sec-14-2-2">Working with a Subpad                                             <a id="working_with_a_subpad" name="working_with_a_subpad"></a></h4>
<div class="outline-text-4" id="text-14-2-2">
<p>
As with subwindows, I feel that the best way to put a subpad to
use is as a quick way to reference specific coordinates within a
pad. So if something interesting is happening always at location
20,30 in the pad, consider placing a subpad there so you can use
coordinates local to the subpad instead of having to calculate
things in the pad.
</p>

<p>
A perfect example of these local coordinates can be seen in the
code for <code>paddy1.c</code>. Rather than calculate offsets within the pad
<code>p</code>, three subpads can be created, each of which represents one of
the columns of text displayed on the screen (see <a href="#Figure-11-2">Figure 11-2</a>).
This greatly helps to clean up the <code>prefresh()</code> statements near
the end of the code, as this improvement in <a href="#Listing-11-4">Listing 11-4</a>
demonstrates.
</p>

<dl class="org-dl">
<dt> <a id="Listing-11-4" name="Listing-11-4">Listing 11-4</a> </dt><dd><a href="code/book/paddy2.c"><code>paddy2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="paddy2.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">FILENAME</span> <span style="color: #ffa07a;">"gettysburg.txt"</span>
<span class="linenr"> 5: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">TALL</span> 24
<span class="linenr"> 6: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">WIDE</span> 19
<span class="linenr"> 7: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">SPACER</span> 5
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>);
<span class="linenr">10: </span>
<span class="linenr">11: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">12: </span>{
<span class="linenr">13: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">p</span>,*<span style="color: #eedd82;">s1</span>,*<span style="color: #eedd82;">s2</span>,*<span style="color: #eedd82;">s3</span>;
<span class="linenr">14: </span>  <span style="color: #98fb98;">FILE</span> *<span style="color: #eedd82;">f</span>;
<span class="linenr">15: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr">16: </span>
<span class="linenr">17: </span>  initscr();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create a new pad </span><span style="color: #ff4500;">*/</span>
<span class="linenr">20: </span>  p = newpad(200,WIDE+1);
<span class="linenr">21: </span>  <span style="color: #00ffff;">if</span>( p == <span style="color: #7fffd4;">NULL</span> )
<span class="linenr">22: </span>    bomb(<span style="color: #ffa07a;">"Unable to create new pad\n"</span>);
<span class="linenr">23: </span>
<span class="linenr">24: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create three subpads </span><span style="color: #ff4500;">*/</span>
<span class="linenr">25: </span>  s1 = subpad(p,TALL,WIDE+1,0,0);
<span class="linenr">26: </span>  <span style="color: #00ffff;">if</span>( s1 == <span style="color: #7fffd4;">NULL</span>) bomb(<span style="color: #ffa07a;">"Unable to create subpad 1\n"</span>);
<span class="linenr">27: </span>  s2 = subpad(p,TALL,WIDE+1,TALL,0);
<span class="linenr">28: </span>  <span style="color: #00ffff;">if</span>( s2 == <span style="color: #7fffd4;">NULL</span>) bomb(<span style="color: #ffa07a;">"Unable to create subpad 2\n"</span>);
<span class="linenr">29: </span>  s3 = subpad(p,TALL,WIDE+1,2*TALL,0);
<span class="linenr">30: </span>  <span style="color: #00ffff;">if</span>( s3 == <span style="color: #7fffd4;">NULL</span>) bomb(<span style="color: #ffa07a;">"Unable to create subpad 3\n"</span>);
<span class="linenr">31: </span>
<span class="linenr">32: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">open the file </span><span style="color: #ff4500;">*/</span>
<span class="linenr">33: </span>  f = fopen(FILENAME,<span style="color: #ffa07a;">"r"</span>);
<span class="linenr">34: </span>  <span style="color: #00ffff;">if</span>( f == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">35: </span>    bomb(<span style="color: #ffa07a;">"Unable to open file\n"</span>);
<span class="linenr">36: </span>
<span class="linenr">37: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">display file's contents on the pad </span><span style="color: #ff4500;">*/</span>
<span class="linenr">38: </span>  <span style="color: #00ffff;">while</span>( (ch=fgetc(f)) != EOF)
<span class="linenr">39: </span>    waddch(p,ch);
<span class="linenr">40: </span>  fclose(f);
<span class="linenr">41: </span>
<span class="linenr">42: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">display the pad's contents on the screen </span><span style="color: #ff4500;">*/</span>
<span class="linenr">43: </span>  prefresh(s1, 0, 0, 0,               0, TALL-1,            WIDE);
<span class="linenr">44: </span>  prefresh(s2, 0, 0, 0,     WIDE+SPACER, TALL-1,   <span style="color: #98fb98;">WIDE</span>*2+SPACER);
<span class="linenr">45: </span>  prefresh(s3, 0, 0, 0, <span style="color: #98fb98;">WIDE</span>*2+SPACER*2, TALL-1, <span style="color: #98fb98;">WIDE</span>*3+SPACER*2);
<span class="linenr">46: </span>  wgetch(p);
<span class="linenr">47: </span>
<span class="linenr">48: </span>  endwin();
<span class="linenr">49: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">50: </span>}
<span class="linenr">51: </span>
<span class="linenr">52: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>)
<span class="linenr">53: </span>{
<span class="linenr">54: </span>  addstr(message);
<span class="linenr">55: </span>  refresh(); getch();
<span class="linenr">56: </span>  endwin();
<span class="linenr">57: </span>  exit(1);
<span class="linenr">58: </span>}
</pre>
</div>
</dd>
</dl>

<p>
The program's output is identical to the original, but some effort
was saved by using local references to the subpads in lines 43,
44, and 45.
</p>
</div>
</div>

<div id="outline-container-sec-14-2-3" class="outline-4">
<h4 id="sec-14-2-3">Some Optimization                                                 <a id="some_optimization" name="some_optimization"></a></h4>
<div class="outline-text-4" id="text-14-2-3">
<p>
Here's a bit of advanced NCurses for you: The code in the previous
section uses three <code>prefresh()</code> functions in <code>paddy2.c</code> to update
pad data to the standard screen:
</p>

<div class="org-src-container">

<pre class="src src-c">prefresh(s1, 0, 0, 0,               0, TALL-1,            WIDE);
prefresh(s2, 0, 0, 0,     WIDE+SPACER, TALL-1,   <span style="color: #98fb98;">WIDE</span>*2+SPACER);
prefresh(s3, 0, 0, 0, <span style="color: #98fb98;">WIDE</span>*2+SPACER*2, TALL-1, <span style="color: #98fb98;">WIDE</span>*3+SPACER*2);
</pre>
</div>

<p>
These three statements work, but they're inefficient. Each
<code>prefresh()</code> internally calls two lower-level NCurses functions:
<code>pnoutrefresh()</code> and <code>doupdate()</code>.
</p>

<p>
The <code>pnoutfresh()</code> function examines a given rectangle of text in
a pad, and notes that the text in that rectangle that has been
changed or updated since the last <code>prefresh()</code>. That text,
referred to as <i>touched</i>, is then queued up for display on the
standard screen. Then the <code>doupdate()</code> function takes care of the
task of actually updating the screen. So the three <code>prefresh()</code>
functions actually work out to be:
</p>

<div class="org-src-container">

<pre class="src src-c">pnoutrefresh(s1, 0, 0, 0,               0, TALL-1,            WIDE);
doupdate();
pnoutrefresh(s2, 0, 0, 0,     WIDE+SPACER, TALL-1,   <span style="color: #98fb98;">WIDE</span>*2+SPACER);
doupdate();
pnoutrefresh(s3, 0, 0, 0, <span style="color: #98fb98;">WIDE</span>*2+SPACER*2, TALL-1, <span style="color: #98fb98;">WIDE</span>*3+SPACER*2);
doupdate();
</pre>
</div>

<p>
That's a lot of work for the processor, so a better way to arrange
things is like this:
</p>

<div class="org-src-container">

<pre class="src src-c">pnoutrefresh(s1, 0, 0, 0,               0, TALL-1,            WIDE);
pnoutrefresh(s2, 0, 0, 0,     WIDE+SPACER, TALL-1,   <span style="color: #98fb98;">WIDE</span>*2+SPACER);
pnoutrefresh(s3, 0, 0, 0, <span style="color: #98fb98;">WIDE</span>*2+SPACER*2, TALL-1, <span style="color: #98fb98;">WIDE</span>*3+SPACER*2);
doupdate();
</pre>
</div>

<p>
The original three <code>prefresh()</code> functions become <code>pnoutrefresh()</code>
functions, which is easy to do because both functions have the
same exact arguments. Then a single <code>doupdate()</code> function is all
that's needed to update the standard screen and display
information.
</p>

<p>
Yes, the changes may seem trivial. And it's not like this update
to the code results in a peppier program, especially on today's
faster computers. But it's a good trick to know.
</p>

<p>
The <code>pnoutrefresh()</code> function is actually a pad-based version of
the <code>wnoutrefresh()</code> function designed to optimize window
updating. For more information on that function, refer to <a href="#appendix_a">Appendix A</a>.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-14-3" class="outline-3">
<h3 id="sec-14-3">Removing a Pad                                                     <a id="removing_a_pad" name="removing_a_pad"></a></h3>
<div class="outline-text-3" id="text-14-3">
<p>
Pads are blown to smithereens just like windows. In fact, the same
function, <code>delwin()</code>, is used to remove a pad:
</p>

<div class="org-src-container">

<pre class="src src-c">delwin(pad)
</pre>
</div>

<p>
The preceding function returns <code>OK</code> when the named <code>pad</code> is
successfully removed or it returns <code>ERR</code> when something bad
happens.
</p>

<p>
Just as with removing windows, it's wise to remove subpads (also by
using <code>delwin()</code>) before removing a pad. When you don't, the memory
used by the subpad will not be freed, and bad things will happen:
pestilence, darkness, February will get two days back, and other
misfortunes may befall you.  <a href="#Listing-11-5">Listing 11-5</a> shows an obligatory
sample program.
</p>

<dl class="org-dl">
<dt> <a id="Listing-11-5" name="Listing-11-5">Listing 11-5</a> </dt><dd><a href="code/book/bigpad3.c"><code>bigpad3.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="bigpad.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">p</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">c</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create a new pad </span><span style="color: #ff4500;">*/</span>
<span class="linenr">11: </span>  p = newpad(50,100);
<span class="linenr">12: </span>  <span style="color: #00ffff;">if</span>( p == <span style="color: #7fffd4;">NULL</span> )
<span class="linenr">13: </span>    {
<span class="linenr">14: </span>      addstr(<span style="color: #ffa07a;">"Unable to create new pad"</span>);
<span class="linenr">15: </span>      refresh();
<span class="linenr">16: </span>      endwin();
<span class="linenr">17: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">18: </span>    }
<span class="linenr">19: </span>
<span class="linenr">20: </span>  addstr(<span style="color: #ffa07a;">"New pad created"</span>);
<span class="linenr">21: </span>  refresh();
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  <span style="color: #00ffff;">if</span>( delwin(p)==OK )
<span class="linenr">25: </span>    addstr(<span style="color: #ffa07a;">"...and now it's gone!\n"</span>);
<span class="linenr">26: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">27: </span>    addstr(<span style="color: #ffa07a;">"...and it's still there!\n"</span>);
<span class="linenr">28: </span>  refresh(); getch();
<span class="linenr">29: </span>
<span class="linenr">30: </span>  endwin();
<span class="linenr">31: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">32: </span>}
</pre>
</div>
</dd>
</dl>

<p>
You should see:
</p>

<pre class="example">
New pad created
</pre>

<p>
Press Enter and you'll see:
</p>

<pre class="example">
New pad created...and now it's gone!
</pre>
</div>
</div>

<div id="outline-container-sec-14-4" class="outline-3">
<h3 id="sec-14-4">Pad Miscellany                                                     <a id="pad_miscellany" name="pad_miscellany"></a></h3>
<div class="outline-text-3" id="text-14-4">
<p>
Maybe someday one of your NCurses programs will find use for a pad
or maybe even a subpad or two. They're handy structures to have,
especially if you have a predefined chunk of information you'd like
brought into your windows from time to time.
</p>
</div>

<div id="outline-container-sec-14-4-1" class="outline-4">
<h4 id="sec-14-4-1">Another Pad Function                                              <a id="another_pad_function" name="another_pad_function"></a></h4>
<div class="outline-text-4" id="text-14-4-1">
<p>
The <code>pechochar()</code> function both places a character on the pad and
displays it on the screen but only after a chunk of the screen has
been squared off with <code>prefresh()</code>. <a href="#Listing-11-6">Listing 11-6</a> shows a program
that makes use of it.
</p>

<dl class="org-dl">
<dt> <a id="Listing-11-6" name="Listing-11-6">Listing 11-6</a> </dt><dd><a href="code/book/oddpad.c"><code>oddpad.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="oppad.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">p</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text</span>[] = <span style="color: #ffa07a;">"This is interesting"</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">t</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create a new pad </span><span style="color: #ff4500;">*/</span>
<span class="linenr">12: </span>  p = newpad(50,100);
<span class="linenr">13: </span>  <span style="color: #00ffff;">if</span>( p == <span style="color: #7fffd4;">NULL</span> )
<span class="linenr">14: </span>    {
<span class="linenr">15: </span>      addstr(<span style="color: #ffa07a;">"Unable to create new pad"</span>);
<span class="linenr">16: </span>      refresh();
<span class="linenr">17: </span>      endwin();
<span class="linenr">18: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">19: </span>    }
<span class="linenr">20: </span>
<span class="linenr">21: </span>  t = text;
<span class="linenr">22: </span>  prefresh(p,0,0,1,1,1,25);
<span class="linenr">23: </span>  <span style="color: #00ffff;">while</span>(*t)
<span class="linenr">24: </span>    pechochar(p,*t++);
<span class="linenr">25: </span>  wgetch(p);
<span class="linenr">26: </span>  endwin();
<span class="linenr">27: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">28: </span>}
</pre>
</div>
</dd>
</dl>

<p>
The code makes use of <code>prefresh()</code> in line 22 to box off a chunk
of the screen, only a line to display the text. The <code>while</code> loop
then uses <code>pechochar()</code> to read a string of text that is both sent
to the pad and also displayed on the screen.
</p>

<p>
You should see:
</p>

<pre class="example">
This is interesting
</pre>

<p>
displayed on the second row, starting at the second column of the
screen.
</p>
</div>
</div>

<div id="outline-container-sec-14-4-2" class="outline-4">
<h4 id="sec-14-4-2">Forbidden Pad Functions                                           <a id="forbidden_pad_functions" name="forbidden_pad_functions"></a></h4>
<div class="outline-text-4" id="text-14-4-2">
<p>
Know that you can use all the standard NCurses functions with a
pad except the following:
</p>

<ul class="org-ul">
<li><code>mvwin()</code>
</li>
<li><code>scroll()</code>
</li>
<li><code>scrl()</code>
</li>
<li><code>subwin()</code>
</li>
<li><code>wrefresh()</code>
</li>
<li><code>wnoutrefresh()</code>
</li>
</ul>

<p>
Additionally, pads are created by using the <code>newpad()</code> function,
not <code>newwin()</code>. (Refer to <a href="#appendix_a">Appendix A</a> for information on the
<a href="#wnoutrefresh"><code>wnoutrefresh()</code></a> function.)
</p>
</div>
</div>

<div id="outline-container-sec-14-4-3" class="outline-4">
<h4 id="sec-14-4-3">Forbidden Pad Stuff                                               <a id="forbidden_pad_stuff" name="forbidden_pad_stuff"></a></h4>
<div class="outline-text-4" id="text-14-4-3">
<p>
Don't bother moving a pad. In fact, the concept seems silly
because pads do not exist relative to the screen.
</p>

<p>
Pads cannot be scrolled.
</p>

<p>
As with subwindows, do not move a subpad â and for the same
reason.  The coordination between the parent and the subpad is
nonexistent. Because both share memory, moving a subpad results in
chaos for the parent and catastrophe for your program.
</p>

<p>
Also, remember to remove subpads before deleting the pad
itself. If you don't, the memory used by the subpads will not be
cleared.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-15" class="outline-2">
<h2 id="sec-15">CHAPTER 12 The Joy of Soft Labels                                   <a id="chapter_12" name="chapter_12"></a></h2>
<div class="outline-text-2" id="text-15">
<p>
Dig down deep into NCurses' bag of tricks and you'll discover a
clever and quick instant interface trick called <i>soft labels</i>. They
really aren't anything amazing, though they can save you time over
having to do the programming yourself. So when you want to slap
together a quick and friendly interface, soft labels take care of
that programming overhead for you.
</p>
</div>

<div id="outline-container-sec-15-1" class="outline-3">
<h3 id="sec-15-1">What Is a Soft Label?                                              <a id="what_is_a_soft_label" name="what_is_a_soft_label"></a></h3>
<div class="outline-text-3" id="text-15-1">
<p>
<i>Soft labels</i> are typically associated with a set of function keys
found just below the screen on a terminal keyboard. This is
something that was more common in the old days of mainframes and
their remote terminals than it is today.
</p>

<p>
For example, the terminal may have keys F1 through F8 just below
the builtin screen. Above each key would be a highlighted bit of
text on the screen. The text represented the command associated
with the key, similar to what you see in <a href="#Figure-12-1">Figure 12-1</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-12-1" name="Figure-12-1">Figure 12-1</a> </dt><dd>How soft labels might have worked on an
older terminal


<div class="figure">
<p><img src="img/Figure12-1.jpg" alt="Figure12-1.jpg" />
</p>
</div>
</dd>
</dl>


<p>
Pressing F1, for example, may shift the screen into printing
mode. The soft labels might change to reflect the new screen and
show the new functions for the keys F1 through F8. Theoretically,
the user understands that, by pressing a function key, he or she is
issuing the command specified in the soft label.  Theoretically.
</p>
</div>
</div>

<div id="outline-container-sec-15-2" class="outline-3">
<h3 id="sec-15-2">Doing the Soft Label Thing                                         <a id="doing_the_soft_label_thing" name="doing_the_soft_label_thing"></a></h3>
<div class="outline-text-3" id="text-15-2">
<p>
In NCurses, soft labels are visual elements only. There is no back
connection between function keys and soft labels, unless you
program one yourself. Otherwise, setting and displaying soft keys
is merely a visual part of NCurses.
</p>
</div>

<div id="outline-container-sec-15-2-1" class="outline-4">
<h4 id="sec-15-2-1">Stand by for Soft Labels                                          <a id="stand_by_for_soft_labels" name="stand_by_for_soft_labels"></a></h4>
<div class="outline-text-4" id="text-15-2-1">
<p>
If you're writing a program that uses soft labels, you'll need to
use the <code>slk_init()</code> function:
</p>

<div class="org-src-container">

<pre class="src src-c">slk_init(n)
</pre>
</div>

<p>
All soft label functions begin with <code>slk</code>. I assume that <i>slk</i>
stands for <i>soft label keys</i>, though that's just a guess.
</p>

<p>
The <code>slk_init()</code> function must appear <i>before</i> the <code>initscr()</code>
function in your code. The reason is that <code>slk_init()</code> changes the
size of the standard screen, reserving the bottom row for the soft
keys. All NCurses commands, then, affect only the top several
<code>rows</code> of the screen; the bottom row is reserved â and cannot be
touched, other than to mess with the soft labels.
</p>

<p>
The value of n determines how many soft labels there will be, as
well as how they're arranged on the screen. <a href="#Figure-12-2">Figure 12-2</a> details
the results for valid values of <code>n</code> from 0 through 3.
</p>

<dl class="org-dl">
<dt> <a id="Figure-12-2" name="Figure-12-2">Figure 12-2</a> </dt><dd>Soft key setup options for <code>slk_init(n)</code>


<div class="figure">
<p><img src="img/Figure12-2.jpg" alt="Figure12-2.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-15-2-2" class="outline-4">
<h4 id="sec-15-2-2">Gimme Some Soft Labels                                            <a id="gimme_some_soft_labels" name="gimme_some_soft_labels"></a></h4>
<div class="outline-text-4" id="text-15-2-2">
<p>
The <code>slk_init()</code> function merely announces the presence of soft
labels. You must also assign text to the labels, as well as
display the labels in their special row on the screen.
</p>

<p>
Assigning text to the labels is done by using the <code>slk_set()</code>
function:
</p>

<div class="org-src-container">

<pre class="src src-c">slk_set(label,text,pos)
</pre>
</div>

<p>
The <code>slk_set()</code> function has three arguments.
</p>

<ul class="org-ul">
<li><code>label</code> is the label number, ranging from 1 to 12, marching from
left to right across the screen. The number of labels you need
to set depends on the value used with the <code>slk_init()</code> function.
</li>

<li><code>text</code> is the text to appear on the label. When there are eight
soft labels on the screen, up to eight characters of text
appears in the labels. For 12 soft labels on the screen, only
five characters of <code>text</code> appear in the labels.
</li>

<li><code>pos</code> determines the text's orientation within the label. There
are three values: <code>0</code> for left-justified; <code>1</code> for centered; and
<code>2</code> for right-justified.
</li>
</ul>


<p>
Finally, to make the labels show up, the <code>slk_refresh()</code> function is
used:
</p>

<div class="org-src-container">

<pre class="src src-c">slk_refresh()
</pre>
</div>

<p>
Like other <code>refresh()</code> functions in NCurses, this one updates the
screen. In this case, only the soft label row on the screen is
updated (see <a href="#Listing-12-1">Listing 12-1</a>).
</p>

<dl class="org-dl">
<dt> <a id="Listing-12-1" name="Listing-12-1">Listing 12-1</a> </dt><dd><a href="code/book/softies1.c"><code>softies1.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="softies1.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LEFT</span> 0
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 5: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">RIGHT</span> 2
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 8: </span>{
<span class="linenr"> 9: </span>  slk_init(0);
<span class="linenr">10: </span>  initscr();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  slk_set(1,<span style="color: #ffa07a;">"Help!"</span>,LEFT);
<span class="linenr">13: </span>  slk_set(2,<span style="color: #ffa07a;">"File"</span>,LEFT);
<span class="linenr">14: </span>  slk_set(3,<span style="color: #ffa07a;">"Print"</span>,LEFT);
<span class="linenr">15: </span>  slk_set(4,<span style="color: #ffa07a;">"Text"</span>,CENTER);
<span class="linenr">16: </span>  slk_set(5,<span style="color: #ffa07a;">"Edit"</span>,CENTER);
<span class="linenr">17: </span>  slk_set(6,<span style="color: #ffa07a;">"Quick"</span>,RIGHT);
<span class="linenr">18: </span>  slk_set(7,<span style="color: #ffa07a;">"Conf"</span>,RIGHT);
<span class="linenr">19: </span>  slk_set(8,<span style="color: #ffa07a;">"Change"</span>,RIGHT);
<span class="linenr">20: </span>  slk_refresh();
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  endwin();
<span class="linenr">24: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">25: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The code creates eight soft labels across the bottom of the
terminal screen: three on the left, two centered, and three on the
right.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>Note that the text within the labels is aligned
according to the label's position. The <code>LEFT</code>, <code>CENTER</code>,
and <code>RIGHT</code> constants in the <code>slk_set()</code> function do not
control the position of the labels on the screen but
rather the text within the labels. Prove this: Edit
lines 12, 13, and 14, replacing <code>LEFT</code> with
<code>CENTER</code>. Then edit lines 17, 18, and 19, replacing
<code>RIGHT</code> with <code>CENTER</code>.
</dd>
</dl>


<p>
The labels are still arranged in the same pattern on the screen,
but the text within the labels is centered.
</p>
</div>
</div>

<div id="outline-container-sec-15-2-3" class="outline-4">
<h4 id="sec-15-2-3">Making the Index Line                                             <a id="making_the_index_line" name="making_the_index_line"></a></h4>
<div class="outline-text-4" id="text-15-2-3">
<p>
Specifying option 3 for <code>slk_init()</code> shows the same layout for
soft labels as option 2 but with the addition of an <i>index
line</i>. In most versions of NCurses I've seen, this index line is a
list of function key names right above the soft labels, as shown
in <a href="#Figure-12-2">Figure 12-2</a>. As with the soft label line, the index line is
protected from being overwritten and the standard screen size is
decreased by one line accordingly (see <a href="#Listing-12-2">listing 12-2</a>).
</p>

<dl class="org-dl">
<dt> <a id="Listing-12-2" name="Listing-12-2">Listing 12-2</a> </dt><dd><a href="code/book/softies2.c"><code>softies2.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="softies2.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LMAX</span> 12
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">label_text</span>[LMAX][6] = { <span style="color: #ffa07a;">"Help"</span>, <span style="color: #ffa07a;">"File"</span>, <span style="color: #ffa07a;">"Edit"</span>, <span style="color: #ffa07a;">"Frmt"</span>,
<span class="linenr"> 9: </span>                               <span style="color: #ffa07a;">"Find"</span>, <span style="color: #ffa07a;">"Block"</span>, <span style="color: #ffa07a;">"Ins"</span>, <span style="color: #ffa07a;">"Del"</span>,
<span class="linenr">10: </span>                               <span style="color: #ffa07a;">"View"</span>, <span style="color: #ffa07a;">"Switch"</span>, <span style="color: #ffa07a;">"Win"</span>, <span style="color: #ffa07a;">"Help"</span> };
<span class="linenr">11: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">label</span>;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  slk_init(3);
<span class="linenr">14: </span>  initscr();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  <span style="color: #00ffff;">for</span>(label=0;label&lt;LMAX;label++)
<span class="linenr">17: </span>    slk_set(label+1,label_text[label],CENTER);
<span class="linenr">18: </span>  slk_refresh();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  endwin();
<span class="linenr">23: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">24: </span>}
</pre>
</div>
</dd>
</dl>


<p>
You'll note that this time a <code>for</code> loop is used to load in the
labels via <code>slk_set()</code> in lines 16 and 17. All the labels will be
centered.
</p>

<p>
Chances are that the index line is there â but blank! That's
because NCurses needs a little extra nudge to show that special
text.
</p>

<p>
Insert this new line between lines 15 and 16:
</p>

<div class="org-src-container">

<pre class="src src-c">slk_restore();
</pre>
</div>

<p>
This time the index line appears.
</p>

<p>
The <code>slk_restore()</code> function is used primarily in conjunction with
<code>slk_clear()</code>. The <code>slk_clear()</code> function removes the soft labels
from the screen and <code>slk_restore()</code> puts them back, which is
demonstrated later in this chapter. But in <code>softies2.c</code>,
<code>slk_restore()</code> somehow supplies NCurses with the extra oomph
needed to show the index line. (In fact, you can replace
<code>slk_refresh()</code> with <code>slk_restore()</code> in many instances, though I
don't recommend it.)
</p>
</div>
</div>
</div>

<div id="outline-container-sec-15-3" class="outline-3">
<h3 id="sec-15-3">Soft Labels Here and Gone                                          <a id="soft_labels_here_and_gone" name="soft_labels_here_and_gone"></a></h3>
<div class="outline-text-3" id="text-15-3">
<p>
The original reason for function keys was variety. The function
keys could perform any function assigned to them, depending on the
software. Therefore, they were called <i>function keys</i> instead of a
this-or-that specific key.
</p>

<p>
Sadly, the role of the function key has changed, thanks to
Microsoft Windows. Function keys now do specific things in all
programs. That is, F1 is universally the Help key. And I wonder why
keyboard manufacturers haven't just relabeled the thing "Help"
instead of F1. But I digress.
</p>

<p>
In the original scheme of things, the role played by the function
keys changed from program to program and even within a specific
program, depending on what you were doing. Likewise, the soft
labels your program might use should be changeable as well. The
following sections describe how the soft labels can be manipulated.
</p>
</div>

<div id="outline-container-sec-15-3-1" class="outline-4">
<h4 id="sec-15-3-1">Hiding and Restoring the Labels                                   <a id="hiding_and_restoring_the_labels" name="hiding_and_restoring_the_labels"></a></h4>
<div class="outline-text-4" id="text-15-3-1">
<p>
Two NCurses functions deal with hiding and redisplaying the soft
labels:
</p>

<ul class="org-ul">
<li><code>slk_clear()</code>
</li>
<li><code>slk_restore()</code>
</li>
</ul>


<p>
The <code>slk_clear()</code> function hides the soft labels. The
<code>slk_restore()</code> function unhides them. See <a href="#Listing-12-3">Listing 12-3</a> for
examples of this.
</p>

<dl class="org-dl">
<dt> <a id="Listing-12-3" name="Listing-12-3">Listing 12-3</a> </dt><dd><a href="code/book/lonoff.c"><code>lonoff.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="lonoff.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LMAX</span> 8
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">label_text</span>[LMAX][8] = { <span style="color: #ffa07a;">"S"</span>, <span style="color: #ffa07a;">"O"</span>, <span style="color: #ffa07a;">"F"</span>, <span style="color: #ffa07a;">"T"</span>,
<span class="linenr"> 9: </span>                               <span style="color: #ffa07a;">"K"</span>, <span style="color: #ffa07a;">"E"</span>, <span style="color: #ffa07a;">"Y"</span>, <span style="color: #ffa07a;">"S"</span> };
<span class="linenr">10: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">label</span>;
<span class="linenr">11: </span>
<span class="linenr">12: </span>  slk_init(1);
<span class="linenr">13: </span>  initscr();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span style="color: #00ffff;">for</span>(label=0;label&lt;LMAX;label++)
<span class="linenr">16: </span>    slk_set(label+1,label_text[label],CENTER);
<span class="linenr">17: </span>  slk_refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  slk_clear();
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  slk_restore();
<span class="linenr">24: </span>  getch();
<span class="linenr">25: </span>
<span class="linenr">26: </span>  endwin();
<span class="linenr">27: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">28: </span>}
</pre>
</div>
</dd>
</dl>


<p>
At first the eight labels appear. Press Enter and they're
gone. Press Enter again and they're back!
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>Note that even while hidden, your programs still cannot
access the bottom row(s) of the screen where the soft
labels appear.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-15-3-2" class="outline-4">
<h4 id="sec-15-3-2">Changing a Label                                                  <a id="changing_a_label" name="changing_a_label"></a></h4>
<div class="outline-text-4" id="text-15-3-2">
<p>
When your program needs to change a label, you simply reissue the
<code>slk_set()</code> function for that label, along with the new text. Add
a <code>slk_refresh()</code> and you're done (see <a href="#Listing-12-4">Listing 12-4</a>).
</p>

<dl class="org-dl">
<dt> <a id="Listing-12-4" name="Listing-12-4">Listing 12-4</a> </dt><dd><a href="code/book/duck.c"><code>duck.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="duck.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LMAX</span> 8
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">label_text</span>[LMAX][8] = { <span style="color: #ffa07a;">"Duck"</span>, <span style="color: #ffa07a;">"Duck"</span>, <span style="color: #ffa07a;">"Duck"</span>, <span style="color: #ffa07a;">"Duck"</span>,
<span class="linenr"> 9: </span>                               <span style="color: #ffa07a;">"Duck"</span>, <span style="color: #ffa07a;">"Duck"</span>, <span style="color: #ffa07a;">"Duck"</span>, <span style="color: #ffa07a;">"Duck"</span> };
<span class="linenr">10: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">label</span>;
<span class="linenr">11: </span>
<span class="linenr">12: </span>  slk_init(1);
<span class="linenr">13: </span>  initscr();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span style="color: #00ffff;">for</span>(label=0;label&lt;LMAX;label++)
<span class="linenr">16: </span>    slk_set(label+1,label_text[label],CENTER);
<span class="linenr">17: </span>  slk_refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  slk_set(7,<span style="color: #ffa07a;">"Goose!"</span>,CENTER);
<span class="linenr">21: </span>  slk_refresh();
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  endwin();
<span class="linenr">25: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">26: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Pressing the Enter key changes label 7 from <code>Duck</code> to
<code>Goose</code>!. Hurry!  Run around the monitor and back to your seat
before the program catches you!
</p>
</div>
</div>

<div id="outline-container-sec-15-3-3" class="outline-4">
<h4 id="sec-15-3-3">Removing a Label                                                  <a id="removing_a_label" name="removing_a_label"></a></h4>
<div class="outline-text-4" id="text-15-3-3">
<p>
To remove a label or, more properly, to remove the text from a
label, you simply use the <code>slk_set()</code> function with a null string
of text.
</p>

<p>
Change line 20 to read:
</p>

<div class="org-src-container">

<pre class="src src-c">slk_set(7,<span style="color: #ffa07a;">""</span>,CENTER);
</pre>
</div>

<p>
The seventh label is now blank.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-15-4" class="outline-3">
<h3 id="sec-15-4">Hooking in the Function Keys                                       <a id="hooking_in_the_function_keys" name="hooking_in_the_function_keys"></a></h3>
<div class="outline-text-3" id="text-15-4">
<p>
As I write earlier in this chapter, there is no automatic hook in
NCurses between soft labels and the function keys. If you want F1
to perform whatever command is listed by soft label 1, you have to
do that code yourself.
</p>

<p>
(Supposedly, on some terminals with built-in soft labels, the
connection between the labels and the related key is already made
in NCurses. Because I don't have access to those terminals or even
emulators, I cannot confirm this.)
</p>

<p>
Rather than flip back and forth between this chapter and <a href="#chapter_7">Chapter 7</a>,
I decided to offer up a little bit of code in <a href="#Listing-12-5">Listing 12-5</a> that
shows how function keys can be linked into soft labels. It may not
be much, but it's a start.
</p>

<dl class="org-dl">
<dt> <a id="Listing-12-5" name="Listing-12-5">Listing 12-5</a> </dt><dd><a href="code/book/ham.c"><code>ham.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="ham.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LMAX</span> 12
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">label_text</span>[LMAX][20] = { <span style="color: #ffa07a;">"I"</span>, <span style="color: #ffa07a;">"AM"</span>, <span style="color: #ffa07a;">"SAM"</span>, <span style="color: #ffa07a;">"DO"</span>,
<span class="linenr"> 9: </span>                                <span style="color: #ffa07a;">"NOT"</span>, <span style="color: #ffa07a;">"LIKE"</span>, <span style="color: #ffa07a;">"THAT"</span>, <span style="color: #ffa07a;">"SAY"</span>,
<span class="linenr">10: </span>                                <span style="color: #ffa07a;">"WOULD"</span>, <span style="color: #ffa07a;">"COULD"</span>, <span style="color: #ffa07a;">"YOU"</span>,
<span class="linenr">11: </span>                                <span style="color: #ffa07a;">"GREEN EGGS AND HAM"</span> };
<span class="linenr">12: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">label</span>,<span style="color: #eedd82;">ch</span>;
<span class="linenr">13: </span>
<span class="linenr">14: </span>  slk_init(2);               <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">12 soft labels       </span><span style="color: #ff4500;">*/</span>
<span class="linenr">15: </span>  initscr();
<span class="linenr">16: </span>  noecho();                  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">disable key echoing  </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>  keypad(stdscr,TRUE);       <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Turn on Fkey reading </span><span style="color: #ff4500;">*/</span>
<span class="linenr">18: </span>
<span class="linenr">19: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">display the labels and instructions </span><span style="color: #ff4500;">*/</span>
<span class="linenr">20: </span>  <span style="color: #00ffff;">for</span>(label=0;label&lt;LMAX;label++)
<span class="linenr">21: </span>    slk_set(label+1,label_text[label],CENTER);
<span class="linenr">22: </span>  slk_refresh();
<span class="linenr">23: </span>  addstr(<span style="color: #ffa07a;">"Use the Function Keys to type\n"</span>);
<span class="linenr">24: </span>  addstr(<span style="color: #ffa07a;">"Press '?' or '!' or '.' to end a line\n"</span>);
<span class="linenr">25: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to quit\n\n"</span>);
<span class="linenr">26: </span>  refresh();
<span class="linenr">27: </span>
<span class="linenr">28: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Process input </span><span style="color: #ff4500;">*/</span>
<span class="linenr">29: </span>  <span style="color: #00ffff;">while</span>( (ch=getch()) != <span style="color: #ffa07a;">'\n'</span>)
<span class="linenr">30: </span>    {
<span class="linenr">31: </span>      <span style="color: #00ffff;">switch</span>(ch)
<span class="linenr">32: </span>        {
<span class="linenr">33: </span>        <span style="color: #00ffff;">case</span> <span style="color: #ffa07a;">'?'</span>:
<span class="linenr">34: </span>        <span style="color: #00ffff;">case</span> <span style="color: #ffa07a;">'!'</span>:
<span class="linenr">35: </span>        <span style="color: #00ffff;">case</span> <span style="color: #ffa07a;">'.'</span>:
<span class="linenr">36: </span>          addch(ch);
<span class="linenr">37: </span>          addch(<span style="color: #ffa07a;">'\n'</span>);
<span class="linenr">38: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">39: </span>        <span style="color: #00ffff;">case</span> KEY_F(1):
<span class="linenr">40: </span>          printw(<span style="color: #ffa07a;">"%s "</span>,label_text[0]);
<span class="linenr">41: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">42: </span>        <span style="color: #00ffff;">case</span> KEY_F(2):
<span class="linenr">43: </span>          printw(<span style="color: #ffa07a;">"%s "</span>,label_text[1]);
<span class="linenr">44: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">45: </span>        <span style="color: #00ffff;">case</span> KEY_F(3):
<span class="linenr">46: </span>          printw(<span style="color: #ffa07a;">"%s "</span>,label_text[2]);
<span class="linenr">47: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">48: </span>        <span style="color: #00ffff;">case</span> KEY_F(4):
<span class="linenr">49: </span>          printw(<span style="color: #ffa07a;">"%s "</span>,label_text[3]);
<span class="linenr">50: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">51: </span>        <span style="color: #00ffff;">case</span> KEY_F(5):
<span class="linenr">52: </span>          printw(<span style="color: #ffa07a;">"%s "</span>,label_text[4]);
<span class="linenr">53: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">54: </span>        <span style="color: #00ffff;">case</span> KEY_F(6):
<span class="linenr">55: </span>          printw(<span style="color: #ffa07a;">"%s "</span>,label_text[5]);
<span class="linenr">56: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">57: </span>        <span style="color: #00ffff;">case</span> KEY_F(7):
<span class="linenr">58: </span>          printw(<span style="color: #ffa07a;">"%s "</span>,label_text[6]);
<span class="linenr">59: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">60: </span>        <span style="color: #00ffff;">case</span> KEY_F(8):
<span class="linenr">61: </span>          printw(<span style="color: #ffa07a;">"%s "</span>,label_text[7]);
<span class="linenr">62: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">63: </span>        <span style="color: #00ffff;">case</span> KEY_F(9):
<span class="linenr">64: </span>          printw(<span style="color: #ffa07a;">"%s "</span>,label_text[8]);
<span class="linenr">65: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">66: </span>        <span style="color: #00ffff;">case</span> KEY_F(10):
<span class="linenr">67: </span>          printw(<span style="color: #ffa07a;">"%s "</span>,label_text[9]);
<span class="linenr">68: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">69: </span>        <span style="color: #00ffff;">case</span> KEY_F(11):
<span class="linenr">70: </span>          printw(<span style="color: #ffa07a;">"%s "</span>,label_text[10]);
<span class="linenr">71: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">72: </span>        <span style="color: #00ffff;">case</span> KEY_F(12):
<span class="linenr">73: </span>          printw(<span style="color: #ffa07a;">"%s "</span>,label_text[11]);
<span class="linenr">74: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">75: </span>        <span style="color: #00ffff;">default</span>:
<span class="linenr">76: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">77: </span>        }
<span class="linenr">78: </span>      refresh();
<span class="linenr">79: </span>    }
<span class="linenr">80: </span>
<span class="linenr">81: </span>  endwin();
<span class="linenr">82: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">83: </span>}
</pre>
</div>
</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-sec-16" class="outline-2">
<h2 id="sec-16">CHAPTER 13 Messing Mit der Mouse                                    <a id="chapter_13" name="chapter_13"></a></h2>
<div class="outline-text-2" id="text-16">
<p>
NCurses has the ability to interface with a mouse or similar
pointing device attached to a computer. Information about the mouse
can be read and used in your programs in a number of ways, just as
mice are used in graphical programs.
</p>

<p>
All this stuff is optional, of course; NCurses is, after all, a
text-based thing and mice are associated with graphical things. But
if you want to take advantage of the mouse, you can certainly well
do it.
</p>
</div>

<div id="outline-container-sec-16-1" class="outline-3">
<h3 id="sec-16-1">Hello, Mouse                                                       <a id="hello_mouse" name="hello_mouse"></a></h3>
<div class="outline-text-3" id="text-16-1">
<p>
Even though your computer may have a mouse â indeed, the terminal
window you use may be an oasis of text floating in a graphical
operating system â the sucker may not quite be set up to read the
mouse inside the terminal.
</p>

<p>
For example, some terminals intercept the mouse, using it at the
operating system level to select text from the terminal window. If
so, any mouse events are probably blocked from your program's
view. There is a way to test for this, as covered in the section
<a href="#can_your_terminal_deal_with_the_mouse">"Can your terminal deal with the mouse?"</a> later in this chapter. But
before that, you should check to see if your version of NCurses
supports the mouse in the first place.
</p>
</div>

<div id="outline-container-sec-16-1-1" class="outline-4">
<h4 id="sec-16-1-1">Can NCurses Deal with the Mouse?                                  <a id="can_ncurses_deal_with_the_mouse" name="can_ncurses_deal_with_the_mouse"></a></h4>
<div class="outline-text-4" id="text-16-1-1">
<p>
Mouse programming is specific to NCurses. If your system is using
the older Curses or an earlier version of NCurses, mouse
functionality might not be available. Before you set out to do
mouse programming, first check to see if NCurses is up to the task
(see <a href="#Listing-13-1">Listing 13-1</a>).
</p>

<dl class="org-dl">
<dt> <a id="Listing-13-1" name="Listing-13-1">Listing 13-1</a> </dt><dd><a href="code/book/mtest.c"><code>mtest.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="mtest.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">mmask_t</span> <span style="color: #eedd82;">mmask</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  <span style="color: #00ffff;">if</span>(NCURSES_MOUSE_VERSION &gt; 0)
<span class="linenr">10: </span>    addstr(<span style="color: #ffa07a;">"This version of NCurses supports the mouse.\n"</span>);
<span class="linenr">11: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">12: </span>    addstr(<span style="color: #ffa07a;">"This version of NCurses does not support the mouse.\n"</span>);
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>  endwin();
<span class="linenr">16: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">17: </span>}
</pre>
</div>
</dd>
</dl>


<p>
This program simply reads the value of the <code>NCURSES_MOUSE_VERSION</code>
variable, which is defined in the <code>ncurses.h</code> header file. If the
variable exists, the happy message is displayed:
</p>

<pre class="example">
This version of NCurses supports the mouse.
</pre>

<p>
Otherwise, you end up with:
</p>

<pre class="example">
This version of NCurses does not support the mouse.
</pre>

<p>
(Refer to the section "<a href="#to_eek_or_not_to_eek">To Eek or Not to Eek?</a>" at the end of this
chapter for suggestions on how to best use
<code>NCURSES_MOUSE_VERSION</code>.)
</p>
</div>
</div>

<div id="outline-container-sec-16-1-2" class="outline-4">
<h4 id="sec-16-1-2">Can Your Terminal Deal with the Mouse?                            <a id="can_your_terminal_deal_with_the_mouse" name="can_your_terminal_deal_with_the_mouse"></a></h4>
<div class="outline-text-4" id="text-16-1-2">
<p>
Step 1 is to see if you have the latest version of NCurses,
complete with mouse support. If so, you need to move on to step
2: Check to see if the terminal you're using properly interprets
the mouse. This is done by using the <code>mousemask()</code> function:
</p>

<div class="org-src-container">

<pre class="src src-c">mousemask(newmask,*oldmask)
</pre>
</div>

<p>
It's the <code>mousemask()</code> function's job to make mouse activity
visible to your program. To put it another way: <code>mousemask()</code> is
what turns on mouse monitoring for your program.
</p>

<p>
The <code>newmask</code> argument tells NCurses which mouse events to watch
for. The events are defined in <code>ncurses.h</code> and listed in <a href="#appendix_a">Appendix
A</a>. But most of the time you'll probably use the <code>ALL_MOUSE_EVENTS</code>
value, which tells NCurses to keep an eye on all mouse buttons, up
or down, clicked, double- or tripleclicked, or used with Shift,
Alt, or Ctrl keys on the keyboard. (In NCurses, only mouse clicks
and releases are monitored, not mouse movement.)
</p>

<p>
Most of the time, the value of <code>*oldmask</code> is <code>NULL</code>.
</p>

<p>
The value returned by <code>mousemask()</code> is of the <code>mmask_t</code> type (a
<code>long</code> integer). The value matches the mask created on a
bit-by-bit basis; it also determines whether the mouse is capable
of monitoring the particular mouse action. For example:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">mmask_t</span> <span style="color: #eedd82;">mbitmask</span>;

mbitmask = mousemask(BUTTON3_CLICKED,<span style="color: #7fffd4;">NULL</span>);
<span style="color: #00ffff;">if</span>( mbitmask &amp; BUTTON3_CLICKED)
  addstr(<span style="color: #ffa07a;">"I am able to read a button 3 click."</span>);
<span style="color: #00ffff;">else</span>
  addstr(<span style="color: #ffa07a;">"I am not able to read the button 3 click."</span>);
refresh();
</pre>
</div>

<p>
<code>BUTTON3_CLICKED</code> is a value defined in <code>ncurses.h</code>. The call
above to <code>mousemask()</code> tells NCurses to watch for only that value,
which is generated when button 3 on the mouse is clicked. If such
a thing is possible, the value returned by <code>mousemask()</code>, and
stored in <code>mbitmask</code>, will equal the value of
<code>BUTTON3_CLICKED</code>. This is checked by the logical comparison in
the <code>if</code> statement, and <code>addstr()</code> displays the happy or unhappy
news.
</p>

<p>
Not every computer mouse has three buttons, so the preceding code
is a good way to determine whether or not your program can use
button 3. A more useful test of <code>mousemask()</code> is with the
<code>ALL_MOUSE_EVENTS</code> constant, which can be used to determine
whether or not the terminal can see anything the mouse does (see
<a href="#Listing-13-2">Listing 13-2</a>).
</p>

<dl class="org-dl">
<dt> <a id="Listing-13-2" name="Listing-13-2">Listing 13-2</a> </dt><dd><a href="code/book/mtest.c"><code>mtest.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="mtest.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">mmask_t</span> <span style="color: #eedd82;">mmask</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  <span style="color: #00ffff;">if</span>(NCURSES_MOUSE_VERSION &gt; 0)
<span class="linenr">10: </span>    addstr(<span style="color: #ffa07a;">"This version of NCurses supports the mouse.\n"</span>);
<span class="linenr">11: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">12: </span>    addstr(<span style="color: #ffa07a;">"This version of NCurses does not support the mouse.\n"</span>);
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  mmask = mousemask(ALL_MOUSE_EVENTS,<span style="color: #7fffd4;">NULL</span>);
<span class="linenr">16: </span>  <span style="color: #00ffff;">if</span>(mmask == 0)
<span class="linenr">17: </span>    addstr(<span style="color: #ffa07a;">"Unable to access the mouse on this terminal.\n"</span>);
<span class="linenr">18: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">19: </span>    addstr(<span style="color: #ffa07a;">"Mouse events can be captured.\n"</span>);
<span class="linenr">20: </span>  refresh();
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>  endwin();
<span class="linenr">23: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">24: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The new lines, shown above, are 15 through 21. The code uses the
<code>mousemask()</code> function call to determine whether or not the
terminal can see the mouse. If the value returned in mmask is
zero, the mouse cannot be read.
</p>

<p>
Upon running the program, you should hope to see:
</p>

<pre class="example">
This version of NCurses supports the mouse.
Mouse events can be captured.
</pre>

<p>
The message <code>Unable to access the mouse on this terminal</code> may
appear, even though you <i>know</i> that you computer recognizes the
mouse and even uses it to select text in the terminal window. And
that's the problem! The operating system is intercepting the mouse
before signals can be passed to the terminal. If possible, try to
turn off mouse-selection functions for the terminal window or
somehow enable mouse actions to pass through to text-based
terminal programs.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-16-2" class="outline-3">
<h3 id="sec-16-2">Reading the Mouse                                                  <a id="reading_the_mouse" name="reading_the_mouse"></a></h3>
<div class="outline-text-3" id="text-16-2">
<p>
Once assured that your computer terminal is heavy for some hot
mouse action, you'll need some additional tools to snoop out what
the mouse is up to.
</p>
</div>

<div id="outline-container-sec-16-2-1" class="outline-4">
<h4 id="sec-16-2-1">The "Reading the Mouse" Overview                                  <a id="the_reading_the_mouse_overview" name="the_reading_the_mouse_overview"></a></h4>
<div class="outline-text-4" id="text-16-2-1">
<p>
After <code>mousemask()</code> initializes the mouse and tells NCurses which
mouse events to scan, you use these two functions to read the
mouse:
</p>

<div class="org-src-container">

<pre class="src src-c">getch()
getmouse(&amp;musevent)
</pre>
</div>

<p>
First comes the <code>getch()</code> function. Just as it can read the
keyboard, <code>getch()</code> can also detect mouse input. The mouse input
is defined in <code>ncurses.h</code> as <code>KEY_MOUSE</code>. And to read that
<i>character</i>, you must activate extended keyboard reading for
<code>getch()</code> by using the <code>keypad()</code> function.  Further, many
programmers also use <code>noecho()</code> so that <code>getch()</code> can be read
repeatedly.
</p>

<p>
Don't panic!
</p>

<p>
Here is a summary so far:
</p>

<ul class="org-ul">
<li>Issue the <code>noecho()</code> and <code>keypad()</code> functions to prepare
<code>getch()</code> for reading mouse events.
</li>

<li>Issue the <code>mousemask()</code> function to tell NCurses which mouse
events to scan for.
</li>

<li>Compare <code>getch()</code> input with <code>KEY_MOUSE</code> to see if a mouse event
has occurred.
</li>
</ul>


<p>
When a mouse event has occurred â the user has clicked one of the
mouse buttons somewhere on the terminal screen â you then use the
<code>getmouse()</code> function to retrieve information about the event:
</p>

<div class="org-src-container">

<pre class="src src-c">getmouse(&amp;musevent)
</pre>
</div>

<p>
<code>musevent</code> is the address of a pointer variable of the <code>MEVENT</code>
type:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">MEVENT</span> <span style="color: #eedd82;">musevent</span>;
</pre>
</div>

<p>
Unlike the <code>WINDOW</code> type of pointer, you do not specify a <code>*</code> when
declaring a mouse event variable. But you do use the &amp; when
specifying the variable name in the <code>getmouse()</code> function:
</p>

<div class="org-src-container">

<pre class="src src-c">getmouse(&amp;musevent);
</pre>
</div>

<p>
After <code>getch()</code> detects a mouse event (<code>KEY_MOUSE</code>), a call to
<code>getmouse()</code> fills the named <code>MEVENT</code> structure with information
about the mouse event that just occurred. <a href="#Table-13-1">Table 13-1</a> lists the
data you can then read, using me as the mouse event variable name
(the same that would be used with the <code>getmouse()</code> function).
</p>

<dl class="org-dl">
<dt> <a id="Table-13-1" name="Table-13-1">Table 13-1</a> </dt><dd>Events recorded in the mouse event structure

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">VARIABLE</th>
<th scope="col" class="left">MOUSE EVENT</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>me.id</code></td>
<td class="left">Unique ID number (used to distinguish among multiple mice)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>me.x</code></td>
<td class="left">Screen column coordinate</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>me.y</code></td>
<td class="left">Screen row coordinate</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>me.z</code></td>
<td class="left">Undefined (though could be used to read wheel button)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>me.bstate</code></td>
<td class="left">Bit pattern representing mouse button action</td>
</tr>
</tbody>
</table>
</dd>
</dl>


<p>
So, for example, to read the screen coordinates of where a click
took place, you would use <code>musevent.y</code> and <code>musevent.x</code> in your
code.
</p>

<p>
Here is the complete summary of steps needed to take to read a
mouse event:
</p>

<ol class="org-ol">
<li>Issue the <code>noecho()</code> and <code>keypad()</code> functions to prepare
<code>getch()</code> for reading mouse events.
</li>

<li>Issue the <code>mousemask()</code> function to tell NCurses which mouse
events to scan for.
</li>

<li>Compare <code>getch()</code> input with <code>KEY_MOUSE</code> to see if a mouse
event has occurred.
</li>

<li>After confirming the mouse event (previous step), use
<code>getmouse()</code> to read the event's information into an <code>MEVENT</code>
structure.
</li>

<li>Examine the <code>MEVENT</code> structure's data to determine what event
took place at which coordinates on the screen.
</li>
</ol>


<p>
Once your program has the mouse coordinates, you can do with them
whatever you will, depending on the program: Choose an item, draw
a block character, beep the speaker, or whatever.
</p>
</div>
</div>

<div id="outline-container-sec-16-2-2" class="outline-4">
<h4 id="sec-16-2-2">Where Did You Click that Mouse?                                   <a id="where_did_you_click_that_mouse" name="where_did_you_click_that_mouse"></a></h4>
<div class="outline-text-4" id="text-16-2-2">
<p>
The following code in <a href="#Listing-13-3">Listing 13-3</a> reads information about where
the mouse was clicked and displays those coordinates on the
screen.
</p>

<dl class="org-dl">
<dt> <a id="Listing-13-3" name="Listing-13-3">Listing 13-3</a> </dt><dd><a href="code/book/mspy.c"><code>mspy.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="mspy.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">MEVENT</span> <span style="color: #eedd82;">mort</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  noecho();
<span class="linenr">10: </span>  keypad(stdscr,TRUE);
<span class="linenr">11: </span>
<span class="linenr">12: </span>  mousemask(ALL_MOUSE_EVENTS,<span style="color: #7fffd4;">NULL</span>);
<span class="linenr">13: </span>
<span class="linenr">14: </span>  <span style="color: #00ffff;">while</span>(1)
<span class="linenr">15: </span>    {
<span class="linenr">16: </span>      ch = getch();
<span class="linenr">17: </span>      <span style="color: #00ffff;">if</span>( ch == KEY_MOUSE )
<span class="linenr">18: </span>        {
<span class="linenr">19: </span>          getmouse(&amp;mort);
<span class="linenr">20: </span>          move(0,0);
<span class="linenr">21: </span>          clrtoeol();
<span class="linenr">22: </span>          printw(<span style="color: #ffa07a;">"%d\t%d"</span>,mort.y,mort.x);
<span class="linenr">23: </span>          refresh();
<span class="linenr">24: </span>          <span style="color: #00ffff;">continue</span>;
<span class="linenr">25: </span>        }
<span class="linenr">26: </span>      <span style="color: #00ffff;">if</span>( ch == <span style="color: #ffa07a;">'\n'</span> )
<span class="linenr">27: </span>        <span style="color: #00ffff;">break</span>;
<span class="linenr">28: </span>    }
<span class="linenr">29: </span>
<span class="linenr">30: </span>  endwin();
<span class="linenr">31: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">32: </span>}
</pre>
</div>
</dd>

<dt> NOTE </dt><dd>This program assumes your terminal has full access to
mouse functions!  Refer to the program <code>mtest.c</code> earlier
in <a href="#Listing-13-2">Listing 13-2</a> when in doubt.
</dd>
</dl>


<p>
As you click the mouse about on the terminal screen, the Y (row)
and X (column) coordinates are displayed in the upper-left corner.
</p>

<p>
Press the Enter key to end the program.
</p>
</div>
</div>

<div id="outline-container-sec-16-2-3" class="outline-4">
<h4 id="sec-16-2-3">On Your Own                                                       <a id="on_your_own" name="on_your_own"></a></h4>
<div class="outline-text-4" id="text-16-2-3">
<p>
Modify the <code>mspy.c</code> source code so that an asterisk is placed on
the screen at the spot where the mouse was clicked. Name this new
source code file <a href="code/bonus-programs/clickput.c"><code>clickput.c</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-16-2-4" class="outline-4">
<h4 id="sec-16-2-4">What Clicked?                                                     <a id="what_clicked" name="what_clicked"></a></h4>
<div class="outline-text-4" id="text-16-2-4">
<p>
The following code in <a href="#Listing-13-4">Listing 13-4</a> uses the predefined button
constants to display information about which mouse button was
pressed.
</p>

<dl class="org-dl">
<dt> <a id="Listing-13-4" name="Listing-13-4">Listing 13-4</a> </dt><dd><a href="code/book/clicky.c"><code>clicky.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="clicky.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">MEVENT</span> <span style="color: #eedd82;">mort</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  noecho();
<span class="linenr">10: </span>  keypad(stdscr,TRUE);
<span class="linenr">11: </span>
<span class="linenr">12: </span>  mousemask(ALL_MOUSE_EVENTS,<span style="color: #7fffd4;">NULL</span>);
<span class="linenr">13: </span>
<span class="linenr">14: </span>  <span style="color: #00ffff;">while</span>(1)
<span class="linenr">15: </span>    {
<span class="linenr">16: </span>      ch = getch();
<span class="linenr">17: </span>      <span style="color: #00ffff;">if</span>( ch == KEY_MOUSE )
<span class="linenr">18: </span>        {
<span class="linenr">19: </span>          clear();
<span class="linenr">20: </span>          getmouse(&amp;mort);
<span class="linenr">21: </span>          <span style="color: #00ffff;">switch</span>(mort.bstate)
<span class="linenr">22: </span>            {
<span class="linenr">23: </span>            <span style="color: #00ffff;">case</span> BUTTON1_PRESSED:
<span class="linenr">24: </span>              mvaddstr(0,0,<span style="color: #ffa07a;">"Button 1 Pressed!"</span>);
<span class="linenr">25: </span>              <span style="color: #00ffff;">break</span>;
<span class="linenr">26: </span>            <span style="color: #00ffff;">case</span> BUTTON1_RELEASED:
<span class="linenr">27: </span>              mvaddstr(1,0,<span style="color: #ffa07a;">"Button 1 Released!"</span>);
<span class="linenr">28: </span>              <span style="color: #00ffff;">break</span>;
<span class="linenr">29: </span>            <span style="color: #00ffff;">case</span> BUTTON1_CLICKED:
<span class="linenr">30: </span>              mvaddstr(2,0,<span style="color: #ffa07a;">"Button 1 Clicked!"</span>);
<span class="linenr">31: </span>              <span style="color: #00ffff;">break</span>;
<span class="linenr">32: </span>            <span style="color: #00ffff;">case</span> BUTTON1_DOUBLE_CLICKED:
<span class="linenr">33: </span>              mvaddstr(3,0,<span style="color: #ffa07a;">"Button 1 Dbl-Clicked!"</span>);
<span class="linenr">34: </span>              <span style="color: #00ffff;">break</span>;
<span class="linenr">35: </span>            <span style="color: #00ffff;">case</span> BUTTON2_PRESSED:
<span class="linenr">36: </span>              mvaddstr(0,20,<span style="color: #ffa07a;">"Button 2 Pressed!"</span>);
<span class="linenr">37: </span>              <span style="color: #00ffff;">break</span>;
<span class="linenr">38: </span>            <span style="color: #00ffff;">case</span> BUTTON2_RELEASED:
<span class="linenr">39: </span>              mvaddstr(1,20,<span style="color: #ffa07a;">"Button 2 Released!"</span>);
<span class="linenr">40: </span>              <span style="color: #00ffff;">break</span>;
<span class="linenr">41: </span>            <span style="color: #00ffff;">case</span> BUTTON2_CLICKED:
<span class="linenr">42: </span>              mvaddstr(2,20,<span style="color: #ffa07a;">"Button 2 Clicked!"</span>);
<span class="linenr">43: </span>              <span style="color: #00ffff;">break</span>;
<span class="linenr">44: </span>            <span style="color: #00ffff;">case</span> BUTTON2_DOUBLE_CLICKED:
<span class="linenr">45: </span>              mvaddstr(3,40,<span style="color: #ffa07a;">"Button 2 Dbl-Clicked!"</span>);
<span class="linenr">46: </span>              <span style="color: #00ffff;">break</span>;
<span class="linenr">47: </span>            <span style="color: #00ffff;">case</span> BUTTON3_PRESSED:
<span class="linenr">48: </span>              mvaddstr(0,40,<span style="color: #ffa07a;">"Button 3 Pressed!"</span>);
<span class="linenr">49: </span>              <span style="color: #00ffff;">break</span>;
<span class="linenr">50: </span>            <span style="color: #00ffff;">case</span> BUTTON3_RELEASED:
<span class="linenr">51: </span>              mvaddstr(1,40,<span style="color: #ffa07a;">"Button 3 Released!"</span>);
<span class="linenr">52: </span>              <span style="color: #00ffff;">break</span>;
<span class="linenr">53: </span>            <span style="color: #00ffff;">case</span> BUTTON3_CLICKED:
<span class="linenr">54: </span>              mvaddstr(2,40,<span style="color: #ffa07a;">"Button 3 Clicked!"</span>);
<span class="linenr">55: </span>              <span style="color: #00ffff;">break</span>;
<span class="linenr">56: </span>            <span style="color: #00ffff;">case</span> BUTTON3_DOUBLE_CLICKED:
<span class="linenr">57: </span>              mvaddstr(3,40,<span style="color: #ffa07a;">"Button 3 Dbl-Clicked!"</span>);
<span class="linenr">58: </span>              <span style="color: #00ffff;">break</span>;
<span class="linenr">59: </span>            <span style="color: #00ffff;">default</span>:
<span class="linenr">60: </span>              <span style="color: #00ffff;">break</span>;
<span class="linenr">61: </span>            }
<span class="linenr">62: </span>          refresh();
<span class="linenr">63: </span>          <span style="color: #00ffff;">continue</span>;
<span class="linenr">64: </span>        }
<span class="linenr">65: </span>      <span style="color: #00ffff;">if</span>( ch == <span style="color: #ffa07a;">'\n'</span> )
<span class="linenr">66: </span>        <span style="color: #00ffff;">break</span>;
<span class="linenr">67: </span>    }
<span class="linenr">68: </span>
<span class="linenr">69: </span>  endwin();
<span class="linenr">70: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">71: </span>}
</pre>
</div>
</dd>
</dl>


<p>
It's long! But you can start with the <code>mspy.c</code> source as a base
and then just use a lot of copy/paste/edit commands to add the
bulk of the <code>case</code> statements.
</p>

<p>
By clicking various mouse buttons â press, release, click,
double-click â you'll see appropriate text on the screen. This
program may help you determine how NCurses interprets your mouse's
buttons.
</p>

<p>
The code doesn't list every possible constant for the mouse. Refer
to <a href="#appendix_a">Appendix A</a> for the full list.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-16-3" class="outline-3">
<h3 id="sec-16-3">To Eek or Not to Eek?                                              <a id="to_eek_or_not_to_eek" name="to_eek_or_not_to_eek"></a></h3>
<div class="outline-text-3" id="text-16-3">
<p>
If you want to be a good programmer, you may elect to have mouse
support optionally compiled into your code, depending on whether or
not the version of NCurses on the destination computer supports
mouse functions. The idea is to create a program that uses text but
can also employ mouse input, should such a thing be available.
</p>

<p>
Thanks to the presence of the <code>NCURSES_MOUSE_VERSION</code> constant, you
can use the <code>#ifdef</code> compiler directive to selectively compile
mouse support into your code. For example:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#ifdef</span> NCURSES_MOUSE_VERSION
  mousemask(ALL_MOUSE_EVENTS,<span style="color: #7fffd4;">NULL</span>);
<span style="color: #b0c4de;">#endif</span>
</pre>
</div>

<p>
The <code>mousemask()</code> function is compiled into the program only when
the <code>NCURSES_MOUSE_VERSION</code> constant exists. Likewise, the
following may appear in the <code>switch case</code> structure:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#ifdef</span> NCURSES_MOUSE_VERSION
  <span style="color: #00ffff;">case</span> KEY_MOUSE:
    getmouse(&amp;event);
    <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">mouse stuff here </span><span style="color: #ff4500;">*/</span>
    <span style="color: #00ffff;">break</span>;
<span style="color: #b0c4de;">#endif</span>
</pre>
</div>

<p>
The idea here is to surround the mouse-specific stuff with <code>#ifdef</code>
and <code>#endif</code>. That way, should the target system support the mouse,
that support is compiled into your program. If support isn't
available, the user will never know.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-17" class="outline-2">
<h2 id="sec-17">CHAPTER 14 A Mixture of Stuff                                       <a id="chapter_14" name="chapter_14"></a></h2>
<div class="outline-text-2" id="text-17">
<p>
It would be tough to write a book that covers every single last
NCurses function. A lot of the functions are internal or used only
in specific cases by advanced users who know their operating systems
intimately. For most of us programmers, however, the basic
smattering of NCurses functions presented in the previous chapters
is enough to create more visually interesting programs than by just
using the standard C I/O functions.
</p>

<p>
This chapter contains a mÃ©lange of those leftover functions not
covered earlier in this book. These functions aren't obscure or
unique enough to deserve full banishment into <a href="#appendix_a">Appendix A</a>, nor are
they worthy enough to be put into an earlier chapter. No, they live
here. And I love using the word <i>mÃ©lange</i>.
</p>
</div>

<div id="outline-container-sec-17-1" class="outline-3">
<h3 id="sec-17-1">Adios, Cursor                                                      <a id="adios_cursor" name="adios_cursor"></a></h3>
<div class="outline-text-3" id="text-17-1">
<p>
Sometimes the blinking (or not) cursor is a benefit, and sometimes
it just gets in the way. When it gets in the way, NCurses lets you
turn it off, hiding the cursor from view. Here's the function:
</p>

<div class="org-src-container">

<pre class="src src-c">curs_set(n)
</pre>
</div>

<p>
The <code>curs_set()</code> function is how NCursers controls the cursor. The
value of <code>n</code> can be 0, 1, or 2: 0 makes the cursor invisible; 1
sets the cursor to normal mode; 2 sets the cursor to a <i>very</i>
visible mode that must be seen to be believed.  See <a href="#Listing-14-1">Listing 14-1</a>
for an example.
</p>

<dl class="org-dl">
<dt> <a id="Listing-14-1" name="Listing-14-1">Listing 14-1</a> </dt><dd><a href="code/book/cursset.c"><code>cursset.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="cursset.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">first, turn the cursor off </span><span style="color: #ff4500;">*/</span>
<span class="linenr"> 8: </span>  curs_set(0);
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">" &lt;- The cursor has been turned off"</span>);
<span class="linenr">10: </span>  move(0,0);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  getch();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">second, turn the cursor on </span><span style="color: #ff4500;">*/</span>
<span class="linenr">15: </span>  curs_set(1);
<span class="linenr">16: </span>  addstr(<span style="color: #ffa07a;">"\n &lt;- The cursor now on"</span>);
<span class="linenr">17: </span>  move(1,0);
<span class="linenr">18: </span>  refresh();
<span class="linenr">19: </span>  getch();
<span class="linenr">20: </span>
<span class="linenr">21: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">third, turn the cursor very on </span><span style="color: #ff4500;">*/</span>
<span class="linenr">22: </span>  curs_set(2);
<span class="linenr">23: </span>  addstr(<span style="color: #ffa07a;">"\n &lt;- The cursor is now very on"</span>);
<span class="linenr">24: </span>  move(2,0);
<span class="linenr">25: </span>  refresh();
<span class="linenr">26: </span>  getch();
<span class="linenr">27: </span>
<span class="linenr">28: </span>  endwin();
<span class="linenr">29: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">30: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Note that <code>curs_set()</code> works only on terminals that support
cursor-visibility options. If your terminal can't reset the cursor,
such as when the <code>cursset.c</code> program doesn't seem to do anything,
check for the availability of the <code>curs_set()</code> function:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>( curs_set(0) == ERR)
  beep();
</pre>
</div>

<p>
When you add this snippet of code to your program and you hear the
beep, know that your terminal doesn't support the <code>curs_set()</code>
function for the given cursor visibility.
</p>
</div>
</div>

<div id="outline-container-sec-17-2" class="outline-3">
<h3 id="sec-17-2">Line Drawing                                                       <a id="line_drawing" name="line_drawing"></a></h3>
<div class="outline-text-3" id="text-17-2">
<p>
NCurses has support for a variety of line-drawing and boxing
functions, allowing you to spruce up your plain-text screen with
some almost-graphical lines.
</p>

<p>
The quality of the lines depends on the terminal. Sometimes the
ASCII text characters such as <code>|</code>, <code>-</code> and <code>+</code> are used for
drawing. Sometimes the terminal may use extended ASCII or special
line-drawing characters that look quite good on the screen. And
sometimes you can specify which characters you want to use for
drawing.
</p>
</div>

<div id="outline-container-sec-17-2-1" class="outline-4">
<h4 id="sec-17-2-1">Boxing Windows                                                    <a id="boxing_windows" name="boxing_windows"></a></h4>
<div class="outline-text-4" id="text-17-2-1">
<p>
One way to make a window stand out, especially when it's smaller
than the screen, is to draw a box around it. NCurses has a handy
<code>box()</code> function to help make that possible:
</p>

<div class="org-src-container">

<pre class="src src-c">box(win,v_char,h_char)
</pre>
</div>

<p>
<code>win</code> is the window to box. <code>v_char</code> is the character to use when
drawing the vertical (up-down) lines around the window; <code>h_char</code>
is the character for the horizontal (left-right) lines. If you put
zero for <code>v_char</code> or <code>h_char</code> (or both), default characters are
chosen as defined in the <code>ncurses.h</code> header file. (See <a href="#Listing-14-2">Listing
14-2</a>.)
</p>

<dl class="org-dl">
<dt> <a id="Listing-14-2" name="Listing-14-2">Listing 14-2</a> </dt><dd><a href="code/book/helpmenu3.c"><code>helpmenu3.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="helpmenu.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">showhelp</span>(<span style="color: #98fb98;">void</span>);
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">help</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 8: </span>{
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  initscr();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">build help menu </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  <span style="color: #00ffff;">if</span>((help = newwin(10,30,4,26)) == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">15: </span>    {
<span class="linenr">16: </span>      addstr(<span style="color: #ffa07a;">"Unable to allocate window memory\n"</span>);
<span class="linenr">17: </span>      endwin();
<span class="linenr">18: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">19: </span>    }
<span class="linenr">20: </span>  mvwaddstr(help,1,7,<span style="color: #ffa07a;">"Help menu Screen"</span>);
<span class="linenr">21: </span>  mvwaddstr(help,5,3,<span style="color: #ffa07a;">"Press the ~ key to quit"</span>);
<span class="linenr">22: </span>  mvwaddstr(help,8,4,<span style="color: #ffa07a;">"Press ENTER to go back"</span>);
<span class="linenr">23: </span>  box(help,0,0);
<span class="linenr">24: </span>
<span class="linenr">25: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">now start the program loop </span><span style="color: #ff4500;">*/</span>
<span class="linenr">26: </span>  addstr(<span style="color: #ffa07a;">"Typer Program\n"</span>);
<span class="linenr">27: </span>  addstr(<span style="color: #ffa07a;">"Press + for help:\n\n"</span>);
<span class="linenr">28: </span>  refresh();
<span class="linenr">29: </span>  noecho();
<span class="linenr">30: </span>  <span style="color: #00ffff;">do</span>
<span class="linenr">31: </span>    {
<span class="linenr">32: </span>      ch = getch();
<span class="linenr">33: </span>      refresh();
<span class="linenr">34: </span>      <span style="color: #00ffff;">if</span>(ch == <span style="color: #ffa07a;">'+'</span>)
<span class="linenr">35: </span>        showhelp();
<span class="linenr">36: </span>      <span style="color: #00ffff;">else</span>
<span class="linenr">37: </span>        addch(ch);
<span class="linenr">38: </span>    } <span style="color: #00ffff;">while</span> (ch != <span style="color: #ffa07a;">'~'</span>);
<span class="linenr">39: </span>
<span class="linenr">40: </span>  endwin();
<span class="linenr">41: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">42: </span>}
<span class="linenr">43: </span>
<span class="linenr">44: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">showhelp</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">45: </span>{
<span class="linenr">46: </span>  touchwin(help);            <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">force update            </span><span style="color: #ff4500;">*/</span>
<span class="linenr">47: </span>  wrefresh(help);
<span class="linenr">48: </span>  getch();                   <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">wait for key press      </span><span style="color: #ff4500;">*/</span>
<span class="linenr">49: </span>  touchwin(stdscr);          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">forces character update </span><span style="color: #ff4500;">*/</span>
<span class="linenr">50: </span>  refresh();
<span class="linenr">51: </span>}
</pre>
</div>
</dd>

<dt> NOTE </dt><dd>This code is introduced in <a href="#chapter_8">Chapter 8</a>; the only
difference between this and the previous version is the
addition of line 23.
</dd>
</dl>


<p>
The help menu window, when displayed, looks similar to what you
see in <a href="#Figure-14-1">Figure 14-1</a>, though your terminal may use different
characters to create the box.
</p>

<p>
The <code>box()</code> function doesn't draw a line <i>around</i> the window but
actually uses the outside rows and columns in which to display
its text. There is nothing special protecting the box; text can
overwrite it. In fact, if you want to preserve the box, create a
subwindow inside the window, a subwindow that is centered and two
rows and two columns less than the original window in size.  You
can then write text to the subwindow directly without having to
worry about erasing the box. <a href="#Figure-14-2">Figure 14-2</a> illustrates this.
</p>

<dl class="org-dl">
<dt> <a id="Figure-14-1" name="Figure-14-1">Figure 14-1</a> </dt><dd>The help window is boxed


<div class="figure">
<p><img src="img/Figure14-1.jpg" alt="Figure14-1.jpg" />
</p>
</div>
</dd>

<dt> <a id="Figure-14-2" name="Figure-14-2">Figure 14-2</a> </dt><dd>Protecting a box from being overwritten


<div class="figure">
<p><img src="img/Figure14-2.jpg" alt="Figure14-2.jpg" />
</p>
</div>
</dd>

<dt> NOTE </dt><dd>Here's a tip: If the window is small and the box takes
up too much space, consider merely coloring the window
instead. Use <code>bkgd()</code> as described in <a href="#chapter_3">Chapter 3</a>.
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-17-2-2" class="outline-4">
<h4 id="sec-17-2-2">Building Better Boxes                                             <a id="building_better_boxes" name="building_better_boxes"></a></h4>
<div class="outline-text-4" id="text-17-2-2">
<p>
It's possible to set the characters used to draw the box
yourself. The following code in <a href="#Listing-14-3">Listing 14-3</a> demonstrates.
</p>

<dl class="org-dl">
<dt> <a id="Listing-14-3" name="Listing-14-3">Listing 14-3</a> </dt><dd><a href="code/book/box.c"><code>box.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="box.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  box(stdscr,<span style="color: #ffa07a;">'*'</span>,<span style="color: #ffa07a;">'*'</span>);
<span class="linenr"> 8: </span>  refresh();
<span class="linenr"> 9: </span>  getch();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  endwin();
<span class="linenr">12: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">13: </span>}
</pre>
</div>
</dd>
</dl>


<p>
This program draws a box around the standard screen. The asterisk
character <code>*</code> is used to draw the horizontal and vertical lines.
</p>

<p>
Asterisks are used to draw the box. Note that the corners of the
box may still be <code>+</code> characters or perhaps specific corner
graphics symbols.
</p>

<p>
If you want to replace the characters in the box's corner, you'll
have to use the <code>border()</code> function instead:
</p>

<div class="org-src-container">

<pre class="src src-c">border(left,right,top,bot,uleft,uright,lleft,lright)
</pre>
</div>

<p>
Note right away that <code>border()</code> is specific to the standard
screen, <code>stdscr</code>.  There is a related, <code>wborder()</code> function where
the first argument is <code>win</code>, for the window to be boxed. The
arguments in <code>border()</code> are characters to place in one of the
eight positions of the box: <code>left</code>, <code>right</code>, <code>top</code>, and <code>bot</code> are
the sides of the box; <code>uleft</code>, <code>uright</code>, <code>lleft</code>, and <code>lright</code> are
the corners. See <a href="#Listing-14-4">Listing 14-4</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-14-4" name="Listing-14-4">Listing 14-4</a> </dt><dd><a href="code/book/border.c"><code>border.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="border.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  border(0x000000ba,0x000000ba,0x000000cd,0x000000cd,
<span class="linenr"> 8: </span>         0x000000c9,0x000000bb,0x000000c8,0x000000bc);
<span class="linenr"> 9: </span>  refresh();
<span class="linenr">10: </span>  getch();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  endwin();
<span class="linenr">13: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">14: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The hex codes supplied for <code>border()</code> are the extended ASCII codes
to draw a double-line border. <a href="#Table-14-1">Table 14-1</a> lists them. Note that
they only appear as a double border if your computer system's
terminal supports the extended ASCII character set. It's found on
codepage 437, or it may be included with a special font you can
choose for the terminal window.
</p>

<p>
Lines 7 and 8 in <a href="#Listing-14-4">Listing 14-4</a> use a long int hex chunk to display
the characters. This is because the characters are NCurses'
<i>chtypes</i>, not <i>chars</i>. Refer to <a href="#appendix_c">Appendix C</a> for more information
on the chtype.
</p>

<p>
If your terminal window supports codepage 437, you'll see a
double-lined border. Otherwise, you'll see various and sundry
symbols used, typically letters with diacritical marks, question
marks, or other characters various and ugly.
</p>

<p>
Remember that both <code>border()</code> and <code>box()</code> wrap around the entire
window only, and the box text can be overwritten.
</p>

<dl class="org-dl">
<dt> <a id="Table-14-1" name="Table-14-1">Table 14-1</a> </dt><dd>Extended ASCII/Codepage 437 double-line characters

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="right" />

<col  class="right" />

<col  class="left" />

<col  class="right" />

<col  class="right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">CHARACTER</th>
<th scope="col" class="right">DECIMAL</th>
<th scope="col" class="right">HEX</th>
<th scope="col" class="left">CHARACTER</th>
<th scope="col" class="right">DECIMAL</th>
<th scope="col" class="right">HEX</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">â</td>
<td class="right">186</td>
<td class="right">0xBA</td>
<td class="left">â</td>
<td class="right">187</td>
<td class="right">0xBB</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">â</td>
<td class="right">205</td>
<td class="right">0xCD</td>
<td class="left">â</td>
<td class="right">200</td>
<td class="right">0xC8</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">â</td>
<td class="right">201</td>
<td class="right">0xC9</td>
<td class="left">â</td>
<td class="right">188</td>
<td class="right">0xBC</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-17-2-3" class="outline-4">
<h4 id="sec-17-2-3">We Control the Horizontal and the Vertical                        <a id="we_control_the_horizontal_and_the_vertical" name="we_control_the_horizontal_and_the_vertical"></a></h4>
<div class="outline-text-4" id="text-17-2-3">
<p>
For plain-on straight lines â lines from here to there but not
diagonal or weird angles â NCurses has the following functions:
</p>

<div class="org-src-container">

<pre class="src src-c">hline(ch,n)
vline(ch,n)
</pre>
</div>

<p>
The <code>hline()</code> and <code>vline()</code> functions draw a horizontal or
vertical line from the cursor's current position (right or down,
respectively), as shown in <a href="#Listing-14-5">Listing 14-5</a>. The line is drawn using
character <code>ch</code> or using the standard linedrawing character when
<code>ch</code> is zero. <code>n</code> sets the length of the line in characters.
</p>

<p>
Remember: The line is drawn from the cursor's current
position. And neither function, <code>hline()</code> nor <code>vline()</code>, changes
the cursor's position.
</p>

<dl class="org-dl">
<dt> <a id="Listing-14-5" name="Listing-14-5">Listing 14-5</a> </dt><dd><a href="code/book/steps.c"><code>steps.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="steps.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">maxy</span>,<span style="color: #eedd82;">maxx</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  getmaxyx(stdscr,maxy,maxx);
<span class="linenr">10: </span>
<span class="linenr">11: </span>  <span style="color: #00ffff;">for</span>(y=x=0;y&lt;maxy;y++,x+=2)
<span class="linenr">12: </span>    {
<span class="linenr">13: </span>      move(y,x);
<span class="linenr">14: </span>      hline(0,maxx-x);
<span class="linenr">15: </span>      vline(0,maxy-y);
<span class="linenr">16: </span>    }
<span class="linenr">17: </span>  refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  endwin();
<span class="linenr">21: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">22: </span>}
</pre>
</div>
</dd>
</dl>


<p>
When the planets are properly aligned, <a href="#Figure-14-3">Figure 14-3</a> should be
something like the result you'll see.
</p>

<p>
As with many other screen-output functions, there are <code>mv</code> and <code>w</code>
prefixes for the <code>hline()</code> and <code>vline()</code> function (see <a href="#Listing-14-6">Listing
14-6</a>).
</p>

<dl class="org-dl">
<dt> <a id="Figure-14-3" name="Figure-14-3">Figure 14-3</a> </dt><dd>The output of <code>steps.c</code>


<div class="figure">
<p><img src="img/Figure14-3.jpg" alt="Figure14-3.jpg" />
</p>
</div>
</dd>

<dt> <a id="Listing-14-6" name="Listing-14-6">Listing 14-6</a> </dt><dd><a href="code/book/plus.c"><code>plus.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="plus.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">HLIN</span> 10
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">VLIN</span> 5
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>[] = {  0,  0, 5,  0,  5,  5, 10, 10, 10, 10, 15, 5 };
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>[] = { 10, 10, 1, 20, 20, 30,  1, 10, 20, 20, 10, 0 };
<span class="linenr">10: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>;
<span class="linenr">11: </span>
<span class="linenr">12: </span>  initscr();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;12;c+=2)
<span class="linenr">15: </span>    {
<span class="linenr">16: </span>      mvhline(   y[c],   x[c], 0, HLIN);
<span class="linenr">17: </span>      mvvline( y[c+1], x[c+1], 0, VLIN);
<span class="linenr">18: </span>    }
<span class="linenr">19: </span>
<span class="linenr">20: </span>  refresh();
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  endwin();
<span class="linenr">24: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">25: </span>}
</pre>
</div>
</dd>
</dl>


<p>
The result is crude, but I think you'll get the idea.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-17-3" class="outline-3">
<h3 id="sec-17-3">Between NCurses and Disk                                           <a id="between_ncurses_and_disk" name="between_ncurses_and_disk"></a></h3>
<div class="outline-text-3" id="text-17-3">
<p>
This last quartet of NCurses functions introduced in this chapter
are used to save interact between NCurses and disk:
</p>

<ul class="org-ul">
<li><code>scr_dump()</code>
</li>
<li><code>scr_restore()</code>
</li>
<li><code>putwin()</code>
</li>
<li><code>getwin()</code>
</li>
</ul>


<p>
The <code>scr_dump()</code> and <code>putwin()</code> functions are used to write
information from either the terminal screen or a specific window to
a special file on disk.  The <code>scr_restore()</code> and <code>getwin()</code>
functions then read that information back from disk, splashing the
information up on the screen. The following sections mull over the
details.
</p>
</div>

<div id="outline-container-sec-17-3-1" class="outline-4">
<h4 id="sec-17-3-1">Functions that Dump the Screen                                    <a id="functions_that_dump_the_screen" name="functions_that_dump_the_screen"></a></h4>
<div class="outline-text-4" id="text-17-3-1">
<p>
There are two NCurses functions that "dump the screen,"
transferring a window's contents from memory disk or disk to
memory:
</p>

<ul class="org-ul">
<li><code>scr_dump(filename)</code>
</li>
<li><code>scr_restore(filename)</code>
</li>
</ul>


<p>
Each function takes <code>filename</code>, the name of a file, as an
argument. Note that the argument is the file's name itself, not a
<code>FILE</code> pointer. Both functions open, read, and close the named
file. There is no need for <code>fopen()</code> or <code>fclose()</code> before or after
these functions.
</p>

<p>
The <code>scr_dump()</code> function overwrites any existing <code>filename</code>
already on disk. There is no warning, though you can write your
own code to determine whether or not <code>filename</code> already exists
before using <code>scr_dump()</code>.
</p>

<p>
When the dump or restore is successful, the functions return <code>OK</code>;
otherwise, <code>ERR</code> is returned.
</p>

<p>
Both functions relate to what is displayed on the <code>curscr</code>; these
are not window-specific functions.
</p>
</div>
</div>

<div id="outline-container-sec-17-3-2" class="outline-4">
<h4 id="sec-17-3-2">Taking a Snapshot of the Screen                                   <a id="taking_a_snapshot_of_the_screen" name="taking_a_snapshot_of_the_screen"></a></h4>
<div class="outline-text-4" id="text-17-3-2">
<p>
The <code>scr_dump()</code> function performs what old timers refer to as a
<i>screen dump</i>.
</p>

<p>
The inelegant term <i>dump</i> simply means to transfer a chunk of data
(often raw data) from one device to another. In the case of a
screen dump, the data from the screen is saved to disk. See
<a href="#Listing-14-7">Listing 14-7</a> for an example.
</p>

<dl class="org-dl">
<dt> <a id="Listing-14-7" name="Listing-14-7">Listing 14-7</a> </dt><dd><a href="code/book/dump.c"><code>dump.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="dump.c"><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;time.h&gt;</span>

<span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">FILENAME</span> <span style="color: #ffa07a;">"windump"</span>

<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
{
  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">word</span>[7];
  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">w</span>,<span style="color: #eedd82;">r</span>;

  srandom((<span style="color: #98fb98;">unsigned</span>)time(<span style="color: #7fffd4;">NULL</span>));        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">seed randomizer </span><span style="color: #ff4500;">*/</span>
  word[7] = <span style="color: #ffa07a;">'\0'</span>;
  initscr();

  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Fill most of the screen with random 6-char words </span><span style="color: #ff4500;">*/</span>
  <span style="color: #00ffff;">for</span>(x=0;x&lt;200;x++)
    {
      <span style="color: #00ffff;">for</span>(w=0;w&lt;6;w++)
        word[w] = (random() % 26) + <span style="color: #ffa07a;">'a'</span>;
      printw(<span style="color: #ffa07a;">"%s\t"</span>,word);
    }
  addch(<span style="color: #ffa07a;">'\n'</span>);
  addstr(<span style="color: #ffa07a;">"Press Enter to write this screen to disk\n"</span>);
  refresh();
  getch();

  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">write the window to disk </span><span style="color: #ff4500;">*/</span>
  r = scr_dump(FILENAME);
  <span style="color: #00ffff;">if</span>( r == ERR)
    addstr(<span style="color: #ffa07a;">"Error writing window to disk\n"</span>);
  <span style="color: #00ffff;">else</span>
    addstr(<span style="color: #ffa07a;">"File written; press Enter to quit\n"</span>);
  refresh();
  getch();

  endwin();
  <span style="color: #00ffff;">return</span> 0;
}
</pre>
</div>
</dd>
</dl>


<p>
Most of the code works to write 200 words to the screen, words
composed of six random characters. That's simply to put something
unique up on the screen; <code>scr_dump()</code> captures anything and
everything.
</p>

<p>
The actual dump takes place at line 29. If the function fails,
<code>ERR</code> is returned.  This is evaluated in line 30 and appropriate
messages are displayed.
</p>

<p>
If all goes well, you'll first see the random smattering of text,
similar to what is shown in <a href="#Figure-14-4">Figure 14-4</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-14-4" name="Figure-14-4">Figure 14-4</a> </dt><dd>The <code>dump.c</code> program produces output
similar to this.


<div class="figure">
<p><img src="img/Figure14-4.jpg" alt="Figure14-4.jpg" />
</p>
</div>
</dd>
</dl>


<p>
Press Enter to write that window to disk. Then press Enter again
to quit the program.
</p>
</div>
</div>

<div id="outline-container-sec-17-3-3" class="outline-4">
<h4 id="sec-17-3-3">Examining the Dump File                                           <a id="examining_the_dump_file" name="examining_the_dump_file"></a></h4>
<div class="outline-text-4" id="text-17-3-3">
<p>
The code for <code>dump.c</code> writes a file to disk named <code>WINDUMP</code>. Using
the <code>ls -l</code> command on the windump file shows that it's of quite a
substantial size, 45K on my computer:
</p>

<pre class="example">
-rw-r--r--       1 dang   dang   46204 Jan 16 13:25 windump
</pre>

<p>
The file is a binary representation of an NCurses window data
structure. It includes a header followed by the raw data from the
window.
</p>

<p>
The window header is of the structure type <code>_win_st</code>, which is
defined in the <code>ncurses.h</code> header file. It's the same thing as the
<code>WINDOW</code> variable used to create a window; <code>_win_st</code> is the
structure name. <a href="#Figure-14-5">Figure 14-5</a> lists some of the highlights of a
window dump, using the output of the hexdump utility.
</p>

<p>
The data includes all the screen positions, rows, and columns that
show up as the text on the screen. Each screen position is 24
bytes long, which includes the character displayed and any
attributes for that screen position. You can see this in how
<code>potogav</code> appears in the ASCII column of <a href="#Figure-14-5">Figure 14-5</a> but also as
the first "word" of <a href="#Figure-14-4">Figure 14-4</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-14-5" name="Figure-14-5">Figure 14-5</a> </dt><dd>Things to see inside a window dump file


<div class="figure">
<p><img src="img/Figure14-5.jpg" alt="Figure14-5.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-17-3-4" class="outline-4">
<h4 id="sec-17-3-4">Restoring the Screen                                              <a id="restoring_the_screen" name="restoring_the_screen"></a></h4>
<div class="outline-text-4" id="text-17-3-4">
<p>
The <code>scr_restore()</code> function is used to read a screen dump back
from disk into NCurses. As with <code>scr_dump()</code>, the <code>scr_restore()</code>
function merely requires the name of the file (see <a href="#Listing-14-8">Listing 14-8</a>).
</p>

<dl class="org-dl">
<dt> <a id="Listing-14-8" name="Listing-14-8">Listing 14-8</a> </dt><dd><a href="code/book/undump.c"><code>undump.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="undump.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">FILENAME</span> <span style="color: #ffa07a;">"windump"</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to restore the screen\n"</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">restore the window from disk </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>  r = scr_restore(FILENAME);
<span class="linenr">17: </span>  <span style="color: #00ffff;">if</span>( r == ERR)
<span class="linenr">18: </span>    addstr(<span style="color: #ffa07a;">"Error reading window file: press Enter\n"</span>);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  endwin();
<span class="linenr">23: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">24: </span>}
</pre>
</div>
</dd>
</dl>

<p>
The screen saved to disk by <code>dump.c</code> is restored, including the
text prompting you to press Enter (shown in <a href="#Figure-14-4">Figure 14-4</a>)!
</p>
</div>
</div>

<div id="outline-container-sec-17-3-5" class="outline-4">
<h4 id="sec-17-3-5">Functions that Dump a Window                                      <a id="functions_that_dump_a_window" name="functions_that_dump_a_window"></a></h4>
<div class="outline-text-4" id="text-17-3-5">
<p>
When it's only the contents of a window you need to save to disk,
pull out the <code>putwin()</code> and <code>getwin()</code> functions. They write the
same type of dump to disk, but they use completely different
formats from their screen-oriented companions, <code>scr_dump()</code> and
<code>scr_restore()</code>, covered in the section "<a href="#functions_that_dump_the_screen">Functions that dump the
screen</a>," earlier in this chapter:
</p>

<div class="org-src-container">

<pre class="src src-c">putwin(win,file)
win = getwin(file)
</pre>
</div>

<p>
In both functions, <code>win</code> is the name of a <code>WINDOW</code> pointer,
indicated by some window created in NCurses. <code>file</code> is a <code>FILE</code>
pointer representing an open file.  The file must be successfully
opened by <code>fopen()</code> and it must be closed by <code>fclose()</code> (or
similar functions). Data is written to the file via <code>putwin()</code> and
read by <code>getwin()</code> (see <a href="#Listing-14-9">Listing 14-9</a>).
</p>

<dl class="org-dl">
<dt> <a id="Listing-14-9" name="Listing-14-9">Listing 14-9</a> </dt><dd><a href="code/book/windisk.c"><code>windisk.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="windisk.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">FILENAME</span> <span style="color: #ffa07a;">"window.dat"</span>
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>);
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 9: </span>{
<span class="linenr">10: </span>  <span style="color: #98fb98;">FILE</span> *<span style="color: #eedd82;">wfile</span>;
<span class="linenr">11: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>;
<span class="linenr">12: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>;
<span class="linenr">13: </span>
<span class="linenr">14: </span>  initscr();
<span class="linenr">15: </span>  start_color();
<span class="linenr">16: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">17: </span>
<span class="linenr">18: </span>  addstr(<span style="color: #ffa07a;">"Creating new window\n"</span>);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>
<span class="linenr">21: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Crete the window </span><span style="color: #ff4500;">*/</span>
<span class="linenr">22: </span>  win = newwin(5,20,7,30);
<span class="linenr">23: </span>  <span style="color: #00ffff;">if</span>(win == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">24: </span>    bomb(<span style="color: #ffa07a;">"Unable to create window\n"</span>);
<span class="linenr">25: </span>  wbkgd(win,COLOR_PAIR(1));
<span class="linenr">26: </span>  mvwaddstr(win,1,2,<span style="color: #ffa07a;">"This program was\n"</span>);
<span class="linenr">27: </span>  mvwaddstr(win,2,5,<span style="color: #ffa07a;">"created by\n"</span>);
<span class="linenr">28: </span>  mvwaddstr(win,3,5,<span style="color: #ffa07a;">"Dan Gookin\n"</span>);         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">put your name here </span><span style="color: #ff4500;">*/</span>
<span class="linenr">29: </span>  wrefresh(win);
<span class="linenr">30: </span>  getch();
<span class="linenr">31: </span>
<span class="linenr">32: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">open the file </span><span style="color: #ff4500;">*/</span>
<span class="linenr">33: </span>  wfile = fopen(FILENAME,<span style="color: #ffa07a;">"w"</span>);
<span class="linenr">34: </span>  <span style="color: #00ffff;">if</span>( wfile==<span style="color: #7fffd4;">NULL</span>)
<span class="linenr">35: </span>    bomb(<span style="color: #ffa07a;">"Error creating file\n"</span>);
<span class="linenr">36: </span>
<span class="linenr">37: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">write the window's data </span><span style="color: #ff4500;">*/</span>
<span class="linenr">38: </span>  r = putwin(win,wfile);
<span class="linenr">39: </span>  <span style="color: #00ffff;">if</span>( r == ERR)
<span class="linenr">40: </span>    addstr(<span style="color: #ffa07a;">"Error putting window to disk\n"</span>);
<span class="linenr">41: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">42: </span>    addstr(<span style="color: #ffa07a;">"Window put to disk\n"</span>);
<span class="linenr">43: </span>  fclose(wfile);
<span class="linenr">44: </span>  refresh();
<span class="linenr">45: </span>  getch();
<span class="linenr">46: </span>
<span class="linenr">47: </span>  endwin();
<span class="linenr">48: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">49: </span>}
<span class="linenr">50: </span>
<span class="linenr">51: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>)
<span class="linenr">52: </span>{
<span class="linenr">53: </span>  addstr(message);
<span class="linenr">54: </span>  refresh();
<span class="linenr">55: </span>  getch();
<span class="linenr">56: </span>  endwin();
<span class="linenr">57: </span>  exit(1);
<span class="linenr">58: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Most of the code is devoted to creating a tiny blue window on the
screen and populating that window with text.
</p>

<p>
In line 33, a file is opened on disk. Line 38 puts the window to
the file via the <code>putwin()</code> function. Then the file is closed and
the program ends.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>Be sure to use your own name in line 28. Likewise, you
may want to adjust the column argument of the
<code>mvwaddstr()</code> function so that the name is relatively
centered in the window.
</dd>
</dl>


<p>
The program displays the tiny blue window and then saves that
window to disk in the filename <code>window.dat</code>. The next program
reads that window back in from disk and displays it on the screen,
as shown in <a href="#Listing-14-10">Listing 14-10</a>.
</p>

<dl class="org-dl">
<dt> <a id="Listing-14-10" name="Listing-14-10">Listing 14-10</a> </dt><dd><a href="code/book/diskwin.c"><code>diskwin.c</code></a>

<div class="org-src-container">

<pre class="src src-c" id="diskwisn.c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">FILENAME</span> <span style="color: #ffa07a;">"window.dat"</span>
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>);
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 9: </span>{
<span class="linenr">10: </span>  <span style="color: #98fb98;">FILE</span> *<span style="color: #eedd82;">wfile</span>;
<span class="linenr">11: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>;
<span class="linenr">12: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>;
<span class="linenr">13: </span>
<span class="linenr">14: </span>  initscr();
<span class="linenr">15: </span>  start_color();
<span class="linenr">16: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">17: </span>
<span class="linenr">18: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to read the window from disk:\n"</span>);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">open the file </span><span style="color: #ff4500;">*/</span>
<span class="linenr">23: </span>  wfile = fopen(FILENAME,<span style="color: #ffa07a;">"r"</span>);
<span class="linenr">24: </span>  <span style="color: #00ffff;">if</span>( wfile==<span style="color: #7fffd4;">NULL</span>)
<span class="linenr">25: </span>    bomb(<span style="color: #ffa07a;">"Error reading file\n"</span>);
<span class="linenr">26: </span>
<span class="linenr">27: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">write the window's data </span><span style="color: #ff4500;">*/</span>
<span class="linenr">28: </span>  win = getwin(wfile);
<span class="linenr">29: </span>  <span style="color: #00ffff;">if</span>( win == <span style="color: #7fffd4;">NULL</span> )
<span class="linenr">30: </span>    bomb(<span style="color: #ffa07a;">"Unable to read/create window\n"</span>);
<span class="linenr">31: </span>  fclose(wfile);
<span class="linenr">32: </span>  wrefresh(win);
<span class="linenr">33: </span>  getch();
<span class="linenr">34: </span>
<span class="linenr">35: </span>  endwin();
<span class="linenr">36: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">37: </span>}
<span class="linenr">38: </span>
<span class="linenr">39: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>)
<span class="linenr">40: </span>{
<span class="linenr">41: </span>  addstr(message);
<span class="linenr">42: </span>  refresh();
<span class="linenr">43: </span>  getch();
<span class="linenr">44: </span>  endwin();
<span class="linenr">45: </span>  exit(1);
<span class="linenr">46: </span>}
</pre>
</div>
</dd>
</dl>


<p>
Note that the <code>getwin()</code> function both reads the window's data from
disk and initializes the window; there is no need to use <code>newwin()</code>
before <code>getwin()</code> to create the window. It does not, however, update
the <code>curscr</code>; you still must use a <code>wrefresh()</code> command for that.
</p>

<p>
The window is restored to the same size, location, and appearance
as before.  The cursor position is also restored. Any attributes
are also restored, though if the specific <code>COLOR_PAIR</code> associated
with the window, or the window's text, is redefined as another
color, that other color is used. (Attributes include only a
<code>COLOR_PAIR</code> value, not the color pairs assigned to that value.)
</p>

<p>
After being restored, your code can continue to use the window,
write to it, manipulate it, and remove it if necessary.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-18" class="outline-2">
<h2 id="sec-18">APPENDIX A NCurses Library Reference                                <a id="appendix_a" name="appendix_a"></a></h2>
<div class="outline-text-2" id="text-18">
<p>
Some low-level NCurses and terminal functions, as well as some
functions listed but not fully implemented, are not documented in
this appendix.
</p>

<p>
A few of the extended NCurses functions are not documented here,
including:
</p>

<ul class="org-ul">
<li><code>is_term_resized()</code>
</li>
<li><code>resize_term()</code>
</li>
<li><code>resizeterm()</code>
</li>
</ul>
</div>

<div id="outline-container-sec-18-1" class="outline-3">
<h3 id="sec-18-1"><code>addch()</code>                                                          <a id="addch" name="addch"></a></h3>
<div class="outline-text-3" id="text-18-1">
<p>
The <code>addch()</code> functions display a single character to the
screen. The character is placed at the cursor's position and
overwrites any character already in that spot.
</p>
</div>

<div id="outline-container-sec-18-1-1" class="outline-4">
<h4 id="sec-18-1-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-1-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">addch</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">waddch</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">mvaddch</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">mvwaddch</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-1-2" class="outline-4">
<h4 id="sec-18-1-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-1-2">
<p>
<code>ch</code> is an NCurses <code>chtype</code> variable, which can represent a single
character or character and attribute combination. See <a href="#appendix_c">Appendix C</a>
for more information.
</p>

<p>
Refer to the <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and <a href="#w_prefix"><code>w</code></a> entries elsewhere in this
appendix for information on the <code>win</code>, <code>y</code>, and <code>x</code> arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-1-3" class="outline-4">
<h4 id="sec-18-1-3">Return Value</h4>
<div class="outline-text-4" id="text-18-1-3">
<p>
Upon success <code>addch()</code> returns <code>OK</code>, or <code>ERR</code> upon failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-1-4" class="outline-4">
<h4 id="sec-18-1-4">Notes</h4>
<div class="outline-text-4" id="text-18-1-4">
<p>
Characters placed at the last column cause the cursor's location
to drop to the next row. Characters placed at the last column of
the last row do not advance the cursor unless scrolling is enabled
for the window, in which case the window will scroll up one
line. See <a href="#scrollok"><code>scrollok()</code></a>.
</p>

<p>
The <code>addch()</code> function interprets some characters specially:
</p>

<ul class="org-ul">
<li><code>\t</code>. the tab character advances the cursor to the next <i>tab
stop</i>, which is set every eight columns in a window. This value
can be reset by using the <code>TABSIZE</code> variable; see <a href="#TABSIZE"><code>TABSIZE</code></a>.
</li>

<li><code>\n</code>. the newline character erases all text from the cursor's
position to the end of the line (see <a href="#clrtoeol"><code>clrtoeol()</code></a>), then drops
the cursor down to the next line. If the cursor is on the last
line of the screen, then the window's contents are scrolled, but
only if scrolling is enabled for that window; see <a href="#scrollok"><code>scrollok()</code></a>.
</li>

<li><code>\r</code>. the carriage return moves the cursor to the start of the
current line (column zero). It will not erase to the end of the
line.
</li>

<li><code>\b</code>. the backspace character moves the cursor back one
notch. It does not erase. When the cursor is at the start of a
line (column zero), the backspace does nothing.
</li>
</ul>


<p>
Control characters other than <code>\t</code> (<code>^I</code>), <code>\n</code> (<code>^J</code>), <code>\r</code>
(<code>^M</code>), or <code>\b</code> (<code>^H</code>) are displayed using the <code>^c</code> notation by
<code>addch()</code>. This effectively puts <i>two</i> characters to the screen,
both the <code>^</code> and the control character's corresponding key value,
such as <code>G</code> for <code>^G</code>. See <a href="#unctrl"><code>unctrl()</code></a> for more information.
</p>

<p>
You can also use <code>addch()</code> to place ACS (Alternate Character Set)
characters to the screen. Refer to <a href="#appendix_b">Appendix B</a> for more information
on those characters.
</p>
</div>
</div>

<div id="outline-container-sec-18-1-5" class="outline-4">
<h4 id="sec-18-1-5">Examples</h4>
<div class="outline-text-4" id="text-18-1-5">
<div class="org-src-container">

<pre class="src src-c">addch(<span style="color: #ffa07a;">'A'</span>);
</pre>
</div>

<p>
This statement puts the character <code>A</code> to the standard screen at
the cursor's current position.
</p>

<div class="org-src-container">

<pre class="src src-c">addch(<span style="color: #ffa07a;">'1'</span> | A_BOLD);
</pre>
</div>

<p>
This statement displays at the cursor's current position the
character 1 with the bold text attribute applied.
</p>

<div class="org-src-container">

<pre class="src src-c">waddch(zippy,<span style="color: #ffa07a;">'\t'</span>);
</pre>
</div>

<p>
This statement places a tab a the cursor's current position in
window <code>zippy</code>. The tab character advances the cursor to the next
tab stop.
</p>

<div class="org-src-container">

<pre class="src src-c">mvaddch(y,x,ACS_PI);
</pre>
</div>

<p>
This statement places at the row and column represented by <code>int</code>
variables <code>y</code> and <code>x</code> the character constant <code>ACS_PI</code>, the character
<code>Ï</code>. (See <a href="#appendix_b">Appendix B</a> for a list of the ACS constants.)
</p>

<div class="org-src-container">

<pre class="src src-c">mvwaddch(main,0,0,bullet);
</pre>
</div>

<p>
This statement moves the cursor to home position 0,0 in window
<code>main</code> and places there the <code>chtype</code> character represented by the
variable <code>bullet</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-1-6" class="outline-4">
<h4 id="sec-18-1-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-1-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>,
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  addch(<span style="color: #ffa07a;">'H'</span>);
<span class="linenr"> 8: </span>  addch(<span style="color: #ffa07a;">'i'</span>);
<span class="linenr"> 9: </span>  addch(<span style="color: #ffa07a;">'!'</span>);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  getch();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  endwin();
<span class="linenr">14: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">15: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-1-6-1" class="outline-5">
<h5 id="sec-18-1-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-1-6-1">
<pre class="example">
Hi!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-1-7" class="outline-4">
<h4 id="sec-18-1-7">Also See</h4>
<div class="outline-text-4" id="text-18-1-7">
<p>
<a href="#chapter_2">Chapter 2</a>, <a href="#addstr"><code>addstr()</code></a>, <a href="#clrtoeol"><code>clrtoeol()</code></a>, <a href="#scroll"><code>scroll()</code></a>, <a href="#TABSIZE"><code>TABSIZE</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-2" class="outline-3">
<h3 id="sec-18-2"><code>addchstr()</code>                                                       <a id="addchstr" name="addchstr"></a></h3>
<div class="outline-text-3" id="text-18-2">
<p>
The <code>addchstr()</code> functions place a <i>formatted</i> string of text at
the cursor's position. The string of formatted text is not a char
array, but an array of NCurses <code>chtype</code> characters, which includes
both the character and its formatting information.
</p>
</div>

<div id="outline-container-sec-18-2-1" class="outline-4">
<h4 id="sec-18-2-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-2-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">addchstr</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">addchnstr</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">waddchstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">waddchnstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvaddchstr</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvaddchnstr</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwaddchstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwaddchnstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-2-2" class="outline-4">
<h4 id="sec-18-2-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-2-2">
<p>
<code>chstr</code> is an array of formatted text to be displayed on the
screen. The array is composed of <code>chtype</code> characters, which are
not <code>char</code> but <code>long int</code> values.  (The <code>chtype</code> character
consists of a character plus attribute information.)
</p>

<p>
<code>n</code> is used only in the <code>addchnstr()</code> functions. It is an <code>int</code>
value, a variable or constant, that represents the maximum number
of characters to write to the screen. When <code>n</code> is less than the
string's length, then only <code>n</code> characters are displayed. When <code>n</code>
is equal to -1, the entire string is displayed. (Also see Notes,
below.) When <code>n</code> is greater than the string's length, garbage may
be displayed on the screen.
</p>

<p>
Refer to the <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and <a href="#w_prefix"><code>w</code></a> prefix entries elsewhere in this
appendix for information on the <code>win</code>, <code>y</code>, and <code>x</code> arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-2-3" class="outline-4">
<h4 id="sec-18-2-3">Return Value</h4>
<div class="outline-text-4" id="text-18-2-3">
<p>
Upon success the <code>addchstr()</code> family of functions return integer
constants <code>OK</code> or <code>ERR</code> upon success or failure, respectively.
</p>

<p>
Normally, returns values are not checked with <code>addchstr()</code>;
however, if you use the <code>mv</code>- or <code>mvw</code>- prefix versions of the
functions, then be sure to check the return value should the
function accidentally try to move the cursor to an off-screen
location.
</p>
</div>
</div>

<div id="outline-container-sec-18-2-4" class="outline-4">
<h4 id="sec-18-2-4">Notes</h4>
<div class="outline-text-4" id="text-18-2-4">
<p>
It helps if you understand this function as <code>add-chstr</code>: add a
<code>chtype</code> string to the screen. For displaying a standard character
string to the screen, use <code>addstr()</code> instead.
</p>

<p>
Unlike other output functions, text displayed by <code>addchstr()</code> does
not wrap from one line to another. Any excess text displayed
beyond the last column in the window just doesn't appear.
</p>

<p>
<code>addchstr()</code> does not interpret the control characters <code>\t</code>, <code>\n</code>,
or <code>\b</code>, nor will it display control characters prefixed with a
<code>^</code>, as other NCurses output functions do.
</p>

<p>
Placing <code>chtype</code> characters on the screen with the <code>addchstr()</code>
function is faster than using the <code>addstr()</code> function.
</p>

<p>
The <code>chtype</code> array is terminated with a <code>\0</code> value, just as char
arrays, or strings, are terminated.
</p>

<p>
Try not to use values of <code>n</code> larger than the string. Doing so
results in random data being displayed.
</p>
</div>
</div>

<div id="outline-container-sec-18-2-5" class="outline-4">
<h4 id="sec-18-2-5">Examples</h4>
<div class="outline-text-4" id="text-18-2-5">
<div class="org-src-container">

<pre class="src src-c">addchnstr(fline,25);
</pre>
</div>

<p>
This statement puts the first 25 characters of the <code>chtype</code> string
<code>fline</code> to the screen at the current cursor position.
</p>

<div class="org-src-container">

<pre class="src src-c">mvaddchstr(0,xc,title);
</pre>
</div>

<p>
This statement puts the <code>chtype</code> string <code>title</code> at row zero and
the column represented by variable <code>xc</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-2-6" class="outline-4">
<h4 id="sec-18-2-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-2-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">text</span>[6] = { <span style="color: #ffa07a;">'H'</span> | A_BOLD, <span style="color: #ffa07a;">'e'</span>, <span style="color: #ffa07a;">'l'</span>, <span style="color: #ffa07a;">'l'</span>, <span style="color: #ffa07a;">'o'</span>, <span style="color: #ffa07a;">'\0'</span> };
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  addchstr(text);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  getch();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  endwin();
<span class="linenr">14: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">15: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-2-6-1" class="outline-5">
<h5 id="sec-18-2-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-2-6-1">
<pre class="example">
Hello
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-2-7" class="outline-4">
<h4 id="sec-18-2-7">Also See</h4>
<div class="outline-text-4" id="text-18-2-7">
<p>
<a href="#appendix_c">Appendix C</a>, <a href="#inchstr"><code>inchstr()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-3" class="outline-3">
<h3 id="sec-18-3"><code>addstr()</code>                                                         <a id="addstr" name="addstr"></a></h3>
<div class="outline-text-3" id="text-18-3">
<p>
The <code>addstr()</code> function displays a string of text on the
screen. The text is displayed at the cursor's current position and
each character displayed advances the cursor.
</p>
</div>

<div id="outline-container-sec-18-3-1" class="outline-4">
<h4 id="sec-18-3-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-3-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">addstr</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">addnstr</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">waddstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">waddnstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">mvaddstr</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">mvaddnstr</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">mvwaddstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">mvwaddnstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-3-2" class="outline-4">
<h4 id="sec-18-3-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-3-2">
<p>
<code>str</code> is text, either a literal string or text stored in a string
variable (<code>char</code> array). The string is terminated with a <code>\0</code>
(null) character.
</p>

<p>
<code>n</code> is an <code>int</code> value or variable used to limit output to only <code>n</code>
characters of the <code>string</code>. The value of <code>n</code> ranges from 0 through
the length of the <code>string</code>.  When <code>n</code> is -1, the entire <code>string</code>
is written.
</p>

<p>
Refer to the <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and <a href="#w_prefix"><code>w</code></a> prefix entries elsewhere in this
appendix for information on the <code>win</code>, <code>y</code>, and <code>x</code> arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-3-3" class="outline-4">
<h4 id="sec-18-3-3">Return Value</h4>
<div class="outline-text-4" id="text-18-3-3">
<p>
The <code>addstr()</code> function returns the integer constant <code>OK</code>, or
<code>ERR</code> upon failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-3-4" class="outline-4">
<h4 id="sec-18-3-4">Notes</h4>
<div class="outline-text-4" id="text-18-3-4">
<p>
<code>addstr()</code> features the same type of output as <code>addch()</code>: control
codes <code>\t</code>, <code>\n</code>, <code>\r</code>, and <code>\b</code> are interpreted as tab, newline,
return, and backspace. Other control codes are displayed using the
<code>^</code> followed by the code's text character equivalent. Refer to the
<a href="#addch"><code>addch()</code></a> entry for more information.
</p>

<p>
When <code>string</code> is longer than the screen or window's width, then it
continues to the following line on the screen. If scrolling is
enabled for the window, then text displayed on the last line
causes the screen to scroll.
</p>

<p>
The <code>addstr()</code> function does <i>not</i> automatically append a <code>\n</code> to
the text it displays.
</p>

<p>
Remember that in addition to performing a carriage return/line
feed, the <code>\n</code> will erase any existing text to the end of the
line.
</p>

<p>
Setting the value of <code>n</code> greater than the length of the string
does not appear to affect output, unlike <code>addchstr()</code>. In this
case, setting <code>n</code> to a value greater than the string's length
merely outputs the entire string and nothing extra.
</p>
</div>
</div>

<div id="outline-container-sec-18-3-5" class="outline-4">
<h4 id="sec-18-3-5">Examples</h4>
<div class="outline-text-4" id="text-18-3-5">
<div class="org-src-container">

<pre class="src src-c">addstr(first_name);
</pre>
</div>

<p>
This statement displays text stored in the string variable
<code>first_name</code> on the screen at the cursor's current position.
</p>

<div class="org-src-container">

<pre class="src src-c">waddstr(status,<span style="color: #ffa07a;">"Results:\n"</span>);
</pre>
</div>

<p>
This statement displays the text <code>Results</code>, plus a new line, in
the window named <code>status</code>. The newline drops the cursor down to
the following line on the screen.
</p>

<div class="org-src-container">

<pre class="src src-c">mvaddstr(y,x,<span style="color: #ffa07a;">"Copyright 2006, Grockmeister Studios."</span>);
</pre>
</div>

<p>
This statement displays the string <code>Copyright 2006</code>, <code>Grockmeister
    Studios</code>. at the position represented by <code>int</code> variables <code>y</code> and
<code>x</code> on the screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-3-6" class="outline-4">
<h4 id="sec-18-3-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-3-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  addnstr(<span style="color: #ffa07a;">"The password is 'Zeppelin.'\n"</span>,17);
<span class="linenr"> 8: </span>  refresh();
<span class="linenr"> 9: </span>  getch();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  endwin();
<span class="linenr">12: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">13: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-3-6-1" class="outline-5">
<h5 id="sec-18-3-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-3-6-1">
<pre class="example">
The password is '
</pre>

<p>
Only the first 17 characters are displayed.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-3-7" class="outline-4">
<h4 id="sec-18-3-7">Also See</h4>
<div class="outline-text-4" id="text-18-3-7">
<p>
<a href="#chapter_2">Chapter 2</a>, <a href="#addch"><code>addch()</code></a>, <a href="#printw"><code>printw()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-4" class="outline-3">
<h3 id="sec-18-4"><code>assume_default_colors()</code>                                          <a id="assume_default_colors" name="assume_default_colors"></a></h3>
<div class="outline-text-3" id="text-18-4">
<p>
<code>assume_default_colors()</code> is an extended NCurses function that
allows you to set which foreground and background colors to use as
the default after <code>start_color()</code> initializes NCurses for color.
</p>
</div>

<div id="outline-container-sec-18-4-1" class="outline-4">
<h4 id="sec-18-4-1">Explanation</h4>
<div class="outline-text-4" id="text-18-4-1">
<p>
After <code>start_color()</code> turns on NCurses text color support, the
text background color is set to black and the foreground color set
to white. Black and white, or <code>COLOR_BLACK</code> and <code>COLOR_WHITE</code>, are
the defaults, defined as <code>COLOR_PAIR(0)</code>. By using the
<code>assume_default_colors()</code> function, you can change the values of
<code>COLOR_PAIR(0)</code> to something else or to whichever colors the
terminal program otherwise uses to display text.
</p>
</div>
</div>

<div id="outline-container-sec-18-4-2" class="outline-4">
<h4 id="sec-18-4-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-4-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">assume_default_colors</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">fg</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">bg</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-4-3" class="outline-4">
<h4 id="sec-18-4-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-4-3">
<p>
<code>fg</code> is an <code>int</code> value representing the color for text, the
foreground color.
</p>

<p>
<code>bg</code> is an <code>int</code> value represent the background color.
</p>

<p>
Values for both <code>fg</code> and <code>bg</code> range from 0 through the value of
<code>COLORS-1</code>.
</p>

<p>
A special value of -1 sets the foreground and background colors
equal to the same color as used by terminal when not running
NCurses. See the Notes for more information.
</p>
</div>
</div>

<div id="outline-container-sec-18-4-4" class="outline-4">
<h4 id="sec-18-4-4">Return Value</h4>
<div class="outline-text-4" id="text-18-4-4">
<p>
When all goes well, the function returns <code>OK</code>, <code>ERR</code> otherwise.
</p>
</div>
</div>

<div id="outline-container-sec-18-4-5" class="outline-4">
<h4 id="sec-18-4-5">Notes</h4>
<div class="outline-text-4" id="text-18-4-5">
<p>
The color constants defined in <code>ncurses.h</code> can also be used as
values for <code>fg</code> and <code>bg</code>. Refer to <code>init_pair()</code> for the list.
</p>

<p>
The <code>assume_default_colors()</code> (or <code>use_default_colors()</code>) function
is the only way to set <code>COLOR_PAIR(0)</code>.
</p>

<p>
Using -1 for <code>fg</code> and <code>bg</code> tells NCurses to use the same
foreground and background colors as the terminal. For example, if
you've configured your xterm window to use blue text on a white
background, then specifying <code>assume_default_colors(-1,-1)</code> directs
NCurses to use those same two colors as the foreground and
background for <code>COLOR_PAIR(0)</code>, the color pair used when
<code>start_color()</code> first initializes NCurses color.
</p>

<p>
Note that by using -1 it's possible on some terminals to use
colors not normally available to NCurses. For example, on xterm in
OS X it's possible to set text color to gray text on a pink
background. Sadly, these colors are not available to the other
NCurses color functions.
</p>

<p>
It's not wise to set both the <code>bg</code> and <code>fg</code> values to the same
thing. You can; but nothing shows up on the screen.
</p>

<p>
<code>assume_default_colors()</code> is a an extended NCurses function. See
"Extended Functions" later in this appendix.
</p>
</div>
</div>

<div id="outline-container-sec-18-4-6" class="outline-4">
<h4 id="sec-18-4-6">Examples</h4>
<div class="outline-text-4" id="text-18-4-6">
<div class="org-src-container">

<pre class="src src-c">assume_default_colors(COLOR_WHITE,COLOR_BLUE);
</pre>
</div>

<p>
The colors used for text output after <code>start_color()</code> initializes
NCurses color will be white text on a blue background. White on
blue becomes the values for <code>COLOR_PAIR(0)</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">assume_default_colors(-1,-1);
</pre>
</div>

<p>
The colors set by <code>start_color()</code> for <code>COLOR_PAIR(0)</code> will be the
same as used in the terminal window.
</p>
</div>
</div>

<div id="outline-container-sec-18-4-7" class="outline-4">
<h4 id="sec-18-4-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-4-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  start_color();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  assume_default_colors(COLOR_RED,COLOR_CYAN);
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"The default colors have been set to\n"</span>);
<span class="linenr">12: </span>  addstr(<span style="color: #ffa07a;">"Red text on a cyan background.\n"</span>);
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  endwin();
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-4-7-1" class="outline-5">
<h5 id="sec-18-4-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-4-7-1">
<pre class="example">
The default colors have been set to
Red text on a cyan background.
</pre>

<p>
The text above appears as red on a cyan background.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-4-8" class="outline-4">
<h4 id="sec-18-4-8">Also See</h4>
<div class="outline-text-4" id="text-18-4-8">
<p>
<a href="#COLORS"><code>COLORS</code></a>, <a href="#init_pair"><code>init_pair()</code></a>, <a href="#use_default_colors"><code>use_default_colors()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-5" class="outline-3">
<h3 id="sec-18-5"><code>attr_get()</code>                                                       <a id="attr_get" name="attr_get"></a></h3>
<div class="outline-text-3" id="text-18-5">
<p>
The <code>attr_get()</code> function is used to read which text attributes are
being used in a window. The values returned are compared (by
logical OR) with known attributes. The function also determines
whether the window uses color and if so which color pair is being
used.
</p>
</div>

<div id="outline-container-sec-18-5-1" class="outline-4">
<h4 id="sec-18-5-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-5-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">attr_get</span>(<span style="color: #98fb98;">attr_t</span> *<span style="color: #eedd82;">attrs</span>, <span style="color: #98fb98;">short</span> *<span style="color: #eedd82;">pair</span>, <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">opts</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wattr_get</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, =attr_t= *attrs, <span style="color: #98fb98;">short</span> *<span style="color: #eedd82;">pair</span>,<span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">opts</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-5-2" class="outline-4">
<h4 id="sec-18-5-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-5-2">
<p>
<code>attrs</code> is the location of a variable of the NCurses type
<code>attr_t</code>, a <code>long int</code> (the same as a <code>chtype</code>). It is used to
store the attribute information read from window. Essentially
<code>attrs</code> is a bit field and the bits in the field are set according
to which attributes are active in the window. <a href="#appendix_c">Appendix C</a> describes
the <code>chtype</code> bit field.
</p>

<p>
<code>pair</code> is the memory location of a <code>short int</code> value used to store
the color pair number used to color the window.
</p>

<p>
The <code>NULL</code> placeholder represents the <code>opts</code> argument. <code>opts</code> is
not defined presently but reserved for future use.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> prefix entry later in this appendix for
information on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-5-3" class="outline-4">
<h4 id="sec-18-5-3">Return Value</h4>
<div class="outline-text-4" id="text-18-5-3">
<p>
The functions return <code>OK</code> or <code>ERR</code> upon success or failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-5-4" class="outline-4">
<h4 id="sec-18-5-4">Notes</h4>
<div class="outline-text-4" id="text-18-5-4">
<p>
The <code>attrs</code> argument is declared by using NCurses' <code>attr_t</code>
variable type:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">ats</span>;
</pre>
</div>

<p>
Here in this line of code, the variable <code>ats</code> is created from the
<code>attr_t</code> type.
</p>

<p>
Both the <code>attrib</code> and pair argument are memory locations. They can
be represented by pointer variables or regular variables prefixed
with the <code>&amp;</code> unary operator.
</p>

<p>
It's possible to replace either <code>attrib</code> or <code>pair</code> with <code>NULL</code>, in
which case that particular chunk of information will not be
returned by <code>attr_get()</code>.
</p>

<p>
The <code>pair</code> value returns only the color pair number. It does not
tell you which colors are assigned to that color pair number. For
that tidbit you need to use the <code>pair_content()</code> function.
</p>

<p>
In my experiments I've been unable to get <code>attr_get()</code> to return
both text and color attributes from a given window. The function
seems to prioritize text attributes, such as <code>A_BOLD</code>, <code>A_BLINK</code>,
and so on. But when those attributes are present along with color
information, only the attribute values are returned. When the
attributes are removed from the window, the color information is
returned. (This is probably an effect of NCurses' handling the ncv
(<code>no_color_video</code>) capability of the terminal. When the terminal
description says (with this capability) that colors do not mix
with the given video attributes, it only uses the colors.)
</p>

<p>
To specifically retrieve a window's background attributes, use the
<code>getbkgd()</code> function. See <a href="#getbkgd"><code>getbkgd()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-5-5" class="outline-4">
<h4 id="sec-18-5-5">Example</h4>
<div class="outline-text-4" id="text-18-5-5">
<div class="org-src-container">

<pre class="src src-c">attr_get(&amp;a,&amp;cp,<span style="color: #7fffd4;">NULL</span>);
</pre>
</div>

<p>
This statement returns the attributes used in the <code>stdscr</code>, saving
them in the a variable. Color pairs, if used, are saved in the
<code>cp</code> variable.
</p>
</div>
</div>

<div id="outline-container-sec-18-5-6" class="outline-4">
<h4 id="sec-18-5-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-5-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">attributes</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">short</span> <span style="color: #eedd82;">cpair</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  attrset(A_BOLD | A_REVERSE | A_BLINK);
<span class="linenr">10: </span>
<span class="linenr">11: </span>  attr_get(&amp;attributes,&amp;cpair,<span style="color: #7fffd4;">NULL</span>);
<span class="linenr">12: </span>  addstr(<span style="color: #ffa07a;">"Attributes active in this window:\n"</span>);
<span class="linenr">13: </span>  <span style="color: #00ffff;">if</span>( attributes &amp; A_COLOR)     printw(<span style="color: #ffa07a;">"Color w/ pair ; %d\n"</span>,cpair);
<span class="linenr">14: </span>  <span style="color: #00ffff;">if</span>( attributes &amp; A_STANDOUT)  addstr(<span style="color: #ffa07a;">"Standout\n"</span>);
<span class="linenr">15: </span>  <span style="color: #00ffff;">if</span>( attributes &amp; A_REVERSE)   addstr(<span style="color: #ffa07a;">"Reverse\n"</span>);
<span class="linenr">16: </span>  <span style="color: #00ffff;">if</span>( attributes &amp; A_BLINK)     addstr(<span style="color: #ffa07a;">"Blink\n"</span>);
<span class="linenr">17: </span>  <span style="color: #00ffff;">if</span>( attributes &amp; A_DIM)       addstr(<span style="color: #ffa07a;">"Dim\n"</span>);
<span class="linenr">18: </span>  <span style="color: #00ffff;">if</span>( attributes &amp; A_BOLD)      addstr(<span style="color: #ffa07a;">"Bold\n"</span>);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  endwin();
<span class="linenr">23: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">24: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-5-6-1" class="outline-5">
<h5 id="sec-18-5-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-5-6-1">
<pre class="example">
Attributes active in this window:
Reverse
Blink
Bold
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-5-7" class="outline-4">
<h4 id="sec-18-5-7">Also See</h4>
<div class="outline-text-4" id="text-18-5-7">
<p>
<a href="#appendix_c">Appendix C</a>, <a href="#attrset"><code>attrset()</code></a>, <a href="#COLOR_PAIR"><code>COLOR_PAIR()</code></a>, <a href="#getbkgd"><code>getbkgd()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-6" class="outline-3">
<h3 id="sec-18-6"><code>attroff()</code>                                                        <a id="attroff" name="attroff"></a></h3>
<div class="outline-text-3" id="text-18-6">
<p>
The <code>attroff()</code> function is used to turn off one or more text
attributes. The attributes have previously been applied by either
the <code>attron()</code>, <code>attrset()</code>, or similar attribute functions.
</p>
</div>

<div id="outline-container-sec-18-6-1" class="outline-4">
<h4 id="sec-18-6-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-6-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">wattroff</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">attrs</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">wattroff</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">attrs</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">attr_off</span>(<span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">attrs</span>, <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">opts</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">wattr_off</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">attrs</span>, <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">opts</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-6-2" class="outline-4">
<h4 id="sec-18-6-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-6-2">
<p>
<code>attrs</code> is an <code>int</code> value in one set of calls, and <code>attr_t</code> in the
others. But it is really the same thing in NCurses. It is
typically one or more attribute constants as defined in
<code>ncurses.h</code>, and listed in under <code>attrset()</code> later in this
appendix.  The named attribute is removed from any text displayed
after the <code>attroff()</code> function is used; other attributes are not
affected.
</p>

<p>
Multiple attributes can be specified in a single <code>attroff()</code>
function by separating each with a <code>|</code> (logical OR).
</p>

<p>
<code>COLOR_PAIR(n)</code> is also considered a text attribute, where <code>n</code> is
a color pair number defined by an <code>init_pair()</code> function earlier
in the program.
</p>

<p>
<code>NULL</code> is used as a placeholder for the as-yet-to-be-defined opts
value found in the <code>attr_off()</code> and <code>wattr_off()</code>
functions. (Honestly, it's been ten years, so it's doubtful that
X/Open is going to define it!)
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> prefix entry later in this appendix for
information on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-6-3" class="outline-4">
<h4 id="sec-18-6-3">Return Value</h4>
<div class="outline-text-4" id="text-18-6-3">
<p>
The return value is stated as "not important" according to the
documentation.
</p>
</div>
</div>

<div id="outline-container-sec-18-6-4" class="outline-4">
<h4 id="sec-18-6-4">Notes</h4>
<div class="outline-text-4" id="text-18-6-4">
<p>
<code>attroff()</code> affects only the text displayed after the <code>attroff()</code>
function is issued. It does not affect all text on the screen at
once.
</p>

<p>
To turn off all attributes with <code>attroff()</code>, each attribute must
be specified individually; you cannot use <code>A_NORMAL</code> with
<code>attroff()</code> to reset all text attributes back to normal. (See
<a href="#attrset"><code>attrset()</code></a>.)
</p>

<p>
Removing a <code>COLOR_PAIR</code> attribute with <code>attroff()</code> restores the
text to "normal" (white on black) text. So if you set one
<code>COLOR_PAIR</code> attribute, then apply a second <code>COLOR_PAIR</code>
attribute, removing the second <code>COLOR_PAIR</code> <i>does not</i> restore the
first <code>COLOR_PAIR</code>. You must re-apply the <code>COLOR_PAIR</code> using an
<code>attron()</code> function.
</p>

<p>
Apparently removing a <code>COLOR_PAIR</code> attribute with <code>attroff()</code> also
removes all other text attributes.
</p>

<p>
<code>attroff()</code> and <code>attr_off()</code> are pretty much identical, save for
the <code>NULL</code> argument required in <code>attr_off()</code>. (In NCurses, you'll
mostly find underscores used by functions that manipulate wide
characters.) Attributes are set by either the <code>attrset()</code> or
<code>attron()</code> functions.
</p>

<p>
Attributes affect the output of the <code>addch()</code>, <code>addstr()</code>, and
<code>printw()</code> functions.
</p>

<p>
Also refer to the Notes for <a href="#attrset"><code>attrset()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-6-5" class="outline-4">
<h4 id="sec-18-6-5">Examples</h4>
<div class="outline-text-4" id="text-18-6-5">
<div class="org-src-container">

<pre class="src src-c">attroff(A_BOLD);
</pre>
</div>

<p>
This statement removes the bold text attribute from any new text
displayed.
</p>

<div class="org-src-container">

<pre class="src src-c">wattroff(help,COLOR_PAIR(1));
</pre>
</div>

<p>
This statement removes the text color assigned to <code>COLOR_PAIR 1</code>
from any new text displayed in the window help.
</p>

<div class="org-src-container">

<pre class="src src-c">attroff(A_BOLD | A_REVERSE);
</pre>
</div>

<p>
This statement removes both the bold and reverse attributes from
any new text displayed.
</p>
</div>
</div>

<div id="outline-container-sec-18-6-6" class="outline-4">
<h4 id="sec-18-6-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-6-6">
<p>
Refer to the entry for <a href="#attrset"><code>attrset()</code></a> for a sample program.
</p>
</div>
</div>

<div id="outline-container-sec-18-6-7" class="outline-4">
<h4 id="sec-18-6-7">Also See</h4>
<div class="outline-text-4" id="text-18-6-7">
<p>
<a href="#chapter_3">Chapter 3</a>, <a href="#appendix_c">Appendix C</a>, <a href="#attrset"><code>attrset()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-7" class="outline-3">
<h3 id="sec-18-7"><code>attron()</code>                                                         <a id="attron" name="attron"></a></h3>
<div class="outline-text-3" id="text-18-7">
<p>
The <code>attron()</code> function enables specified text attributes for any
text put to the screen or a specific window.
</p>
</div>

<div id="outline-container-sec-18-7-1" class="outline-4">
<h4 id="sec-18-7-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-7-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">attron</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">attrs</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">wattron</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">attrs</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">attr_on</span>(<span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">attrs</span>, <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">opts</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">wattr_on</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">attrs</span>, <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">opts</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-7-2" class="outline-4">
<h4 id="sec-18-7-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-7-2">
<p>
<code>attrs</code> is usually one or more attribute constants as defined in
<code>ncurses.h</code>, each an <code>long int</code>. The named attribute is applied to
any text displayed after the <code>attron()</code> function is used. Setting
a new attribute does not affect previous attributes applied to the
text.
</p>

<p>
Refer to the entry for <a href="#attrset"><code>attrset()</code></a> for a list of attribute values.
</p>

<p>
Multiple attributes can be specified in a single <code>attron()</code>
function by separating each with a <code>|</code> (logical OR).
</p>

<p>
<code>COLOR_PAIR(n)</code> is also considered a text attribute, where <code>n</code> is
a color pair number defined by an <code>init_pair()</code> function earlier
in the program.
</p>

<p>
<code>NULL</code> is used in the <code>attr_on()</code> functions as a placeholder for
the undefined <code>opts</code> value.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> prefix entry later in this appendix for
information on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-7-3" class="outline-4">
<h4 id="sec-18-7-3">Return Value</h4>
<div class="outline-text-4" id="text-18-7-3">
<p>
The return value is stated as "not important" according to the
documentation.
</p>
</div>
</div>

<div id="outline-container-sec-18-7-4" class="outline-4">
<h4 id="sec-18-7-4">Notes</h4>
<div class="outline-text-4" id="text-18-7-4">
<p>
The new attributes are applied only to new text displayed after
the <code>attron()</code> function. These attributes are in addition to any
set by previous <code>attron()</code> or <code>attrset()</code> functions.
</p>

<p>
Applying a new <code>COLOR_PAIR</code> value with <code>attron()</code> replaces any
previously defined text colors with the new colors.
</p>

<p>
Only one <code>COLOR_PAIR</code> can be used at a time; <code>COLOR_PAIR</code>
attributes cannot be combined, as other attributes can.
</p>

<p>
Attributes affect the output of the <code>addch()</code>, <code>addstr()</code>, and
<code>printw()</code> functions.
</p>

<p>
Also refer to the Notes for <a href="#attrset"><code>attrset()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-7-5" class="outline-4">
<h4 id="sec-18-7-5">Examples</h4>
<div class="outline-text-4" id="text-18-7-5">
<div class="org-src-container">

<pre class="src src-c">attron(A_REVERSE);
</pre>
</div>

<p>
This statement applies the reverse text attribute from any new
text displayed.
</p>

<p>
This attribute is applied in addition to any previously-applied
text attributes.
</p>

<div class="org-src-container">

<pre class="src src-c">wattron(warning,A_BOLD | A_BLINK);
</pre>
</div>

<p>
This statement sets both the bold and blink attributes from any
new text displayed in the <code>warning</code> window.
</p>

<div class="org-src-container">

<pre class="src src-c">attron(COLOR_PAIR(3));
</pre>
</div>

<p>
This statement set the text displayed to the color assigned to
<code>COLOR_PAIR 3</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-7-6" class="outline-4">
<h4 id="sec-18-7-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-7-6">
<p>
Refer to the entry for <a href="#attrset"><code>attrset()</code></a> for a sample program.
</p>
</div>
</div>

<div id="outline-container-sec-18-7-7" class="outline-4">
<h4 id="sec-18-7-7">Also See</h4>
<div class="outline-text-4" id="text-18-7-7">
<p>
<a href="#chapter_3">Chapter 3</a>, <a href="#appendix_c">Appendix C</a>, <a href="#attrset"><code>attrset()</code></a>, <a href="#chgat"><code>chgat()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-8" class="outline-3">
<h3 id="sec-18-8"><code>attrset()</code>                                                        <a id="attrset" name="attrset"></a></h3>
<div class="outline-text-3" id="text-18-8">
<p>
The <code>attrset()</code> function sets attributes for all text output
functions that follow. The text displayed after using <code>attrset()</code>
ignores any attributes previously assigned by an <code>attrset()</code> or
<code>attron()</code> function and instead uses the new attributes specified
by <code>attrset()</code>.
</p>
</div>

<div id="outline-container-sec-18-8-1" class="outline-4">
<h4 id="sec-18-8-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-8-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">attrset</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">attrs</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">wattrset</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">attrs</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">attr_set</span>(<span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">attrs</span>, <span style="color: #98fb98;">short</span> <span style="color: #eedd82;">pair</span>, <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">opts</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">wattr_set</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">attrs</span>, <span style="color: #98fb98;">short</span> <span style="color: #eedd82;">pair</span>, <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">opts</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-8-2" class="outline-4">
<h4 id="sec-18-8-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-8-2">
<p>
<code>attrs</code> is a <code>long int</code> value representing one or more attribute
constants. The attribute(s) affect text put to the screen after
the <code>attrset()</code> command is used.
</p>

<p>
The attributes defined in <code>ncurses.h</code> are as follows:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left"><code>A_ALTCHARSET</code></td>
<td class="left"><code>A_UNDERLINE</code></td>
</tr>

<tr>
<td class="left"><code>A_BLINK</code></td>
<td class="left"><code>A_PROTECT</code></td>
</tr>

<tr>
<td class="left"><code>A_BOLD</code></td>
<td class="left"><code>A_HORIZONTAL</code></td>
</tr>

<tr>
<td class="left"><code>A_DIM</code></td>
<td class="left"><code>A_LEFT</code></td>
</tr>

<tr>
<td class="left"><code>A_INVIS</code></td>
<td class="left"><code>A_LOW</code></td>
</tr>

<tr>
<td class="left"><code>A_NORMAL</code></td>
<td class="left"><code>A_RIGHT</code></td>
</tr>

<tr>
<td class="left"><code>A_REVERSE</code></td>
<td class="left"><code>A_TOP</code></td>
</tr>

<tr>
<td class="left"><code>A_STANDOUT</code></td>
<td class="left"><code>A_VERTICAL</code></td>
</tr>
</tbody>
</table>

<p>
<code>pair</code> is a <code>short int</code> value representing a color pair number,
similar to the <code>n</code> used in <code>COLOR_PAIR(n)</code>.
</p>

<p>
<code>NULL</code> is used in the <code>attr_set()</code> functions as a placeholder the
undefined <code>opts</code> value.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> prefix entry later in this appendix for
information on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-8-3" class="outline-4">
<h4 id="sec-18-8-3">Return Value</h4>
<div class="outline-text-4" id="text-18-8-3">
<p>
The return value is stated as "not important" according to the
documentation.
</p>
</div>
</div>

<div id="outline-container-sec-18-8-4" class="outline-4">
<h4 id="sec-18-8-4">Notes</h4>
<div class="outline-text-4" id="text-18-8-4">
<p>
Attributes set by <code>attrset()</code> can be removed by using the
<code>attroff()</code> function. New attributes can be added by using the
<code>attron()</code> function.
</p>

<p>
<code>attrset()</code> is an in-line function; it affects only text displayed
after <code>attrset()</code> is used. <code>attrset()</code> does not reset all text in
a window at once.
</p>

<p>
Attributes affect the output of the <code>addch()</code>, <code>addstr()</code>, and
<code>printw()</code> functions.
</p>

<p>
All text attributes can be turned off by using this statement:
</p>

<div class="org-src-container">

<pre class="src src-c">attrset(A_NORMAL);
</pre>
</div>

<p>
Both <code>attron()</code> and the <code>attrset()</code> functions are used to set text
attributes. <code>attron()</code> always adds the text attribute(s) specified
to whatever attributes exist already. <code>attrset()</code>, on the other
hand, resets all text attributes to only those listed by the
<code>attrset()</code> function.
</p>

<p>
In NCurses, text attributes are combined with a character to
produce the NCurses <code>chtype</code>. The attributes and character stay
together; move or copy the character, and the attributes go with
it. This is unlike other text attribute systems where the
attribute is applied to the character's location on the screen and
characters at that location take on the attributes of the
location. In NCurses, characters and attributes are often the same
thing. (Also see <a href="#appendix_c">Appendix C</a>.)
</p>

<p>
Multiple attributes are applied by specifying each in the
<code>attrset()</code> function, separated by a <code>|</code> (logical OR). This also
includes using the <code>COLOR_PAIR(n)</code> attribute.
</p>

<p>
It is technically possible that using a logical OR to combine
attributes may not work. For example, if more than the maximum
number of color pairs are defined (which can happen on some
terminals, such as xterm-88color or xterm-256color), then using
the logical OR may result in nonexistent attributes being
assigned. (NCurses 5.5 can be compiled to support 32768 color
pairs.)
</p>

<p>
The attributes listed in this entry can also be combined with
<code>COLOR_PAIR(n)</code> values, where <code>n</code> indicates a foreground (text)
and background color combination, as defined by <code>init_pair()</code>.
</p>

<p>
Not all the attributes listed in this entry are implemented on
every terminal. For example, NCurses doesn't implement the
<code>A_TOP</code>, <code>A_LEFT</code>, <code>A_RIGHT</code>, <code>A_VERTICAL</code>, or <code>A_HORIZTIONAL</code>
attributes because there is no terminal that uses those
features. Refer to the "Format Reference" section earlier to see
which are available for you to use.
</p>

<p>
<code>attrset(A_NORMAL)</code> turns off all attributes.
</p>

<p>
To determine which attributes are available for the terminal, use
the <code>termattrs()</code> function.
</p>

<p>
Also refer to the Notes for <a href="#attron"><code>attron()</code></a> and <a href="#attroff"><code>attroff()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-8-5" class="outline-4">
<h4 id="sec-18-8-5">Examples</h4>
<div class="outline-text-4" id="text-18-8-5">
<div class="org-src-container">

<pre class="src src-c">attrset(A_BOLD);
</pre>
</div>

<p>
This statement sets text attributes to bold. Any attributes
previously assigned to the text are removed.
</p>

<div class="org-src-container">

<pre class="src src-c">wattrset(new,A_NORMAL | COLOR_PAIR(1));
</pre>
</div>

<p>
This statement resets all text attributes for the window <code>new</code> to
use the colors specified by <code>COLOR_PAIR(1)</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-8-6" class="outline-4">
<h4 id="sec-18-8-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-8-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  start_color();
<span class="linenr"> 7: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  attrset(A_BOLD);
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"Attributes set for the screen to BOLD.\n"</span>);
<span class="linenr">11: </span>  attroff(A_BOLD);
<span class="linenr">12: </span>  addstr(<span style="color: #ffa07a;">"Bold attribute has been removed.\n"</span>);
<span class="linenr">13: </span>  attron(COLOR_PAIR(1));
<span class="linenr">14: </span>  addstr(<span style="color: #ffa07a;">"Color pair 1 has been added.\n"</span>);
<span class="linenr">15: </span>  attrset(A_REVERSE);
<span class="linenr">16: </span>  addstr(<span style="color: #ffa07a;">"Attrset just reset things to reverse.\n"</span>);
<span class="linenr">17: </span>  attroff(A_REVERSE);
<span class="linenr">18: </span>  addstr(<span style="color: #ffa07a;">"And now things are back to normal.\n"</span>);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  endwin();
<span class="linenr">23: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">24: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-8-6-1" class="outline-5">
<h5 id="sec-18-8-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-8-6-1">

<div class="figure">
<p><img src="img/FigureA-attrset.jpg" alt="FigureA-attrset.jpg" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-18-8-7" class="outline-4">
<h4 id="sec-18-8-7">Also See</h4>
<div class="outline-text-4" id="text-18-8-7">
<p>
<a href="#chapter_3">Chapter 3</a>, <a href="#appendix_c">Appendix C</a>, <a href="#attroff"><code>attroff()</code></a>, <a href="#attron"><code>attron()</code></a>, <a href="#chgat"><code>chgat()</code></a>,
<a href="#init_pair"><code>init_pair()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-9" class="outline-3">
<h3 id="sec-18-9"><code>baudrate()</code>                                                       <a id="baudrate" name="baudrate"></a></h3>
<div class="outline-text-3" id="text-18-9">
<p>
The <code>baudrate()</code> function returns the terminal's speed in bits per
second (bps).
</p>
</div>

<div id="outline-container-sec-18-9-1" class="outline-4">
<h4 id="sec-18-9-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-9-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">baudrate</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-9-2" class="outline-4">
<h4 id="sec-18-9-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-9-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-9-3" class="outline-4">
<h4 id="sec-18-9-3">Return Value</h4>
<div class="outline-text-4" id="text-18-9-3">
<p>
<code>baudrate()</code> returns an <code>int</code> value representing the terminal's
speed value in bps. Values returned depend on the terminal.
</p>
</div>
</div>

<div id="outline-container-sec-18-9-4" class="outline-4">
<h4 id="sec-18-9-4">Notes</h4>
<div class="outline-text-4" id="text-18-9-4">
<p>
A <i>baud</i> is a measurement of signal modulation. The term is a
holdover from the early days of modems when a 300 baud modem
communicated at roughly 300 bps. As modem technology advanced, the
bps rating was used while many incorrectly used the term "baud"
instead. The value returned by <code>baudrate()</code> is really a bps value.
</p>

<p>
Virtual terminals return whichever value is defined for the
terminal. This value probably will not reflect reality but merely
the speed defined for the tty. Use the <code>stty</code> command to see which
speed is set for a virtual terminal; the same value is returned by
NCurses <code>baudrate()</code> function.
</p>

<p>
Knowing the speed of a terminal becomes relative when using some
NCurses functions that update an entire screen of information. At
9600 bps, a full re-write of a screen by <code>touchwin()/refresh()</code>
becomes noticeable. Therefore, the <code>baudrate()</code> function can be
used to avoid redundant text writing to slower terminals. But
given that some terminal windows don't properly report bps values,
this may end up being a futile exercise.
</p>
</div>
</div>

<div id="outline-container-sec-18-9-5" class="outline-4">
<h4 id="sec-18-9-5">Example</h4>
<div class="outline-text-4" id="text-18-9-5">
<div class="org-src-container">

<pre class="src src-c">speed = baudrate();
</pre>
</div>

<p>
This statement sets the value of <code>int</code> variable <code>speed</code> equal to
the terminal's speed in bps.
</p>
</div>
</div>

<div id="outline-container-sec-18-9-6" class="outline-4">
<h4 id="sec-18-9-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-9-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">b</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  b = baudrate();
<span class="linenr">10: </span>  printw(<span style="color: #ffa07a;">"This terminal's baud rate is %d.\n"</span>,b);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  getch();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  endwin();
<span class="linenr">15: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">16: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-9-6-1" class="outline-5">
<h5 id="sec-18-9-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-9-6-1">
<pre class="example">
This terminal's baud rate is 9600.
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-18-10" class="outline-3">
<h3 id="sec-18-10"><code>beep()</code>                                                           <a id="beep" name="beep"></a></h3>
<div class="outline-text-3" id="text-18-10">
<p>
The <code>beep()</code> function plays a tone over the computer's
speaker. <code>beep()</code> literally causes the computer to go <i>beep</i>!
</p>
</div>

<div id="outline-container-sec-18-10-1" class="outline-4">
<h4 id="sec-18-10-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-10-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">beep</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-10-2" class="outline-4">
<h4 id="sec-18-10-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-10-2">
<p>
The function takes no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-10-3" class="outline-4">
<h4 id="sec-18-10-3">Return Value</h4>
<div class="outline-text-4" id="text-18-10-3">
<p>
If the computer beeps, <code>beep()</code> returns <code>OK</code>. It returns <code>ERR</code>
otherwise.
</p>
</div>
</div>

<div id="outline-container-sec-18-10-4" class="outline-4">
<h4 id="sec-18-10-4">Notes</h4>
<div class="outline-text-4" id="text-18-10-4">
<p>
The standard C output functions can make a <i>beep</i> by displaying
the Ctrl-G character, the ASCII Bell. NCurses' output functions,
however, are not passed through standard output. Displaying a
Ctrl-G (0x07) character with NCurses output functions displays
<code>^G</code> on the screen. Silently.
</p>

<p>
This function doesn't work if the terminal has been configured not
to beep.
</p>

<p>
The beep produced is whatever sound is set up as the default
computer sound. For text-based systems, this is just a tone over
the speaker. For graphical interfaces, the sound used is the
default sound, which can be any tone, sound file, or whatever.
</p>

<p>
It is not possible to change the beep sound from within NCurses.
</p>

<p>
I would not rely on this function's return of <code>ERR</code> to determine
whether or not a terminal can produce sound.
</p>
</div>
</div>

<div id="outline-container-sec-18-10-5" class="outline-4">
<h4 id="sec-18-10-5">Example</h4>
<div class="outline-text-4" id="text-18-10-5">
<div class="org-src-container">

<pre class="src src-c">beep();
</pre>
</div>

<p>
This entry makes the computer go <i>beep</i>!
</p>
</div>
</div>

<div id="outline-container-sec-18-10-6" class="outline-4">
<h4 id="sec-18-10-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-10-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  addstr(<span style="color: #ffa07a;">"Press any key to beep:\n"</span>);
<span class="linenr"> 8: </span>  refresh();
<span class="linenr"> 9: </span>  getch();
<span class="linenr">10: </span>  beep();
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"Thanks!\n"</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  endwin();
<span class="linenr">16: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">17: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-10-6-1" class="outline-5">
<h5 id="sec-18-10-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-10-6-1">
<pre class="example">
Press any key to beep:
</pre>

<p>
(Press Enter .)
<code>BEEP!</code>
</p>

<pre class="example">
Thanks!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-10-7" class="outline-4">
<h4 id="sec-18-10-7">Also See</h4>
<div class="outline-text-4" id="text-18-10-7">
<p>
<a href="#chapter_3">Chapter 3</a>, <a href="#flash"><code>flash()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-11" class="outline-3">
<h3 id="sec-18-11"><code>bkgd()</code>                                                           <a id="bkgd" name="bkgd"></a></h3>
<div class="outline-text-3" id="text-18-11">
<p>
The <code>bkgd()</code> functions set the background attributes for the
<code>stdscr</code> or a specific window. It writes new attributes to every
character position on the window and even fills in blanks (spaces)
with characters, if a character is specified as part of the
attribute. <code>bkgd()</code> does not overwrite any existing text.
</p>
</div>

<div id="outline-container-sec-18-11-1" class="outline-4">
<h4 id="sec-18-11-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-11-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">bkgd</span>(<span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wbkgd</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-11-2" class="outline-4">
<h4 id="sec-18-11-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-11-2">
<p>
<code>ch</code> is an NCurses <code>chtype</code> variable, a <code>long int</code>. It typically
consists of formatting attributes, which are constants declared in
<code>ncurses.h</code>. It can also consist of regular text
characters. Multiple attributes are combined by using the <code>|</code>
(logical OR).
</p>

<p>
Refer to <a href="#attrset"><code>attrset()</code></a>, as well as <a href="#appendix_c">Appendix C</a>, for a list of the
<code>chtype</code> formatting attributes.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> prefix entry later in this appendix for
information on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-11-3" class="outline-4">
<h4 id="sec-18-11-3">Return Value</h4>
<div class="outline-text-4" id="text-18-11-3">
<p>
The <code>bkgd()</code> function returns <code>ERR</code> on failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-11-4" class="outline-4">
<h4 id="sec-18-11-4">Notes</h4>
<div class="outline-text-4" id="text-18-11-4">
<p>
<code>bkgd()</code> over-writes any existing text attributes applied by
<code>attrset()</code> or <code>attron()</code>. For example, if a word is highlighted
in bold text and then <code>bkgd()</code> is used to color the screen
yellow-on-white, the bold text attribute is removed and the text
takes on the yellow-on-white attribute.
</p>

<p>
Characters fill the background, or nontext locations on the
screen, when applied by <code>bkgd()</code>. Any text output function
overwrites those "background" characters. And a further use of
<code>bkgd()</code> with a text character as part of the attribute also
erases those background characters.
</p>

<p>
<code>bkgd()</code> differs from <code>bkgdset()</code> in that the latter affects only
new text written to the window. So if you want to change a
window's background all at once, use <code>bkgd()</code>.
</p>

<p>
It's a common typo to transpose the <code>g</code> and <code>d</code> in <code>bkgd()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-11-5" class="outline-4">
<h4 id="sec-18-11-5">Examples</h4>
<div class="outline-text-4" id="text-18-11-5">
<div class="org-src-container">

<pre class="src src-c">bkgd(A_BOLD);
</pre>
</div>

<p>
This function sets all text attributes on the screen to bold. This
replaces any existing applied attributes, including color.
</p>

<div class="org-src-container">

<pre class="src src-c">bkgd(COLOR_PAIR(1) | <span style="color: #ffa07a;">'+'</span>);
</pre>
</div>

<p>
Here, the screen is colored according to <code>COLOR_PAIR 1</code> and all
the non-text places are filled with <code>+</code> as a background
character. Additional text written to the screen overwrites the
<code>+</code> background characters. Space characters will not overwrite the
<code>+</code> background, however, and space characters used to overwrite
text also let the <code>+</code> background "shine through."
</p>

<div class="org-src-container">

<pre class="src src-c">wbkgd(summary,A_NORMAL);
</pre>
</div>

<p>
This statement removes all attributes from the window summary.
</p>
</div>
</div>

<div id="outline-container-sec-18-11-6" class="outline-4">
<h4 id="sec-18-11-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-11-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  start_color();
<span class="linenr"> 7: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr"> 8: </span>  init_pair(2,COLOR_YELLOW,COLOR_RED);
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  bkgd(COLOR_PAIR(1) | <span style="color: #ffa07a;">'.'</span>);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  getch();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  addstr(<span style="color: #ffa07a;">"bkgd() has preset the background.\n"</span>);
<span class="linenr">15: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to change it again.\n"</span>);
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>  getch();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  bkgd(COLOR_PAIR(2));
<span class="linenr">20: </span>  addstr(<span style="color: #ffa07a;">"All done!\n"</span>);
<span class="linenr">21: </span>  refresh();
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  endwin();
<span class="linenr">25: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">26: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-11-6-1" class="outline-5">
<h5 id="sec-18-11-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-11-6-1">
<p>
At first, the screen is filled with white periods on a blue
background.
</p>

<p>
Press the Enter key to see text displayed over the background, as
shown in <a href="#Figure-A-1">Figure A-1</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-1" name="Figure-A-1">Figure A-1</a> </dt><dd>A white dot on blue background


<div class="figure">
<p><img src="img/FigureA-1.jpg" alt="FigureA-1.jpg" />
</p>
</div>
</dd>
</dl>


<p>
Press Enter again and the window background is changed to yellow
text on a red background with the periods gone.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-11-7" class="outline-4">
<h4 id="sec-18-11-7">Also See</h4>
<div class="outline-text-4" id="text-18-11-7">
<p>
<a href="#chapter_3">Chapter 3</a>, <a href="#appendix_c">Appendix C</a>, <a href="#attrset"><code>attrset()</code></a>, <a href="#bkgdset"><code>bkgdset()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-12" class="outline-3">
<h3 id="sec-18-12"><code>bkgdset()</code>                                                        <a id="bkgdset" name="bkgdset"></a></h3>
<div class="outline-text-3" id="text-18-12">
<p>
The <code>bkgdset()</code> function sets the background attributes for a
window, affecting only the text put to the screen after the
<code>bkgdset()</code> function is issued.
</p>
</div>

<div id="outline-container-sec-18-12-1" class="outline-4">
<h4 id="sec-18-12-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-12-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">bkgdset</span>(<span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">wbkgdset</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-12-2" class="outline-4">
<h4 id="sec-18-12-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-12-2">
<p>
<code>ch</code> is an NCurses <code>chtype</code> variable, a <code>long int</code>, which
represents formatting attributes for the screen. It can also
include a text character to be used as the screen background
character. Multiple attributes can be combined by using a <code>|</code>
(logical OR).
</p>

<p>
Refer to <a href="#attrset"><code>attrset()</code></a>, as well as <a href="#appendix_c">Appendix C</a>, for a list of the
<code>chtype</code> formatting attributes.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> prefix entry later in this appendix for
information on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-12-3" class="outline-4">
<h4 id="sec-18-12-3">Return Value</h4>
<div class="outline-text-4" id="text-18-12-3">
<p>
Nothing; <code>bkgdset()</code> is a <code>void</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-12-4" class="outline-4">
<h4 id="sec-18-12-4">Notes</h4>
<div class="outline-text-4" id="text-18-12-4">
<p>
Issuing a <code>bkgdset()</code> function by itself does not affect the
screen at all. Only after text is written to the screen, or a
portion of the screen is erased, do the affects of <code>bkgdset()</code>
show up.
</p>

<p>
Unlike <code>bkgd()</code>, the <code>bkgdset()</code> function does not override any
attributes previously set on the screen.
</p>

<p>
Text attributes set by <code>attrset()</code>, as well as other
text-attribute-setting functions, are different from the
background attributes.
</p>
</div>
</div>

<div id="outline-container-sec-18-12-5" class="outline-4">
<h4 id="sec-18-12-5">Examples</h4>
<div class="outline-text-4" id="text-18-12-5">
<div class="org-src-container">

<pre class="src src-c">bkgdset(A_BOLD);
</pre>
</div>

<p>
This function sets text attributes for any text displayed
afterwards to include bold.
</p>

<div class="org-src-container">

<pre class="src src-c">wbkgd(fireworks,COLOR_PAIR(4));
</pre>
</div>

<p>
This statement sets the text color to <code>COLOR_PAIR 4</code> for any text
to be displayed in the window <code>fireworks</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-12-6" class="outline-4">
<h4 id="sec-18-12-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-12-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  start_color();
<span class="linenr"> 7: </span>  init_pair(1,COLOR_YELLOW,COLOR_RED);
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  bkgdset(A_BOLD);
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"bkgd() has set the background attributes to bold.\n"</span>);
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to change it.\n"</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  bkgdset(COLOR_PAIR(1));
<span class="linenr">16: </span>  addstr(<span style="color: #ffa07a;">"All done!\n"</span>);
<span class="linenr">17: </span>  refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  endwin();
<span class="linenr">21: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">22: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-12-6-1" class="outline-5">
<h5 id="sec-18-12-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-12-6-1">
<p>
<i>The following is displayed in bold:</i>
</p>

<pre class="example">
=bkgd()= has set the background attributes to bold.
Press Enter to change it.
</pre>

<p>
Press Enter and the attributes change to yellow text on a red
background; the following is displayed:
</p>

<pre class="example">
All done!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-12-7" class="outline-4">
<h4 id="sec-18-12-7">Also See</h4>
<div class="outline-text-4" id="text-18-12-7">
<p>
<a href="#chapter_3">Chapter 3</a>, <a href="#appendix_c">Appendix C</a>, <a href="#attrset"><code>attrset()</code></a>, <a href="#bkgd"><code>bkgd()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-13" class="outline-3">
<h3 id="sec-18-13"><code>border()</code>                                                         <a id="border" name="border"></a></h3>
<div class="outline-text-3" id="text-18-13">
<p>
The <code>border()</code> function is used to draw a line or box around a
window. The line can use default line drawing characters or you can
chosse specific characters, and the line occupies the outside
character positions (rows and columns) of the window.
</p>
</div>

<div id="outline-container-sec-18-13-1" class="outline-4">
<h4 id="sec-18-13-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-13-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">border</span>(<span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ls</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">rs</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ts</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">bs</span>,
           <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">tl</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">tr</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">bl</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">br</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wborder</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ls</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">rs</span>,
            <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ts</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">bs</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">tl</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">tr</span>,
            <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">bl</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">br</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-13-2" class="outline-4">
<h4 id="sec-18-13-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-13-2">
<p>
All arguments to border (save for <code>win</code>) represent characters to
be used to draw the border. The eight arguments represent the four
edges and four corners:
</p>

<ul class="org-ul">
<li><code>ls</code> represents the character used to draw the border's left
side
</li>

<li><code>rs</code>, the right side
</li>

<li><code>ts</code>, the top side
</li>

<li><code>bs</code>, the bottom side
</li>

<li><code>tl</code> represents the character used to draw the top left corner
</li>

<li><code>tr</code>, the top right corner
</li>

<li><code>bl</code>, the bottom left corner
</li>

<li><code>br</code>, the bottom right corner
</li>
</ul>


<p>
Each of these arguments are a <code>chtype</code> character, i.e., a <code>long
    int</code> representing both a character and an attribute. (See <a href="#appendix_c">Appendix C</a>.)
</p>

<p>
When any argument is zero, default characters are used, as shown
in <a href="#Table-A-1">Table A-1</a>.
</p>

<p>
Refer to <a href="#appendix_b">Appendix B</a> for more information about Alternative
Character Set (ACS) characters.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> prefix entry later in this appendix for
information on the <code>win</code> argument.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-1" name="Table-A-1">Table A-1</a> </dt><dd>ACS line drawing characters

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Argument</th>
<th scope="col" class="left">ACS default</th>
<th scope="col" class="left">Argument</th>
<th scope="col" class="left">ACS default</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>ls</code></td>
<td class="left"><code>ACS_VLINE</code></td>
<td class="left"><code>tl</code></td>
<td class="left"><code>ACS_ULCORNER</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>rs</code></td>
<td class="left"><code>ACS_VLINE</code></td>
<td class="left"><code>tr</code></td>
<td class="left"><code>ACS_URCORNER</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ts</code></td>
<td class="left"><code>ACS_HLINE</code></td>
<td class="left"><code>bl</code></td>
<td class="left"><code>ACS_LLCORNER</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>bs</code></td>
<td class="left"><code>ACS_HLINE</code></td>
<td class="left"><code>br</code></td>
<td class="left"><code>ACS_LRCORNER</code></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-13-3" class="outline-4">
<h4 id="sec-18-13-3">Return Value</h4>
<div class="outline-text-4" id="text-18-13-3">
<p>
<code>OK</code> is returned.
</p>
</div>
</div>

<div id="outline-container-sec-18-13-4" class="outline-4">
<h4 id="sec-18-13-4">Notes</h4>
<div class="outline-text-4" id="text-18-13-4">
<p>
Remember: You do not set the border's size or origin; the border
follows the outline of the <code>stdscr</code> or named window. So if you
want a border of a specific size, create a new window or subwindow
and place the border in there.
</p>

<p>
The border occupies the top and bottom <code>rows</code> and the far left and
right columns of the window.
</p>

<p>
The border is not protected and can easily be erased or replaced
by putting characters to the window at the border's position.
</p>

<p>
Text placed inside a window with a border must reside within the
border to avoid over-writing the border. For example, the first
line of text in such a window should be placed at position 1, 1,
not position 0, 0.
</p>

<p>
You can apply a border to the smallest window possible, which is
one character in size. In that case, the only part of the border
visible is the lower-right corner.
</p>

<p>
The smallest window where the full border is visible is a 3-by-3
character window. The borders four corners are used to box a
2-by-2 window, though no window content can be displayed without
erasing the border.
</p>
</div>
</div>

<div id="outline-container-sec-18-13-5" class="outline-4">
<h4 id="sec-18-13-5">Examples</h4>
<div class="outline-text-4" id="text-18-13-5">
<div class="org-src-container">

<pre class="src src-c">border(0,0,0,0, 0,0,0,0);
</pre>
</div>

<p>
This statement draws a border around the outside edge of the
standard screen. The ACS line drawing characters are used to
create the border.
</p>

<div class="org-src-container">

<pre class="src src-c">wborder(menu, <span style="color: #ffa07a;">'|'</span>, <span style="color: #ffa07a;">'|'</span>, <span style="color: #ffa07a;">'-'</span>, <span style="color: #ffa07a;">'-'</span>, <span style="color: #ffa07a;">'+'</span>, <span style="color: #ffa07a;">'+'</span>, <span style="color: #ffa07a;">'+'</span>, <span style="color: #ffa07a;">'+'</span>);
</pre>
</div>

<p>
This statement places a border around the window menu. The
characters used to draw the border are specified: <code>|</code> for the
vertical lines, <code>-</code> for the horizontal lines, and <code>+</code> for the four
corners.
</p>
</div>
</div>

<div id="outline-container-sec-18-13-6" class="outline-4">
<h4 id="sec-18-13-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-13-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">newman</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  start_color();
<span class="linenr"> 9: </span>  init_pair(1,COLOR_YELLOW,COLOR_RED);
<span class="linenr">10: </span>
<span class="linenr">11: </span>  newman = newwin(5,30,5,10);
<span class="linenr">12: </span>  <span style="color: #00ffff;">if</span>( newman == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">13: </span>    {
<span class="linenr">14: </span>      endwin();
<span class="linenr">15: </span>      puts(<span style="color: #ffa07a;">"Error creating window"</span>);
<span class="linenr">16: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">17: </span>    }
<span class="linenr">18: </span>
<span class="linenr">19: </span>  wbkgd(newman,COLOR_PAIR(1));
<span class="linenr">20: </span>  wborder(newman,0,0,0,0,0,0,0,0);
<span class="linenr">21: </span>  mvwaddstr(newman,1,1,<span style="color: #ffa07a;">"Ta-da!"</span>);
<span class="linenr">22: </span>  wrefresh(newman);
<span class="linenr">23: </span>  wgetch(newman);
<span class="linenr">24: </span>
<span class="linenr">25: </span>  endwin();
<span class="linenr">26: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">27: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-13-6-1" class="outline-5">
<h5 id="sec-18-13-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-13-6-1">
<pre class="example">
  The program creates a window on the screen 30 characters wide by 5 characters tall.
The window is colored red with yellow text. A border is drawn around the window, and
text inside the border says Ta-da!.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-13-7" class="outline-4">
<h4 id="sec-18-13-7">Also See</h4>
<div class="outline-text-4" id="text-18-13-7">
<p>
<a href="#chapter_14">Chapter 14</a>, <a href="#appendix_b">Appendix B</a>, <a href="#box"><code>box()</code></a>, <a href="#hline"><code>hline()</code></a>, <a href="#vline"><code>vline()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-14" class="outline-3">
<h3 id="sec-18-14"><code>box()</code>                                                            <a id="box" name="box"></a></h3>
<div class="outline-text-3" id="text-18-14">
<p>
The <code>box()</code> function draws a simple box around the outside edges of
a window. The function uses the ACS characters to draw the box,
though the characters used to draw the horizontal and vertical
lines can be specified inside the <code>box()</code> function.
</p>
</div>

<div id="outline-container-sec-18-14-1" class="outline-4">
<h4 id="sec-18-14-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-14-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">box</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">verch</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">horch</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-14-2" class="outline-4">
<h4 id="sec-18-14-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-14-2">
<p>
<code>win</code> refers to a specific window or <code>stdscr</code> for the standard
screen.
</p>

<p>
<code>verch</code> is a <code>chtype</code> character used to create the left and right
(vertical) lines of the box. The <code>chtype</code> combines both a
character and an attribute, though typically only a character
(constant or variable) is used. See <a href="#appendix_c">Appendix C</a> for more
information on <code>chtypes</code>.
</p>

<p>
<code>horch</code> is a <code>chtype</code> character used to create the top and bottom
(horizontal) lines of the box.
</p>

<p>
When zero is specified for either <code>verch</code> or <code>horch</code> the default
ACS character is used: <code>ACS_VLINE</code> for verch and <code>ACS_HLINE</code> for
<code>horch</code>. See <a href="#appendix_b">Appendix B</a> for more information on these characters.
</p>
</div>
</div>

<div id="outline-container-sec-18-14-3" class="outline-4">
<h4 id="sec-18-14-3">Return Value</h4>
<div class="outline-text-4" id="text-18-14-3">
<p>
<code>box()</code> always returns <code>int</code> 0 or <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-14-4" class="outline-4">
<h4 id="sec-18-14-4">Notes</h4>
<div class="outline-text-4" id="text-18-14-4">
<p>
The characters used to draw the corners of the box are shown in
<a href="#Table-A-2">Table A-2</a>.
</p>

<p>
The <code>box()</code> function is equivalent to the following <code>border()</code>
function:
</p>

<div class="org-src-container">

<pre class="src src-c">wborder(win,verch,verch,horch,horch,0,0,0,0)
</pre>
</div>

<p>
There is no <code>wbox()</code> function.
</p>

<p>
Also refer to the Notes for <a href="#border"><code>border()</code></a> as the same information
applies to both functions.
</p>
</div>
</div>

<div id="outline-container-sec-18-14-5" class="outline-4">
<h4 id="sec-18-14-5">Examples</h4>
<div class="outline-text-4" id="text-18-14-5">
<div class="org-src-container">

<pre class="src src-c">box(stdscr,0,0);
</pre>
</div>

<p>
This function draws a box around the standard screen window using
the default line drawing characters.
</p>

<div class="org-src-container">

<pre class="src src-c">box(table1, <span style="color: #ffa07a;">'*'</span>, <span style="color: #ffa07a;">'*'</span>);
</pre>
</div>

<p>
This function draws a box around the window <code>table1</code>, using
asterisks for both the horizontal and vertical lines.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-2" name="Table-A-2">Table A-2</a> </dt><dd>ACS line drawing characters used in <code>box()</code>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">POSITION</th>
<th scope="col" class="left">ACS CHARACTER</th>
<th scope="col" class="left">POSITION</th>
<th scope="col" class="left">ACS CHARACTER</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Top left</td>
<td class="left"><code>ACS_ULCORNER</code></td>
<td class="left">Bottom left</td>
<td class="left"><code>ACS_LLCORNER</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Top right</td>
<td class="left"><code>ACS_URCORNER</code></td>
<td class="left">Bottom right</td>
<td class="left"><code>ACS_LRCORNER</code></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-14-6" class="outline-4">
<h4 id="sec-18-14-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-14-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  box(stdscr,0,0);
<span class="linenr"> 8: </span>  mvaddstr(1,1,<span style="color: #ffa07a;">"Ta-da!"</span>);
<span class="linenr"> 9: </span>  refresh();
<span class="linenr">10: </span>  getch();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  endwin();
<span class="linenr">13: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">14: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-14-6-1" class="outline-5">
<h5 id="sec-18-14-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-14-6-1">
<p>
The program draws a box around the entire screen, placing the
words <i>Ta-da!</i> inside the box at row 1, column 1.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-14-7" class="outline-4">
<h4 id="sec-18-14-7">Also See</h4>
<div class="outline-text-4" id="text-18-14-7">
<p>
<a href="#chapter_14">Chapter 14</a>, <a href="#appendix_b">Appendix B</a>, <a href="#border"><code>border()</code></a>, <a href="#hline"><code>hline()</code></a>, <a href="#vline"><code>vline()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-15" class="outline-3">
<h3 id="sec-18-15"><code>can_change_color()</code>                                               <a id="can_change_color" name="can_change_color"></a></h3>
<div class="outline-text-3" id="text-18-15">
<p>
The <code>can_change_color()</code> function determines whether or not a
terminal can re-define its color set. If so, then the
<code>color_content()</code> function can be used to create new color values
for use with NCurses various text color attribute functions.
</p>
</div>

<div id="outline-container-sec-18-15-1" class="outline-4">
<h4 id="sec-18-15-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-15-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">bool</span> <span style="color: #87cefa;">can_change_color</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-15-2" class="outline-4">
<h4 id="sec-18-15-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-15-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-15-3" class="outline-4">
<h4 id="sec-18-15-3">Return Value</h4>
<div class="outline-text-4" id="text-18-15-3">
<p>
<code>can_change_color()</code> returns a Boolean value, <code>TRUE</code> or <code>FALSE</code>,
depending on whether the terminal can redefine its colors.
</p>
</div>
</div>

<div id="outline-container-sec-18-15-4" class="outline-4">
<h4 id="sec-18-15-4">Notes</h4>
<div class="outline-text-4" id="text-18-15-4">
<p>
Terminals where this command returns <code>TRUE</code> include the Linux
console, xterm-88color, xterm-256color, PuTTY, or anything with
"ccc" in the terminal description.
</p>
</div>
</div>

<div id="outline-container-sec-18-15-5" class="outline-4">
<h4 id="sec-18-15-5">Examples</h4>
<div class="outline-text-4" id="text-18-15-5">
<div class="org-src-container">

<pre class="src src-c">r = can_change_color();
</pre>
</div>

<p>
In this statement, the value of <code>r</code> equals <code>TRUE</code> if color values
can be changed on the terminal, <code>FALSE</code> otherwise.
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(can_change_color())
</pre>
</div>

<p>
This <code>if</code> condition evaluates true if the color values can be
changed.
</p>
</div>
</div>

<div id="outline-container-sec-18-15-6" class="outline-4">
<h4 id="sec-18-15-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-15-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">tf</span>;
<span class="linenr"> 6: </span>  initscr();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  tf = can_change_color();
<span class="linenr"> 9: </span>  <span style="color: #00ffff;">if</span>( tf == TRUE)
<span class="linenr">10: </span>    addstr(<span style="color: #ffa07a;">"This terminal can change the standard colors.\n"</span>);
<span class="linenr">11: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">12: </span>    addstr(<span style="color: #ffa07a;">"This terminal cannot change the colors.\n"</span>);
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  endwin();
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-15-6-1" class="outline-5">
<h5 id="sec-18-15-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-15-6-1">
<pre class="example">
This terminal can change the standard colors.
</pre>

<p>
Or:
</p>

<pre class="example">
This terminal cannot change the colors.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-15-7" class="outline-4">
<h4 id="sec-18-15-7">Also See</h4>
<div class="outline-text-4" id="text-18-15-7">
<p>
<a href="#start_color"><code>start_color()</code></a>, <a href="#color_content"><code>color_content()</code></a>, <a href="#TRUE"><code>TRUE</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-16" class="outline-3">
<h3 id="sec-18-16"><code>cbreak()</code>                                                         <a id="cbreak" name="cbreak"></a></h3>
<div class="outline-text-3" id="text-18-16">
<p>
The <code>cbreak()</code> function modifies input, activating what's called
<i>cbreak mode</i>. This increases the number of characters available to
your program, as well as speeds up input somewhat.
</p>
</div>

<div id="outline-container-sec-18-16-1" class="outline-4">
<h4 id="sec-18-16-1">Explanation</h4>
<div class="outline-text-4" id="text-18-16-1">
<p>
NCurses reads keyboard input through the terminal. This is known
as <i>cooked</i> input mode as text input is buffered by the terminal
and certain characters typed at the keyboard are intercepted and
used for certain things. This all happens before the text is
passed through to your NCurses program.
</p>

<p>
<i>Buffering</i> refers to how text is read. The terminal uses line
buffering, which stores a line of text and sends it to NCurses
after <code>\n</code> is encountered.
</p>

<p>
The special characters include, for example, the Killchar key used
at the command prompt to erase a line of text or the Erasechar key
used to delete text.
</p>

<p>
The cbreak mode disables the line buffering and the trapping of
keys such as Killchar and Erasechar.
</p>
</div>
</div>

<div id="outline-container-sec-18-16-2" class="outline-4">
<h4 id="sec-18-16-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-16-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">cbreak</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">nocbreak</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-16-3" class="outline-4">
<h4 id="sec-18-16-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-16-3">
<p>
The <code>cbreak()</code> command activates cbreak mode.
</p>

<p>
The <code>nocbreak()</code> command restores cooked input mode (normal).
</p>
</div>
</div>

<div id="outline-container-sec-18-16-4" class="outline-4">
<h4 id="sec-18-16-4">Return Value</h4>
<div class="outline-text-4" id="text-18-16-4">
<p>
<code>OK</code> upon success, <code>ERR</code> upon failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-16-5" class="outline-4">
<h4 id="sec-18-16-5">Notes</h4>
<div class="outline-text-4" id="text-18-16-5">
<p>
The settings that <code>cbreak()</code> and <code>nocbreak()</code> affect are
<i>inherited</i>. That is, the settings may be on or off when your
program starts. The only way to ensure that your program uses
<code>cbreak()</code> mode input is to issue the <code>cbreak()</code> function in your
code. Ditto for <code>nocbreak()</code>.
</p>

<p>
The <code>cbreak()</code> setting overrides <code>raw()</code>. Even so, try to use
either <code>cbreak()</code> or <code>raw()</code> functions, not both at the same
time. See <a href="#raw"><code>raw()</code></a>.
</p>

<p>
The <code>nocbreak()</code> function also disables (or undoes) any delay set
by the <code>halfdelay()</code> function. See <a href="#halfdelay"><code>halfdelay()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-16-6" class="outline-4">
<h4 id="sec-18-16-6">Examples</h4>
<div class="outline-text-4" id="text-18-16-6">
<div class="org-src-container">

<pre class="src src-c">cbreak()
</pre>
</div>

<p>
Here, cbreak mode is set for the program.
</p>

<div class="org-src-container">

<pre class="src src-c">nocbreak()
</pre>
</div>

<p>
Here, the cbreak mode is cancelled.
</p>
</div>
</div>

<div id="outline-container-sec-18-16-7" class="outline-4">
<h4 id="sec-18-16-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-16-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 6: </span>  initscr();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  cbreak();
<span class="linenr"> 9: </span>  mvaddstr(0,0,<span style="color: #ffa07a;">"Type away, cbreak mode is on:"</span>);
<span class="linenr">10: </span>  <span style="color: #00ffff;">while</span>( getch() != <span style="color: #ffa07a;">'\n'</span>)
<span class="linenr">11: </span>    ;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  nocbreak();
<span class="linenr">14: </span>  mvaddstr(3,0,<span style="color: #ffa07a;">"Type away, cbreak mode is off:"</span>);
<span class="linenr">15: </span>  <span style="color: #00ffff;">while</span>( getch() != <span style="color: #ffa07a;">'\n'</span>)
<span class="linenr">16: </span>    ;
<span class="linenr">17: </span>
<span class="linenr">18: </span>  endwin();
<span class="linenr">19: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">20: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-16-7-1" class="outline-5">
<h5 id="sec-18-16-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-16-7-1">
<pre class="example">
Type away, cbreak mode is on:
</pre>

<p>
You can't really determine the change in the line buffering, but
try typing the kill/erase character. On my terminal, Ctrl-U is
the Killchar key and typing it with cbreak mode on merely
displays ^U on the screen. Similarly, pressing Delete displays
^?.
</p>

<pre class="example">
Type away, cbreak mode is off:
</pre>

<p>
Try typing <code>Killchar</code> or <code>Delete</code> and the results are the same as
if you typed them at the command prompt.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-16-8" class="outline-4">
<h4 id="sec-18-16-8">Also See</h4>
<div class="outline-text-4" id="text-18-16-8">
<p>
<a href="#raw"><code>raw()</code></a>, <a href="#halfdelay"><code>halfdelay()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-17" class="outline-3">
<h3 id="sec-18-17"><code>chgat()</code>                                                          <a id="chgat" name="chgat"></a></h3>
<div class="outline-text-3" id="text-18-17">
<p>
The <code>chgat()</code> function changes text attributes on the screen. New
attributes specified replace any existing attributes without
overwriting text. In fact, the advantage of using <code>chgat()</code> is that
it lets you change text attributes without having to rewrite that
bit of text.
</p>
</div>

<div id="outline-container-sec-18-17-1" class="outline-4">
<h4 id="sec-18-17-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-17-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">chgat</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>, <span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">attr</span>, <span style="color: #98fb98;">short</span> <span style="color: #eedd82;">color</span>,
          <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">opts</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wchgat</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>, <span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">attr</span>,<span style="color: #98fb98;">short</span> <span style="color: #eedd82;">color</span>,
           <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">opts</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">mvchgat</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>, <span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">attr</span>,<span style="color: #98fb98;">short</span> <span style="color: #eedd82;">color</span>,
            <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">opts</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">mvwchgat</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>,<span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">attr</span>, <span style="color: #98fb98;">short</span> <span style="color: #eedd82;">color</span>,
             <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">void</span> *<span style="color: #eedd82;">opts</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-17-2" class="outline-4">
<h4 id="sec-18-17-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-17-2">
<p>
<code>n</code> is the number of characters <code>chgat()</code> affects. When <code>n</code> is -1,
then all characters from the cursor's current position to the end
of the line are affected. When 0 is specified, no text is
changed. Otherwise, the new attributes are applied to n number of
characters from the cursor's current position and to the
right. When <code>n</code> is greater than the window width, the window width
is assumed.
</p>

<p>
<code>attr</code> is an NCurses <code>attr_t</code> type (<code>long int</code>) value representing
text attributes to be applied. Refer to <a href="#attrset"><code>attrset()</code></a> for a list of
<code>attr_t</code> constants as defined in <code>ncurses.h</code>.
</p>

<p>
<code>color</code> is <code>short int</code> representing the number of a <code>COLOR_PAIR</code>
defined by the <code>init_pair</code> function. Note that <code>color</code> is the pair
number itself, not the <code>COLOR_PAIR(n)</code> thing.
</p>

<p>
<code>NULL</code> is required for the <code>opts</code> argument, which is currently not
defined in NCurses.
</p>

<p>
Refer to the <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and <a href="#w_prefix"><code>w</code></a> prefix entries elsewhere in this
appendix for information on the <code>win</code>, <code>row</code>, and <code>col</code> arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-17-3" class="outline-4">
<h4 id="sec-18-17-3">Return Value</h4>
<div class="outline-text-4" id="text-18-17-3">
<p>
The return value is stated as "not important" according to the
documentation.
</p>
</div>
</div>

<div id="outline-container-sec-18-17-4" class="outline-4">
<h4 id="sec-18-17-4">Notes</h4>
<div class="outline-text-4" id="text-18-17-4">
<p>
<code>chgat()</code> affects text attributes from the current cursor's
position <i>right</i>.
</p>

<p>
The most common mistake you'll make is specifying <code>COLOR_PAIR(1)</code>,
for example, for the <code>color</code> argument. Instead you should just
specify the pair number, 1.
</p>

<p>
A simple <code>refresh()</code> will not update the new attributes put to the
screen.  Therefore a <code>touchline()</code> function applied to the same
line, or a <code>touchwin()</code> function for the entire window, is
necessary to see the effects of <code>chgat()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-17-5" class="outline-4">
<h4 id="sec-18-17-5">Examples</h4>
<div class="outline-text-4" id="text-18-17-5">
<div class="org-src-container">

<pre class="src src-c">chgat(-1,A_BOLD,0,<span style="color: #7fffd4;">NULL</span>);
</pre>
</div>

<p>
This statement applies the bold text attribute to all text from
the cursor's current position to the end of the line. Color isn't
changed.
</p>

<div class="org-src-container">

<pre class="src src-c">mvchgat(4,28,5,0,3,<span style="color: #7fffd4;">NULL</span>);
</pre>
</div>

<p>
Here, the <code>mvchgat()</code> function moves the cursor to row 4, column
28 on the screen. The color attributes for the five characters at
that location (and to the right) are changed to
<code>COLOR_PAIR(3)</code>. (It's assumed that color has been started and
<code>COLOR_PAIR(3)</code> defined elsewhere in the code.)
</p>

<div class="org-src-container">

<pre class="src src-c">wchgat(popup,20,A_UNDERLINE,1,<span style="color: #7fffd4;">NULL</span>);
</pre>
</div>

<p>
The statement here changes attributes for 20 characters starting
at the cursor's current position in window popup. Both the
underline text attribute and <code>COLOR_PAIR(1)</code> are applied to the 20
characters.
</p>
</div>
</div>

<div id="outline-container-sec-18-17-6" class="outline-4">
<h4 id="sec-18-17-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-17-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  start_color();
<span class="linenr"> 7: </span>  init_pair(1,COLOR_RED,COLOR_WHITE);
<span class="linenr"> 8: </span>  init_pair(2,COLOR_WHITE,COLOR_BLUE);
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"This is the incredibly boring first line\n"</span>);
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"This is the incredibly boring second line\n"</span>);
<span class="linenr">12: </span>  addstr(<span style="color: #ffa07a;">"This is the incredibly boring third line\n"</span>);
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"This is the incredibly boring fourth line\n"</span>);
<span class="linenr">14: </span>  refresh();
<span class="linenr">15: </span>  getch();
<span class="linenr">16: </span>
<span class="linenr">17: </span>  mvchgat(0,0,4,0,1,<span style="color: #7fffd4;">NULL</span>);
<span class="linenr">18: </span>  mvchgat(1,12,10,0,2,<span style="color: #7fffd4;">NULL</span>);
<span class="linenr">19: </span>  mvchgat(2,23,6,A_UNDERLINE,0,<span style="color: #7fffd4;">NULL</span>);
<span class="linenr">20: </span>  mvchgat(3,30,6,A_BOLD,0,<span style="color: #7fffd4;">NULL</span>);
<span class="linenr">21: </span>  touchwin(stdscr);
<span class="linenr">22: </span>  refresh();
<span class="linenr">23: </span>  getch();
<span class="linenr">24: </span>
<span class="linenr">25: </span>  endwin();
<span class="linenr">26: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">27: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-17-6-1" class="outline-5">
<h5 id="sec-18-17-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-17-6-1">
<pre class="example">
This is the incredibly boring first line
This is the incredibly boring second line
This is the incredibly boring third line
This is the incredibly boring fourth line
</pre>

<p>
Press Enter and new attributes are applied to the text: In the
first line, the word This appears with red text on a white
background; the second line shows the word <code>incredibly</code> with
white text on a blue background; in the third row, the word
<code>boring</code> is underlined; in the last row, the word <code>fourth</code>
appears in bold text.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-17-7" class="outline-4">
<h4 id="sec-18-17-7">Also See</h4>
<div class="outline-text-4" id="text-18-17-7">
<p>
<a href="#attrset"><code>attrset()</code></a>, <a href="#attron"><code>attron()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-18" class="outline-3">
<h3 id="sec-18-18"><code>clear()</code>                                                          <a id="clear" name="clear"></a></h3>
<div class="outline-text-3" id="text-18-18">
<p>
The <code>clear()</code> function clears the screen or named window, writing
blanks, or space characters, to every screen position.
Additionally, the <code>clear()</code> function calls <code>clearok()</code>, to ensure
that the screen is erased and completely rewritten with the next
call to a <code>refresh()</code> function. (See <a href="#clearok"><code>clearok()</code></a>.)
</p>
</div>

<div id="outline-container-sec-18-18-1" class="outline-4">
<h4 id="sec-18-18-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-18-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">clear</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wclear</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-18-2" class="outline-4">
<h4 id="sec-18-18-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-18-2">
<p>
The <code>clear()</code> function takes no arguments. It's a pseudo function
that affects only the standard screen.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> prefix entry later in this appendix for
information on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-18-3" class="outline-4">
<h4 id="sec-18-18-3">Return Value</h4>
<div class="outline-text-4" id="text-18-18-3">
<p>
Always returns <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-18-4" class="outline-4">
<h4 id="sec-18-18-4">Notes</h4>
<div class="outline-text-4" id="text-18-18-4">
<p>
<code>clear()</code> is the same as wclear(stdscr).
</p>

<p>
Clearing the screen also homes the cursor; after the <code>clear()</code>
function, the cursor is placed at location 0, 0.
</p>

<p>
The <code>clear()</code> function removes only characters and their
attributes. It does not affect the background attributes. If a
background character is set via <code>bkgd()</code> or <code>bkgdset()</code>,that
character will show up in the blanks <code>clear()</code> fills the screen
with.
</p>

<p>
The <code>clear()</code> function is the same as the <code>erase()</code> function,
though <code>erase()</code> does not also call <code>clearok()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-18-5" class="outline-4">
<h4 id="sec-18-18-5">Examples</h4>
<div class="outline-text-4" id="text-18-18-5">
<div class="org-src-container">

<pre class="src src-c">clear();
</pre>
</div>

<p>
The statement clears the standard screen, erasing all the text.
</p>

<div class="org-src-container">

<pre class="src src-c">wclear(sidebar);
</pre>
</div>

<p>
The statement erases the contents of the window <code>sidebar</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-18-6" class="outline-4">
<h4 id="sec-18-18-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-18-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>,<span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">cmax</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">10: </span>  cmax = (x * y) / 5;
<span class="linenr">11: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;cmax;c++) addstr(<span style="color: #ffa07a;">"blah "</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  clear();            <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">clear the screen   </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>  refresh();          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">don't forget this! </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>  getch();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  endwin();
<span class="linenr">20: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">21: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-18-6-1" class="outline-5">
<h5 id="sec-18-18-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-18-6-1">
<p>
The screen is filled with the text <code>blah blah blah</code>. Pressing the
Enter key erases the screen.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-18-7" class="outline-4">
<h4 id="sec-18-18-7">Also See</h4>
<div class="outline-text-4" id="text-18-18-7">
<p>
<a href="#chapter_6">Chapter 6</a>, <a href="#erase"><code>erase()</code></a>, <a href="#clearok"><code>clearok()</code></a>, <a href="#refresh"><code>refresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-19" class="outline-3">
<h3 id="sec-18-19"><code>clearok()</code>                                                        <a id="clearok" name="clearok"></a></h3>
<div class="outline-text-3" id="text-18-19">
<p>
The <code>clearok()</code> function modifies window behavior in NCurses. When
switched on, <code>clearok()</code> forces the next call to <code>refresh()</code> to
entirely erase the window and redraw it from scratch.
</p>
</div>

<div id="outline-container-sec-18-19-1" class="outline-4">
<h4 id="sec-18-19-1">Explanation</h4>
<div class="outline-text-4" id="text-18-19-1">
<p>
Normally, the <code>refresh()</code> function merely updates those parts of
the window that have been changed. But by switching on
<code>clearok()</code>, a complete erasure and rewrite of the window is
possible.
</p>
</div>
</div>

<div id="outline-container-sec-18-19-2" class="outline-4">
<h4 id="sec-18-19-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-19-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">clearok</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">bf</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-19-3" class="outline-4">
<h4 id="sec-18-19-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-19-3">
<p>
<code>win</code> is the name of the window to erase and redraw. <code>stdscr</code> can
be used for <code>win</code> to update the standard screen.
</p>

<p>
<code>bf</code> is a Boolean value, either <code>TRUE</code> or <code>FALSE</code>. <code>TRUE</code> is used
to activate erasing/redrawing for the named window; <code>FALSE</code> turns
it off.
</p>
</div>
</div>

<div id="outline-container-sec-18-19-4" class="outline-4">
<h4 id="sec-18-19-4">Return Value</h4>
<div class="outline-text-4" id="text-18-19-4">
<p>
The function always returns <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-19-5" class="outline-4">
<h4 id="sec-18-19-5">Notes</h4>
<div class="outline-text-4" id="text-18-19-5">
<p>
The screen isn't actually erased and redrawn until a <code>refresh()</code>
or <code>wrefresh()</code> function is used.
</p>

<p>
When the current screen, <code>curscr</code>, is used as the <code>win</code> argument,
NCurses erases and redraws the entire screen from scratch at the
next <code>refresh()</code>.
</p>

<p>
Apparently erasing and redrawing the entire screen is visually
distracting, but this must only be so with slower terminal
speeds. (Refer to <a href="#baudrate"><code>baudrate()</code></a>.)
</p>
</div>
</div>

<div id="outline-container-sec-18-19-6" class="outline-4">
<h4 id="sec-18-19-6">Examples</h4>
<div class="outline-text-4" id="text-18-19-6">
<div class="org-src-container">

<pre class="src src-c">clearok(stdscr,TRUE);
</pre>
</div>

<p>
The statement causes the next call to <code>refresh()</code> to erase and
redraw the standard screen, ensuring that what's shown in the
screen matches memory.
</p>

<div class="org-src-container">

<pre class="src src-c">clearok(menu,FALSE);
</pre>
</div>

<p>
Here, <code>clearok()</code> updating is disabled for the window <code>menu</code>. Any
subsequent calls to <code>refresh()</code> update only changed parts of the
screen.
</p>

<div class="org-src-container">

<pre class="src src-c">clearok(curscr,TRUE);
</pre>
</div>

<p>
After executing this statement, the next call to <code>wrefresh()</code>
forces the standard screen to be cleared and then redrawn from
scratch.
</p>
</div>
</div>

<div id="outline-container-sec-18-19-7" class="outline-4">
<h4 id="sec-18-19-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-19-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;350;x++)         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">fills screen with junk </span><span style="color: #ff4500;">*/</span>
<span class="linenr">10: </span>    printw(<span style="color: #ffa07a;">"-0- "</span>);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  getch();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  mvaddstr(5,20,<span style="color: #ffa07a;">"Holy updates, Batman!"</span>);
<span class="linenr">15: </span>  clearok(stdscr,TRUE);
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>  getch();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  endwin();
<span class="linenr">20: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">21: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-19-7-1" class="outline-5">
<h5 id="sec-18-19-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-19-7-1">
<p>
The screen is partially filled with a pattern. Press Enter and a
new string of text is written to the screen, the screen is then
erased and redrawn. (This can happen so fast that the visual
effect isn't noticed.)
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-19-8" class="outline-4">
<h4 id="sec-18-19-8">Also See</h4>
<div class="outline-text-4" id="text-18-19-8">
<p>
<a href="#clear"><code>clear()</code></a>, <a href="#TRUE"><code>TRUE</code></a>, <a href="#refresh"><code>refresh()</code></a>, <a href="#touchwin"><code>touchwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-20" class="outline-3">
<h3 id="sec-18-20"><code>clrtobot()</code>                                                       <a id="clrtobot" name="clrtobot"></a></h3>
<div class="outline-text-3" id="text-18-20">
<p>
The <code>clrtobot()</code> function clears the screen from the cursor's
current position to the end of the line (right) and to the bottom
of the screen.
</p>
</div>

<div id="outline-container-sec-18-20-1" class="outline-4">
<h4 id="sec-18-20-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-20-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">clrtobot</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wclrtobot</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-20-2" class="outline-4">
<h4 id="sec-18-20-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-20-2">
<p>
The <code>clrtobot()</code> function has no arguments.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> prefix entry later in this appendix for
information on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-20-3" class="outline-4">
<h4 id="sec-18-20-3">Return Value</h4>
<div class="outline-text-4" id="text-18-20-3">
<p>
The function returns <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-20-4" class="outline-4">
<h4 id="sec-18-20-4">Notes</h4>
<div class="outline-text-4" id="text-18-20-4">
<p>
The function does not move the cursor.
</p>

<p>
Any text attributes are erased by this function.
</p>

<p>
Remember that the text doesn't visually go away until you
<code>refresh()</code> the window.
</p>
</div>
</div>

<div id="outline-container-sec-18-20-5" class="outline-4">
<h4 id="sec-18-20-5">Example</h4>
<div class="outline-text-4" id="text-18-20-5">
<div class="org-src-container">

<pre class="src src-c">clrtobot();
</pre>
</div>

<p>
After this statement, text is cleared from the cursor's position
to the right, all the way to the end of the line, and then all
rows below to the bottom of the window.
</p>
</div>
</div>

<div id="outline-container-sec-18-20-6" class="outline-4">
<h4 id="sec-18-20-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-20-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>,<span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">cmax</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">10: </span>  cmax = (x * y) / 5;
<span class="linenr">11: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;cmax;c++) addstr(<span style="color: #ffa07a;">"blah "</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  move(5,20);          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Setup the cursor       </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>  clrtobot();          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Clear to end of screen </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>  refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  endwin();
<span class="linenr">21: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">22: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-20-6-1" class="outline-5">
<h5 id="sec-18-20-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-20-6-1">
<p>
The screen is filled with the text <code>blah blah blah</code>. Pressing the
Enter key clears the screen from cursor location 5,20 to the end
of the screen.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-20-7" class="outline-4">
<h4 id="sec-18-20-7">Also See</h4>
<div class="outline-text-4" id="text-18-20-7">
<p>
<a href="#chapter_6">Chapter 6</a>, <a href="#clear"><code>clear()</code></a>, <a href="#clrtoeol"><code>clrtoeol()</code></a>, <a href="#refresh"><code>refresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-21" class="outline-3">
<h3 id="sec-18-21"><code>clrtoeol()</code>                                                       <a id="clrtoeol" name="clrtoeol"></a></h3>
<div class="outline-text-3" id="text-18-21">
<p>
The <code>clrtoeol()</code> function clears text from the cursor's current
position to the end of the line.
</p>
</div>

<div id="outline-container-sec-18-21-1" class="outline-4">
<h4 id="sec-18-21-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-21-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">clrtoeol</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wclrtoeol</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-21-2" class="outline-4">
<h4 id="sec-18-21-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-21-2">
<p>
The <code>clrtoeol()</code> function has no arguments.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> prefix entry later in this appendix for
information on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-21-3" class="outline-4">
<h4 id="sec-18-21-3">Return Value</h4>
<div class="outline-text-4" id="text-18-21-3">
<p>
The function returns <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-21-4" class="outline-4">
<h4 id="sec-18-21-4">Notes</h4>
<div class="outline-text-4" id="text-18-21-4">
<p>
Refer to the Notes for <a href="#clrtobot"><code>clrtobot()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-21-5" class="outline-4">
<h4 id="sec-18-21-5">Example</h4>
<div class="outline-text-4" id="text-18-21-5">
<div class="org-src-container">

<pre class="src src-c">wclrtoeol(inputwin);
</pre>
</div>

<p>
After this statement, text is cleared from the cursor's position
to the right, all the way to the end of the line, in the window
<code>inputwin</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-21-6" class="outline-4">
<h4 id="sec-18-21-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-21-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>,<span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">cmax</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">10: </span>  cmax = (x * y) / 5;
<span class="linenr">11: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;cmax;c++) addstr(<span style="color: #ffa07a;">"blah "</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  move(5,20);           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Setup the cursor     </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>  clrtoeol();           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Clear to end of line </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>  refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  endwin();
<span class="linenr">21: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">22: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-21-6-1" class="outline-5">
<h5 id="sec-18-21-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-21-6-1">
<p>
The screen is filled with the text <code>blah blah blah</code>. Pressing the
Enter key clears the screen from cursor location 5,20 to the end
of the line.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-21-7" class="outline-4">
<h4 id="sec-18-21-7">Also See</h4>
<div class="outline-text-4" id="text-18-21-7">
<p>
<a href="#chapter_6">Chapter 6</a>, <a href="#clear"><code>clear()</code></a>, <a href="#clrtobot"><code>clrtobot()</code></a>, <a href="#refresh"><code>refresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-22" class="outline-3">
<h3 id="sec-18-22"><code>color_content()</code>                                                  <a id="color_content" name="color_content"></a></h3>
<div class="outline-text-3" id="text-18-22">
<p>
The <code>color_content()</code> function reads the individual red, green, and
blue intensity values for each one of NCurses color values.
</p>
</div>

<div id="outline-container-sec-18-22-1" class="outline-4">
<h4 id="sec-18-22-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-22-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">color_content</span>(<span style="color: #98fb98;">short</span> <span style="color: #eedd82;">color</span>, <span style="color: #98fb98;">short</span> *<span style="color: #eedd82;">r</span>, <span style="color: #98fb98;">short</span> *<span style="color: #eedd82;">g</span>, <span style="color: #98fb98;">short</span> *<span style="color: #eedd82;">b</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-22-2" class="outline-4">
<h4 id="sec-18-22-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-22-2">
<p>
<code>c</code> is a <code>short int</code> representing a color number. Values for <code>c</code>
range from 0 through the value of <code>COLOR</code>. (See <i><code>COLOR</code></i>.)
</p>

<p>
<code>r</code>, <code>g</code>, and <code>b</code> are the addresses of <code>short int</code> variables that
will store the red, green, and blue intensity values,
respectively. Note that these arguments are pointers, either
pointer variables or the address of <code>short int</code> variables. Refer
to the Examples section.
</p>
</div>
</div>

<div id="outline-container-sec-18-22-3" class="outline-4">
<h4 id="sec-18-22-3">Return Value</h4>
<div class="outline-text-4" id="text-18-22-3">
<p>
The function returns <code>OK</code> on success, <code>ERR</code> otherwise.
</p>
</div>
</div>

<div id="outline-container-sec-18-22-4" class="outline-4">
<h4 id="sec-18-22-4">Notes</h4>
<div class="outline-text-4" id="text-18-22-4">
<p>
This function is useless unless the <code>start_color()</code> function has
first been issued to set up NCurses for using color.
</p>

<p>
Values for the color intensity can range from 0 up to 1000.
</p>

<p>
This function works on any NCurses colors, whether they are the
default NCurses colors or custom colors you created yourself by
using the <code>init_color()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-22-5" class="outline-4">
<h4 id="sec-18-22-5">Examples</h4>
<div class="outline-text-4" id="text-18-22-5">
<div class="org-src-container">

<pre class="src src-c">color_content(3,rd,gr,bl);
</pre>
</div>

<p>
Here, the statement reads intensity values for color 3 and stores
them at the addresses indicated by pointer variables <code>rd</code>, <code>gr</code>,
and <code>bl</code>. (It is assumed that
</p>

<p>
these pointer variables are initialized and actually point to the
address of some <code>short ints</code>.)
</p>

<div class="org-src-container">

<pre class="src src-c">color_content(6,&amp;red,&amp;green,&amp;blue);
</pre>
</div>

<p>
Here, the intensity values are stored in <code>short int</code> variables
<code>red</code>, <code>green</code>, and <code>blue</code>. Note that they are simply <code>short int</code>
variables; the <code>&amp;</code> is used to get the address of those variables,
which is what the <code>color_content()</code> function craves for those
arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-22-6" class="outline-4">
<h4 id="sec-18-22-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-22-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">short</span> <span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">r</span>,<span style="color: #eedd82;">b</span>,<span style="color: #eedd82;">g</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  start_color();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;COLORS;x++)
<span class="linenr">11: </span>    {
<span class="linenr">12: </span>      color_content(x,&amp;r,&amp;g,&amp;b);
<span class="linenr">13: </span>      printw(<span style="color: #ffa07a;">"Color %d = Red: %4d\tGreen: %4d\tBlue: %4d\n"</span>,
<span class="linenr">14: </span>             x,r,g,b);
<span class="linenr">15: </span>    }
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>  getch();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  endwin();
<span class="linenr">20: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">21: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-22-6-1" class="outline-5">
<h5 id="sec-18-22-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-22-6-1">
<pre class="example">
Color 0 = Red:    0     Green:    0   Blue:    0
Color 1 = Red:  680     Green:    0   Blue:    0
Color 2 = Red:    0     Green:  680   Blue:    0
Color 3 = Red:  680     Green:  680   Blue:    0
Color 4 = Red:    0     Green:    0   Blue:  680
Color 5 = Red:  680     Green:    0   Blue:  680
Color 6 = Red:    0     Green:  680   Blue:  680
Color 7 = Red:  680     Green:  680   Blue:  680
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-22-7" class="outline-4">
<h4 id="sec-18-22-7">Also See</h4>
<div class="outline-text-4" id="text-18-22-7">
<p>
<a href="#start_color"><code>start_color()</code></a>, <i><code>COLORS</code></i>, <a href="#init_color"><code>init_color()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-23" class="outline-3">
<h3 id="sec-18-23"><code>color_set()</code>                                                      <a id="color_set" name="color_set"></a></h3>
<div class="outline-text-3" id="text-18-23">
<p>
The <code>color_set()</code> function sets the foreground and background text
color attributes to a specific color pair.
</p>
</div>

<div id="outline-container-sec-18-23-1" class="outline-4">
<h4 id="sec-18-23-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-23-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">color_set</span>(<span style="color: #98fb98;">short</span> <span style="color: #eedd82;">color_pair_number</span>, <span style="color: #98fb98;">void</span>* <span style="color: #eedd82;">opts</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-23-2" class="outline-4">
<h4 id="sec-18-23-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-23-2">
<p>
<code>color_pair_number</code> is a <code>short int</code> representing a color pair
number, a foreground/background text color combination as
previously defined by an <code>init_pair()</code> function.
</p>

<p>
The <code>opts</code> value is currently set to <code>NULL</code>. It's reserved for use
in a future version of NCurses.
</p>
</div>
</div>

<div id="outline-container-sec-18-23-3" class="outline-4">
<h4 id="sec-18-23-3">Return Value</h4>
<div class="outline-text-4" id="text-18-23-3">
<p>
<code>color_set()</code> returns an <code>int</code> value when the color pair argument
is outside the range 0 to <code>COLOR_PAIRS-1</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-23-4" class="outline-4">
<h4 id="sec-18-23-4">Notes</h4>
<div class="outline-text-4" id="text-18-23-4">
<p>
The <code>color_set()</code> function affects only text put to the window. To
color the entire window, use the <code>bkgd()</code> function.
</p>

<p>
Argument <code>p</code> is a number representing the value <code>n</code> from a
<code>COLOR_PAIR(n)</code> number. It is not the constant <code>COLOR_PAIR(n)</code>
itself.
</p>

<p>
<code>color_set(2,NULL)</code> is equivalent to <code>attrset(COLOR_PAIR(2))</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-23-5" class="outline-4">
<h4 id="sec-18-23-5">Example</h4>
<div class="outline-text-4" id="text-18-23-5">
<div class="org-src-container">

<pre class="src src-c">color_set(2,<span style="color: #7fffd4;">NULL</span>);
</pre>
</div>

<p>
This statement causes any text displayed afterward to use the
foreground and background color combination defined in the color
pair 2.
</p>
</div>
</div>

<div id="outline-container-sec-18-23-6" class="outline-4">
<h4 id="sec-18-23-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-23-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  start_color();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  init_pair(1,COLOR_RED,COLOR_YELLOW);
<span class="linenr"> 9: </span>  color_set(1,<span style="color: #7fffd4;">NULL</span>);
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"The color of this window is now\n"</span>);
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"Red on Yellow.\n"</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  endwin();
<span class="linenr">16: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">17: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-23-6-1" class="outline-5">
<h5 id="sec-18-23-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-23-6-1">
<pre class="example">
The color of this window is no
Red on Yellow
</pre>

<p>
The text above appears in red on a yellow background.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-23-7" class="outline-4">
<h4 id="sec-18-23-7">Also See</h4>
<div class="outline-text-4" id="text-18-23-7">
<p>
<a href="#init_pair"><code>init_pair()</code></a>, <a href="#attrset"><code>attrset()</code></a>, <a href="#bkgd"><code>bkgd()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-24" class="outline-3">
<h3 id="sec-18-24"><code>COLORS</code>                                                           <a id="COLORS" name="COLORS"></a></h3>
<div class="outline-text-3" id="text-18-24">
<p>
<code>COLORS</code> is an int constant set internally by NCurses. It
represents the number of colors available for use by the various
color functions.
</p>

<p>
The value <code>COLORS</code> holds is correct only after the <code>start_color()</code>
function has initialized NCurses color functions.
</p>
</div>

<div id="outline-container-sec-18-24-1" class="outline-4">
<h4 id="sec-18-24-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-24-1">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-24-2" class="outline-4">
<h4 id="sec-18-24-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-24-2">
<p>
<code>COLORS</code> works like any constant value in C. It can be used as an
immediate value, a comparison, or in combination with other
values.
</p>
</div>
</div>

<div id="outline-container-sec-18-24-3" class="outline-4">
<h4 id="sec-18-24-3">Return Value</h4>
<div class="outline-text-4" id="text-18-24-3">
<p>
The value of <code>COLORS</code> depends on the number of colors available to
the terminal. If the <code>start_color()</code> function has not yet been
used, then <code>COLORS</code> equals zero.
</p>
</div>
</div>

<div id="outline-container-sec-18-24-4" class="outline-4">
<h4 id="sec-18-24-4">Notes</h4>
<div class="outline-text-4" id="text-18-24-4">
<p>
Because the first color number is zero, the highest valid color
value is really <code>COLORS-1</code>.
</p>

<p>
The typical PC uses eight basic colors â black, red, green, brown,
blue, magenta, cyan, and white â so the value of <code>COLORS</code> is set
to 8. Also see the entry for <code>init_pair()</code>.
</p>

<p>
For some reason, NCurses refers to the PC color "brown" as being
yellow.  It's brown.
</p>

<p>
Though only 8 colors are available, 16 text colors are possible on
the PC. By applying the A<sub>BOLD</sub> attribute to color text, the
"bright" version of each text color can be used. (So "bright
brown" is finally the "yellow" NCurses desires to see.) See
<a href="#attrset"><code>attrset()</code></a>. (Note that the <code>A_BOLD</code> attribute actually uses a
specific bold font on certain terminals, not just brightly colored
text.)
</p>

<p>
The basic eight colors are based upon setting bits for the RGB
(red, green, and blue) values on the standard PC monitor, where R
is the first bit, G is the second, and B the third. <a href="#Table-A-3">Table A-3</a>
illustrates the colors, constants, and bit values.
</p>
</div>
</div>

<div id="outline-container-sec-18-24-5" class="outline-4">
<h4 id="sec-18-24-5">Examples</h4>
<div class="outline-text-4" id="text-18-24-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(COLORS)
</pre>
</div>

<p>
Here, when the value of <code>COLORS</code> is greater than zero, the if test
passes.
</p>

<div class="org-src-container">

<pre class="src src-c">printw(<span style="color: #ffa07a;">"This terminal can use %d colors.\n"</span>,COLORS);
</pre>
</div>

<p>
This statement displays the number of colors available for the
terminal.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-3" name="Table-A-3">Table A-3</a> </dt><dd>NCurses color values, Bits, and Constants

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="right" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right">COLOR</th>
<th scope="col" class="right">BITS B-G-R</th>
<th scope="col" class="left">COLOR CONSTANT</th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">0</td>
<td class="right">000</td>
<td class="left"><code>COLOR_BLACK</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">1</td>
<td class="right">001</td>
<td class="left"><code>COLOR_RED</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">2</td>
<td class="right">010</td>
<td class="left"><code>COLOR_GREEN</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">3</td>
<td class="right">011</td>
<td class="left"><code>COLOR_YELLOW</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">4</td>
<td class="right">100</td>
<td class="left"><code>COLOR_BLUE</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">5</td>
<td class="right">101</td>
<td class="left"><code>COLOR_MAGENTA</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">6</td>
<td class="right">110</td>
<td class="left"><code>COLOR_CYAN</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">7</td>
<td class="right">111</td>
<td class="left"><code>COLOR_WHITE</code></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-24-6" class="outline-4">
<h4 id="sec-18-24-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-24-6">
<p>
Refer to the entry for <a href="#start_color"><code>start_color()</code></a> for a sample program and
output.
</p>
</div>
</div>

<div id="outline-container-sec-18-24-7" class="outline-4">
<h4 id="sec-18-24-7">Also See</h4>
<div class="outline-text-4" id="text-18-24-7">
<p>
<a href="#chapter_3">Chapter 3</a>, <a href="#COLOR_PAIR"><code>COLOR_PAIRS</code></a>, <a href="#attrset"><code>attrset()</code></a>, <a href="#start_color"><code>start_color()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-25" class="outline-3">
<h3 id="sec-18-25"><code>COLOR_PAIRS</code>                                                      <a id="COLOR_PAIR" name="COLOR_PAIR"></a></h3>
<div class="outline-text-3" id="text-18-25">
<p>
The <code>COLOR_PAIRS</code> constant is an <code>int</code> value set internally by
NCurses. It represents the number of <code>COLOR_PAIR(n)</code> color pairs
available for use when you apply foreground and background text
colors.
</p>
</div>

<div id="outline-container-sec-18-25-1" class="outline-4">
<h4 id="sec-18-25-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-25-1">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-25-2" class="outline-4">
<h4 id="sec-18-25-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-25-2">
<p>
<code>COLOR_PAIRS</code> works like any C language constant. You can use
<code>COLOR_PAIRS</code> as an immediate value, a comparison, or in
combination with other values.
</p>
</div>
</div>

<div id="outline-container-sec-18-25-3" class="outline-4">
<h4 id="sec-18-25-3">Return Value</h4>
<div class="outline-text-4" id="text-18-25-3">
<p>
The value of <code>COLOR_PAIRS</code> depends on the number of colors
available to the terminal. If the <code>start_color()</code> function has not
yet been used, then <code>COLORS</code> equals zero.
</p>
</div>
</div>

<div id="outline-container-sec-18-25-4" class="outline-4">
<h4 id="sec-18-25-4">Notes</h4>
<div class="outline-text-4" id="text-18-25-4">
<p>
You must first use the <code>start_color()</code> function to initialize NCurses color
functions before the <code>COLOR_PAIRS</code> constant can hold a meaningful value.
</p>

<p>
There is a difference between the <code>COLOR_PAIRS</code> constant and the
text attribute <code>COLOR_PAIR(n)</code>. The first is a constant value
created by NCurses.  The second is a text attribute representing a
color pair combination created by the <code>init_pair()</code> function.
</p>

<p>
Yes, the <code>COLOR_PAIRS</code> constant is plural, while the
<code>COLOR_PAIR(n)</code> attribute is singular. But it makes sense when you
think that <code>COLOR_PAIRS</code> is a quantity whereas <code>COLOR_PAIR(n)</code> is
a single pair.
</p>

<p>
A common value for <code>COLOR_PAIRS</code> is 64, though do not consider
that to be true for all terminals or implementations of NCurses.
</p>
</div>
</div>

<div id="outline-container-sec-18-25-5" class="outline-4">
<h4 id="sec-18-25-5">Examples</h4>
<div class="outline-text-4" id="text-18-25-5">
<div class="org-src-container">

<pre class="src src-c">printw(<span style="color: #ffa07a;">"This terminal can use %d color pairs.\n"</span>,COLOR_PAIRS);
</pre>
</div>

<p>
This statement displays the number of color pairs available for
the terminal.
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(COLOR_PAIRS)
</pre>
</div>

<p>
Here, when the value of <code>COLOR_PAIRS</code> is greater than zero, the if
test passes.
</p>
</div>
</div>

<div id="outline-container-sec-18-25-6" class="outline-4">
<h4 id="sec-18-25-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-25-6">
<p>
Refer to the entry for <a href="#start_color"><code>start_color()</code></a> for a sample program and
output.
</p>
</div>
</div>

<div id="outline-container-sec-18-25-7" class="outline-4">
<h4 id="sec-18-25-7">Also See</h4>
<div class="outline-text-4" id="text-18-25-7">
<p>
<a href="#chapter_3">Chapter 3</a>, <a href="#COLORS"><code>COLORS</code></a>, <a href="#init_pair"><code>init_pair()</code></a>, <a href="#attrset"><code>attrset()</code></a>, <a href="#start_color"><code>start_color()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-26" class="outline-3">
<h3 id="sec-18-26"><code>COLS</code>                                                             <a id="COLS" name="COLS"></a></h3>
<div class="outline-text-3" id="text-18-26">
<p>
The <code>COLS</code> constant is an int value set internally by NCurses to
represent the number of columns available on the standard screen.
</p>
</div>

<div id="outline-container-sec-18-26-1" class="outline-4">
<h4 id="sec-18-26-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-26-1">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-26-2" class="outline-4">
<h4 id="sec-18-26-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-26-2">
<p>
<code>COLS</code> works like any C language constant. It can be used as an
immediate value, in a comparison, or in combination with other
values.
</p>
</div>
</div>

<div id="outline-container-sec-18-26-3" class="outline-4">
<h4 id="sec-18-26-3">Return Value</h4>
<div class="outline-text-4" id="text-18-26-3">
<p>
The value of <code>COLS</code> depends on the number of columns in the
terminal or standard screen, <code>stdscr</code>.
</p>

<p>
<code>COLS</code> is an <code>int</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-26-4" class="outline-4">
<h4 id="sec-18-26-4">Notes</h4>
<div class="outline-text-4" id="text-18-26-4">
<p>
Most standard terminal windows use 80 columns.
</p>

<p>
Do note that with terminal windows in graphical environments,
terminals can be just about any size. Some text screens also have
the ability to display more than 80 columns of text on the screen.
</p>

<p>
<code>COLS</code> is a variable, not a constant. Note that changing the value
of <code>COLS</code> does not re-size the standard screen or terminal window.
</p>

<p>
Normally, NCurses sets <code>COLS</code> equal to the <code>COLUMNS</code> environment
variable.  This can be changed by using the <code>use_env()</code>
function. See <a href="#use_env"><code>use_env()</code></a>.
</p>

<p>
Use the <code>getmaxyx()</code> function to determine the number of columns
in any NCurses window.
</p>
</div>
</div>

<div id="outline-container-sec-18-26-5" class="outline-4">
<h4 id="sec-18-26-5">Example</h4>
<div class="outline-text-4" id="text-18-26-5">
<div class="org-src-container">

<pre class="src src-c">step = COLS/10;
</pre>
</div>

<p>
Here, the value of variable step is equal to <code>COLS</code> divided by 10.
</p>
</div>
</div>

<div id="outline-container-sec-18-26-6" class="outline-4">
<h4 id="sec-18-26-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-26-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  printw(<span style="color: #ffa07a;">"This window is %d lines by %d columns.\n"</span>,\
<span class="linenr"> 8: </span>         LINES,COLS);
<span class="linenr"> 9: </span>  refresh();
<span class="linenr">10: </span>  getch();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  endwin();
<span class="linenr">13: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">14: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-26-6-1" class="outline-5">
<h5 id="sec-18-26-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-26-6-1">
<pre class="example">
This window is 24 lines by 80 columns.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-26-7" class="outline-4">
<h4 id="sec-18-26-7">Also See</h4>
<div class="outline-text-4" id="text-18-26-7">
<p>
<a href="#LINES"><code>LINES</code></a>, <a href="#getmaxyx"><code>getmaxyx()</code></a>, <a href="#use_env"><code>use_env()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-27" class="outline-3">
<h3 id="sec-18-27"><code>copywin()</code>                                                        <a id="copywin" name="copywin"></a></h3>
<div class="outline-text-3" id="text-18-27">
<p>
The <code>copywin()</code> function copies a rectangle of text and attributes
from one window to another window, either destructively or
nondestructively.
</p>
</div>

<div id="outline-container-sec-18-27-1" class="outline-4">
<h4 id="sec-18-27-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-27-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">copywin</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">srcwin</span>, <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">dstwin</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">sminrow</span>,
            <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">smincol</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">dminrow</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">dmincol</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">dmaxrow</span>,
            <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">dmaxcol</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">overlay</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-27-2" class="outline-4">
<h4 id="sec-18-27-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-27-2">
<p>
<code>srcwin</code> is a <code>WINDOW</code> pointer to the window from which text and
attributes will be copied, the source window.
</p>

<p>
<code>dstwin</code> is a <code>WINDOW</code> pointer to the window into which text will be
copied, the destination window.
</p>

<p>
<code>sminrow</code> and <code>smincol</code> are <code>int</code> values representing the row and
column from which text is copied in the source window (<code>srcwin</code>).
</p>

<p>
<code>dminrow</code>, <code>dmincol</code>, <code>dmaxrow</code>, and <code>dmaxcol</code>, represent a
rectangle in the destination window (<code>dstwin</code>) where the copied
text is pasted. <code>dminrow</code> and <code>dmincol</code> form the upper-left corner
of the rectangle as row and column values; <code>dmaxrow</code> and <code>dmaxcol</code>
form the lower-right corner of the rectangle as row and column
values.
</p>

<p>
<code>overlay</code> is a Boolean value, either <code>TRUE</code> or <code>FALSE</code>. If <code>TRUE</code>,
the text copied is nondestructive, and only blanks in the
destination window are overwritten with text from the source
window. If <code>FALSE</code>, the text copied is destructive, replacing all
text in the destination window's rectangle with text and
attributes from the source window.
</p>
</div>
</div>

<div id="outline-container-sec-18-27-3" class="outline-4">
<h4 id="sec-18-27-3">Return Value</h4>
<div class="outline-text-4" id="text-18-27-3">
<p>
<code>OK</code> or <code>ERR</code>, based on the function's success or failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-27-4" class="outline-4">
<h4 id="sec-18-27-4">Notes</h4>
<div class="outline-text-4" id="text-18-27-4">
<p>
A visual example of how <code>copywin()</code> works can be found in <a href="#Figure-10-2">Figure
10-2</a>.
</p>

<p>
NCurses uses the difference between <code>dminrow</code> and <code>dmaxrow</code>, as
well as the difference between <code>dmincol</code> and <code>dmaxcol</code>, to help
calculate the size of both the source and destination rectangles.
</p>

<p>
When <code>overlay</code> is <code>TRUE</code> only text is copied from <code>srcwin</code> to
<code>dstwin</code>. The text appears only in the "blank" portions of the
window. Text will not overwrite any existing text.
</p>

<p>
When <code>overlay</code> is <code>FALSE</code>, the entire rectangle of text and
attributes is copied from <code>srcwin</code> to <code>dstwin</code>. Any existing text
and any attributes applied to that text in <code>dstwin</code> is replaced
with text and attributes from <code>srcwin</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-27-5" class="outline-4">
<h4 id="sec-18-27-5">Example</h4>
<div class="outline-text-4" id="text-18-27-5">
<div class="org-src-container">

<pre class="src src-c">copywin(top,bottom,0,0,0,20,10,30,FALSE);
</pre>
</div>

<p>
Here, <code>copywin()</code> copies a chunk of text from window <code>top</code> to
window <code>bottom</code>. The chunk starts at location 0,0 in window
<code>top</code>. It is pasted to location 0,20 in window <code>bottom</code>. The text
chunk measures 10 <code>rows</code> by 10 columns (10-0 and 30-20).
</p>
</div>
</div>

<div id="outline-container-sec-18-27-6" class="outline-4">
<h4 id="sec-18-27-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-27-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">alpha</span>,*<span style="color: #eedd82;">beta</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">half</span>,<span style="color: #eedd82;">size</span>,<span style="color: #eedd82;">x</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  start_color();
<span class="linenr">10: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">11: </span>  init_pair(2,COLOR_WHITE,COLOR_RED);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create and color two side-by-side windows </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  half = COLS &gt;&gt; 1;
<span class="linenr">15: </span>  size = half * COLS;
<span class="linenr">16: </span>  size &gt;&gt;= 1;
<span class="linenr">17: </span>  alpha = newwin(LINES,half-1,0,0);
<span class="linenr">18: </span>  wbkgd(alpha,COLOR_PAIR(1));
<span class="linenr">19: </span>  beta = newwin(LINES,half-1,0,half);
<span class="linenr">20: </span>  wbkgd(beta,COLOR_PAIR(2));
<span class="linenr">21: </span>
<span class="linenr">22: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">populate the windows with text </span><span style="color: #ff4500;">*/</span>
<span class="linenr">23: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;size;x++)
<span class="linenr">24: </span>    {
<span class="linenr">25: </span>      wprintw(alpha,<span style="color: #ffa07a;">"O "</span>);
<span class="linenr">26: </span>      wprintw(beta,<span style="color: #ffa07a;">" X"</span>);
<span class="linenr">27: </span>    }
<span class="linenr">28: </span>  wrefresh(alpha);
<span class="linenr">29: </span>  wrefresh(beta);
<span class="linenr">30: </span>  wgetch(beta);
<span class="linenr">31: </span>
<span class="linenr">32: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">copy from window beta to window alpha </span><span style="color: #ff4500;">*/</span>
<span class="linenr">33: </span>  copywin(beta,alpha,10,5,10,5,15,30,TRUE);
<span class="linenr">34: </span>  wrefresh(alpha);
<span class="linenr">35: </span>  wgetch(alpha);
<span class="linenr">36: </span>
<span class="linenr">37: </span>  endwin();
<span class="linenr">38: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">39: </span>}
</pre>
</div>

<dl class="org-dl">
<dt> NOTE </dt><dd>Error checking is not being done for the two <code>newwin()</code>
functions; be sure to check errors for this function in
your own code.
</dd>
</dl>
</div>

<div id="outline-container-sec-18-27-6-1" class="outline-5">
<h5 id="sec-18-27-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-27-6-1">
<p>
Two windows are created, side-by-side. On the left is window
alpha, colored blue with white O's. On the right is window beta,
colored red with white X's. Pressing Enter copies a chunk of text
from beta to alpha. With <code>TRUE</code> in line 33, only the X's are
copied. When you edit line 33 to change <code>TRUE</code> to <code>FALSE</code>, a red
rectangle with only X's and spaces is copied, clobbering all
underlying text already in window alpha.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-27-7" class="outline-4">
<h4 id="sec-18-27-7">Also See</h4>
<div class="outline-text-4" id="text-18-27-7">
<p>
<a href="#chapter_10">Chapter 10</a>, <a href="#overlay"><code>overlay()</code></a>, <a href="#overwrite"><code>overwrite()</code></a>, <a href="#dupwin"><code>dupwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-28" class="outline-3">
<h3 id="sec-18-28"><code>curs_set()</code>                                                       <a id="curs_set" name="curs_set"></a></h3>
<div class="outline-text-3" id="text-18-28">
<p>
The <code>curs_set()</code> function controls the cursor's visibility.
</p>
</div>

<div id="outline-container-sec-18-28-1" class="outline-4">
<h4 id="sec-18-28-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-28-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">curs_set</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">visibility</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-28-2" class="outline-4">
<h4 id="sec-18-28-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-28-2">
<p>
The value of visibility can be 0, 1, or 2:
</p>

<ul class="org-ul">
<li>0 makes the cursor invisible
</li>
<li>1 sets the cursor to normal mode
</li>
<li>2 sets the cursor to a very visible mode
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-18-28-3" class="outline-4">
<h4 id="sec-18-28-3">Return Value</h4>
<div class="outline-text-4" id="text-18-28-3">
<p>
The function returns a value, 0, 1, 2, representing the previous
cursor state, defined above. <code>ERR</code> is returned if the cursor state
cannot be changed.
</p>
</div>
</div>

<div id="outline-container-sec-18-28-4" class="outline-4">
<h4 id="sec-18-28-4">Notes</h4>
<div class="outline-text-4" id="text-18-28-4">
<p>
Not all terminals support the <code>curs_set()</code> function.
</p>

<p>
By returning the cursor's previous state, it's possible to restore
the cursor later. But note that the <code>endwin()</code> function restores
the terminal's cursor to a visible state if <code>curs_set()</code> has
altered it. However, the cursor may not be restored to the same
state it was in before the NCurses program was started, meaning
that if the cursor was invisible when your program started, that
state will not be restored when your program ends.
</p>
</div>
</div>

<div id="outline-container-sec-18-28-5" class="outline-4">
<h4 id="sec-18-28-5">Examples</h4>
<div class="outline-text-4" id="text-18-28-5">
<div class="org-src-container">

<pre class="src src-c">curs_set(0);
</pre>
</div>

<p>
This command makes the cursor invisible.
</p>

<div class="org-src-container">

<pre class="src src-c">curs_set(1);
</pre>
</div>

<p>
Here, the cursor is restored to normal, visible mode.
</p>
</div>
</div>

<div id="outline-container-sec-18-28-6" class="outline-4">
<h4 id="sec-18-28-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-28-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>;
<span class="linenr"> 6: </span>  initscr();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">first, turn the cursor off </span><span style="color: #ff4500;">*/</span>
<span class="linenr"> 9: </span>  r = curs_set(0);
<span class="linenr">10: </span>  <span style="color: #00ffff;">if</span>(r == ERR)
<span class="linenr">11: </span>    {
<span class="linenr">12: </span>      endwin();
<span class="linenr">13: </span>      puts(<span style="color: #ffa07a;">"This terminal cannot change the cursor."</span>);
<span class="linenr">14: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">15: </span>    }
<span class="linenr">16: </span>  addstr(<span style="color: #ffa07a;">"The cursor has been turned off: "</span>);
<span class="linenr">17: </span>  refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">second, turn the cursor on </span><span style="color: #ff4500;">*/</span>
<span class="linenr">21: </span>  curs_set(1);
<span class="linenr">22: </span>  move(1,0);
<span class="linenr">23: </span>  addstr(<span style="color: #ffa07a;">"The cursor now on: "</span>);
<span class="linenr">24: </span>  refresh();
<span class="linenr">25: </span>  getch();
<span class="linenr">26: </span>
<span class="linenr">27: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">third, turn the cursor very on </span><span style="color: #ff4500;">*/</span>
<span class="linenr">28: </span>  curs_set(2);
<span class="linenr">29: </span>  move(2,0);
<span class="linenr">30: </span>  addstr(<span style="color: #ffa07a;">"The cursor is now very on: "</span>);
<span class="linenr">31: </span>  refresh();
<span class="linenr">32: </span>  getch();
<span class="linenr">33: </span>
<span class="linenr">34: </span>  curs_set(r);            <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">restore cursor </span><span style="color: #ff4500;">*/</span>
<span class="linenr">35: </span>  endwin();
<span class="linenr">36: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">37: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-28-6-1" class="outline-5">
<h5 id="sec-18-28-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-28-6-1">
<pre class="example">
This terminal cannot change the cursor.
</pre>

<p>
Or:
</p>

<pre class="example">
The cursor has been turned off:
The cursor now on:
The cursor is now very on:
</pre>

<p>
Each line is followed by the cursor in the indicated state.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-28-7" class="outline-4">
<h4 id="sec-18-28-7">Also See</h4>
<div class="outline-text-4" id="text-18-28-7">
<p>
<a href="#chapter_14">Chapter 14</a>, <a href="#move"><code>move()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-29" class="outline-3">
<h3 id="sec-18-29"><code>curses_version()</code>                                                 <a id="curses_version" name="curses_version"></a></h3>
<div class="outline-text-3" id="text-18-29">
<p>
The <code>curses_version()</code> function returns a string that describes the
name, version, release, and patch information for the version of
NCurses being run.  This is an extended NCurses function.
</p>
</div>

<div id="outline-container-sec-18-29-1" class="outline-4">
<h4 id="sec-18-29-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-29-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> * <span style="color: #87cefa;">curses_version</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-29-2" class="outline-4">
<h4 id="sec-18-29-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-29-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-29-3" class="outline-4">
<h4 id="sec-18-29-3">Return Value</h4>
<div class="outline-text-4" id="text-18-29-3">
<p>
The function returns a string in the format:
</p>

<pre class="example">
ncurses major.minor.patch
</pre>

<p>
The text <code>ncurses</code> begins the string. It stands for NCurses or New
Curses, the version of the NCurses library used to compile the
program.
</p>

<p>
<code>major</code> is the major release number.
</p>

<p>
<code>minor</code> is the minor release number.
</p>

<p>
<code>patch</code> is the number of the most recent patch.
</p>
</div>
</div>

<div id="outline-container-sec-18-29-4" class="outline-4">
<h4 id="sec-18-29-4">Notes</h4>
<div class="outline-text-4" id="text-18-29-4">
<p>
Several constants defined in <code>ncurses.h</code> contain similar
information for determining NCurses version, as listed in <a href="#Table-A-4">Table
A-4</a>.
</p>

<p>
The <code>NCURSES_VERSION</code> string is simply the <code>NCURSES_VERSION_MAJOR</code>
and <code>NCURSES_VERSION_MINOR</code> values, separated by a dot.
</p>
</div>
</div>

<div id="outline-container-sec-18-29-5" class="outline-4">
<h4 id="sec-18-29-5">Example</h4>
<div class="outline-text-4" id="text-18-29-5">
<div class="org-src-container">

<pre class="src src-c">vernum = curses_version();
</pre>
</div>

<p>
Here, the string returned by <code>curses_version()</code> is stored in the
char array (string variable) <code>vernum</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-29-6" class="outline-4">
<h4 id="sec-18-29-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-29-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #b0c4de;">#ifdef</span> NCURSES_VERSION
<span class="linenr"> 8: </span>  printw(<span style="color: #ffa07a;">"This is %s.\n"</span>,curses_version());
<span class="linenr"> 9: </span><span style="color: #b0c4de;">#else</span>
<span class="linenr">10: </span>  printw(<span style="color: #ffa07a;">"You are apparently not using NCurses.\n"</span>);
<span class="linenr">11: </span><span style="color: #b0c4de;">#endif</span>
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  endwin();
<span class="linenr">16: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">17: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-29-6-1" class="outline-5">
<h5 id="sec-18-29-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-29-6-1">
<p>
Hopefully, something like:
</p>

<pre class="example">
This is ncurses 5.4.20040208.
</pre>

<dl class="org-dl">
<dt> <a id="Table-A-4" name="Table-A-4">Table A-4</a> </dt><dd>NCurses version constants

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">CONSTANT</th>
<th scope="col" class="left">DEFINES</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>NCURSES_VERSION</code></td>
<td class="left">String containing NCurses major and minor versions</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>NCURSES_VERSION_MAJOR</code></td>
<td class="left">Major version number</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>NCURSES_VERSION_MINOR</code></td>
<td class="left">Minor version number</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>NCURSES_VERSION_PATCH</code></td>
<td class="left">Patch number</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-sec-18-29-7" class="outline-4">
<h4 id="sec-18-29-7">Also See</h4>
<div class="outline-text-4" id="text-18-29-7">
<p>
<a href="#NCURSES_VERSION"><code>NCURSES_VERSION</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-30" class="outline-3">
<h3 id="sec-18-30"><code>delch()</code>                                                          <a id="delch" name="delch"></a></h3>
<div class="outline-text-3" id="text-18-30">
<p>
The <code>delch()</code> function deletes the character at the cursor's
position. Any characters to the right on the same line are then
slid one place to the left. Blanks are used to fill in the end of
the line.
</p>
</div>

<div id="outline-container-sec-18-30-1" class="outline-4">
<h4 id="sec-18-30-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-30-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">delch</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">wdelch</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvdelch</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwdelch</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-30-2" class="outline-4">
<h4 id="sec-18-30-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-30-2">
<p>
The base function has no arguments; refer to the <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and
<a href="#w_prefix"><code>w</code></a> prefix entries elsewhere in this appendix for information on
the <code>win</code>, <code>y</code>, and <code>x</code> arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-30-3" class="outline-4">
<h4 id="sec-18-30-3">Return Value</h4>
<div class="outline-text-4" id="text-18-30-3">
<p>
<code>OK</code> on success, or <code>ERR</code> on failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-30-4" class="outline-4">
<h4 id="sec-18-30-4">Notes</h4>
<div class="outline-text-4" id="text-18-30-4">
<p>
This function does not change the cursor's position.
</p>

<p>
To delete a line of text, use the <code>deleteln()</code> function.
</p>

<p>
To insert a single character, the <code>insch()</code> function is used.
</p>
</div>
</div>

<div id="outline-container-sec-18-30-5" class="outline-4">
<h4 id="sec-18-30-5">Example</h4>
<div class="outline-text-4" id="text-18-30-5">
<div class="org-src-container">

<pre class="src src-c">mvdelch(5,0);
</pre>
</div>

<p>
After this statement, the character at location 5,0 is removed,
and all remaining text on that line is slid over to the left one
notch.
</p>
</div>
</div>

<div id="outline-container-sec-18-30-6" class="outline-4">
<h4 id="sec-18-30-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-30-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">Y</span> 5
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">X1</span> 10
<span class="linenr"> 5: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">X2</span> 60
<span class="linenr"> 6: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">DELAY</span> 250
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 9: </span>{
<span class="linenr">10: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text</span>[] = <span style="color: #ffa07a;">"Elvis found alive *** Stock market tops 20,000 ***; Rocky XII big box office hit *** Congressman indicted *** "</span>;
<span class="linenr">11: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">t</span>;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  initscr();
<span class="linenr">14: </span>  noecho();
<span class="linenr">15: </span>  nodelay(stdscr,TRUE);
<span class="linenr">16: </span>
<span class="linenr">17: </span>  t = text;
<span class="linenr">18: </span>  <span style="color: #00ffff;">while</span>( getch() == ERR )
<span class="linenr">19: </span>    {
<span class="linenr">20: </span>      <span style="color: #00ffff;">if</span>( *t == <span style="color: #ffa07a;">'\0'</span>) t = text;
<span class="linenr">21: </span>      mvinsch(Y,X2,*t);
<span class="linenr">22: </span>      mvdelch(Y,X1);
<span class="linenr">23: </span>      refresh();
<span class="linenr">24: </span>      napms(DELAY);
<span class="linenr">25: </span>      t++;
<span class="linenr">26: </span>    }
<span class="linenr">27: </span>
<span class="linenr">28: </span>  endwin();
<span class="linenr">29: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">30: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-30-6-1" class="outline-5">
<h5 id="sec-18-30-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-30-6-1">
<p>
A scrolling marquee appears on line 5 between columns 10
and 60. The text (line 10) is repeatedly scrolled right to left.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-30-7" class="outline-4">
<h4 id="sec-18-30-7">Also See</h4>
<div class="outline-text-4" id="text-18-30-7">
<p>
<a href="#chapter_5">Chapter 5</a>, <a href="#deleteln"><code>deleteln()</code></a>, <a href="#insch"><code>insch()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-31" class="outline-3">
<h3 id="sec-18-31"><code>deleteln()</code>                                                       <a id="deleteln" name="deleteln"></a></h3>
<div class="outline-text-3" id="text-18-31">
<p>
The <code>deleteln()</code> function removes a line of text from the
screen. The line removed is based on the cursor's position, the Y
or row value. All lines below are then scrolled up one line, with a
blank line of text appearing at the bottom of the screen.
</p>
</div>

<div id="outline-container-sec-18-31-1" class="outline-4">
<h4 id="sec-18-31-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-31-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">deleteln</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wdeleteln</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-31-2" class="outline-4">
<h4 id="sec-18-31-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-31-2">
<p>
The function takes no arguments; refer to the entry for <a href="#w_prefix"><code>w</code></a>
elsewhere in this appendix for information on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-31-3" class="outline-4">
<h4 id="sec-18-31-3">Return Value</h4>
<div class="outline-text-4" id="text-18-31-3">
<p>
<code>OK</code> upon success, <code>ERR</code> on failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-31-4" class="outline-4">
<h4 id="sec-18-31-4">Notes</h4>
<div class="outline-text-4" id="text-18-31-4">
<p>
The line that is deleted is the line the cursor is on,
specifically the cursor's row.
</p>

<p>
Unlike <code>clrtoeol()</code>, the entire line is erased regardless of the
cursor's position.
</p>

<p>
The lines below the current line are scrolled up one notch
regardless of the window's scroll setting. See <a href="#scrollok"><code>scrollok()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-31-5" class="outline-4">
<h4 id="sec-18-31-5">Example</h4>
<div class="outline-text-4" id="text-18-31-5">
<div class="org-src-container">

<pre class="src src-c">deleteln();
</pre>
</div>

<p>
After this statement, all text on the same line as the cursor is
erased. The <code>rows</code> below the line erased are scrolled up one row,
with a new blank row appearing at the bottom of the window.
</p>
</div>
</div>

<div id="outline-container-sec-18-31-6" class="outline-4">
<h4 id="sec-18-31-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-31-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  noecho();
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"To be, or not to be: that is the question:\n"</span>);
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"Whether 'tis nobler in the mind to suffer\n"</span>);
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"The slings and arrows of outrageous fortune,\n"</span>);
<span class="linenr">12: </span>  addstr(<span style="color: #ffa07a;">"Or to take arms against a sea of troubles,\n"</span>);
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"And by opposing end them?\n"</span>);
<span class="linenr">14: </span>
<span class="linenr">15: </span>  move(0,0);
<span class="linenr">16: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;5;x++)
<span class="linenr">17: </span>    {
<span class="linenr">18: </span>      refresh();
<span class="linenr">19: </span>      getch();
<span class="linenr">20: </span>      deleteln();
<span class="linenr">21: </span>    }
<span class="linenr">22: </span>
<span class="linenr">23: </span>  endwin();
<span class="linenr">24: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">25: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-31-6-1" class="outline-5">
<h5 id="sec-18-31-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-31-6-1">
<pre class="example">
To be, or not to be: that is the question:
Whether 'tis nobler in the mind to suffer
The slings and arrows of outrageous fortune,
Or to take arms against a sea of troubles,
And by opposing end them?
</pre>

<p>
Each time Enter is pressed, a line is removed from the screen.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-31-7" class="outline-4">
<h4 id="sec-18-31-7">Also See</h4>
<div class="outline-text-4" id="text-18-31-7">
<p>
<a href="#chapter_5">Chapter 5</a>, <a href="#delch"><code>delch()</code></a>, <a href="#insertln"><code>insertln()</code></a>, <a href="#clrtoeol"><code>clrtoeol()</code></a>, <a href="#insdelln"><code>insdelln()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-32" class="outline-3">
<h3 id="sec-18-32"><code>delscreen()</code>                                                      <a id="delscreen" name="delscreen"></a></h3>
<div class="outline-text-3" id="text-18-32">
<p>
The <code>delscreen()</code> function deletes a <code>SCREEN</code> structure, freeing
memory and undoing the things done when the structure was
created. It's a clean-up routine.
</p>
</div>

<div id="outline-container-sec-18-32-1" class="outline-4">
<h4 id="sec-18-32-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-32-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">delscreen</span>(<span style="color: #98fb98;">SCREEN</span>* <span style="color: #eedd82;">sp</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-32-2" class="outline-4">
<h4 id="sec-18-32-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-32-2">
<p>
<code>sp</code> is the address of a <code>SCREEN</code> pointer, returned/created by the
<code>newterm()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-32-3" class="outline-4">
<h4 id="sec-18-32-3">Return Value</h4>
<div class="outline-text-4" id="text-18-32-3">
<p>
The function returns nothing.
</p>
</div>
</div>

<div id="outline-container-sec-18-32-4" class="outline-4">
<h4 id="sec-18-32-4">Notes</h4>
<div class="outline-text-4" id="text-18-32-4">
<p>
The <code>newterm()</code> function creates <code>SCREEN</code> pointers. See
<a href="#newterm"><code>newterm()</code></a>.
</p>

<p>
The <code>endwin()</code> function does not release the space referenced by a
<code>SCREEN</code> pointer. Therefore <code>delscreen()</code> can be used to free up
that space.
</p>

<p>
The <code>SCREEN</code> pointer is not reset to <code>NULL</code> by <code>delscreen()</code>.
</p>

<p>
The <code>SCREEN</code> pointer returned by a program's first <code>set_term()</code>
call, which represents the default terminal, should not be removed
by <code>delscreen()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-32-5" class="outline-4">
<h4 id="sec-18-32-5">Example</h4>
<div class="outline-text-4" id="text-18-32-5">
<div class="org-src-container">

<pre class="src src-c">delscreen(newsp);
</pre>
</div>

<p>
Memory associated with the <code>SCREEN</code> structure referenced by the
pointer <code>newsp</code> is freed by the <code>delscreen()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-32-6" class="outline-4">
<h4 id="sec-18-32-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-32-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">SCREEN</span> *<span style="color: #eedd82;">s</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  s = newterm(<span style="color: #7fffd4;">NULL</span>, stdout, stdin);
<span class="linenr"> 8: </span>  set_term(s);
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"Hello!"</span>);
<span class="linenr">11: </span>
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  endwin();
<span class="linenr">16: </span>  delscreen(s);
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-32-6-1" class="outline-5">
<h5 id="sec-18-32-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-32-6-1">
<pre class="example">
Hello!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-32-7" class="outline-4">
<h4 id="sec-18-32-7">Also See</h4>
<div class="outline-text-4" id="text-18-32-7">
<p>
<a href="#newterm"><code>newterm()</code></a>, <a href="#set_term"><code>set_term()</code></a>, <a href="#endwin"><code>endwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-33" class="outline-3">
<h3 id="sec-18-33"><code>delwin()</code>                                                         <a id="delwin" name="delwin"></a></h3>
<div class="outline-text-3" id="text-18-33">
<p>
The <code>delwin()</code> function removes a window, releasing the memory used
by both the <code>WINDOW</code> structure and the window itself.
</p>
</div>

<div id="outline-container-sec-18-33-1" class="outline-4">
<h4 id="sec-18-33-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-33-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">delwin</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-33-2" class="outline-4">
<h4 id="sec-18-33-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-33-2">
<p>
<code>win</code> refers to a <code>WINDOW</code> variable, a window created earlier in the
program by the <code>newwin()</code>, <code>subwin()</code>, <code>derwin()</code>, <code>dupwin()</code>, or
<code>newpad()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-33-3" class="outline-4">
<h4 id="sec-18-33-3">Return Value</h4>
<div class="outline-text-4" id="text-18-33-3">
<p>
OK upon success, or <code>ERR</code> on failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-33-4" class="outline-4">
<h4 id="sec-18-33-4">Notes</h4>
<div class="outline-text-4" id="text-18-33-4">
<p>
The <code>delwin()</code> function removes the window's information from
memory. It does not remove the window from the current screen. For
that, the underlying window should be touched and refreshed. See
<a href="#touchwin"><code>touchwin()</code></a> and <a href="#refresh"><code>refresh()</code></a>.
</p>

<p>
<code>delwin()</code> can delete both subwindows and parent windows. It can
also be used to remove pads. See <a href="#newpad"><code>newpad()</code></a>.
</p>

<p>
You must delete subwindows before deleting their parents. Because
subwindows share memory with the parent window, the end result of
removing the parent would be memory violations by the subwindow.
</p>
</div>
</div>

<div id="outline-container-sec-18-33-5" class="outline-4">
<h4 id="sec-18-33-5">Example</h4>
<div class="outline-text-4" id="text-18-33-5">
<div class="org-src-container">

<pre class="src src-c">delwin(menu);
</pre>
</div>

<p>
Here, the window menu and its <code>WINDOW</code> structure are removed from
memory.
</p>
</div>
</div>

<div id="outline-container-sec-18-33-6" class="outline-4">
<h4 id="sec-18-33-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-33-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">ALPHA_W</span> 30
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">ALPHA_H</span> 5
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">alpha</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">y</span>;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  initscr(); noecho();
<span class="linenr">12: </span>  start_color();
<span class="linenr">13: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">14: </span>
<span class="linenr">15: </span>  x = (COLS - ALPHA_W) &gt;&gt; 1;
<span class="linenr">16: </span>  y = (LINES - ALPHA_H) &gt;&gt; 1;
<span class="linenr">17: </span>
<span class="linenr">18: </span>  addstr(<span style="color: #ffa07a;">"Creating new window....\n"</span>);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  alpha = newwin(ALPHA_H,ALPHA_W,y,x);
<span class="linenr">21: </span>  <span style="color: #00ffff;">if</span>( alpha == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">22: </span>    {
<span class="linenr">23: </span>      endwin();
<span class="linenr">24: </span>      puts(<span style="color: #ffa07a;">"Problem creating window"</span>);
<span class="linenr">25: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">26: </span>    }
<span class="linenr">27: </span>
<span class="linenr">28: </span>  addstr(<span style="color: #ffa07a;">"Displaying window:\n"</span>);
<span class="linenr">29: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to remove the window:\n"</span>);
<span class="linenr">30: </span>  refresh();
<span class="linenr">31: </span>  wbkgd(alpha,COLOR_PAIR(1));
<span class="linenr">32: </span>  mvwaddstr(alpha,2,12,<span style="color: #ffa07a;">"Hello!"</span>);
<span class="linenr">33: </span>  wrefresh(alpha);
<span class="linenr">34: </span>  wgetch(alpha);
<span class="linenr">35: </span>
<span class="linenr">36: </span>  delwin(alpha);
<span class="linenr">37: </span>  addstr(<span style="color: #ffa07a;">"Window removed: press Enter to clear it:\n"</span>);
<span class="linenr">38: </span>  refresh();
<span class="linenr">39: </span>  getch();
<span class="linenr">40: </span>
<span class="linenr">41: </span>  touchwin(stdscr);
<span class="linenr">42: </span>  addstr(<span style="color: #ffa07a;">"Done!\n"</span>);
<span class="linenr">43: </span>  refresh();
<span class="linenr">44: </span>  getch();
<span class="linenr">45: </span>
<span class="linenr">46: </span>  endwin();
<span class="linenr">47: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">48: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-33-6-1" class="outline-5">
<h5 id="sec-18-33-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-33-6-1">
<pre class="example">
Creating new window....
Displaying window:
</pre>

<p>
A blue window appears in the center of the screen with the text
(in white) Hello!
</p>

<pre class="example">
Press Enter to remove the window:
</pre>

<p>
Press Enter.
</p>

<pre class="example">
Window removed: press Enter to clear it:
</pre>

<p>
The window has been removed from memory, but the screen still
needs to be updated. Press Enter:
</p>

<pre class="example">
Done!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-33-7" class="outline-4">
<h4 id="sec-18-33-7">Also See</h4>
<div class="outline-text-4" id="text-18-33-7">
<p>
<a href="#chapter_8">Chapter 8</a>, <a href="#newwin"><code>newwin()</code></a>, <a href="#subwin"><code>subwin()</code></a>, <a href="#touchwin"><code>touchwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-34" class="outline-3">
<h3 id="sec-18-34"><code>derwin()</code>                                                         <a id="derwin" name="derwin"></a></h3>
<div class="outline-text-3" id="text-18-34">
<p>
The <code>derwin()</code> function is used to create a subwindow, similar to
the <code>subwin()</code> function though <code>derwin()</code> places the subwindow
relative to the parent window, not the screen.
</p>
</div>

<div id="outline-container-sec-18-34-1" class="outline-4">
<h4 id="sec-18-34-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-34-1">
<div class="org-src-container">

<pre class="src src-c">WINDOW *derwin(WINDOW *orig, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">nlines</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ncols</span>,
               <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">begin_y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">begin_x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-34-2" class="outline-4">
<h4 id="sec-18-34-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-34-2">
<p>
<code>orig</code> is a pointer to a window. That window then becomes the
parent of the subwindow <code>derwin()</code> creates.
</p>

<p>
<code>nlines</code> and <code>ncols</code> are int values that set the subwindow's size
in <code>rows</code> and columns, respectively. Values range from 1 on up,
though the window created cannot be taller or wider than the
screen or its parent. When 0 is specified for <code>nlines</code> or <code>ncols</code>,
then the subwindow extends to the bottom or right edge of the
window, respectively.
</p>

<p>
<code>begin_y</code> and <code>begin_x</code> give the subwindow's origin relative to
the parent window. Values for <code>begin_y</code> and <code>begin_x</code> are ints,
ranging from 0, 0 (the upper-left corner of the parent window) to
the maximum number of <code>rows</code> and columns for the parent window
minus the size of the subwindow.
</p>
</div>
</div>

<div id="outline-container-sec-18-34-3" class="outline-4">
<h4 id="sec-18-34-3">Return Value</h4>
<div class="outline-text-4" id="text-18-34-3">
<p>
Upon success, a <code>WINDOW</code> pointer is returned, used to reference
the subwindow. On failure, <code>NULL</code> is returned. (See <i><code>NULL</code></i>.)
</p>
</div>
</div>

<div id="outline-container-sec-18-34-4" class="outline-4">
<h4 id="sec-18-34-4">Notes</h4>
<div class="outline-text-4" id="text-18-34-4">
<p>
The main difference between <code>derwin()</code> and <code>subwin()</code> is in the
arguments that set the window's original. In the <code>derwin()</code> call,
the coordinates are relative to the parent window; in <code>subwin()</code>
the coordinates are relative to the standard screen.
</p>

<p>
Aside from the one difference in the origin coordinates,
<code>subwin()</code> and <code>derwin()</code> are pretty much the same. Refer to the
entry for <a href="#subwin"><code>subwin()</code></a> for a host of notes that also apply to
<code>derwin()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-34-5" class="outline-4">
<h4 id="sec-18-34-5">Example</h4>
<div class="outline-text-4" id="text-18-34-5">
<div class="org-src-container">

<pre class="src src-c">subby = derwin(main,MAXY-2,MAXX-2,1,1);
</pre>
</div>

<p>
This statement creates a subwindow <code>subby</code> within the parent
window <code>main</code>. The size of <code>subby</code> is equal to <code>MAXY-2</code> rows by
<code>MAXX-2</code> columns, and <code>subby</code>'s upper-left corner is set down at
row 1, column 1 of the window <code>main</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-34-6" class="outline-4">
<h4 id="sec-18-34-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-34-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">pops</span>,*<span style="color: #eedd82;">sonny</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x2</span>,<span style="color: #eedd82;">y2</span>,<span style="color: #eedd82;">x4</span>,<span style="color: #eedd82;">y4</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  start_color();
<span class="linenr">10: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">11: </span>  init_pair(2,COLOR_RED,COLOR_YELLOW);
<span class="linenr">12: </span>  x2 = COLS &gt;&gt; 1;
<span class="linenr">13: </span>  y2 = LINES &gt;&gt; 1;
<span class="linenr">14: </span>  x4 = (COLS - x2) &gt;&gt; 1;
<span class="linenr">15: </span>  y4 = (LINES - y2) &gt;&gt; 1;
<span class="linenr">16: </span>
<span class="linenr">17: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create parent and subwindow </span><span style="color: #ff4500;">*/</span>
<span class="linenr">18: </span>  pops = newwin(y2,x2,y4,x4);
<span class="linenr">19: </span>  sonny = derwin(pops,y4,x4,2,2);
<span class="linenr">20: </span>  <span style="color: #00ffff;">if</span>(sonny == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">21: </span>    {
<span class="linenr">22: </span>      endwin();
<span class="linenr">23: </span>      puts(<span style="color: #ffa07a;">"Unable to create subwindow\n"</span>);
<span class="linenr">24: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">25: </span>    }
<span class="linenr">26: </span>
<span class="linenr">27: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">color windows and splash some text </span><span style="color: #ff4500;">*/</span>
<span class="linenr">28: </span>  wbkgd(pops,COLOR_PAIR(1));
<span class="linenr">29: </span>  waddstr(pops,<span style="color: #ffa07a;">"Hello, son."</span>);
<span class="linenr">30: </span>  wbkgd(sonny,COLOR_PAIR(2));
<span class="linenr">31: </span>  waddstr(sonny,<span style="color: #ffa07a;">"Hello, Dad."</span>);
<span class="linenr">32: </span>  wrefresh(pops);
<span class="linenr">33: </span>  wgetch(pops);
<span class="linenr">34: </span>
<span class="linenr">35: </span>  endwin();
<span class="linenr">36: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">37: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-34-6-1" class="outline-5">
<h5 id="sec-18-34-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-34-6-1">
<p>
See <a href="#Figure-A-2">Figure A-2</a> to view the sample output.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-2" name="Figure-A-2">Figure A-2</a> </dt><dd>The derived window (subwindow), says hello
to its parent.


<div class="figure">
<p><img src="img/FigureA-2.jpg" alt="FigureA-2.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-sec-18-34-7" class="outline-4">
<h4 id="sec-18-34-7">Also See</h4>
<div class="outline-text-4" id="text-18-34-7">
<p>
<a href="#subwin"><code>subwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-35" class="outline-3">
<h3 id="sec-18-35"><code>doupdate()</code>                                                       <a id="doupdate" name="doupdate"></a></h3>
<div class="outline-text-3" id="text-18-35">
<p>
The <code>doupdate()</code> function directs NCurses to write text stored
internally, from the virtual screen to the terminal. It's the
latter half of what takes place during a <code>refresh()</code> operation.
</p>
</div>

<div id="outline-container-sec-18-35-1" class="outline-4">
<h4 id="sec-18-35-1">Explanation</h4>
<div class="outline-text-4" id="text-18-35-1">
<p>
Refer to the entry for <a href="#wnoutrefresh"><code>wnoutrefresh()</code></a> for an explanation of how
<code>doupdate()</code> works in the refresh process.
</p>
</div>
</div>

<div id="outline-container-sec-18-35-2" class="outline-4">
<h4 id="sec-18-35-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-35-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">doupdate</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-35-3" class="outline-4">
<h4 id="sec-18-35-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-35-3">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-35-4" class="outline-4">
<h4 id="sec-18-35-4">Return Value</h4>
<div class="outline-text-4" id="text-18-35-4">
<p>
Always <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-35-5" class="outline-4">
<h4 id="sec-18-35-5">Notes</h4>
<div class="outline-text-4" id="text-18-35-5">
<p>
<code>wnoutrefresh()</code> is a direct companion to the <code>doupdate()</code>
function.
</p>

<p>
<code>doupdate()</code> can also be used to update the screen for a
<code>pnoutrefresh()</code> function, as well as the <code>slk_noutrefresh()</code>
function.
</p>
</div>
</div>

<div id="outline-container-sec-18-35-6" class="outline-4">
<h4 id="sec-18-35-6">Example</h4>
<div class="outline-text-4" id="text-18-35-6">
<div class="org-src-container">

<pre class="src src-c">doupdate();
</pre>
</div>

<p>
After this statement, any text waiting to be updated on the screen
will be displayed on the terminal.
</p>
</div>
</div>

<div id="outline-container-sec-18-35-7" class="outline-4">
<h4 id="sec-18-35-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-35-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  addstr(<span style="color: #ffa07a;">"The screen has been updated thanks to the\n"</span>);
<span class="linenr"> 8: </span>  addstr(<span style="color: #ffa07a;">"wnoutrefresh() and doupdate() functions.\n"</span>);
<span class="linenr"> 9: </span>  wnoutrefresh(stdscr);
<span class="linenr">10: </span>  doupdate();
<span class="linenr">11: </span>  getch();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  endwin();
<span class="linenr">14: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">15: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-35-7-1" class="outline-5">
<h5 id="sec-18-35-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-35-7-1">
<pre class="example">
The screen has been updated thanks to the

wnoutrefresh() and doupdate() functions.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-35-8" class="outline-4">
<h4 id="sec-18-35-8">Also See</h4>
<div class="outline-text-4" id="text-18-35-8">
<p>
<a href="#wnoutrefresh"><code>wnoutrefresh()</code></a>, <a href="#refresh"><code>refresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-36" class="outline-3">
<h3 id="sec-18-36"><code>dupwin(win)</code>                                                      <a id="dupwin" name="dupwin"></a></h3>
<div class="outline-text-3" id="text-18-36">
<p>
The <code>dupwin()</code> function creates an exact duplicate of a window. The
new window is of the same size and at the same location as the
original window.
</p>
</div>

<div id="outline-container-sec-18-36-1" class="outline-4">
<h4 id="sec-18-36-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-36-1">
<div class="org-src-container">

<pre class="src src-c">WINDOW *dupwin(WINDOW *win);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-36-2" class="outline-4">
<h4 id="sec-18-36-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-36-2">
<p>
<code>win</code> is a <code>WINDOW</code> pointer variable, indicating a window
previously created in the program.
</p>
</div>
</div>

<div id="outline-container-sec-18-36-3" class="outline-4">
<h4 id="sec-18-36-3">Return Value</h4>
<div class="outline-text-4" id="text-18-36-3">
<p>
The function returns a pointer to a <code>WINDOW</code> variable, which is
the exact duplicate of the original win. If there is a problem,
<code>NULL</code> is returned.
</p>
</div>
</div>

<div id="outline-container-sec-18-36-4" class="outline-4">
<h4 id="sec-18-36-4">Notes</h4>
<div class="outline-text-4" id="text-18-36-4">
<p>
Unlike a window created by using the <code>newwin()</code> function, a window
created using <code>dupwin()</code> inherits the text and attributes from the
original window, as well as input modes and filters, such as
<code>keypad()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-36-5" class="outline-4">
<h4 id="sec-18-36-5">Example</h4>
<div class="outline-text-4" id="text-18-36-5">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr">1: </span>doppelganger = dupwin(original);
</pre>
</div>

<p>
This statement creates a new window, <code>doppelganger</code>, an exact
duplicate of window <code>original</code>. If the operation is a success,
then <code>doppelganger</code> is of the same size and at the same location
as <code>original</code>, and it has the same contents. If the operation
fails, <code>doppelganger</code> is <code>NULL</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-36-6" class="outline-4">
<h4 id="sec-18-36-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-36-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">alpha</span>,*<span style="color: #eedd82;">beta</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  start_color();
<span class="linenr">10: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">11: </span>  init_pair(2,COLOR_WHITE,COLOR_RED);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create and populate the original window </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  alpha = newwin(5,30,0,0);
<span class="linenr">15: </span>  wbkgd(alpha,COLOR_PAIR(1));
<span class="linenr">16: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;75;x++)
<span class="linenr">17: </span>    wprintw(alpha,<span style="color: #ffa07a;">"O "</span>);
<span class="linenr">18: </span>  wrefresh(alpha);
<span class="linenr">19: </span>  wgetch(alpha);
<span class="linenr">20: </span>
<span class="linenr">21: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">duplicate window alpha to window beta </span><span style="color: #ff4500;">*/</span>
<span class="linenr">22: </span>  beta = dupwin(alpha);
<span class="linenr">23: </span>  <span style="color: #00ffff;">if</span>( beta == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">24: </span>    {
<span class="linenr">25: </span>      endwin();
<span class="linenr">26: </span>      puts(<span style="color: #ffa07a;">"Error creating duplicate window"</span>);
<span class="linenr">27: </span>      <span style="color: #00ffff;">return</span> 1;
<span class="linenr">28: </span>    }
<span class="linenr">29: </span>
<span class="linenr">30: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">move new window and change color </span><span style="color: #ff4500;">*/</span>
<span class="linenr">31: </span>  mvwin(beta,10,40);
<span class="linenr">32: </span>  wbkgd(beta,COLOR_PAIR(2));
<span class="linenr">33: </span>  mvwaddstr(alpha,0,0,<span style="color: #ffa07a;">"This is window Alpha!"</span>);
<span class="linenr">34: </span>  mvwaddstr(beta,0,0,<span style="color: #ffa07a;">"This is window Beta!"</span>);
<span class="linenr">35: </span>  wrefresh(alpha);
<span class="linenr">36: </span>  wrefresh(beta);
<span class="linenr">37: </span>  wgetch(beta);
<span class="linenr">38: </span>
<span class="linenr">39: </span>  endwin();
<span class="linenr">40: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">41: </span>}
</pre>
</div>

<p>
The sample output is shown in <a href="#Figure-A-3">Figure A-3</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-3" name="Figure-A-3">Figure A-3</a> </dt><dd>Window Alpha and its duplicate, Beta


<div class="figure">
<p><img src="img/FigureA-3.jpg" alt="FigureA-3.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-36-7" class="outline-4">
<h4 id="sec-18-36-7">Also See</h4>
<div class="outline-text-4" id="text-18-36-7">
<p>
<a href="#chapter_10">Chapter 10</a>, <a href="#newwin"><code>newwin()</code></a>, <a href="#copywin"><code>copywin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-37" class="outline-3">
<h3 id="sec-18-37"><code>echo()</code>                                                           <a id="echo" name="echo"></a></h3>
<div class="outline-text-3" id="text-18-37">
<p>
The <code>echo()</code> and <code>noecho()</code> functions control the behavior of
NCurses text input functions, <code>getch()</code> and <code>getstr()</code>. When
<code>echo()</code> is set, the <code>getch()</code> function displays (echoes)
characters typed to the screen. When <code>noecho()</code> is set, <code>getch()</code>
does not display the text typed.
</p>
</div>

<div id="outline-container-sec-18-37-1" class="outline-4">
<h4 id="sec-18-37-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-37-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">echo</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">noecho</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-37-2" class="outline-4">
<h4 id="sec-18-37-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-37-2">
<p>
echo() enables echoing of input text.
</p>

<p>
<code>noecho()</code> directs NCurses to suppress the local echo of input
text.
</p>

<p>
Both functions lack an argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-37-3" class="outline-4">
<h4 id="sec-18-37-3">Return Value</h4>
<div class="outline-text-4" id="text-18-37-3">
<p>
<code>OK</code> upon success, <code>ERR</code> on failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-37-4" class="outline-4">
<h4 id="sec-18-37-4">Notes</h4>
<div class="outline-text-4" id="text-18-37-4">
<p>
Echo mode is initially set on in a new window.
</p>

<p>
It's useful to use <code>noecho()</code> when your program processes its own
input (such as in an editor) or when the display of text isn't
needed, as in a game.
</p>

<p>
<code>noecho()</code> does not hide the cursor. Refer to <a href="#curs_set"><code>curs_set()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-37-5" class="outline-4">
<h4 id="sec-18-37-5">Examples</h4>
<div class="outline-text-4" id="text-18-37-5">
<div class="org-src-container">

<pre class="src src-c">echo();
</pre>
</div>

<p>
This statement directs NCurses to turn on the echo of text to the
screen for input during the <code>getch()</code>, <code>getstr()</code> and related
functions.
</p>

<div class="org-src-container">

<pre class="src src-c">noecho();
</pre>
</div>

<p>
This statement disables the display of text to the screen for the
<code>getch()</code>, <code>getstr()</code>, and related text input functions.
</p>
</div>
</div>

<div id="outline-container-sec-18-37-6" class="outline-4">
<h4 id="sec-18-37-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-37-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ctype.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 5: </span>{
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"Normally echo is on. Type your name and press Enter:\n"</span>);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  <span style="color: #00ffff;">while</span>( getch() != <span style="color: #ffa07a;">'\n'</span>)
<span class="linenr">12: </span>    ;
<span class="linenr">13: </span>
<span class="linenr">14: </span>  mvaddstr(2,0,<span style="color: #ffa07a;">"Now echo is off. Type your name and press Enter:\n"</span>);
<span class="linenr">15: </span>  refresh();
<span class="linenr">16: </span>  noecho();
<span class="linenr">17: </span>  <span style="color: #00ffff;">while</span>( getch() != <span style="color: #ffa07a;">'\n'</span>)
<span class="linenr">18: </span>    ;
<span class="linenr">19: </span>
<span class="linenr">20: </span>  mvaddstr(4,0,<span style="color: #ffa07a;">"Echo is still off, but input is being displayed\n"</span>);
<span class="linenr">21: </span>  addstr(<span style="color: #ffa07a;">"and manipulated manually. Type your name and press Enter:\n"</span>);
<span class="linenr">22: </span>  <span style="color: #00ffff;">do</span>
<span class="linenr">23: </span>    {
<span class="linenr">24: </span>      ch = getch();
<span class="linenr">25: </span>      addch(toupper(ch));
<span class="linenr">26: </span>      refresh();
<span class="linenr">27: </span>    } <span style="color: #00ffff;">while</span>( ch != <span style="color: #ffa07a;">'\n'</span>);
<span class="linenr">28: </span>
<span class="linenr">29: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to quit:"</span>);
<span class="linenr">30: </span>  refresh();
<span class="linenr">31: </span>  getch();
<span class="linenr">32: </span>
<span class="linenr">33: </span>  endwin();
<span class="linenr">34: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">35: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-37-6-1" class="outline-5">
<h5 id="sec-18-37-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-37-6-1">
<pre class="example">
Normally echo is on. Type your name and press Enter:
Joe Bazooka
</pre>

<p>
With <code>echo()</code> set, text displays as it normally does.
</p>

<pre class="example">
Now echo is off. Type your name and press Enter:
</pre>

<p>
When <code>noecho()</code> is set, nothing appears during input.
</p>

<pre class="example">
Echo is still off, but input is being displayed
and manipulated manually. Type your name and press Enter:
JOE BAZOOKA
</pre>

<p>
The <code>noecho()</code> mode is still active, but above the program
provides its own, modified output.
</p>

<pre class="example">
Press Enter to quit:
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-37-7" class="outline-4">
<h4 id="sec-18-37-7">Also See</h4>
<div class="outline-text-4" id="text-18-37-7">
<p>
<a href="#getch"><code>getch()</code></a>, <a href="#getstr"><code>getstr()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-38" class="outline-3">
<h3 id="sec-18-38"><code>echochar()</code>                                                       <a id="echochar" name="echochar"></a></h3>
<div class="outline-text-3" id="text-18-38">
<p>
The <code>echochar()</code> function provides improved performance in
displaying single characters.
</p>
</div>

<div id="outline-container-sec-18-38-1" class="outline-4">
<h4 id="sec-18-38-1">Explanation</h4>
<div class="outline-text-4" id="text-18-38-1">
<p>
<code>echochar()</code> is basically a combined version of the <code>addch()</code> and
<code>refresh()</code> functions, yet it's more efficient than using those
two functions separately. For output of multiple single characters
to a window, <code>echochar()</code> is best.
</p>
</div>
</div>

<div id="outline-container-sec-18-38-2" class="outline-4">
<h4 id="sec-18-38-2">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-38-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">echochar</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wechochar</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-38-3" class="outline-4">
<h4 id="sec-18-38-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-38-3">
<p>
<code>ch</code> is an NCurses <code>chtype</code> character â a <code>long int</code> value that
combines a single character with optional attributes. Refer to
<a href="#appendix_c">Appendix C</a>.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> entry elsewhere in this appendix for information
on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-38-4" class="outline-4">
<h4 id="sec-18-38-4">Return Value</h4>
<div class="outline-text-4" id="text-18-38-4">
<p>
<code>ERR</code> upon failure, or <code>OK</code> on success.
</p>
</div>
</div>

<div id="outline-container-sec-18-38-5" class="outline-4">
<h4 id="sec-18-38-5">Notes</h4>
<div class="outline-text-4" id="text-18-38-5">
<p>
While <code>echochar()</code> is more efficient for placing text on the
screen on character at a time, it is not as efficient when it
comes to placing control characters.
</p>

<p>
The notes for <code>addch()</code> also apply to <code>echochar()</code>. See <a href="#addch"><code>addch()</code></a>
for more information.
</p>
</div>
</div>

<div id="outline-container-sec-18-38-6" class="outline-4">
<h4 id="sec-18-38-6">Examples</h4>
<div class="outline-text-4" id="text-18-38-6">
<div class="org-src-container">

<pre class="src src-c">echochar(vch);
</pre>
</div>

<p>
This statement places the character and formatting saved in the
chtype variable <code>vch</code> on the screen.
</p>

<div class="org-src-container">

<pre class="src src-c">echochar(<span style="color: #ffa07a;">'H'</span> | A_BOLD);
</pre>
</div>

<p>
Here, a bold <code>H</code> is placed on the screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-38-7" class="outline-4">
<h4 id="sec-18-38-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-38-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text</span>[] = <span style="color: #ffa07a;">"Hello there, handsome!"</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">t</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  t = text;
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  <span style="color: #00ffff;">while</span>(*t)
<span class="linenr">12: </span>    echochar(*t++);
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  endwin();
<span class="linenr">16: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">17: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-38-7-1" class="outline-5">
<h5 id="sec-18-38-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-38-7-1">
<pre class="example">
Hello there, handsome!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-38-8" class="outline-4">
<h4 id="sec-18-38-8">Also See</h4>
<div class="outline-text-4" id="text-18-38-8">
<p>
<a href="#addch"><code>addch()</code></a>, <a href="#refresh"><code>refresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-39" class="outline-3">
<h3 id="sec-18-39"><code>endwin()</code>                                                         <a id="endwin" name="endwin"></a></h3>
<div class="outline-text-3" id="text-18-39">
<p>
The <code>endwin()</code> function is used to end a NCurses program, returning
terminal operation to normal.
</p>
</div>

<div id="outline-container-sec-18-39-1" class="outline-4">
<h4 id="sec-18-39-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-39-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">endwin</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-39-2" class="outline-4">
<h4 id="sec-18-39-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-39-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-39-3" class="outline-4">
<h4 id="sec-18-39-3">Return Value</h4>
<div class="outline-text-4" id="text-18-39-3">
<p>
<code>OK</code> upon success, <code>ERR</code> on not success.
</p>
</div>
</div>

<div id="outline-container-sec-18-39-4" class="outline-4">
<h4 id="sec-18-39-4">Notes</h4>
<div class="outline-text-4" id="text-18-39-4">
<p>
<code>endwin()</code> is required at the end of a NCurses program to undo
what was done by either <code>initscr()</code> or <code>newterm()</code>, and to restore
terminal behavior.
</p>

<p>
The <code>endwin()</code> function does not remove windows or other data
structures from memory.
</p>

<p>
It's possible to use <code>endwin()</code> merely as a way to escape from
NCurses visual mode and briefly return to tty mode. To restore
NCurses operations, merely call <code>refresh()</code> or <code>doupdate()</code>. But
you must still call <code>endwin()</code> again when the NCurses program is
done. (See the Sample Programs.)
</p>

<p>
This function does move the cursor. After calling <code>endwin()</code>, the
cursor is placed on the lower-left corner of the screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-39-5" class="outline-4">
<h4 id="sec-18-39-5">Example</h4>
<div class="outline-text-4" id="text-18-39-5">
<div class="org-src-container">

<pre class="src src-c">endwin();
</pre>
</div>

<p>
This statement restores normal terminal operation.
</p>
</div>
</div>

<div id="outline-container-sec-18-39-6" class="outline-4">
<h4 id="sec-18-39-6">Sample Program #1</h4>
<div class="outline-text-4" id="text-18-39-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  addstr(<span style="color: #ffa07a;">"Now you're in NCurses.\n"</span>);
<span class="linenr"> 8: </span>  refresh();
<span class="linenr"> 9: </span>  getch();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  endwin();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  fputs(<span style="color: #ffa07a;">"Now you're not in NCurses.\n"</span>,stdout);
<span class="linenr">14: </span>  fflush(stdout);
<span class="linenr">15: </span>  getch();
<span class="linenr">16: </span>
<span class="linenr">17: </span>  addstr(<span style="color: #ffa07a;">"Now you're back in NCurses again.\n"</span>);
<span class="linenr">18: </span>  refresh();
<span class="linenr">19: </span>  getch();
<span class="linenr">20: </span>
<span class="linenr">21: </span>  endwin();
<span class="linenr">22: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">23: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-39-6-1" class="outline-5">
<h5 id="sec-18-39-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-39-6-1">
<pre class="example">
Now you're in NCurses.
</pre>

<p>
Press Enter and you'll see the tty screen:
</p>

<pre class="example">
Now you're not in NCurses.
</pre>

<p>
Press Enter and you're returned to NCurses:
</p>

<pre class="example">
Now you're in NCurses
Now you're back in NCurses again.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-39-7" class="outline-4">
<h4 id="sec-18-39-7">Sample Program #2</h4>
<div class="outline-text-4" id="text-18-39-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 5: </span>{
<span class="linenr"> 6: </span>  initscr();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to go to the shell....:\n"</span>);
<span class="linenr"> 9: </span>  refresh();
<span class="linenr">10: </span>  getch();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  endwin();
<span class="linenr">13: </span>  system(<span style="color: #ffa07a;">"`echo $SHELL`"</span>);
<span class="linenr">14: </span>
<span class="linenr">15: </span>  addstr(<span style="color: #ffa07a;">"Back safe and sound....\n"</span>);
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>  getch();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  endwin();
<span class="linenr">20: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">21: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-39-7-1" class="outline-5">
<h5 id="sec-18-39-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-39-7-1">
<pre class="example">
Press Enter to go to the shell....:
</pre>

<p>
Press Enter and you'll see your shell prompt displayed. Type
<b>exit</b> to return to the NCurses program, and:
</p>

<pre class="example">
Press Enter to go to the shell....:
Back safe and sound....
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-39-8" class="outline-4">
<h4 id="sec-18-39-8">Also See</h4>
<div class="outline-text-4" id="text-18-39-8">
<p>
<a href="#initscr"><code>initscr()</code></a>, <a href="#newterm"><code>newterm()</code></a>, <a href="#isendwin"><code>isendwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-40" class="outline-3">
<h3 id="sec-18-40"><code>erase()</code>                                                          <a id="erase" name="erase"></a></h3>
<div class="outline-text-3" id="text-18-40">
<p>
The <code>clear()</code> function clears the screen or named window, writing
blanks, or space characters, to every screen position.
</p>
</div>

<div id="outline-container-sec-18-40-1" class="outline-4">
<h4 id="sec-18-40-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-40-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">erase</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">werase</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-40-2" class="outline-4">
<h4 id="sec-18-40-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-40-2">
<p>
The <code>erase()</code> function has no arguments. It's a pseudo function
that affects only the standard screen.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> prefix entry later in this appendix for
information on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-40-3" class="outline-4">
<h4 id="sec-18-40-3">Return Value</h4>
<div class="outline-text-4" id="text-18-40-3">
<p>
Always returns <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-40-4" class="outline-4">
<h4 id="sec-18-40-4">Notes</h4>
<div class="outline-text-4" id="text-18-40-4">
<p>
You don't see the window erased until a call to <code>refresh()</code>
updates the window.
</p>

<p>
Clearing the screen also homes the cursor; after the <code>erase()</code>
function, the cursor is placed at location 0, 0.
</p>

<p>
The <code>erase()</code> function removes only characters and their
attributes. It does not affect the background character and its
attributes. If a background character is set via <code>bkgd()</code> or
<code>bkgdset()</code>, then that character will show up in the blanks
<code>erase()</code> fills the screen with.
</p>

<p>
<code>erase()</code> is the same as <code>werase(stdscr)</code>.
</p>

<p>
The <code>erase()</code> function is visually the same as the <code>clear()</code>
function; however, <code>clear()</code> also calls the <code>clearok()</code> function
to enforce the erasure and redisplay of the screen.
</p>

<p>
Because of the overhead involved with <code>clear()</code>, <code>erase()</code> is the
quicker of the two functions, though on many terminals the speed
difference is negligible.
</p>
</div>
</div>

<div id="outline-container-sec-18-40-5" class="outline-4">
<h4 id="sec-18-40-5">Examples</h4>
<div class="outline-text-4" id="text-18-40-5">
<div class="org-src-container">

<pre class="src src-c">erase();
</pre>
</div>

<p>
The statement erases the standard screen.
</p>

<div class="org-src-container">

<pre class="src src-c">werase(sidebar);
</pre>
</div>

<p>
The statement clears away the text in the window <code>sidebar</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-40-6" class="outline-4">
<h4 id="sec-18-40-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-40-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>,<span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">cmax</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">10: </span>  cmax = (x * y) / 5;
<span class="linenr">11: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;cmax;c++) addstr(<span style="color: #ffa07a;">"blah "</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  erase();           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">clear the screen   </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>  refresh();         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">don't forget this! </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>  getch();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  endwin();
<span class="linenr">20: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">21: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-40-6-1" class="outline-5">
<h5 id="sec-18-40-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-40-6-1">
<p>
The screen is filled with the text <code>blah blah blah</code>. Pressing the
Enter key clears the screen.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-40-7" class="outline-4">
<h4 id="sec-18-40-7">Also See</h4>
<div class="outline-text-4" id="text-18-40-7">
<p>
<a href="#chapter_6">Chapter 6</a>, <a href="#clear"><code>clear()</code></a>, <a href="#refresh"><code>refresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-41" class="outline-3">
<h3 id="sec-18-41"><code>erasechar()</code>                                                      <a id="erasechar" name="erasechar"></a></h3>
<div class="outline-text-3" id="text-18-41">
<p>
The <code>erasechar()</code> function returns whatever character or character
code currently serves as the terminal's Erasechar, or <code>ERASE</code>, key.
</p>
</div>

<div id="outline-container-sec-18-41-1" class="outline-4">
<h4 id="sec-18-41-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-41-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">char</span> <span style="color: #87cefa;">erasechar</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-41-2" class="outline-4">
<h4 id="sec-18-41-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-41-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-41-3" class="outline-4">
<h4 id="sec-18-41-3">Return Value</h4>
<div class="outline-text-4" id="text-18-41-3">
<p>
A <code>char</code> value is returned, indicating the terminal's currently
set Erasechar.
</p>
</div>
</div>

<div id="outline-container-sec-18-41-4" class="outline-4">
<h4 id="sec-18-41-4">Notes</h4>
<div class="outline-text-4" id="text-18-41-4">
<p>
The Erasechar is the key or key combination you press to back up
and erase text at the command prompt. On the keyboard it could be
Del, Backspace, Rubout, Ctrl+H or <code>^H</code>, code 0x7F or <code>^?</code>, or what
have you.
</p>

<p>
The <code>getstr()</code> functions properly interpret the Erasechar. Other
input functions can use the <code>erasechar()</code> function to determine
which character is the Erasechar and then programming can be used
to adjust behavior appropriately. (Or just use <code>getstr()</code>
instead.)
</p>

<p>
The <code>cbreak()</code> and <code>raw()</code> modes modify NCurses input functions to
ignore the Erasechar key's function. When Erasechar is input, it's
treated just like any other character, typically displayed on the
screen in the <code>^c</code> format.
</p>

<p>
The <code>unctrl()</code> function can be used to translate a control code,
such as the code used for Erasechar, into the displayable <code>^c</code>
format.
</p>
</div>
</div>

<div id="outline-container-sec-18-41-5" class="outline-4">
<h4 id="sec-18-41-5">Example</h4>
<div class="outline-text-4" id="text-18-41-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>( ch == echochar())
</pre>
</div>

<p>
The <code>if</code> condition tests true when the value of variable <code>ch</code> is
the same as the terminal's Erasechar.
</p>
</div>
</div>

<div id="outline-container-sec-18-41-6" class="outline-4">
<h4 id="sec-18-41-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-41-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  ch = erasechar();
<span class="linenr">10: </span>  printw(<span style="color: #ffa07a;">"The Erasechar is 0x%02x or %s\n"</span>,ch,unctrl(ch));
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  getch();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  endwin();
<span class="linenr">15: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">16: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-41-6-1" class="outline-5">
<h5 id="sec-18-41-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-41-6-1">
<pre class="example">
The Erasechar is 0x7f or ^?
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-41-7" class="outline-4">
<h4 id="sec-18-41-7">Also See</h4>
<div class="outline-text-4" id="text-18-41-7">
<p>
<a href="#killchar"><code>killchar()</code></a>, <a href="#cbreak"><code>cbreak()</code></a>, <a href="#raw"><code>raw()</code></a>, <a href="#unctrl"><code>unctrl()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-42" class="outline-3">
<h3 id="sec-18-42"><code>ERR</code>                                                              <a id="ERR" name="ERR"></a></h3>
<div class="outline-text-3" id="text-18-42">
<p>
NCurses uses the <code>int</code> value <code>ERR</code> as a return value for functions
that have not or are unable to complete their tasks.
</p>
</div>

<div id="outline-container-sec-18-42-1" class="outline-4">
<h4 id="sec-18-42-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-42-1">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-42-2" class="outline-4">
<h4 id="sec-18-42-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-42-2">
<p>
<code>ERR</code> can be used like any other constant, though it is most often
found in a comparison:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>( function() == ERR)
</pre>
</div>

<p>
Or if the return value from a function is saved in a variable,
<code>r</code>:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>( r == ERR)
</pre>
</div>

<p>
Or:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">while</span>( function() == ERR)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-42-3" class="outline-4">
<h4 id="sec-18-42-3">Return Value</h4>
<div class="outline-text-4" id="text-18-42-3">
<p>
The value of <code>ERR</code> is set in <code>ncurses.h</code> to -1.
</p>
</div>
</div>

<div id="outline-container-sec-18-42-4" class="outline-4">
<h4 id="sec-18-42-4">Notes</h4>
<div class="outline-text-4" id="text-18-42-4">
<p>
Not every function returns <code>ERR</code> on failure. Some don't return
anything; others may return <code>NULL</code> or have some other factor used
to determine the function's failure.
</p>

<p>
<code>ERR</code>'s counterpart is the <code>OK</code> constant. See <a href="#OK"><code>OK</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-42-5" class="outline-4">
<h4 id="sec-18-42-5">Examples</h4>
<div class="outline-text-4" id="text-18-42-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>( touchwin(menu) == ERR)
</pre>
</div>

<p>
The statement works out to be true when the <code>touchwin()</code> function
fails.
</p>

<div class="org-src-container">

<pre class="src src-c">nodelay(stdscr,TRUE);
<span style="color: #00ffff;">while</span>( getch() == ERR)
</pre>
</div>

<p>
Here, the <code>while</code> loop continues to spin as long as no key is
touched on the keyboard.
</p>
</div>
</div>

<div id="outline-container-sec-18-42-6" class="outline-4">
<h4 id="sec-18-42-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-42-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span> = 0,<span style="color: #eedd82;">x</span> = 0, <span style="color: #eedd82;">r</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"You Move The Cursor!\n"</span>);
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"Enter the Y (row) coordinate: "</span>);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  scanw(<span style="color: #ffa07a;">"%d"</span>,&amp;y);
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"Enter the X (column) coordinate: "</span>);
<span class="linenr">14: </span>  refresh();
<span class="linenr">15: </span>  scanw(<span style="color: #ffa07a;">"%d"</span>,&amp;x);
<span class="linenr">16: </span>
<span class="linenr">17: </span>  r = move(y,x);
<span class="linenr">18: </span>  <span style="color: #00ffff;">if</span>(r == ERR)
<span class="linenr">19: </span>    mvaddstr(3,0,<span style="color: #ffa07a;">"You cannot move the cursor there!"</span>);
<span class="linenr">20: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">21: </span>    {
<span class="linenr">22: </span>      mvaddstr(3,0,<span style="color: #ffa07a;">"You have moved the cursor!"</span>);
<span class="linenr">23: </span>      move(y,x);
<span class="linenr">24: </span>    }
<span class="linenr">25: </span>  refresh();
<span class="linenr">26: </span>  getch();
<span class="linenr">27: </span>
<span class="linenr">28: </span>  endwin();
<span class="linenr">29: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">30: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-42-6-1" class="outline-5">
<h5 id="sec-18-42-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-42-6-1">
<pre class="example">
You Move The Cursor!
Enter the Y (row) coordinate: 12
Enter the X (column) coordinate: 40
You have moved the cursor!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-42-7" class="outline-4">
<h4 id="sec-18-42-7">Also See</h4>
<div class="outline-text-4" id="text-18-42-7">
<p>
<a href="#OK"><code>OK</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-43" class="outline-3">
<h3 id="sec-18-43"><code>FALSE</code>                                                            <a id="FALSE" name="FALSE"></a></h3>
<div class="outline-text-3" id="text-18-43">
<p>
NCurses uses the Boolean value <code>FALSE</code> for comparisons, for setting
options, as a value returned from specific functions.
</p>
</div>

<div id="outline-container-sec-18-43-1" class="outline-4">
<h4 id="sec-18-43-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-43-1">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-43-2" class="outline-4">
<h4 id="sec-18-43-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-43-2">
<p>
<code>FALSE</code> is used in one of many ways:
</p>

<div class="org-src-container">

<pre class="src src-c">function([arg(s)],FALSE)
</pre>
</div>

<p>
Some functions use <code>FALSE</code> as shown above to reset an option in a
NCurses function.
</p>

<div class="org-src-container">

<pre class="src src-c">var = function([arg(s)])
</pre>
</div>

<p>
The value <code>FALSE</code> may be returned by some NCurses
functions. Above, the value of var could be either <code>TRUE</code> or
<code>FALSE</code>. <code>var</code> is a <code>bool</code> variable type.
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>( eval == FALSE)
<span style="color: #00ffff;">while</span>([eval ==] FALSE)
</pre>
</div>

<p>
The value <code>FALSE</code> can be used in comparisons, as shown above.
</p>

<p>
Functions that return <code>FALSE</code> can also be used immediately inside
comparisons:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>( function([arg(s)] )
<span style="color: #00ffff;">while</span>( function([arg(s)] )
</pre>
</div>

<p>
Here, when the function returns a <code>FALSE</code> value, the program
responds accordingly.
</p>
</div>
</div>

<div id="outline-container-sec-18-43-3" class="outline-4">
<h4 id="sec-18-43-3">Return Value</h4>
<div class="outline-text-4" id="text-18-43-3">
<p>
The value of <code>FALSE</code> is set in <code>ncurses.h</code> to zero.
</p>
</div>
</div>

<div id="outline-container-sec-18-43-4" class="outline-4">
<h4 id="sec-18-43-4">Notes</h4>
<div class="outline-text-4" id="text-18-43-4">
<p>
The logical opposite of <code>FALSE</code> is <code>TRUE</code>. Functions that use or
return <code>FALSE</code> can equally use or return <code>TRUE</code>, depending on the
situation. Refer to the Notes under the <a href="#TRUE"><code>TRUE</code></a> entry later in this
Appendix, for a list of NCurses functions that use the value
<code>FALSE</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-43-5" class="outline-4">
<h4 id="sec-18-43-5">Examples</h4>
<div class="outline-text-4" id="text-18-43-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(can_change_color())
</pre>
</div>

<p>
Here, if evaluates the results of the <code>can_change_color()</code>
function. If <code>FALSE</code> is returned, then the terminal cannot use
custom colors for text attributes.
</p>

<div class="org-src-container">

<pre class="src src-c">meta(stdscr,FALSE);
</pre>
</div>

<p>
This function truncates text input from the standard screen to
7-bits wide instead of 8. (See <a href="#meta"><code>meta()</code></a>.)
</p>
</div>
</div>

<div id="outline-container-sec-18-43-6" class="outline-4">
<h4 id="sec-18-43-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-43-6">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>

<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
{
  <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">tf</span>;
  initscr();

  tf = has_colors();
  <span style="color: #00ffff;">if</span>( tf == FALSE)
    addstr(<span style="color: #ffa07a;">"This terminal cannot do colors.\n"</span>);
  <span style="color: #00ffff;">else</span>
    addstr(<span style="color: #ffa07a;">"This terminal can do colors.\n"</span>);
  refresh();
  getch();

  endwin();
  <span style="color: #00ffff;">return</span> 0;
}
</pre>
</div>
</div>

<div id="outline-container-sec-18-43-6-1" class="outline-5">
<h5 id="sec-18-43-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-43-6-1">
<pre class="example">
This terminal can do colors.
</pre>

<p>
Or:
</p>

<pre class="example">
This terminal cannot do colors.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-43-7" class="outline-4">
<h4 id="sec-18-43-7">Also See</h4>
<div class="outline-text-4" id="text-18-43-7">
<p>
<a href="#TRUE"><code>TRUE</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-44" class="outline-3">
<h3 id="sec-18-44"><code>filter()</code>                                                         <a id="filter" name="filter"></a></h3>
<div class="outline-text-3" id="text-18-44">
<p>
The <code>filter()</code> function restricts all of NCurses output to only one
line on the screen.
</p>
</div>

<div id="outline-container-sec-18-44-1" class="outline-4">
<h4 id="sec-18-44-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-44-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">filter</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-44-2" class="outline-4">
<h4 id="sec-18-44-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-44-2">
<p>
Nothing ventured.
</p>
</div>
</div>

<div id="outline-container-sec-18-44-3" class="outline-4">
<h4 id="sec-18-44-3">Return Value</h4>
<div class="outline-text-4" id="text-18-44-3">
<p>
Nothing gained.
</p>
</div>
</div>

<div id="outline-container-sec-18-44-4" class="outline-4">
<h4 id="sec-18-44-4">Notes</h4>
<div class="outline-text-4" id="text-18-44-4">
<p>
<code>filter()</code> must be used before the <code>initscr()</code> or <code>newterm()</code>
function that initializes NCurses.
</p>

<p>
The <code>filter()</code> function disables some of the terminal's cursor
movement commands, specifically those that move the cursor up or
down or to the home position. In fact, the terminal command to
home the cursor is reinterpreted as a simple carriage return when
the <code>filter()</code> is active.
</p>

<p>
The documentation describes <code>filter()</code> as disabling the cursor
movement commands described in <a href="#Table-A-5">Table A-5</a>.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-5" name="Table-A-5">Table A-5</a> </dt><dd>Cursor movements disabled by <code>filter()</code>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">NAME</th>
<th scope="col" class="left">TERMCAP</th>
<th scope="col" class="left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>clear</code></td>
<td class="left"><code>cl</code></td>
<td class="left">Clears the screen.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>cud</code></td>
<td class="left"><code>DO</code></td>
<td class="left">Moves the cursor down a given number of lines.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>cud1</code></td>
<td class="left"><code>do</code></td>
<td class="left">Moves the cursor down one line.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>cup</code></td>
<td class="left"><code>cm</code></td>
<td class="left">Moves the cursor to a specific row/column location or to Home.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>cuu</code></td>
<td class="left"><code>UP</code></td>
<td class="left">Moves the cursor up a given number of lines.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>cuu1</code></td>
<td class="left"><code>up</code></td>
<td class="left">Moves the cursor up one line.</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>vpa</code></td>
<td class="left"><code>cv</code></td>
<td class="left">Moves the cursor to row 1.</td>
</tr>
</tbody>
</table>
</dd>
</dl>


<p>
The <code>filter()</code> function sets the value of the <code>LINES</code> constant
to 1.
</p>

<p>
The cursor can be moved to specific locations on the first line
(row zero), but attempts to move the cursor to other lines when
<code>filter()</code> is on results in no text being displayed.
</p>

<p>
The <code>bkgd()</code> functions affect only the current line of the screen
when <code>filter()</code> is on.
</p>

<p>
There is no <code>nofilter()</code> function to reverse this function. To
undo the <code>filter()</code> effects, open the terminal again with
<code>newterm()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-44-5" class="outline-4">
<h4 id="sec-18-44-5">Example</h4>
<div class="outline-text-4" id="text-18-44-5">
<div class="org-src-container">

<pre class="src src-c">filter();
initscr();
</pre>
</div>

<p>
These statements direct NCurses to limit its output to only the
top line of the screen, or to format the output for a terminal
that can display or print only one line of text at a time.
</p>
</div>
</div>

<div id="outline-container-sec-18-44-6" class="outline-4">
<h4 id="sec-18-44-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-44-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">name</span>[80];
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  filter();
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"With the filter on, all of NCurses fits on only\n"</span>);
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"one line of the screen.\n"</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  mvaddstr(0,0,<span style="color: #ffa07a;">"Enter your name: "</span>);
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>  getnstr(name,79);
<span class="linenr">18: </span>  mvprintw(0,0,<span style="color: #ffa07a;">"Pleased to meet you, %s!\n"</span>,name);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  endwin();
<span class="linenr">23: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">24: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-44-6-1" class="outline-5">
<h5 id="sec-18-44-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-44-6-1">
<pre class="example">
With the filter on, all of NCurses fits on only one line of the screen.
</pre>

<p>
Note how both lines of text appear on the same screen line? Press
Enter:
</p>

<pre class="example">
Enter your name: n, all of NCurses fits on only one line of the screen.
</pre>

<p>
The cursor is "homed," but the line isn't erased.
</p>

<p>
Input your name, press Enter and the line will be erased:
</p>

<pre class="example">
Pleased to meet you, Joe Bazooka!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-44-7" class="outline-4">
<h4 id="sec-18-44-7">Also See</h4>
<div class="outline-text-4" id="text-18-44-7">
<p>
<a href="#LINES"><code>LINES</code></a>, <a href="#initscr"><code>initscr()</code></a>, <a href="#newterm"><code>newterm()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-45" class="outline-3">
<h3 id="sec-18-45"><code>flash()</code>                                                          <a id="flash" name="flash"></a></h3>
<div class="outline-text-3" id="text-18-45">
<p>
The <code>flash()</code> function causes the screen to <i>blink</i>, or quickly
display a solid color, then return to normal. This is done as an
attention-getting move, similar to playing a tone over the
computer's speaker.
</p>
</div>

<div id="outline-container-sec-18-45-1" class="outline-4">
<h4 id="sec-18-45-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-45-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">flash</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-45-2" class="outline-4">
<h4 id="sec-18-45-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-45-2">
<p>
The function takes no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-45-3" class="outline-4">
<h4 id="sec-18-45-3">Return Value</h4>
<div class="outline-text-4" id="text-18-45-3">
<p>
Supposedly, if the screen flashes, <code>OK</code> is returned. <code>flash()</code>
returns <code>ERR</code> otherwise. Both <code>OK</code> and <code>ERR</code> are defined in
<code>ncurses.h</code>.
</p>

<p>
Do not rely upon the <code>ERR</code> return value to determine whether or
not the terminal really did flash.
</p>
</div>
</div>

<div id="outline-container-sec-18-45-4" class="outline-4">
<h4 id="sec-18-45-4">Notes</h4>
<div class="outline-text-4" id="text-18-45-4">
<p>
<code>flash()</code> is used mostly an alternative to the <code>beep()</code> function,
specifically designed for situations where noise is undesirable or
for the hearing impaired.
</p>

<p>
This function doesn't work if the terminal has been configured not
to flash.
</p>

<p>
On most monitors, the flash is made of the current text foreground
color.
</p>

<p>
Some terminals may both beep and flash the screen when the
<code>flash()</code> function is used.
</p>
</div>
</div>

<div id="outline-container-sec-18-45-5" class="outline-4">
<h4 id="sec-18-45-5">Example</h4>
<div class="outline-text-4" id="text-18-45-5">
<div class="org-src-container">

<pre class="src src-c">flash();
</pre>
</div>

<p>
And the screen winks at you.
</p>
</div>
</div>

<div id="outline-container-sec-18-45-6" class="outline-4">
<h4 id="sec-18-45-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-45-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  addstr(<span style="color: #ffa07a;">"Press any key to flash:\n"</span>);
<span class="linenr"> 8: </span>  refresh();
<span class="linenr"> 9: </span>  getch();
<span class="linenr">10: </span>  flash();
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"Thanks!\n"</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  endwin();
<span class="linenr">16: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">17: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-45-6-1" class="outline-5">
<h5 id="sec-18-45-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-45-6-1">
<pre class="example">
Press any key to flash:
</pre>

<p>
(Press Enter.)
</p>

<p>
The screen winks at you!
</p>

<pre class="example">
Thanks!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-45-7" class="outline-4">
<h4 id="sec-18-45-7">Also See</h4>
<div class="outline-text-4" id="text-18-45-7">
<p>
<a href="#chapter_3">Chapter 3</a>, <a href="#beep"><code>beep()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-46" class="outline-3">
<h3 id="sec-18-46"><code>flushinp()</code>                                                       <a id="flushinp" name="flushinp"></a></h3>
<div class="outline-text-3" id="text-18-46">
<p>
The <code>flushinp()</code> function clears the keyboard input buffer, or
queue, ensuring that no characters are waiting to be read.
</p>
</div>

<div id="outline-container-sec-18-46-1" class="outline-4">
<h4 id="sec-18-46-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-46-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">flushinp</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-46-2" class="outline-4">
<h4 id="sec-18-46-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-46-2">
<p>
The function takes no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-46-3" class="outline-4">
<h4 id="sec-18-46-3">Return Value</h4>
<div class="outline-text-4" id="text-18-46-3">
<p>
Always <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-46-4" class="outline-4">
<h4 id="sec-18-46-4">Notes</h4>
<div class="outline-text-4" id="text-18-46-4">
<p>
Flushing input is recommended for situations where the user is
posed a vital question. By using <code>flushinp()</code> you ensure that no
stray keys will be read, for example, as input to a critical
yes/no question.
</p>

<p>
You can use the <code>intrflush()</code> function to have keyboard input
flushed when the user presses an interrupt key. See
<i><code>interflush()</code></i>.
</p>
</div>
</div>

<div id="outline-container-sec-18-46-5" class="outline-4">
<h4 id="sec-18-46-5">Example</h4>
<div class="outline-text-4" id="text-18-46-5">
<div class="org-src-container">

<pre class="src src-c">flushinp();
</pre>
</div>

<p>
This statement removes all characters typed and waiting in the
keyboard input queue.
</p>
</div>
</div>

<div id="outline-container-sec-18-46-6" class="outline-4">
<h4 id="sec-18-46-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-46-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">buffer</span>[81];
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"Type on the keyboard whilst I wait...\n"</span>);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  napms(5000);            <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">5 seconds </span><span style="color: #ff4500;">*/</span>
<span class="linenr">12: </span>
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"Here is what you typed:\n"</span>);
<span class="linenr">14: </span>  flushinp();
<span class="linenr">15: </span>  getnstr(buffer,80);
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>
<span class="linenr">18: </span>  endwin();
<span class="linenr">19: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">20: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-46-6-1" class="outline-5">
<h5 id="sec-18-46-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-46-6-1">
<pre class="example">
Type on the keyboard whilst I wait...
</pre>

<p>
There is a pause of 5 seconds while you type.
</p>

<pre class="example">
Here is what you typed:
</pre>

<p>
Nothing is displayed, because the input was flushed. Press Enter.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-46-7" class="outline-4">
<h4 id="sec-18-46-7">Also See</h4>
<div class="outline-text-4" id="text-18-46-7">
<p>
<a href="#chapter_7">Chapter 7</a>, <a href="#intrflush"><code>intrflush()</code></a>, <a href="#qiflush"><code>qiflush()</code></a>, <a href="#typeahead"><code>typeahead()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-47" class="outline-3">
<h3 id="sec-18-47"><code>getbegyx()</code>                                                       <a id="getbegyx" name="getbegyx"></a></h3>
<div class="outline-text-3" id="text-18-47">
<p>
The <code>getbegyx()</code> function returns the upper-left coordinates, the
top-left corner, of the named window.
</p>
</div>

<div id="outline-container-sec-18-47-1" class="outline-4">
<h4 id="sec-18-47-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-47-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">getbegyx</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-47-2" class="outline-4">
<h4 id="sec-18-47-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-47-2">
<p>
<code>win</code> refers to a specific window. It's a <code>WINDOW</code> variable
representing a window or subwindow. (Pads do not have an origin
coordinate.)
</p>

<p>
<code>y</code> and <code>x</code> are <code>int</code> variables that will hold the starting row
and column number of the <code>win</code> window. Row 0, column 0 represents
the upper-left corner of the screen. Note that these are not
pointer variables.
</p>
</div>
</div>

<div id="outline-container-sec-18-47-3" class="outline-4">
<h4 id="sec-18-47-3">Return Value</h4>
<div class="outline-text-4" id="text-18-47-3">
<p>
This function is really a macro and as such its return value
doesn't exist and shouldn't be used.
</p>
</div>
</div>

<div id="outline-container-sec-18-47-4" class="outline-4">
<h4 id="sec-18-47-4">Notes</h4>
<div class="outline-text-4" id="text-18-47-4">
<p>
The <code>y</code> and <code>x</code> values for the standard screen, <code>stdscr</code>, are
always 0, 0.
</p>

<p>
The <code>y</code> and <code>x</code> arguments are not pointers; do not prefix them
with the <code>&amp;</code> operator!
</p>

<p>
The coordinates returned are relative to the standard screen.
</p>

<p>
The other coordinates of the window's right side and bottom can be
calculated by using the <code>getmaxyx()</code> function, the <code>getbegyx()</code>
function, and a modicum of math.
</p>

<p>
To discover the beginning coordinates of a subwindow within a
parent window, use the <code>getparyx()</code> function; see <a href="#getparyx"><code>getparyx()</code></a>.
</p>

<p>
A window's location can be changed. See <a href="#mvwin"><code>mvwin()</code></a>.
</p>

<p>
Pads are not created on the terminal screen, and therefore they do
not have a beginning coordinate or origin.
</p>
</div>
</div>

<div id="outline-container-sec-18-47-5" class="outline-4">
<h4 id="sec-18-47-5">Example</h4>
<div class="outline-text-4" id="text-18-47-5">
<div class="org-src-container">

<pre class="src src-c">getbegyx(menu,mrow,mcol);
</pre>
</div>

<p>
This statement fetches the beginning location of the window <code>menu</code>
and places the row and column coordinates into the <code>mrow</code> and
<code>mcol</code> variables, respectively.
</p>
</div>
</div>

<div id="outline-container-sec-18-47-6" class="outline-4">
<h4 id="sec-18-47-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-47-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">row</span>,<span style="color: #eedd82;">col</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">peri</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr(); noecho();
<span class="linenr"> 9: </span>  start_color();
<span class="linenr">10: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">11: </span>
<span class="linenr">12: </span>  peri = newwin(5,30,2,30);
<span class="linenr">13: </span>  wbkgd(peri,COLOR_PAIR(1));
<span class="linenr">14: </span>  waddstr(peri,<span style="color: #ffa07a;">"I am the peripatetic window"</span>);
<span class="linenr">15: </span>
<span class="linenr">16: </span>  getbegyx(peri,row,col);
<span class="linenr">17: </span>  printw(<span style="color: #ffa07a;">"The origin for window %s is row %d, column %d.\n"</span>,\
<span class="linenr">18: </span>         <span style="color: #ffa07a;">"peri"</span>,row,col);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  wrefresh(peri);
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  wtouchln(stdscr,2,5,1);
<span class="linenr">24: </span>  mvwin(peri,12,40);
<span class="linenr">25: </span>  wrefresh(peri);
<span class="linenr">26: </span>  getbegyx(peri,row,col);
<span class="linenr">27: </span>  printw(<span style="color: #ffa07a;">"The origin for window %s is now row %d, column %d.\n"</span>,\
<span class="linenr">28: </span>         <span style="color: #ffa07a;">"peri"</span>,row,col);
<span class="linenr">29: </span>  refresh();
<span class="linenr">30: </span>  getch();
<span class="linenr">31: </span>
<span class="linenr">32: </span>  endwin();
<span class="linenr">33: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">34: </span>}
</pre>
</div>

<p>
The sample output is shown in <a href="#Figure-A-4">Figure A-4</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-4" name="Figure-A-4">Figure A-4</a> </dt><dd>Window peri's original location


<div class="figure">
<p><img src="img/FigureA-4.jpg" alt="FigureA-4.jpg" />
</p>
</div>
</dd>
</dl>

<p>
Press Enter, and you will see what appears in <a href="#Figure-A-5">Figure A-5</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-5" name="Figure-A-5">Figure A-5</a> </dt><dd>Window peri's final resting place


<div class="figure">
<p><img src="img/FigureA-5.jpg" alt="FigureA-5.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-47-7" class="outline-4">
<h4 id="sec-18-47-7">Also See</h4>
<div class="outline-text-4" id="text-18-47-7">
<p>
<a href="#getparyx"><code>getparyx()</code></a>, <a href="#getmaxyx"><code>getmaxyx()</code></a>, <a href="#mvwin"><code>mvwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-48" class="outline-3">
<h3 id="sec-18-48"><code>getbkgd()</code>                                                        <a id="getbkgd" name="getbkgd"></a></h3>
<div class="outline-text-3" id="text-18-48">
<p>
The <code>getbkgd()</code> function returns the current background attribute
for the name window.
</p>
</div>

<div id="outline-container-sec-18-48-1" class="outline-4">
<h4 id="sec-18-48-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-48-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">chtype</span> <span style="color: #87cefa;">getbkgd</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-48-2" class="outline-4">
<h4 id="sec-18-48-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-48-2">
<p>
<code>win</code> is a <code>WINDOW</code> variable representing a window in NCurses.
</p>
</div>
</div>

<div id="outline-container-sec-18-48-3" class="outline-4">
<h4 id="sec-18-48-3">Return Value</h4>
<div class="outline-text-4" id="text-18-48-3">
<p>
A <code>chtype</code> variable is returned, which includes any characters,
attributes, or color pair applied as the background for the named
window.
</p>

<p>
If the background has not been set, either by <code>bkgd()</code> or
<code>bkgdset()</code>, then <code>getbkgd()</code> returns zero.
</p>
</div>
</div>

<div id="outline-container-sec-18-48-4" class="outline-4">
<h4 id="sec-18-48-4">Notes</h4>
<div class="outline-text-4" id="text-18-48-4">
<p>
Refer to <a href="#attrset"><code>attrset()</code></a> earlier in this appendix for a list of
NCurses attribute constants. Also refer to <a href="#appendix_c">Appendix C</a> for more
information on the <code>chtype</code> variable.
</p>

<p>
It is up to your code to extract information about the specific
formats used from the <code>chtype</code> variable <code>getbkgd()</code> returns.
</p>

<p>
The <code>chtype</code> merely lists the color pair being used for the
background. You can, however, use the <code>pair_content()</code> function to
determine which two colors have been assigned to the color pair.
</p>
</div>
</div>

<div id="outline-container-sec-18-48-5" class="outline-4">
<h4 id="sec-18-48-5">Example</h4>
<div class="outline-text-4" id="text-18-48-5">
<div class="org-src-container">

<pre class="src src-c">bkgdattrib = getbkgd(main);
</pre>
</div>

<p>
Here, a <code>chtype</code> character holding the attributes for the
background of window main is saved in the <code>bkgdattrib</code> variable.
</p>
</div>
</div>

<div id="outline-container-sec-18-48-6" class="outline-4">
<h4 id="sec-18-48-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-48-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>,<span style="color: #eedd82;">a</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">bgchar</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">bgcolor</span>,<span style="color: #eedd82;">x</span>;
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">short</span> <span style="color: #eedd82;">fore</span>,<span style="color: #eedd82;">back</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">colors</span>[8][8] = { <span style="color: #ffa07a;">"Black"</span>, <span style="color: #ffa07a;">"Red"</span>    , <span style="color: #ffa07a;">"Green"</span>, <span style="color: #ffa07a;">"Yellow"</span>,
<span class="linenr">10: </span>                        <span style="color: #ffa07a;">"Blue"</span> , <span style="color: #ffa07a;">"Magenta"</span>, <span style="color: #ffa07a;">"Cyan"</span> , <span style="color: #ffa07a;">"White"</span> };
<span class="linenr">11: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">attribs</span>[15][11] = { <span style="color: #ffa07a;">"Standout"</span>   , <span style="color: #ffa07a;">"Underline"</span>, <span style="color: #ffa07a;">"Reverse"</span>,
<span class="linenr">12: </span>                           <span style="color: #ffa07a;">"Blink"</span>      , <span style="color: #ffa07a;">"Dim"</span>      , <span style="color: #ffa07a;">"Bold"</span>   ,
<span class="linenr">13: </span>                           <span style="color: #ffa07a;">"AltChar"</span>    , <span style="color: #ffa07a;">"Invis"</span>    , <span style="color: #ffa07a;">"Protect"</span>,
<span class="linenr">14: </span>                           <span style="color: #ffa07a;">"Horizontal"</span> , <span style="color: #ffa07a;">"Left"</span>     , <span style="color: #ffa07a;">"Low"</span>    ,
<span class="linenr">15: </span>                           <span style="color: #ffa07a;">"Right"</span>      , <span style="color: #ffa07a;">"Top"</span>      , <span style="color: #ffa07a;">"Vertical"</span> };
<span class="linenr">16: </span>
<span class="linenr">17: </span>  a = 0x10000;
<span class="linenr">18: </span>
<span class="linenr">19: </span>  initscr();
<span class="linenr">20: </span>  start_color();
<span class="linenr">21: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">22: </span>  bkgd(COLOR_PAIR(1) | A_BOLD);
<span class="linenr">23: </span>
<span class="linenr">24: </span>  ch = getbkgd(stdscr);
<span class="linenr">25: </span>
<span class="linenr">26: </span>  bgchar = (ch &amp; A_CHARTEXT);           <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Read character  </span><span style="color: #ff4500;">*/</span>
<span class="linenr">27: </span>  bgcolor = (ch &amp; A_COLOR) &gt;&gt; 8;        <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Read color pair </span><span style="color: #ff4500;">*/</span>
<span class="linenr">28: </span>  pair_content(bgcolor,&amp;fore,&amp;back);    <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Read colors     </span><span style="color: #ff4500;">*/</span>
<span class="linenr">29: </span>
<span class="linenr">30: </span>  printw(<span style="color: #ffa07a;">"Background chtype is 0x%04x\n"</span>,(<span style="color: #98fb98;">unsigned</span>)ch);
<span class="linenr">31: </span>  printw(<span style="color: #ffa07a;">"Background character is 0x%02x or '%c'\n"</span>,\
<span class="linenr">32: </span>         bgchar,bgchar);
<span class="linenr">33: </span>  printw(<span style="color: #ffa07a;">"Background color pair is %d\n"</span>,bgcolor);
<span class="linenr">34: </span>  printw(<span style="color: #ffa07a;">"\tForeground color is %s\n"</span>,colors[fore]);
<span class="linenr">35: </span>  printw(<span style="color: #ffa07a;">"\tBackground color is %s\n"</span>,colors[back]);
<span class="linenr">36: </span>  addstr(<span style="color: #ffa07a;">"Other attributes found:\n"</span>);
<span class="linenr">37: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;15;x++)
<span class="linenr">38: </span>    {
<span class="linenr">39: </span>      <span style="color: #00ffff;">if</span>(a &amp; ch)
<span class="linenr">40: </span>        printw(<span style="color: #ffa07a;">"%s\n"</span>,attribs[x]);
<span class="linenr">41: </span>      a &lt;&lt;= 1;
<span class="linenr">42: </span>    }
<span class="linenr">43: </span>  refresh();
<span class="linenr">44: </span>  getch();
<span class="linenr">45: </span>
<span class="linenr">46: </span>  endwin();
<span class="linenr">47: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">48: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-48-6-1" class="outline-5">
<h5 id="sec-18-48-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-48-6-1">
<pre class="example">
Background chtype is 0x200120
Background character is 0x20 or ' '
Background color pair is 1
        Foreground color is White
        Background color is Blue
Other attributes found:
Bold
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-48-7" class="outline-4">
<h4 id="sec-18-48-7">Also See</h4>
<div class="outline-text-4" id="text-18-48-7">
<p>
<a href="#bkgd"><code>bkgd()</code></a>, <a href="#attr_get"><code>attr_get()</code></a>, <a href="#pair_content"><code>pair_content()</code></a>, <a href="#appendix_c">Appendix C</a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-49" class="outline-3">
<h3 id="sec-18-49"><code>getch()</code>                                                          <a id="getch" name="getch"></a></h3>
<div class="outline-text-3" id="text-18-49">
<p>
The <code>getch()</code> function reads a single character input from the
keyboard.
</p>
</div>

<div id="outline-container-sec-18-49-1" class="outline-4">
<h4 id="sec-18-49-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-49-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">getch</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">wgetch</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvgetch</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwgetch</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-49-2" class="outline-4">
<h4 id="sec-18-49-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-49-2">
<p>
The function has no arguments; refer to the <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and <a href="#w_prefix"><code>w</code></a>
elsewhere in this appendix for more information on the <code>win</code>, <code>y</code>,
and <code>x</code> arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-49-3" class="outline-4">
<h4 id="sec-18-49-3">Return Value</h4>
<div class="outline-text-4" id="text-18-49-3">
<p>
Under typical operation, <code>getch()</code> returns an int value equal to
the key pressed, such as a specific character, symbol, control
code, and so on.
</p>

<p>
When the <code>keypad()</code> function is set <code>TRUE</code> for a specific window,
then a <code>getch()</code> call referencing that window can also return
special keys on the keyboard. Refer to <a href="#appendix_d">Appendix D</a> for a list of
these keys.
</p>

<p>
When the <code>nodelay()</code> function is <code>TRUE</code> for a specific window,
then <code>getch()</code> calls referencing that window return <code>ERR</code> when a
key is not waiting in the input queue. Otherwise the <code>int</code> key
value is returned as normal.
</p>
</div>
</div>

<div id="outline-container-sec-18-49-4" class="outline-4">
<h4 id="sec-18-49-4">Notes</h4>
<div class="outline-text-4" id="text-18-49-4">
<p>
It is not necessary to call <code>refresh()</code> after the <code>getch()</code>
function as <code>getch()</code> naturally echoes its input to the
screen. Also see <a href="#echo"><code>echo()</code></a>.
</p>

<p>
The functions listed in <a href="#Table-A-6">Table A-6</a> affect the behavior and return
value of <code>getch()</code>. (Refer to <code>each</code> entry elsewhere in this
appendix for details.)
</p>

<p>
NCurses has only one input queue; therefore, it may seem bizarre
that <code>wgetch()</code> has a <code>win</code> argument. This argument isn't used to
direct input <i>from</i> a particular window, but rather for the
selective application of specific input filters that can be
assigned to a window. The functions that apply such filtering are:
<code>intrflush()</code>, <code>keypad()</code>, <code>meta()</code>, <code>nodelay()</code>, and
<code>notimeout()</code>, as listed in <a href="#Table-A-6">Table A-6</a>.
</p>

<p>
The <code>wgetch()</code> function also determines which window is checked
for changes and that window is then refreshed For example, by
specifying <code>wgetch(two)</code>, you get a character from the keyboard
<i>and</i> refresh the window <code>two</code>.
</p>

<p>
To apply a window-specific input modification to <code>wgetch()</code>, use
<code>stdscr</code>, the standard screen.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-6" name="Table-A-6">Table A-6</a> </dt><dd>NCurses functions that affect input

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">FUNCTION ON/OFF</th>
<th scope="col" class="left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>cbreak()</code></td>
<td class="left">Disables text input line buffering and erase/kill</td>
</tr>

<tr>
<td class="left"><code>nocbreak()</code></td>
<td class="left">character processing</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>echo()</code></td>
<td class="left">Controls display (echo) of text as its input</td>
</tr>

<tr>
<td class="left"><code>noecho()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>halfdelay()</code></td>
<td class="left">Similar to cbreak mode, though with a timeout value</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>intrflush(win,TRUE)</code></td>
<td class="left">Activates text buffer flush on interrupt key input</td>
</tr>

<tr>
<td class="left"><code>intrflush(win,FALSE)</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>keypad(win,TRUE)</code></td>
<td class="left">Allows special keyboard keys to be input; refer to</td>
</tr>

<tr>
<td class="left"><code>keypad(win,FALSE)</code></td>
<td class="left"><a href="#appendix_d">Appendix D</a></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>meta(win,TRUE)</code></td>
<td class="left">Determines whether 7 or 8 bits of keyboard input</td>
</tr>

<tr>
<td class="left"><code>meta(win,FALSE)</code></td>
<td class="left">are read</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>nodelay(win,TRUE)</code></td>
<td class="left">Transforms <code>getch()</code> into a nonblocking call</td>
</tr>

<tr>
<td class="left"><code>nodelay(win,FALSE)</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>notimeout(win,TRUE)</code></td>
<td class="left">Controls a delay after Esc key press</td>
</tr>

<tr>
<td class="left"><code>notimeout(win,FALSE)</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>raw()</code></td>
<td class="left">Disables all keyboard buffering and key traps;</td>
</tr>

<tr>
<td class="left"><code>noraw()</code></td>
<td class="left">enters <i>raw mode</i> text processing</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>qiflush()</code></td>
<td class="left">Flushes input on the <code>SUSP</code>, <code>QUIT</code>, and <code>INTR</code> keys</td>
</tr>

<tr>
<td class="left"><code>noqiflush()</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>timeout(delay)</code></td>
<td class="left">Similar to cbreak (and halfdelay) mode but with a</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">variable timeout value</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>typeahead()</code></td>
<td class="left">Enables/disables typeahead interrupt on refresh</td>
</tr>
</tbody>
</table>
</dd>
</dl>


<p>
The <code>echo()/noecho()</code> functions control whether or not <code>getch()</code>
displays its input on the screen. Normally, <code>getch()</code> displays
each character typed as its input; no <code>refresh()</code> is required.
</p>

<p>
To turn <code>getch()</code> into a non-blocking call (meaning <code>getch()</code> does
not wait for a key to be pressed), use <code>nodelay()</code>. See
<a href="#nodelay"><code>nodelay()</code></a>.
</p>

<p>
To read non-alphanumeric keys on the keyboard, the <code>keypad()</code>
function is used. See <a href="#keypad"><code>keypad()</code></a>.
</p>

<p>
Input modification functions that are not window-specific apply to
all input for <code>getch()</code>, as well as <code>getstr()</code>.
</p>

<p>
To read a character at a specific location on the screen, the
<code>inch()</code> function is used.
</p>

<p>
To insert a character, pushing text to the right, use the
<code>insch()</code> function.
</p>

<p>
Remember that <code>getch()</code> returns an <code>int</code> value, not a
<code>char</code>. There are still a few old fogies such as myself who will
mistakenly use <code>char</code> variables with <code>getch()</code>. Nope! Use <code>int</code>
variables.
</p>
</div>
</div>

<div id="outline-container-sec-18-49-5" class="outline-4">
<h4 id="sec-18-49-5">Examples</h4>
<div class="outline-text-4" id="text-18-49-5">
<div class="org-src-container">

<pre class="src src-c">c = getch();
</pre>
</div>

<p>
Here, the int variable <code>c</code> receives the value of the next key
typed at the keyboard.
</p>

<div class="org-src-container">

<pre class="src src-c">key = mvgetch(5,30);
</pre>
</div>

<p>
Here, the cursor is moved to row 5, column 3, where the program
waits for a key to be pressed and its value stored in the <code>key</code>
variable.
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">while</span>( (ch=getch()) != <span style="color: #ffa07a;">'\n'</span>)
</pre>
</div>

<p>
The <code>while</code> loop continues to turn, once for each key pressed at
the keyboard, but it will stop when the newline character is input
(pressing Enter).
</p>

<div class="org-src-container">

<pre class="src src-c">keypad(editor,TRUE);
ch = wgetch(editor);
</pre>
</div>

<p>
Above, the <code>keypad()</code> function is applied to the window <code>editor</code>,
meaning that special keys can be read. Those keys are then read
using the <code>wgetch()</code> function, and stored in the ch variable,
along with any alphanumeric keys read.
</p>
</div>
</div>

<div id="outline-container-sec-18-49-6" class="outline-4">
<h4 id="sec-18-49-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-49-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">key</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  noecho();            <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">turn input echo off </span><span style="color: #ff4500;">*/</span>
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"Type your name: "</span>);
<span class="linenr">11: </span>  <span style="color: #00ffff;">while</span>( (key=getch()) != <span style="color: #ffa07a;">'\n'</span>)
<span class="linenr">12: </span>    {
<span class="linenr">13: </span>      <span style="color: #00ffff;">switch</span>(key)
<span class="linenr">14: </span>        {
<span class="linenr">15: </span>        <span style="color: #00ffff;">case</span> <span style="color: #ffa07a;">'a'</span>:
<span class="linenr">16: </span>          addch(<span style="color: #ffa07a;">'A'</span>);
<span class="linenr">17: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">18: </span>        <span style="color: #00ffff;">case</span> <span style="color: #ffa07a;">'e'</span>:
<span class="linenr">19: </span>          addch(<span style="color: #ffa07a;">'E'</span>);
<span class="linenr">20: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">21: </span>        <span style="color: #00ffff;">case</span> <span style="color: #ffa07a;">'i'</span>:
<span class="linenr">22: </span>          addch(<span style="color: #ffa07a;">'I'</span>);
<span class="linenr">23: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">24: </span>        <span style="color: #00ffff;">case</span> <span style="color: #ffa07a;">'o'</span>:
<span class="linenr">25: </span>          addch(<span style="color: #ffa07a;">'O'</span>);
<span class="linenr">26: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">27: </span>        <span style="color: #00ffff;">case</span> <span style="color: #ffa07a;">'u'</span>:
<span class="linenr">28: </span>          addch(<span style="color: #ffa07a;">'U'</span>);
<span class="linenr">29: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">30: </span>        <span style="color: #00ffff;">default</span>:
<span class="linenr">31: </span>          addch(key);
<span class="linenr">32: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">33: </span>        }
<span class="linenr">34: </span>      refresh();
<span class="linenr">35: </span>    }
<span class="linenr">36: </span>  getch();
<span class="linenr">37: </span>
<span class="linenr">38: </span>  endwin();
<span class="linenr">39: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">40: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-49-6-1" class="outline-5">
<h5 id="sec-18-49-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-49-6-1">
<pre class="example">
Type your name:
</pre>

<p>
As you type, any vowels typed appear in uppercase.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-49-7" class="outline-4">
<h4 id="sec-18-49-7">Also See</h4>
<div class="outline-text-4" id="text-18-49-7">
<p>
<a href="#chapter_2">Chapter 2</a>, <a href="#chapter_7">Chapter 7</a>, <a href="#appendix_d">Appendix D</a>, <a href="#ungetch"><code>ungetch()</code></a>, <a href="#getstr"><code>getstr()</code></a>,
<a href="#insch"><code>insch()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-50" class="outline-3">
<h3 id="sec-18-50"><code>getmaxyx()</code>                                                       <a id="getmaxyx" name="getmaxyx"></a></h3>
<div class="outline-text-3" id="text-18-50">
<p>
<code>getmaxyx()</code> fetches the height and width of a named window in
<code>rows</code> and columns. Technically, this is not a function but a macro
defined in <code>ncurses.h</code>.
</p>
</div>

<div id="outline-container-sec-18-50-1" class="outline-4">
<h4 id="sec-18-50-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-50-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">getmaxyx</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-50-2" class="outline-4">
<h4 id="sec-18-50-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-50-2">
<p>
<code>win</code> is the name of a <code>WINDOW</code> pointer representing a window
created earlier in the code. <code>stdscr</code> can be used for the standard
screen.
</p>

<p>
<code>y</code> is an <code>int</code> variable. After the call to <code>getmaxyx()</code>, that
variable holds the number of <code>rows</code> found in <code>win</code>. Values
returned by <code>y</code> range from 1 on up to the window's height.
</p>

<p>
<code>x</code> is an <code>int</code> variable. After the call to <code>getmaxyx()</code> it holds
the number of columns found in <code>win</code>. Values returned by <code>x</code> range
from 1 on up to the window's width.
</p>
</div>
</div>

<div id="outline-container-sec-18-50-3" class="outline-4">
<h4 id="sec-18-50-3">Return Value</h4>
<div class="outline-text-4" id="text-18-50-3">
<p>
<code>getmaxyx()</code> is a macro and its return value is undefined.
</p>
</div>
</div>

<div id="outline-container-sec-18-50-4" class="outline-4">
<h4 id="sec-18-50-4">Notes</h4>
<div class="outline-text-4" id="text-18-50-4">
<p>
Rows go left and right across the screen and may also be called
<i>lines</i>. They're counted from the top of the screen to the
bottom. In the Cartesian coordinate system, <code>rows</code> represent Y
values.
</p>

<p>
Columns go up and down. They're counted from the left of the
screen to the right. In the Cartesian coordinate system, columns
represent X values.
</p>

<p>
The key to remembering the order of the arguments is in the name
of the <code>getmaxyx()</code> function itself: <i>Get Max Y X</i>, the <code>y</code> or row
value comes first.
</p>

<p>
The arguments <code>y</code> and <code>x</code> are <code>int</code> variables, not pointers. Even
though it seems like they should be prefixed with the <code>&amp;</code>
(address) operator, do not do this.
</p>

<p>
The values returned by <code>y</code> and <code>x</code> measure screen height and width
starting with the number 1. But note that when placing the cursor
on the screen, the first row and first column are numbered
zero. So while <code>getmaxyx()</code> may return 25 and 80 for the number of
row and col, the bottom right location on the window is 24, 79.
</p>

<p>
As a pseudo function, <code>getmaxyx()</code> merely reads the window's size
values from the <code>WINDOW</code> structure. See <a href="#WINDOW"><code>WINDOW</code></a> for more
information.
</p>

<p>
The size of the standard screen is stored in the <code>COLS</code> and
<code>LINES</code> variables defined by NCurses when the <code>initscr()</code> function
is run.
</p>

<p>
A macro <code>getmaxy()</code> exists in <code>ncurses.h</code>. It returns the maximum
row value for a named window. The format is <code>getmaxy(win)</code>, and it
returns the maximum row value for window <code>win</code>, or <code>ERR</code> upon
failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-50-5" class="outline-4">
<h4 id="sec-18-50-5">Example</h4>
<div class="outline-text-4" id="text-18-50-5">
<div class="org-src-container">

<pre class="src src-c">getmaxyx(menu,menurow,menucol);
</pre>
</div>

<p>
This statement reads the height and width of the window <code>menu</code>,
storing the total number of rows in <code>menurow</code>, and the number of
columns in <code>menucol</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-50-6" class="outline-4">
<h4 id="sec-18-50-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-50-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">y</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">10: </span>  printw(<span style="color: #ffa07a;">"Window size is %d rows, %d columns.\n"</span>,y,x);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  getch();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  endwin();
<span class="linenr">15: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">16: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-50-6-1" class="outline-5">
<h5 id="sec-18-50-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-50-6-1">
<pre class="example">
Window size is 24 rows by 80 columns.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-50-7" class="outline-4">
<h4 id="sec-18-50-7">Also See</h4>
<div class="outline-text-4" id="text-18-50-7">
<p>
<a href="#chapter_4">Chapter 4</a>, <a href="#newwin"><code>newwin()</code></a>, <a href="#COLS"><code>COLS</code></a>, <a href="#LINES"><code>LINES</code></a>, <a href="#WINDOW"><code>WINDOW</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-51" class="outline-3">
<h3 id="sec-18-51"><code>getmouse()</code>                                                       <a id="getmouse" name="getmouse"></a></h3>
<div class="outline-text-3" id="text-18-51">
<p>
The <code>getmouse()</code> function is used to retrieve a mouse event,
storing information about the event â button state, coordinates â
in a special <code>MEVENT</code> structure.
</p>
</div>

<div id="outline-container-sec-18-51-1" class="outline-4">
<h4 id="sec-18-51-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-51-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">getmouse</span>(<span style="color: #98fb98;">MEVENT</span> *<span style="color: #eedd82;">event</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-51-2" class="outline-4">
<h4 id="sec-18-51-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-51-2">
<p>
<code>event</code> is the address of a <code>MEVENT</code> structure, which will be used
to store information about a mouse event. See <a href="#MEVENT"><code>MEVENT</code></a> for the
details.
</p>
</div>
</div>

<div id="outline-container-sec-18-51-3" class="outline-4">
<h4 id="sec-18-51-3">Return Value</h4>
<div class="outline-text-4" id="text-18-51-3">
<p>
<code>OK</code> when an event was captured or <code>ERR</code> if no event was visible.
</p>
</div>
</div>

<div id="outline-container-sec-18-51-4" class="outline-4">
<h4 id="sec-18-51-4">Notes</h4>
<div class="outline-text-4" id="text-18-51-4">
<p>
The types of events <code>getmouse()</code> monitors are determined in
advance by the <code>mousemask()</code> function. See <a href="#mousemask"><code>mousemask()</code></a>.
</p>

<p>
It's actually the <code>getch()</code> function that reads when a mouse event
has occurred. The <code>getmouse()</code> function is used to place
information about that event into the <code>MEVENT</code> structure, which
the program can then act upon.
</p>
</div>
</div>

<div id="outline-container-sec-18-51-5" class="outline-4">
<h4 id="sec-18-51-5">Example</h4>
<div class="outline-text-4" id="text-18-51-5">
<div class="org-src-container">

<pre class="src src-c">getmouse(&amp;me);
</pre>
</div>

<p>
This statement reads a recent mouse event, storing information
about the event in the <code>MEVENT</code> structure referenced by variable
<code>me</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-51-6" class="outline-4">
<h4 id="sec-18-51-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-51-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">MEVENT</span> <span style="color: #eedd82;">mort</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  noecho();
<span class="linenr">10: </span>  keypad(stdscr,TRUE);
<span class="linenr">11: </span>
<span class="linenr">12: </span>  mousemask(BUTTON1_CLICKED,<span style="color: #7fffd4;">NULL</span>);
<span class="linenr">13: </span>  <span style="color: #00ffff;">while</span>(1)
<span class="linenr">14: </span>    {
<span class="linenr">15: </span>      ch = getch();
<span class="linenr">16: </span>      <span style="color: #00ffff;">if</span>( ch == KEY_MOUSE )
<span class="linenr">17: </span>        {
<span class="linenr">18: </span>          getmouse(&amp;mort);
<span class="linenr">19: </span>          move(0,0);
<span class="linenr">20: </span>          clrtoeol();
<span class="linenr">21: </span>          printw(<span style="color: #ffa07a;">"Mouse clicked at %d, %d"</span>,mort.y,mort.x);
<span class="linenr">22: </span>          refresh();
<span class="linenr">23: </span>          <span style="color: #00ffff;">continue</span>;
<span class="linenr">24: </span>        }
<span class="linenr">25: </span>      <span style="color: #00ffff;">if</span>( ch == <span style="color: #ffa07a;">'\n'</span> )
<span class="linenr">26: </span>        <span style="color: #00ffff;">break</span>;
<span class="linenr">27: </span>    }
<span class="linenr">28: </span>
<span class="linenr">29: </span>  endwin();
<span class="linenr">30: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">31: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-51-6-1" class="outline-5">
<h5 id="sec-18-51-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-51-6-1">
<p>
Clicking mouse button one results in its position being
displayed:
</p>

<pre class="example">
Mouse clicked at 10, 14
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-51-7" class="outline-4">
<h4 id="sec-18-51-7">Also See</h4>
<div class="outline-text-4" id="text-18-51-7">
<p>
<a href="#chapter_13">Chapter 13</a>, <a href="#NCURSES_MOUSE_VERSION"><code>NCURSES_MOUSE_VERSION</code></a>, <a href="#MEVENT"><code>MEVENT</code></a>, <a href="#mousemask"><code>mousemask()</code></a>,
<i><code>ungetmouse()</code></i>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-52" class="outline-3">
<h3 id="sec-18-52"><code>getnstr()</code>                                                        <a id="getnstr" name="getnstr"></a></h3>
<div class="outline-text-3" id="text-18-52">
<p>
See <a href="#getstr"><code>getstr()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-53" class="outline-3">
<h3 id="sec-18-53"><code>getparyx()</code>                                                       <a id="getparyx" name="getparyx"></a></h3>
<div class="outline-text-3" id="text-18-53">
<p>
The <code>getparyx()</code> function returns a subwindow's origin relative to
its parent window.
</p>
</div>

<div id="outline-container-sec-18-53-1" class="outline-4">
<h4 id="sec-18-53-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-53-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">getparyx</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-53-2" class="outline-4">
<h4 id="sec-18-53-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-53-2">
<p>
<code>win</code> is the name of a <code>WINDOW</code> variable representing a subwindow.
</p>

<p>
<code>y</code> and <code>x</code> are <code>int</code> variables that will hold the subwindow's
origin relative to the parent window. These are not pointers! <code>y</code>
and <code>x</code> are relative to the parent window, where row 0 and column
0 are the upper-left corner of the parent window.
</p>
</div>
</div>

<div id="outline-container-sec-18-53-3" class="outline-4">
<h4 id="sec-18-53-3">Return Value</h4>
<div class="outline-text-4" id="text-18-53-3">
<p>
<code>getparyx()</code> is a macro and as such it has no return value.
</p>
</div>
</div>

<div id="outline-container-sec-18-53-4" class="outline-4">
<h4 id="sec-18-53-4">Notes</h4>
<div class="outline-text-4" id="text-18-53-4">
<p>
When <code>win</code> is not a subwindow, the values -1 and -1 are returned
for <code>y</code> and <code>x</code>.
</p>

<p>
Remember that the coordinates returned are relative to the parent
window, not the screen.
</p>

<p>
The <code>getbegyx()</code> function is used to return a window's coordinates
relative to the screen. <code>getbegyx()</code> can be used on any window.
</p>
</div>
</div>

<div id="outline-container-sec-18-53-5" class="outline-4">
<h4 id="sec-18-53-5">Example</h4>
<div class="outline-text-4" id="text-18-53-5">
<div class="org-src-container">

<pre class="src src-c">getparyx(footer,y,x);
</pre>
</div>

<p>
Here, the origin of subwindow footer relative to its parent window
is saved in <code>int</code> variables <code>y</code> (row) and <code>x</code> (column).
</p>
</div>
</div>

<div id="outline-container-sec-18-53-6" class="outline-4">
<h4 id="sec-18-53-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-53-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">subby</span>,*<span style="color: #eedd82;">sonny</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">row</span>,<span style="color: #eedd82;">col</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  start_color();
<span class="linenr">10: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">11: </span>  init_pair(2,COLOR_YELLOW,COLOR_RED);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  subby = newwin(10,30,10,40);
<span class="linenr">14: </span>  wbkgd(subby,COLOR_PAIR(1));
<span class="linenr">15: </span>  getparyx(subby,row,col);
<span class="linenr">16: </span>  wprintw(subby,<span style="color: #ffa07a;">"This subwin's org: %d, %d."</span>,row,col);
<span class="linenr">17: </span>  wrefresh(subby);
<span class="linenr">18: </span>
<span class="linenr">19: </span>  sonny = subwin(subby,7,30,13,40);
<span class="linenr">20: </span>  wbkgd(sonny,COLOR_PAIR(2));
<span class="linenr">21: </span>  getparyx(sonny,row,col);
<span class="linenr">22: </span>  wprintw(sonny,<span style="color: #ffa07a;">"This subwin's org: %d, %d."</span>,row,col);
<span class="linenr">23: </span>  wrefresh(sonny);
<span class="linenr">24: </span>
<span class="linenr">25: </span>  wgetch(sonny);
<span class="linenr">26: </span>
<span class="linenr">27: </span>  endwin();
<span class="linenr">28: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">29: </span>}
</pre>
</div>

<p>
The sample output is shown in <a href="#Figure-A-6">Figure A-6</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-6" name="Figure-A-6">Figure A-6</a> </dt><dd>The <code>getbegyx()</code> function reads the windows'
origin.


<div class="figure">
<p><img src="img/FigureA-6.jpg" alt="FigureA-6.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-53-7" class="outline-4">
<h4 id="sec-18-53-7">Also See</h4>
<div class="outline-text-4" id="text-18-53-7">
<p>
<a href="#subwin"><code>subwin()</code></a>, <a href="#getmaxyx"><code>getmaxyx()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-54" class="outline-3">
<h3 id="sec-18-54"><code>getstr()</code>                                                         <a id="getstr" name="getstr"></a></h3>
<div class="outline-text-3" id="text-18-54">
<p>
The <code>getstr()</code> function reads a line of text from the terminal,
with a newline or a carriage return (Enter/Return) character
marking the end of input.
</p>
</div>

<div id="outline-container-sec-18-54-1" class="outline-4">
<h4 id="sec-18-54-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-54-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">getstr</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">getnstr</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">wgetstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">wgetnstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvgetstr</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwgetstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvgetnstr</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwgetnstr</span>(<span style="color: #98fb98;">WINDOW</span> *, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-54-2" class="outline-4">
<h4 id="sec-18-54-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-54-2">
<p>
<code>str</code> represents string variable (<code>char</code> array) storage, either an
array declared or a buffer allocated via <code>malloc()</code> or a similar
function.
</p>

<p>
For those functions where <code>n</code> is specified, <code>n</code> is an <code>int</code> value
representing the maximum number of characters that can be
input. The value of <code>n</code> should be one less than the size of the
buffer to account for the <code>\0</code> (null) character <code>getstr()</code> appends
to the end of the string.
</p>

<p>
Refer to the entries for <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and <a href="#w_prefix"><code>w</code></a> elsewhere in this
appendix for information on the <code>w</code>, <code>mv</code>, and <code>mvw</code> variations to
this function.
</p>
</div>
</div>

<div id="outline-container-sec-18-54-3" class="outline-4">
<h4 id="sec-18-54-3">Return Value</h4>
<div class="outline-text-4" id="text-18-54-3">
<p>
<code>OK</code> on success; <code>ERR</code> upon failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-54-4" class="outline-4">
<h4 id="sec-18-54-4">Notes</h4>
<div class="outline-text-4" id="text-18-54-4">
<p>
I highly recommend using the <code>getnstr()</code> variation of the
functions, which helps limit input and avoids the potential for a
nasty buffer overflow.
</p>

<p>
Attempting to input more characters than <code>n</code> has specified results
in the terminal beeping at the user, once for each character over
the <code>n</code> limit.
</p>

<p>
When input is longer than the length of the current line,
<code>getstr()</code> wraps text to the following line.
</p>

<p>
Text input by <code>getstr()</code> overwrites any existing text in the
row. To insert a string of text, use the <code>insstr()</code> function
instead, though note that <code>insstr()</code> does not read text from the
keyboard. See <a href="#insstr"><code>insstr()</code></a>.
</p>

<p>
The <code>\n</code> or <code>\r</code> that ends input is not included with the string
returned by <code>getstr()</code>.
</p>

<p>
<code>getstr()</code> is essentially a series of calls to the <code>getch()</code>
function, and therefore the input modification functions that
change <code>getch()</code>'s behavior also apply to <code>getstr()</code>. See
<a href="#getch"><code>getch()</code></a> for the details.
</p>

<p>
The Killchar and Erasechar keys function appropriately for the
<code>getstr()</code> function. Refer to <a href="#killchar"><code>killchar()</code></a> and <a href="#erasechar"><code>erasechar()</code></a> for
details. When <code>keypad()</code> is set true for a window, the <code>wgetstr()</code>
functions interpret both the <code>KEY_BACKSPACE</code> and <code>KEY_LEFT</code> keys
as the Killchar key.
</p>

<p>
Using the Killchar key does not count as an input character when
<code>n</code> is specified in the <code>getnstr()</code> functions. The same holds for
Erasechar. <code>getnstr()</code> properly maintains the number of characters
input, resetting input characters to zero when Erasechar is
pressed and decrementing input characters by 1 when Killchar is
pressed.
</p>

<p>
Using the Erasechar key returns the cursor to its original
location. This holds true even when input text has wrapped to the
following line.
</p>
</div>
</div>

<div id="outline-container-sec-18-54-5" class="outline-4">
<h4 id="sec-18-54-5">Examples</h4>
<div class="outline-text-4" id="text-18-54-5">
<div class="org-src-container">

<pre class="src src-c">mvgetnstr(5,12,command,64);
</pre>
</div>

<p>
This statement moves the cursor to row 5, column 12 and accepts up
to 64 characters of input to be stored in the buffer referenced by
the <code>command</code> variable.
</p>

<div class="org-src-container">

<pre class="src src-c">wgetnstr(main,input[y],len);
</pre>
</div>

<p>
This statement reads input as filtered through the window
<code>main</code>. Text is stored in the <code>input[y]</code> variable, and only len
characters may be input.
</p>
</div>
</div>

<div id="outline-container-sec-18-54-6" class="outline-4">
<h4 id="sec-18-54-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-54-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">first</span>[50],<span style="color: #eedd82;">last</span>[4];
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  addstr(<span style="color: #ffa07a;">"Enter the first 3 letters of your first name? "</span>);
<span class="linenr"> 9: </span>  refresh();
<span class="linenr">10: </span>  getnstr(first,3);
<span class="linenr">11: </span>
<span class="linenr">12: </span>  addstr(<span style="color: #ffa07a;">"Enter the first 3 letters of your last name? "</span>);
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getnstr(last,3);
<span class="linenr">15: </span>
<span class="linenr">16: </span>  printw(<span style="color: #ffa07a;">"Your secret agent name is %s%s!"</span>,first,last);
<span class="linenr">17: </span>  refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  endwin();
<span class="linenr">21: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">22: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-54-6-1" class="outline-5">
<h5 id="sec-18-54-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-54-6-1">
<pre class="example">
Enter the first 3 letters of your first name? Con
Enter the first 3 letters of your last name? Dor
Your secret agent name is ConDor!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-54-7" class="outline-4">
<h4 id="sec-18-54-7">Also See</h4>
<div class="outline-text-4" id="text-18-54-7">
<p>
<a href="#chapter_2">Chapter 2</a>, <a href="#getch"><code>getch()</code></a>, <a href="#scanw"><code>scanw()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-55" class="outline-3">
<h3 id="sec-18-55"><code>getsyx()</code>                                                         <a id="getsyx" name="getsyx"></a></h3>
<div class="outline-text-3" id="text-18-55">
<p>
The <code>getsyx()</code> reads the virtual screen's cursor location.
</p>
</div>

<div id="outline-container-sec-18-55-1" class="outline-4">
<h4 id="sec-18-55-1">Explanation</h4>
<div class="outline-text-4" id="text-18-55-1">
<p>
NCurses is a window-oriented environment. The cursor's position is
normally read relative to a window, such as the standard
screen. Yet the cursor also has a location in the real world on
the terminal. It's the <code>getsyx()</code> function that returns that real
world location.
</p>
</div>
</div>

<div id="outline-container-sec-18-55-2" class="outline-4">
<h4 id="sec-18-55-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-55-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">getsyx</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-55-3" class="outline-4">
<h4 id="sec-18-55-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-55-3">
<p>
<code>y</code> and <code>x</code> are <code>int</code> variables, not pointers. After the function
call, <code>y</code> holds the value of the cursor's row and <code>x</code> holds the
column value.
</p>
</div>
</div>

<div id="outline-container-sec-18-55-4" class="outline-4">
<h4 id="sec-18-55-4">Return Value</h4>
<div class="outline-text-4" id="text-18-55-4">
<p>
This function is a macro, and as such its return value is
unimportant.
</p>
</div>
</div>

<div id="outline-container-sec-18-55-5" class="outline-4">
<h4 id="sec-18-55-5">Notes</h4>
<div class="outline-text-4" id="text-18-55-5">
<p>
Values returned in <code>y</code> and <code>x</code> range from 0, for the upper-left
corner of the window, though the maximum row and column values for
the standard screen.
</p>

<p>
When -1, -1 is returned it means that <code>leaveok()</code> has been set
<code>TRUE</code> for a window.
</p>

<p>
To read the cursor's location in a window use the <code>getyx()</code>
function.
</p>

<p>
When using the <code>ripoffline()</code> function you should limit the use of
the values returned by <code>getsyx()</code> only as arguments for the
<code>setsyx()</code> function.
</p>

<p>
I get the hint from the man pages that <code>getsyx()</code> is really meant
as an internal NCurses function to be used in conjunction with
<code>setsyx()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-55-6" class="outline-4">
<h4 id="sec-18-55-6">Example</h4>
<div class="outline-text-4" id="text-18-55-6">
<div class="org-src-container">

<pre class="src src-c">getsyx(row,col);
</pre>
</div>

<p>
This statement reads the cursor's location on the virtual screen,
saving it into the <code>row</code> and <code>col</code> variables.
</p>
</div>
</div>

<div id="outline-container-sec-18-55-7" class="outline-4">
<h4 id="sec-18-55-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-55-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">vy</span>,<span style="color: #eedd82;">vx</span>,<span style="color: #eedd82;">stdy</span>,<span style="color: #eedd82;">stdx</span>,<span style="color: #eedd82;">winy</span>,<span style="color: #eedd82;">winx</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  noecho();
<span class="linenr">10: </span>  win = newwin(5,20,10,30);
<span class="linenr">11: </span>  box(win,0,0);
<span class="linenr">12: </span>  waddstr(win,<span style="color: #ffa07a;">"This is 'win'"</span>);
<span class="linenr">13: </span>  wrefresh(win);
<span class="linenr">14: </span>
<span class="linenr">15: </span>  getyx(win,winy,winx);
<span class="linenr">16: </span>  getyx(stdscr,stdy,stdx);
<span class="linenr">17: </span>  getsyx(vy,vx);
<span class="linenr">18: </span>  printw(<span style="color: #ffa07a;">"In Window win, the cursor is at %d,%d.\n"</span>,winy,winx);
<span class="linenr">19: </span>  printw(<span style="color: #ffa07a;">"On the standard screen, the cursor is at %d,%d.\n"</span>,stdy,stdx);
<span class="linenr">20: </span>  printw(<span style="color: #ffa07a;">"On the virtual screen, the cursor is at %d,%d.\n"</span>,vy,vx);
<span class="linenr">21: </span>  refresh();
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  getsyx(vy,vx);
<span class="linenr">25: </span>  printw(<span style="color: #ffa07a;">"Now on the virtual screen, the cursor is at %d,%d.\n"</span>,vy,vx);
<span class="linenr">26: </span>  refresh();
<span class="linenr">27: </span>  getch();
<span class="linenr">28: </span>
<span class="linenr">29: </span>  leaveok(win,TRUE);
<span class="linenr">30: </span>  wrefresh(win);
<span class="linenr">31: </span>  getyx(win,winy,winx);
<span class="linenr">32: </span>  getsyx(vy,vx);
<span class="linenr">33: </span>  printw(<span style="color: #ffa07a;">"In Window win, the cursor is now at %d,%d.\n"</span>,winy,winx);
<span class="linenr">34: </span>  printw(<span style="color: #ffa07a;">"On the virtual screen, the cursor is now at %d,%d.\n"</span>,vy,vx);
<span class="linenr">35: </span>  refresh();
<span class="linenr">36: </span>  getch();
<span class="linenr">37: </span>
<span class="linenr">38: </span>  endwin();
<span class="linenr">39: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">40: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-55-7-1" class="outline-5">
<h5 id="sec-18-55-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-55-7-1">
<pre class="example">
In Window win, the cursor is at 0,13.
On the standard screen, the cursor is at 0,0.
On the virtual screen, the cursor is at 10,43.
</pre>

<p>
Press Enter.
</p>

<pre class="example">
Now on the virtual screen, the cursor is at 3,0.
</pre>

<p>
Press Enter again.
</p>

<pre class="example">
In Window win, the cursor is now at 0,13.
On the virtual screen, the cursor is now at -1,-1.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-55-8" class="outline-4">
<h4 id="sec-18-55-8">Also See</h4>
<div class="outline-text-4" id="text-18-55-8">
<p>
<a href="#leaveok"><code>leaveok()</code></a>, <a href="#getyx"><code>getyx()</code></a>, <a href="#setsyx"><code>setsyx()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-56" class="outline-3">
<h3 id="sec-18-56"><code>getwin()</code>                                                         <a id="getwin" name="getwin"></a></h3>
<div class="outline-text-3" id="text-18-56">
<p>
The <code>getwin()</code> function reads a window from disk, one previously
saved via the <code>putwin()</code> function.
</p>
</div>

<div id="outline-container-sec-18-56-1" class="outline-4">
<h4 id="sec-18-56-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-56-1">
<div class="org-src-container">

<pre class="src src-c">WINDOW *getwin(<span style="color: #98fb98;">FILE</span> *<span style="color: #eedd82;">filep</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-56-2" class="outline-4">
<h4 id="sec-18-56-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-56-2">
<p>
<code>filep</code> is a <code>FILE</code> variable representing a file opened for
reading on disk. The file should be a window previously saved by
using the <code>putwin()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-56-3" class="outline-4">
<h4 id="sec-18-56-3">Return Value</h4>
<div class="outline-text-4" id="text-18-56-3">
<p>
On success, a window is created and a <code>WINDOW</code> pointer returned
representing that window. On failure, <code>NULL</code> is returned.
</p>
</div>
</div>

<div id="outline-container-sec-18-56-4" class="outline-4">
<h4 id="sec-18-56-4">Notes</h4>
<div class="outline-text-4" id="text-18-56-4">
<p>
<code>getwin()</code> is the companion function to <code>putwin()</code>, which saves
<code>WINDOW</code> data to disk.
</p>

<p>
The window is restored in the same position and size on the
screen. Even the cursor is placed in the same position from which
it was saved.
</p>

<p>
All text attributes are restored when the saved window is loaded
via <code>getwin()</code>. The same color pairs, if specified, are assigned
as attributes though the color values of each pair are not
retained (unless the program is using the same color pair values).
</p>
</div>
</div>

<div id="outline-container-sec-18-56-5" class="outline-4">
<h4 id="sec-18-56-5">Example</h4>
<div class="outline-text-4" id="text-18-56-5">
<div class="org-src-container">

<pre class="src src-c">nextwin = getwin(wfp);
</pre>
</div>

<p>
The statement creates a new window named <code>footnote</code> based on data
previously saved to disk and referenced by the <code>wfp</code> file pointer.
</p>
</div>
</div>

<div id="outline-container-sec-18-56-6" class="outline-4">
<h4 id="sec-18-56-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-56-6">
<p>
This program assumes a file named <code>window.dat</code> has previously been
saved to disk. See <a href="#putwin"><code>putwin()</code></a>.
</p>

<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">FILENAME</span> <span style="color: #ffa07a;">"window.dat"</span>
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>);
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 9: </span>{
<span class="linenr">10: </span>  <span style="color: #98fb98;">FILE</span> *<span style="color: #eedd82;">wfile</span>;
<span class="linenr">11: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>;
<span class="linenr">12: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>;
<span class="linenr">13: </span>
<span class="linenr">14: </span>  initscr();
<span class="linenr">15: </span>  start_color();
<span class="linenr">16: </span>  init_pair(1,COLOR_WHITE,COLOR_RED);
<span class="linenr">17: </span>
<span class="linenr">18: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to read the window from disk:\n"</span>);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">open the file </span><span style="color: #ff4500;">*/</span>
<span class="linenr">23: </span>  wfile = fopen(FILENAME,<span style="color: #ffa07a;">"r"</span>);
<span class="linenr">24: </span>  <span style="color: #00ffff;">if</span>( wfile==<span style="color: #7fffd4;">NULL</span>)
<span class="linenr">25: </span>    bomb(<span style="color: #ffa07a;">"Error reading file\n"</span>);
<span class="linenr">26: </span>
<span class="linenr">27: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">write the window's data </span><span style="color: #ff4500;">*/</span>
<span class="linenr">28: </span>  win = getwin(wfile);
<span class="linenr">29: </span>  <span style="color: #00ffff;">if</span>( win == <span style="color: #7fffd4;">NULL</span> )
<span class="linenr">30: </span>    bomb(<span style="color: #ffa07a;">"Unable to read/create window\n"</span>);
<span class="linenr">31: </span>  fclose(wfile);
<span class="linenr">32: </span>  wrefresh(win);
<span class="linenr">33: </span>  getch();
<span class="linenr">34: </span>
<span class="linenr">35: </span>  endwin();
<span class="linenr">36: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">37: </span>}
<span class="linenr">38: </span>
<span class="linenr">39: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>)
<span class="linenr">40: </span>{
<span class="linenr">41: </span>  endwin();
<span class="linenr">42: </span>  puts(message);
<span class="linenr">43: </span>  exit(1);
<span class="linenr">44: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-56-6-1" class="outline-5">
<h5 id="sec-18-56-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-56-6-1">
<p>
Refer to <a href="#putwin"><code>putwin()</code></a> for what the output looks like (well, similar
to).
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-56-7" class="outline-4">
<h4 id="sec-18-56-7">Also See</h4>
<div class="outline-text-4" id="text-18-56-7">
<p>
<a href="#chapter_14">Chapter 14</a>, <a href="#putwin"><code>putwin()</code></a>, <a href="#scr_dump"><code>scr_dump()</code></a>, <a href="#scr_restore"><code>scr_restore()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-57" class="outline-3">
<h3 id="sec-18-57"><code>getyx()</code>                                                          <a id="getyx" name="getyx"></a></h3>
<div class="outline-text-3" id="text-18-57">
<p>
The <code>getyx()</code> function reads the cursor location from a specific
window and saves it in two <code>int</code> variables.
</p>
</div>

<div id="outline-container-sec-18-57-1" class="outline-4">
<h4 id="sec-18-57-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-57-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">getyx</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-57-2" class="outline-4">
<h4 id="sec-18-57-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-57-2">
<p>
<code>win</code> is the name of a <code>WINDOW</code> pointer, indicating a window created
earlier in the code. It can also be <code>stdscr</code> for the standard
screen.
</p>

<p>
<code>y</code> is an <code>int</code> variable to hold a value indicating which row the
cursor is blinking on.
</p>

<p>
<code>x</code> is an <code>int</code> variable to hold a value indicating which column
the cursor blinks in.
</p>
</div>
</div>

<div id="outline-container-sec-18-57-3" class="outline-4">
<h4 id="sec-18-57-3">Return Value</h4>
<div class="outline-text-4" id="text-18-57-3">
<p>
<code>getyx()</code> is a macro and as such its return value should not be
used.
</p>
</div>
</div>

<div id="outline-container-sec-18-57-4" class="outline-4">
<h4 id="sec-18-57-4">Notes</h4>
<div class="outline-text-4" id="text-18-57-4">
<p>
Note that it's always <code>getyx()</code>, not <code>getxy()</code>.
</p>

<p>
The <code>yx</code> part of <code>getyx()</code> also helps you to remember that the row,
or Y, component comes first.
</p>

<p>
Both <code>y</code> and <code>x</code> are <code>int</code> variables, not pointers. Do <i>not</i>
prefix them with <code>&amp;</code> though it would seem like you need to do
this.
</p>

<p>
Location 0, 0 is the <i>home</i> position, the upper-left corner of the
screen.
</p>

<p>
Maximum values for <code>y</code> and <code>x</code> depend on the size of the screen.
</p>

<p>
In a way, <code>getyx()</code> is the opposite of the <code>wmove()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-57-5" class="outline-4">
<h4 id="sec-18-57-5">Example</h4>
<div class="outline-text-4" id="text-18-57-5">
<div class="org-src-container">

<pre class="src src-c">getyx(stdscr,y,x);
</pre>
</div>

<p>
This statement reads the cursor's current position on the standard
screen and stores it in the <code>y</code> and <code>x</code> variable.
</p>
</div>
</div>

<div id="outline-container-sec-18-57-6" class="outline-4">
<h4 id="sec-18-57-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-57-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;time.h&gt;</span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>,<span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">row</span>,<span style="color: #eedd82;">col</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>  srandom((<span style="color: #98fb98;">unsigned</span>)time(<span style="color: #7fffd4;">NULL</span>));
<span class="linenr">11: </span>
<span class="linenr">12: </span>  r = random();
<span class="linenr">13: </span>  r %= 300;
<span class="linenr">14: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;r;x++)
<span class="linenr">15: </span>    addch(<span style="color: #ffa07a;">'*'</span>);
<span class="linenr">16: </span>  getyx(stdscr,row,col);
<span class="linenr">17: </span>  printw(<span style="color: #ffa07a;">"\nThe cursor ended up at location %d, %d.\n"</span>,\
<span class="linenr">18: </span>         row,col);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  endwin();
<span class="linenr">23: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">24: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-57-6-1" class="outline-5">
<h5 id="sec-18-57-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-57-6-1">
<pre class="example">
*******************************************
The cursor ended up at location 0, 43.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-57-7" class="outline-4">
<h4 id="sec-18-57-7">Also See</h4>
<div class="outline-text-4" id="text-18-57-7">
<p>
<a href="#chapter_4">Chapter 4</a>, <a href="#move"><code>move()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-58" class="outline-3">
<h3 id="sec-18-58"><code>halfdelay()</code>                                                      <a id="halfdelay" name="halfdelay"></a></h3>
<div class="outline-text-3" id="text-18-58">
<p>
The <code>halfdelay()</code> function directs NCurses input functions to enter
half delay mode.
</p>
</div>

<div id="outline-container-sec-18-58-1" class="outline-4">
<h4 id="sec-18-58-1">Explanation</h4>
<div class="outline-text-4" id="text-18-58-1">
<p>
Half delay mode is similar to cbreak mode with regard to
characters being made available immediately to the program as
they're typed. Unlike cbreak mode, however, <code>halfdelay()</code> sets the
blocking delay duration. After a given number of tenths of a
second, the input function returns <code>ERR</code> when nothing has been
typed.
</p>
</div>
</div>

<div id="outline-container-sec-18-58-2" class="outline-4">
<h4 id="sec-18-58-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-58-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">halfdelay</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">tenths</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-58-3" class="outline-4">
<h4 id="sec-18-58-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-58-3">
<p>
<code>tenths</code> is an <code>int</code> value ranging from 1 to 255, indicating the
number of tenths of a second <code>getch()</code> (and related functions) to
wait for character input.
</p>
</div>
</div>

<div id="outline-container-sec-18-58-4" class="outline-4">
<h4 id="sec-18-58-4">Return Value</h4>
<div class="outline-text-4" id="text-18-58-4">
<p>
<code>ERR</code> on failure, <code>OK</code> or a value other than <code>ERR</code> on success.
</p>
</div>
</div>

<div id="outline-container-sec-18-58-5" class="outline-4">
<h4 id="sec-18-58-5">Notes</h4>
<div class="outline-text-4" id="text-18-58-5">
<p>
<code>halfdelay()</code> covers all NCurses input. If you want to vary the
delay associated with a specific window, use the <code>wtimeout()</code>
function instead: See <a href="#timeout"><code>timeout()</code></a>.
</p>

<p>
Small values of tenths require quite a fast typist to keep up!
</p>

<p>
Remember that it's the input function, such as <code>getch()</code>, that
returns <code>ERR</code> when half delay mode times out. The <code>halfdelay()</code>
function returns <code>ERR</code> only when there is an error setting that
function.
</p>

<p>
The <code>nodelay()</code> function essentially is like setting
<code>halfdelay(0)</code>, though zero is an invalid argument for
<code>halfdelay()</code>.
</p>

<p>
Your program can leave half delay mode by using the <code>nocbreak()</code>
function. See <a href="#cbreak"><code>cbreak()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-58-6" class="outline-4">
<h4 id="sec-18-58-6">Examples</h4>
<div class="outline-text-4" id="text-18-58-6">
<div class="org-src-container">

<pre class="src src-c">halfdelay(20);
</pre>
</div>

<p>
This statement sets the half delay pause to 2 full seconds.
</p>

<div class="org-src-container">

<pre class="src src-c">halfdelay(1);
</pre>
</div>

<p>
This statement sets the pause to 1/10th of a second, demanding
fast input!
</p>
</div>
</div>

<div id="outline-container-sec-18-58-7" class="outline-4">
<h4 id="sec-18-58-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-58-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">DELAY</span> 10
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  halfdelay(DELAY);
<span class="linenr">12: </span>  printw(<span style="color: #ffa07a;">"Half delay has been set to %d/10 seconds.\n"</span>,DELAY);
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"Try to type in your name fast enough:\n"</span>);
<span class="linenr">14: </span>  refresh();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  <span style="color: #00ffff;">do</span>
<span class="linenr">17: </span>    {
<span class="linenr">18: </span>      ch = getch();
<span class="linenr">19: </span>      <span style="color: #00ffff;">if</span>(ch == <span style="color: #ffa07a;">'\n'</span>)
<span class="linenr">20: </span>        <span style="color: #00ffff;">break</span>;
<span class="linenr">21: </span>    } <span style="color: #00ffff;">while</span>(ch != ERR);
<span class="linenr">22: </span>
<span class="linenr">23: </span>  mvaddstr(5,0,<span style="color: #ffa07a;">"Hope you got it all in!"</span>);
<span class="linenr">24: </span>  refresh();
<span class="linenr">25: </span>  getch();
<span class="linenr">26: </span>
<span class="linenr">27: </span>  endwin();
<span class="linenr">28: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">29: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-58-7-1" class="outline-5">
<h5 id="sec-18-58-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-58-7-1">
<pre class="example">
Half delay has been set to 10/10 seconds.
Try to type in your name fast enough:
</pre>

<p>
Try to type quickly; if you pause longer than 1 second, either at
first or between any keys, the program is over.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-58-8" class="outline-4">
<h4 id="sec-18-58-8">Also See</h4>
<div class="outline-text-4" id="text-18-58-8">
<p>
<a href="#nodelay"><code>nodelay()</code></a>, <a href="#timeout"><code>timeout()</code></a>, <a href="#cbreak"><code>cbreak()</code></a>, <a href="#getch"><code>getch()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-59" class="outline-3">
<h3 id="sec-18-59"><code>has_colors()</code>                                                     <a id="has_colors" name="has_colors"></a></h3>
<div class="outline-text-3" id="text-18-59">
<p>
The <code>has_colors()</code> function is used to determine whether or not the
terminal has the ability to display color text attributes.
</p>

<p>
This function is used before <code>start_color()</code>. Obviously there's no
point in doing colors in a program for a terminal that cannot
display them.
</p>
</div>

<div id="outline-container-sec-18-59-1" class="outline-4">
<h4 id="sec-18-59-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-59-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">bool</span> <span style="color: #87cefa;">has_colors</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-59-2" class="outline-4">
<h4 id="sec-18-59-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-59-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-59-3" class="outline-4">
<h4 id="sec-18-59-3">Return Value</h4>
<div class="outline-text-4" id="text-18-59-3">
<p>
<code>has_colors()</code> returns a Boolean value, either <code>TRUE</code> or <code>FALSE</code>,
the former when the terminal can do color and the latter when it
cannot.
</p>
</div>
</div>

<div id="outline-container-sec-18-59-4" class="outline-4">
<h4 id="sec-18-59-4">Notes</h4>
<div class="outline-text-4" id="text-18-59-4">
<p>
This is one of the rare text color function in NCurses that uses
the plural <i>colors</i>. The other two are <code>assume_default_colors()</code>
and <code>use_default_colors()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-59-5" class="outline-4">
<h4 id="sec-18-59-5">Examples</h4>
<div class="outline-text-4" id="text-18-59-5">
<div class="org-src-container">

<pre class="src src-c">r = has_colors();
</pre>
</div>

<p>
After this statement, the value of <code>r</code> will equal <code>TRUE</code> if the
terminal can produce color text, <code>FALSE</code> otherwise.
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(has_colors)
</pre>
</div>

<p>
The above <code>if</code> condition evaluates true if the console has the
ability to use color text.
</p>
</div>
</div>

<div id="outline-container-sec-18-59-6" class="outline-4">
<h4 id="sec-18-59-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-59-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">tf</span>;
<span class="linenr"> 6: </span>  initscr();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  tf = has_colors();
<span class="linenr"> 9: </span>  <span style="color: #00ffff;">if</span>( tf == TRUE)
<span class="linenr">10: </span>    addstr(<span style="color: #ffa07a;">"This terminal can do colors.\n"</span>);
<span class="linenr">11: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">12: </span>    addstr(<span style="color: #ffa07a;">"This terminal cannot do colors.\n"</span>);
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  endwin();
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-59-6-1" class="outline-5">
<h5 id="sec-18-59-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-59-6-1">
<pre class="example">
This terminal can do colors.
</pre>

<p>
Or:
</p>

<pre class="example">
This terminal cannot do colors.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-59-7" class="outline-4">
<h4 id="sec-18-59-7">Also See</h4>
<div class="outline-text-4" id="text-18-59-7">
<p>
<a href="#start_color"><code>start_color()</code></a>, <a href="#TRUE"><code>TRUE</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-60" class="outline-3">
<h3 id="sec-18-60"><code>has_ic()</code>                                                         <a id="has_ic" name="has_ic"></a></h3>
<div class="outline-text-3" id="text-18-60">
<p>
The <code>has_ic()</code> function determines whether the terminal has the
ability to insert and delete characters.
</p>
</div>

<div id="outline-container-sec-18-60-1" class="outline-4">
<h4 id="sec-18-60-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-60-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">bool</span> <span style="color: #87cefa;">has_ic</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-60-2" class="outline-4">
<h4 id="sec-18-60-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-60-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-60-3" class="outline-4">
<h4 id="sec-18-60-3">Return Value</h4>
<div class="outline-text-4" id="text-18-60-3">
<p>
A Boolean value is returned: <code>TRUE</code> if the terminal has insert and
delete character capabilities, <code>FALSE</code> if not.
</p>
</div>
</div>

<div id="outline-container-sec-18-60-4" class="outline-4">
<h4 id="sec-18-60-4">Notes</h4>
<div class="outline-text-4" id="text-18-60-4">
<p>
If the terminal does not have the ability to insert and delete
characters, then it will be provided by NCurses in software.
</p>

<p>
The <code>insch()</code> function is used to insert a character on the
screen. The <code>delch()</code> function deletes a character.
</p>

<p>
The <code>idcok()</code> function is used to switch between hardware and
software modes for inserting and deleting characters. See
<a href="#idcok"><code>idcok()</code></a>.
</p>

<p>
This is one of several NCurses functions that report back
information on the terminal. The others include <code>baudrate()</code>,
<code>erasechar()</code>, <code>killchar()</code>, <code>has_il()</code>, <code>longname()</code>,
<code>termattrs()</code>, and <code>termname()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-60-5" class="outline-4">
<h4 id="sec-18-60-5">Example</h4>
<div class="outline-text-4" id="text-18-60-5">
<pre class="example">
if(has_ic())
</pre>

<p>
The <code>if</code> condition passes when the terminal has the ability to
insert and delete characters.
</p>
</div>
</div>

<div id="outline-container-sec-18-60-6" class="outline-4">
<h4 id="sec-18-60-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-60-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  addstr(<span style="color: #ffa07a;">"This terminal "</span>);
<span class="linenr"> 8: </span>  <span style="color: #00ffff;">if</span>(has_ic())
<span class="linenr"> 9: </span>    addstr(<span style="color: #ffa07a;">"has "</span>);
<span class="linenr">10: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">11: </span>    addstr(<span style="color: #ffa07a;">"does not have "</span>);
<span class="linenr">12: </span>  addstr(<span style="color: #ffa07a;">"insert/delete character abilities"</span>);
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  endwin();
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-60-6-1" class="outline-5">
<h5 id="sec-18-60-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-60-6-1">
<pre class="example">
This terminal has insert/delete character abilities
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-60-7" class="outline-4">
<h4 id="sec-18-60-7">Also See</h4>
<div class="outline-text-4" id="text-18-60-7">
<p>
<a href="#has_il"><code>has_il()</code></a>, <a href="#insch"><code>insch()</code></a>, <a href="#delch"><code>delch()</code></a>, <a href="#idcok"><code>idcok()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-61" class="outline-3">
<h3 id="sec-18-61"><code>has_il()</code>                                                         <a id="has_il" name="has_il"></a></h3>
<div class="outline-text-3" id="text-18-61">
<p>
The <code>has_il()</code> function determines whether the terminal has the
ability to insert and delete lines or can perform that ability to
affect a scrolling region of text.
</p>
</div>

<div id="outline-container-sec-18-61-1" class="outline-4">
<h4 id="sec-18-61-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-61-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">bool</span> <span style="color: #87cefa;">has_il</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-61-2" class="outline-4">
<h4 id="sec-18-61-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-61-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-61-3" class="outline-4">
<h4 id="sec-18-61-3">Return Value</h4>
<div class="outline-text-4" id="text-18-61-3">
<p>
A Boolean value is returned: <code>TRUE</code> if the terminal has insert and
delete line capabilities, <code>FALSE</code> if not.
</p>
</div>
</div>

<div id="outline-container-sec-18-61-4" class="outline-4">
<h4 id="sec-18-61-4">Notes</h4>
<div class="outline-text-4" id="text-18-61-4">
<p>
The <code>insdelln()</code> function is used to insert or delete lines of
text on the screen.
</p>

<p>
The <code>idlok()</code> function is used to switch between hardware and
software modes for inserting and deleting lines of text. See
<a href="#idlok"><code>idlok()</code></a>.
</p>

<p>
When the terminal has the ability to insert and remove lines, then
it can use those abilities to scroll text. Also see <a href="#scrollok"><code>scrollok()</code></a>
and <a href="#scrl"><code>scrl()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-61-5" class="outline-4">
<h4 id="sec-18-61-5">Example</h4>
<div class="outline-text-4" id="text-18-61-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(has_il())
</pre>
</div>

<p>
The <code>if</code> condition passes when the terminal has the ability to
insert and delete lines of text.
</p>
</div>
</div>

<div id="outline-container-sec-18-61-6" class="outline-4">
<h4 id="sec-18-61-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-61-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  addstr(<span style="color: #ffa07a;">"This terminal "</span>);
<span class="linenr"> 8: </span>  <span style="color: #00ffff;">if</span>(has_il())
<span class="linenr"> 9: </span>    addstr(<span style="color: #ffa07a;">"has "</span>);
<span class="linenr">10: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">11: </span>    addstr(<span style="color: #ffa07a;">"does not have "</span>);
<span class="linenr">12: </span>  addstr(<span style="color: #ffa07a;">"insert/delete line abilities"</span>);
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  endwin();
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-61-6-1" class="outline-5">
<h5 id="sec-18-61-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-61-6-1">
<pre class="example">
This terminal has insert/delete character abilities
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-61-7" class="outline-4">
<h4 id="sec-18-61-7">Also See</h4>
<div class="outline-text-4" id="text-18-61-7">
<p>
<a href="#has_ic"><code>has_ic()</code></a>, <a href="#insdelln"><code>insdelln()</code></a>, <a href="#scrollok"><code>scrollok()</code></a>, <a href="#scrl"><code>scrl()</code></a>, <a href="#idcok"><code>idcok()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-62" class="outline-3">
<h3 id="sec-18-62"><code>hline()</code>                                                          <a id="hline" name="hline"></a></h3>
<div class="outline-text-3" id="text-18-62">
<p>
The <code>hline()</code> function draws a horizontal (left-right) line from
the cursor's current location to the right a given number of
character places.
</p>
</div>

<div id="outline-container-sec-18-62-1" class="outline-4">
<h4 id="sec-18-62-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-62-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">hline</span>(<span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-62-2" class="outline-4">
<h4 id="sec-18-62-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-62-2">
<p>
<code>ch</code> is a <code>chtype</code> character used to draw the line. Though
typically only a single character, such as <code>-</code>, is used, you can
combine characters, text attributes and colors with the <code>chtype</code>
variable. See <a href="#appendix_c">Appendix C</a>. When zero is specified for <code>ch</code>, the
default <code>ASC_HLINE</code> character is used. See <a href="#appendix_b">Appendix B</a> for more
information on ACS characters.
</p>

<p>
<code>n</code> is an <code>int</code> value that sets the length of the line in
characters. Valid values for <code>n</code> range from 0 on up to whatever an
integer can hold. If <code>n</code> is zero, then no line is displayed. When
<code>n</code> is greater than the distance between the current cursor
position and the left edge of the window, then only as many <code>ch</code>
characters as can be displayed on a line are shown. (The line does
not wrap.)
</p>

<p>
Refer to the <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and <a href="#w_prefix"><code>w</code></a> prefix entries elsewhere in this
appendix for information on the <code>win</code>, <code>row</code>, and <code>col</code> arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-62-3" class="outline-4">
<h4 id="sec-18-62-3">Return Value</h4>
<div class="outline-text-4" id="text-18-62-3">
<p>
<code>hline()</code> always returns <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-62-4" class="outline-4">
<h4 id="sec-18-62-4">Notes</h4>
<div class="outline-text-4" id="text-18-62-4">
<p>
The line always goes from the cursor's current position to the
right.
</p>

<p>
Drawing the line does not affect the cursor's location. The cursor
remains at its previous location, or whichever location was set by
the <code>mvhline()</code> or <code>mvwhline()</code> functions.
</p>

<p>
The line drawn is not protected against erasure by other NCurses
text output functions; the line can be overwritten at any time.
</p>
</div>
</div>

<div id="outline-container-sec-18-62-5" class="outline-4">
<h4 id="sec-18-62-5">Examples</h4>
<div class="outline-text-4" id="text-18-62-5">
<div class="org-src-container">

<pre class="src src-c">hline(0,10);
</pre>
</div>

<p>
This function draws a line 10 characters long (wide) from the
cursor's current position. The default line drawing character is
used.
</p>

<div class="org-src-container">

<pre class="src src-c">mvhline(y,10,<span style="color: #ffa07a;">'*'</span>,len);
</pre>
</div>

<p>
Here, the function draws a line using asterisks. The line is <code>len</code>
characters long from location row <code>y</code>, column <code>10</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">mvwhline(tasks,0,0,0,100);
</pre>
</div>

<p>
Here, a line is drawn across the top of window <code>tasks</code> using the
default line drawing character. If the window is narrower than
<code>100</code> characters, the excess line is ignored.
</p>
</div>
</div>

<div id="outline-container-sec-18-62-6" class="outline-4">
<h4 id="sec-18-62-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-62-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">maxy</span>,<span style="color: #eedd82;">maxx</span>,<span style="color: #eedd82;">halfx</span>,<span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">len</span>;
<span class="linenr"> 6: </span>  initscr();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  getmaxyx(stdscr,maxy,maxx);
<span class="linenr"> 9: </span>  halfx = maxx &gt;&gt; 1;                   <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">x/2 </span><span style="color: #ff4500;">*/</span>
<span class="linenr">10: </span>  len = 1;
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #00ffff;">for</span>(y=0;y&lt;maxy;y++,len++)
<span class="linenr">13: </span>    {
<span class="linenr">14: </span>      mvhline(y,halfx-len,0,len+len);
<span class="linenr">15: </span>    }
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>  getch();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  endwin();
<span class="linenr">20: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">21: </span>}
</pre>
</div>

<p>
The sample output is shown in <a href="#Figure-A-7">Figure A-7</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-7" name="Figure-A-7">Figure A-7</a> </dt><dd>The <code>hline()</code> festive tree


<div class="figure">
<p><img src="img/FigureA-7.jpg" alt="FigureA-7.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-62-7" class="outline-4">
<h4 id="sec-18-62-7">Also See</h4>
<div class="outline-text-4" id="text-18-62-7">
<p>
<a href="#chapter_14">Chapter 14</a>, <a href="#appendix_b">Appendix B</a>, <a href="#box"><code>box()</code></a>, <a href="#vline"><code>vline()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-63" class="outline-3">
<h3 id="sec-18-63"><code>idcok()</code>                                                          <a id="idcok" name="idcok"></a></h3>
<div class="outline-text-3" id="text-18-63">
<p>
The <code>idcok()</code> function directs whether NCurses uses the terminal
(hardware) ability to insert or delete characters, or whether
software routines are used instead.
</p>
</div>

<div id="outline-container-sec-18-63-1" class="outline-4">
<h4 id="sec-18-63-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-63-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">idcok</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">bf</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-63-2" class="outline-4">
<h4 id="sec-18-63-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-63-2">
<p>
<code>win</code> is the name of a <code>WINDOW</code> variable representing a window on
the screen or <code>stdscr</code> for the standard screen.
</p>

<p>
<code>bf</code> is a Boolean value, either <code>TRUE</code> or <code>FALSE</code>. When set
<code>TRUE</code>, the terminal's insert/delete character routines are
used. When set <code>FALSE</code>, software routines are used instead.
</p>
</div>
</div>

<div id="outline-container-sec-18-63-3" class="outline-4">
<h4 id="sec-18-63-3">Return Value</h4>
<div class="outline-text-4" id="text-18-63-3">
<p>
This function always returns <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-63-4" class="outline-4">
<h4 id="sec-18-63-4">Notes</h4>
<div class="outline-text-4" id="text-18-63-4">
<p>
Normally, the software insert/delete character routines are used,
as in <code>idcok(win,TRUE)</code>. Therefore it is unnecessary to use
<code>idcok(win,TRUE)</code> in a window unless the terminal routines have
been previously disabled and you want to re-enable them.
</p>

<p>
The <code>has_ic()</code> function determines whether or not the terminal has
the ability to insert and delete characters.
</p>

<p>
NCurses uses the <code>insch()</code> function to insert a character on the
screen; the <code>delch()</code> function is used to delete a character.
</p>
</div>
</div>

<div id="outline-container-sec-18-63-5" class="outline-4">
<h4 id="sec-18-63-5">Example</h4>
<div class="outline-text-4" id="text-18-63-5">
<div class="org-src-container">

<pre class="src src-c">idcok(w,FALSE);
</pre>
</div>

<p>
The statement directs NCurses to use software routines for
inserting and deleting characters in the window <code>w</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-63-6" class="outline-4">
<h4 id="sec-18-63-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-63-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LENA</span> 8
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LENF</span> 11
<span class="linenr"> 5: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LENS</span> 7
<span class="linenr"> 6: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">DELAY</span> 150
<span class="linenr"> 7: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">ROW</span> 10
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">10: </span>{
<span class="linenr">11: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">first</span>[]  = <span style="color: #ffa07a;">"The terminal"</span>;
<span class="linenr">12: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">second</span>[] = <span style="color: #ffa07a;">"Software"</span>;
<span class="linenr">13: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr">14: </span>
<span class="linenr">15: </span>  initscr();
<span class="linenr">16: </span>
<span class="linenr">17: </span>  mvaddstr(ROW,0,<span style="color: #ffa07a;">"Something is doing the inserting d deleting."</span>);
<span class="linenr">18: </span>  refresh();
<span class="linenr">19: </span>  getch();
<span class="linenr">20: </span>
<span class="linenr">21: </span>  move(ROW,0);
<span class="linenr">22: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;=LENA;x++)
<span class="linenr">23: </span>    {
<span class="linenr">24: </span>      delch();
<span class="linenr">25: </span>      refresh();
<span class="linenr">26: </span>      napms(DELAY);
<span class="linenr">27: </span>    }
<span class="linenr">28: </span>  <span style="color: #00ffff;">for</span>(x=LENF;x&gt;=0;x--)
<span class="linenr">29: </span>    {
<span class="linenr">30: </span>      insch(first[x]);
<span class="linenr">31: </span>      refresh();
<span class="linenr">32: </span>      napms(DELAY);
<span class="linenr">33: </span>    }
<span class="linenr">34: </span>  getch();
<span class="linenr">35: </span>
<span class="linenr">36: </span>  idcok(stdscr,FALSE);
<span class="linenr">37: </span>
<span class="linenr">38: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;=LENF;x++)
<span class="linenr">39: </span>    {
<span class="linenr">40: </span>      delch();
<span class="linenr">41: </span>      refresh();
<span class="linenr">42: </span>      napms(DELAY);
<span class="linenr">43: </span>    }
<span class="linenr">44: </span>  <span style="color: #00ffff;">for</span>(x=LENS;x&gt;=0;x--)
<span class="linenr">45: </span>    {
<span class="linenr">46: </span>      insch(second[x]);
<span class="linenr">47: </span>      refresh();
<span class="linenr">48: </span>      napms(DELAY);
<span class="linenr">49: </span>    }
<span class="linenr">50: </span>  getch();
<span class="linenr">51: </span>
<span class="linenr">52: </span>  endwin();
<span class="linenr">53: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">54: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-63-6-1" class="outline-5">
<h5 id="sec-18-63-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-63-6-1">
<div class="org-src-container">

<pre class="src src-c">Something is doing the inserting <span style="color: #98fb98;">and</span> <span style="color: #eedd82;">deleting</span>.
</pre>
</div>

<p>
Press Enter and <code>Something</code> is gobbled up and replaced by <code>The
     terminal</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">The terminal is doing the inserting <span style="color: #98fb98;">and</span> <span style="color: #eedd82;">deleting</span>.
</pre>
</div>

<p>
Press Enter and <code>The terminal</code> is gobbled up and replaced by
<code>Software</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">Software is doing the inserting <span style="color: #98fb98;">and</span> <span style="color: #eedd82;">deleting</span>.
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-18-63-7" class="outline-4">
<h4 id="sec-18-63-7">Also See</h4>
<div class="outline-text-4" id="text-18-63-7">
<p>
<a href="#has_ic"><code>has_ic()</code></a>, <a href="#insch"><code>insch()</code></a>, <a href="#delch"><code>delch()</code></a>, <a href="#idlok"><code>idlok()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-64" class="outline-3">
<h3 id="sec-18-64"><code>idlok()</code>                                                          <a id="idlok" name="idlok"></a></h3>
<div class="outline-text-3" id="text-18-64">
<p>
The <code>idlok()</code> function directs whether NCurses uses the terminal
(hardware) ability to insert or delete characters or whether
software routines are used instead.
</p>
</div>

<div id="outline-container-sec-18-64-1" class="outline-4">
<h4 id="sec-18-64-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-64-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">idcok</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">bf</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-64-2" class="outline-4">
<h4 id="sec-18-64-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-64-2">
<p>
<code>win</code> is the name of a <code>WINDOW</code> variable representing a window on
the screen, such ass <code>stdscr</code> for the standard screen.
</p>

<p>
<code>bf</code> is a Boolean value, either <code>TRUE</code> or <code>FALSE</code>. When set
<code>TRUE</code>, the terminal's (hardware) insert/delete line routines are
used. When set <code>FALSE</code>, software routines are used instead.
</p>
</div>
</div>

<div id="outline-container-sec-18-64-3" class="outline-4">
<h4 id="sec-18-64-3">Return Value</h4>
<div class="outline-text-4" id="text-18-64-3">
<p>
<code>idlok()</code> always returns <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-64-4" class="outline-4">
<h4 id="sec-18-64-4">Notes</h4>
<div class="outline-text-4" id="text-18-64-4">
<p>
The <code>has_il()</code> function determines whether or not the terminal has
the ability to insert and delete lines of text.
</p>

<p>
NCurses uses the <code>insdelln()</code> function to insert or delete lines
of text on the screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-64-5" class="outline-4">
<h4 id="sec-18-64-5">Example</h4>
<div class="outline-text-4" id="text-18-64-5">
<div class="org-src-container">

<pre class="src src-c">idcok(w,FALSE);
</pre>
</div>

<p>
The statement directs NCurses to use software routines for
inserting and deleting characters in the window <code>w</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-64-6" class="outline-4">
<h4 id="sec-18-64-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-64-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">DELAY</span> 150
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">ROW</span> 10
<span class="linenr"> 5: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">REPEAT</span> 5
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #00ffff;">static</span> <span style="color: #98fb98;">void</span> <span style="color: #87cefa;">fancy</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">text</span>)
<span class="linenr"> 8: </span>{
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;REPEAT;x++)
<span class="linenr">12: </span>    {
<span class="linenr">13: </span>      mvaddstr(ROW+1,0,text);
<span class="linenr">14: </span>      refresh();
<span class="linenr">15: </span>      napms(DELAY);
<span class="linenr">16: </span>      insdelln(1);
<span class="linenr">17: </span>    }
<span class="linenr">18: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;=REPEAT;x++)
<span class="linenr">19: </span>    {
<span class="linenr">20: </span>      insdelln(-1);
<span class="linenr">21: </span>      refresh();
<span class="linenr">22: </span>      napms(DELAY);
<span class="linenr">23: </span>    }
<span class="linenr">24: </span>}
<span class="linenr">25: </span>
<span class="linenr">26: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">27: </span>{
<span class="linenr">28: </span>  initscr();
<span class="linenr">29: </span>
<span class="linenr">30: </span>  mvaddstr(ROW,0,<span style="color: #ffa07a;">"What is inserting and deleting the text?"</span>);
<span class="linenr">31: </span>  refresh();
<span class="linenr">32: </span>  getch();
<span class="linenr">33: </span>
<span class="linenr">34: </span>  idlok(stdscr,TRUE);
<span class="linenr">35: </span>  fancy(<span style="color: #ffa07a;">"Hardware is!"</span>);
<span class="linenr">36: </span>  getch();
<span class="linenr">37: </span>
<span class="linenr">38: </span>  idlok(stdscr,FALSE);
<span class="linenr">39: </span>  fancy(<span style="color: #ffa07a;">"Software is!"</span>);
<span class="linenr">40: </span>  getch();
<span class="linenr">41: </span>
<span class="linenr">42: </span>  endwin();
<span class="linenr">43: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">44: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-64-6-1" class="outline-5">
<h5 id="sec-18-64-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-64-6-1">
<p>
The program inserts and deletes <code>rows</code> of text, first with
<code>idlok()</code> set to <code>TRUE</code>, then with it set to <code>FALSE</code>.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-64-7" class="outline-4">
<h4 id="sec-18-64-7">Also See</h4>
<div class="outline-text-4" id="text-18-64-7">
<p>
<a href="#has_il"><code>has_il()</code></a>, <a href="#insdelln"><code>insdelln()</code></a>, <a href="#idcok"><code>idcok()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-65" class="outline-3">
<h3 id="sec-18-65"><code>immedok()</code>                                                        <a id="immedok" name="immedok"></a></h3>
<div class="outline-text-3" id="text-18-65">
<p>
The <code>immedok()</code> function provides for automatic update (refreshing)
in a window any time that window's information is changed.
</p>
</div>

<div id="outline-container-sec-18-65-1" class="outline-4">
<h4 id="sec-18-65-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-65-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">immedok</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">bf</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-65-2" class="outline-4">
<h4 id="sec-18-65-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-65-2">
<p>
<code>win</code> is the name of a <code>WINDOW</code> variable representing a window on
the screen, such as <code>stdscr</code> for the standard screen.
</p>

<p>
<code>bf</code> is a Boolean value, either <code>TRUE</code> to enable the <code>immedok()</code>
function or <code>FALSE</code> to disable it. NCurses normally sets
<code>immedok()</code> to the <code>FALSE</code> state for new windows and the standard
screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-65-3" class="outline-4">
<h4 id="sec-18-65-3">Return Value</h4>
<div class="outline-text-4" id="text-18-65-3">
<p>
The function has no return value.
</p>
</div>
</div>

<div id="outline-container-sec-18-65-4" class="outline-4">
<h4 id="sec-18-65-4">Notes</h4>
<div class="outline-text-4" id="text-18-65-4">
<p>
<code>getch()</code>, and related input functions such as <code>getstr()</code>,
automatically update a window. Pretty much all NCurses text output
functions, however, require a <code>refresh()</code> to update the
screen. <code>immedok()</code> set <code>TRUE</code> removes that requirement and the
updating is done automatically.
</p>

<p>
Yes, it's true: By setting <code>immedok()</code> to <code>TRUE</code>, you greatly
increase the overhead required to update the screen. Refer to
<a href="#wnoutrefresh"><code>wnoutrefresh()</code></a> for information on optimizing window and text
output.
</p>
</div>
</div>

<div id="outline-container-sec-18-65-5" class="outline-4">
<h4 id="sec-18-65-5">Example</h4>
<div class="outline-text-4" id="text-18-65-5">
<div class="org-src-container">

<pre class="src src-c">immedok(menu,TRUE);
</pre>
</div>

<p>
Here, the statement sets immediate refreshing for all output to
the window <code>menu</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-65-6" class="outline-4">
<h4 id="sec-18-65-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-65-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">DELAY</span> 500
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">TEXT</span> <span style="color: #ffa07a;">"Lookee Here!"</span>
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #00ffff;">static</span> <span style="color: #98fb98;">void</span> <span style="color: #87cefa;">show</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  mvaddstr(1,10,TEXT);
<span class="linenr"> 9: </span>  napms(DELAY);
<span class="linenr">10: </span>  mvaddstr(2,50,TEXT);
<span class="linenr">11: </span>  napms(DELAY);
<span class="linenr">12: </span>  mvaddstr(10,1,TEXT);
<span class="linenr">13: </span>  napms(DELAY);
<span class="linenr">14: </span>  mvaddstr(20,30,TEXT);
<span class="linenr">15: </span>  napms(DELAY);
<span class="linenr">16: </span>}
<span class="linenr">17: </span>
<span class="linenr">18: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">19: </span>{
<span class="linenr">20: </span>  initscr();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  addstr(<span style="color: #ffa07a;">"First round: immedok() is OFF! (Press Enter and wait!)"</span>);
<span class="linenr">23: </span>  refresh();
<span class="linenr">24: </span>  getch();
<span class="linenr">25: </span>  show();
<span class="linenr">26: </span>  mvaddstr(LINES-1,0,<span style="color: #ffa07a;">"Press Enter:"</span>);
<span class="linenr">27: </span>  refresh();
<span class="linenr">28: </span>  getch();
<span class="linenr">29: </span>
<span class="linenr">30: </span>  immedok(stdscr,TRUE);
<span class="linenr">31: </span>  clear();
<span class="linenr">32: </span>  addstr(<span style="color: #ffa07a;">"Second round: immedok() is ON! (Press Enter and watch!)"</span>);
<span class="linenr">33: </span>  getch();
<span class="linenr">34: </span>  show();
<span class="linenr">35: </span>  mvaddstr(LINES-1,0,<span style="color: #ffa07a;">"Press Enter:"</span>);
<span class="linenr">36: </span>  getch();
<span class="linenr">37: </span>
<span class="linenr">38: </span>  endwin();
<span class="linenr">39: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">40: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-65-6-1" class="outline-5">
<h5 id="sec-18-65-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-65-6-1">
<pre class="example">
First round: immedok() is OFF! (Press Enter and wait!)
</pre>

<p>
Press Enter. Nothing happens until the <code>refresh()</code> in line 27.
</p>

<pre class="example">
Second round: immedok() is ON! (Press Enter and watch!)
</pre>

<p>
Press Enter. Note that text is updated on the screen with nary a
<code>refresh()</code> in sight!
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-65-7" class="outline-4">
<h4 id="sec-18-65-7">Also See</h4>
<div class="outline-text-4" id="text-18-65-7">
<p>
<a href="#refresh"><code>refresh()</code></a>, <a href="#clearok"><code>clearok()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-66" class="outline-3">
<h3 id="sec-18-66"><code>inch()</code>                                                           <a id="inch" name="inch"></a></h3>
<div class="outline-text-3" id="text-18-66">
<p>
The <code>inch()</code> function returns the character and text attribute at
the cursor's position.
</p>
</div>

<div id="outline-container-sec-18-66-1" class="outline-4">
<h4 id="sec-18-66-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-66-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">chtype</span>   <span style="color: #87cefa;">inch</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">chtype</span>   <span style="color: #87cefa;">winch</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
<span style="color: #98fb98;">chtype</span>   <span style="color: #87cefa;">mvinch</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
<span style="color: #98fb98;">chtype</span>   <span style="color: #87cefa;">mvwinch</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-66-2" class="outline-4">
<h4 id="sec-18-66-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-66-2">
<p>
The base function has no arguments; refer to the <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and
<a href="#w_prefix"><code>w</code></a> prefix entries elsewhere in this appendix for information on
the <code>win</code>, <code>y</code>, and <code>x</code> arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-66-3" class="outline-4">
<h4 id="sec-18-66-3">Return Value</h4>
<div class="outline-text-4" id="text-18-66-3">
<p>
A <code>chtype</code> variable is returned, indicating the character and text
attribute(s) found at the cursor's location.
</p>
</div>
</div>

<div id="outline-container-sec-18-66-4" class="outline-4">
<h4 id="sec-18-66-4">Notes</h4>
<div class="outline-text-4" id="text-18-66-4">
<p>
Reading the text and attribute with <code>inch()</code> does not advance the
cursor.
</p>

<p>
The <code>chtype</code> variable returned can be stored or used in any
NCurses function that swallows <code>chtype</code> variables. If you want to
extract something specific from that variable, then a logical AND
operation is in order. For example, to extract the character from
the value returned:
</p>

<div class="org-src-container">

<pre class="src src-c">char_var = ( inch() &amp; A_CHARTEXT);
</pre>
</div>

<p>
The <code>A_CHARTEXT</code> constant helps mask off the non-character
attributes of the <code>chtype</code>. Likewise, to extract the text
formatting attributes only:
</p>

<div class="org-src-container">

<pre class="src src-c">attrib = ( inch() &amp; A_ATTRIBUTES);
</pre>
</div>

<p>
<code>A_ATTRIBUTES</code> helps mask off color and text information, saving
the attributes value into the <code>long int attrib</code>, above. And to
extract the color pair value:
</p>

<div class="org-src-container">

<pre class="src src-c">cpair = ( inch() &amp; A_COLOR);
</pre>
</div>

<p>
The <code>cpair</code> <code>int</code> variable holds the color pair value returned by
the <code>inch()</code> function.
</p>

<p>
There is another NCurses function, <code>insch()</code>, which inserts
characters on the screen. Do not confuse that with <code>inch()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-66-5" class="outline-4">
<h4 id="sec-18-66-5">Examples</h4>
<div class="outline-text-4" id="text-18-66-5">
<div class="org-src-container">

<pre class="src src-c">v = inch();
</pre>
</div>

<p>
Here, the text character and attributes at the cursor's location
on the standard screen are saved in <code>chtype</code> variable <code>v</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">attr = winch(menu) &amp; A_ATTRIBUTES;
</pre>
</div>

<p>
The <code>long int</code> variable <code>attr</code> (or type <code>attr_t</code>) saves the
attributes only from the cursor's current position in window
<code>menu</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">ch = mvwinch(help,0,0) &amp; A_CHARTEXT;
</pre>
</div>

<p>
Here, <code>int</code> variable <code>ch</code> saves the text character from position
0, 0 in window <code>help</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-66-6" class="outline-4">
<h4 id="sec-18-66-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-66-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">other</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>  start_color();
<span class="linenr">11: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"Creating and filling other window..."</span>);
<span class="linenr">14: </span>  other = newwin(0,0,0,0);
<span class="linenr">15: </span>  <span style="color: #00ffff;">if</span>( other==<span style="color: #7fffd4;">NULL</span>)
<span class="linenr">16: </span>    {
<span class="linenr">17: </span>      endwin();
<span class="linenr">18: </span>      puts(<span style="color: #ffa07a;">"Error creating window"</span>);
<span class="linenr">19: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">20: </span>    }
<span class="linenr">21: </span>  wbkgd(other,COLOR_PAIR(1));
<span class="linenr">22: </span>  waddch(other,<span style="color: #ffa07a;">'\"'</span>);
<span class="linenr">23: </span>  wattron(other,A_BOLD);
<span class="linenr">24: </span>  waddstr(other,<span style="color: #ffa07a;">"Hello!"</span>);
<span class="linenr">25: </span>  wattroff(other,A_BOLD);
<span class="linenr">26: </span>  waddstr(other,<span style="color: #ffa07a;">"\" from the other window!"</span>);
<span class="linenr">27: </span>  addstr(<span style="color: #ffa07a;">"Done!\n"</span>);
<span class="linenr">28: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to evaluate the other window's text:\n"</span>);
<span class="linenr">29: </span>  refresh();
<span class="linenr">30: </span>  getch();
<span class="linenr">31: </span>
<span class="linenr">32: </span>  addstr(<span style="color: #ffa07a;">"Other window's text:\n"</span>);
<span class="linenr">33: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;31;x++)
<span class="linenr">34: </span>    {
<span class="linenr">35: </span>      ch = mvwinch(other,0,x);
<span class="linenr">36: </span>      addch(ch &amp; A_CHARTEXT);
<span class="linenr">37: </span>    }
<span class="linenr">38: </span>  refresh();
<span class="linenr">39: </span>  getch();
<span class="linenr">40: </span>
<span class="linenr">41: </span>  addstr(<span style="color: #ffa07a;">"\nAnd here are the other window's text and attributes:\n"</span>);
<span class="linenr">42: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;31;x++)
<span class="linenr">43: </span>    {
<span class="linenr">44: </span>      ch = mvwinch(other,0,x);
<span class="linenr">45: </span>      addch(ch);
<span class="linenr">46: </span>    }
<span class="linenr">47: </span>  refresh();
<span class="linenr">48: </span>  getch();
<span class="linenr">49: </span>
<span class="linenr">50: </span>  endwin();
<span class="linenr">51: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">52: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-66-6-1" class="outline-5">
<h5 id="sec-18-66-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-66-6-1">
<pre class="example">
Creating and filling other window...Done!
Press Enter to evaluate the other window's text:
</pre>

<p>
Press Enter.
</p>

<pre class="example">
Other window's text:
"Hello!" from the other window!
</pre>

<p>
Press Enter.
</p>

<pre class="example">
And here are the other window's text and attributes:
"Hello!" from the other window!
</pre>

<p>
The text displayed is lifted from the other window thanks to the
<code>inch()</code> function.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-66-7" class="outline-4">
<h4 id="sec-18-66-7">Also See</h4>
<div class="outline-text-4" id="text-18-66-7">
<p>
<a href="#inchstr"><code>inchstr()</code></a>, <a href="#insch"><code>insch()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-67" class="outline-3">
<h3 id="sec-18-67"><code>inchstr()</code>                                                        <a id="inchstr" name="inchstr"></a></h3>
<div class="outline-text-3" id="text-18-67">
<p>
The <code>inchstr()</code> function reads an array of <code>chtype</code> characters from
a window, found at the cursor's position and for a given length of
characters or until the end of the line. The <code>chtype</code> characters
are returned in an array, and each chtype character contains text,
attribute, and color information.
</p>
</div>

<div id="outline-container-sec-18-67-1" class="outline-4">
<h4 id="sec-18-67-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-67-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">inchstr</span>(<span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">inchnstr</span>(<span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">winchstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">winchnstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvinchstr</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvinchnstr</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwinchstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwinchnstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">chstr</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-67-2" class="outline-4">
<h4 id="sec-18-67-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-67-2">
<p>
<code>chstr</code> is an array of the NCurses <code>chtype</code>, a <code>long int</code>
containing character and formatting information read from a
window. The array contains chtype characters read from the
cursor's current position to the right a given number of
characters or to the right edge of the window. The array is saved
with <code>\0</code> as the final element.
</p>

<p>
When <code>n</code> is specified (in the <code>inchnstr()</code> functions) <code>n</code>
characters are read from the cursor's current position. The value
of <code>n</code> ranges from 0 through the width of the window, though when
0 is specified nothing is read. A value of -1 reads all characters
from the cursor's position to the end of the row. Values larger
than the length of the row are read only to the end of the row,
not beyond.
</p>

<p>
When <code>n</code> is not specified, as with the <code>inchstr()</code> functions, then
characters are read from the cursor's location to the end of the
row. (This is the same as when -1 is specified for <code>n</code>.)
</p>

<p>
Refer to the <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and <a href="#w_prefix"><code>w</code></a> prefix entries elsewhere in this
appendix for information on the <code>win</code>, <code>y</code>, and <code>x</code> arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-67-3" class="outline-4">
<h4 id="sec-18-67-3">Return Value</h4>
<div class="outline-text-4" id="text-18-67-3">
<p>
<code>ERR</code> is returned when the function fails. Otherwise, an <code>int</code>
value other than <code>ERR</code> is returned.
</p>
</div>
</div>

<div id="outline-container-sec-18-67-4" class="outline-4">
<h4 id="sec-18-67-4">Notes</h4>
<div class="outline-text-4" id="text-18-67-4">
<p>
Do not assume the width of the window being read! It's possible by
using <code>inchstr()</code> to overflow the <code>chtype</code> array. Buffer overflows
are a Bad Thing and must be avoided.
</p>

<p>
I recommend using <code>getmaxy()</code> to determine a window's row width,
then use <code>malloc()</code> to properly allocate a <code>chtype</code> array, and
finally use <code>inchnstr()</code> to read in the proper number of <code>chtype</code>
characters from the window. Refer to the Sample Program.
</p>

<p>
Each <code>chtype</code> character can be masked using the logical <code>&amp;</code> (AND)
to extract specific information: character, attribute, or color
pair. Refer to the entry for <a href="#inch"><code>inch()</code></a> for the details.
</p>

<p>
This function does not move the cursor.
</p>
</div>
</div>

<div id="outline-container-sec-18-67-5" class="outline-4">
<h4 id="sec-18-67-5">Examples</h4>
<div class="outline-text-4" id="text-18-67-5">
<div class="org-src-container">

<pre class="src src-c">inchstr(chstr)
</pre>
</div>

<p>
Here, <code>inchstr()</code> reads text from the cursor's current position on
the standard screen to the end of the row. The text and attributes
are stored in the <code>chtype</code> array, <code>chstr</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">mvinchstr(0,0,title)
</pre>
</div>

<p>
Here, the cursor is moved to location 0,0 on the standard
screen. Text and attributes from the entire top row are read into
<code>chtype</code> array <code>title</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">mvwinchnstr(menu,5,31,option,12)
</pre>
</div>

<p>
In this statement, text and attributes are read from cursor
location row 5, column 31 in window <code>menu</code>. Twelve characters are
read and stored in the <code>chtype</code> array <code>option</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-67-6" class="outline-4">
<h4 id="sec-18-67-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-67-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 5: </span>{
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">chtype</span> *<span style="color: #eedd82;">c</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>  start_color();
<span class="linenr">11: </span>  init_pair(1,COLOR_RED,COLOR_WHITE);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">set aside memory for chtype array </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">15: </span>  c = calloc((x+1), <span style="color: #00ffff;">sizeof</span>(chtype));
<span class="linenr">16: </span>  <span style="color: #00ffff;">if</span>( c == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">17: </span>    {
<span class="linenr">18: </span>      endwin();
<span class="linenr">19: </span>      puts(<span style="color: #ffa07a;">"Unable to allocate memory."</span>);
<span class="linenr">20: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">21: </span>    }
<span class="linenr">22: </span>
<span class="linenr">23: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">write something interesting to the screen </span><span style="color: #ff4500;">*/</span>
<span class="linenr">24: </span>  attron(COLOR_PAIR(1));
<span class="linenr">25: </span>  addstr(<span style="color: #ffa07a;">"This is a bit of text!"</span>);
<span class="linenr">26: </span>  attroff(COLOR_PAIR(1));
<span class="linenr">27: </span>  refresh();
<span class="linenr">28: </span>  getch();
<span class="linenr">29: </span>
<span class="linenr">30: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">copy the text using inchstr </span><span style="color: #ff4500;">*/</span>
<span class="linenr">31: </span>  mvinchstr(0,0,c);
<span class="linenr">32: </span>  mvaddstr(10,0,<span style="color: #ffa07a;">"Here is the chtype string read:\n"</span>);
<span class="linenr">33: </span>  addchstr(c);
<span class="linenr">34: </span>  refresh();
<span class="linenr">35: </span>  getch();
<span class="linenr">36: </span>
<span class="linenr">37: </span>  endwin();
<span class="linenr">38: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">39: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-67-6-1" class="outline-5">
<h5 id="sec-18-67-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-67-6-1">
<p>
In red on white text:
</p>

<pre class="example">
This is a bit of text!
</pre>

<p>
Press Enter, and appearing mid-screen:
</p>

<pre class="example">
Here is the chtype string read:
This is a bit of text!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-67-7" class="outline-4">
<h4 id="sec-18-67-7">Also See</h4>
<div class="outline-text-4" id="text-18-67-7">
<p>
<a href="#appendix_c">Appendix C</a>, <a href="#inch"><code>inch()</code></a>, <a href="#addchstr"><code>addchstr()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-68" class="outline-3">
<h3 id="sec-18-68"><code>init_color()</code>                                                     <a id="init_color" name="init_color"></a></h3>
<div class="outline-text-3" id="text-18-68">
<p>
The <code>init_color()</code> function allows you to redefine colors NCurses
can use for text attributes. For those terminals on which this
function works, you can create interesting colors by adjusting
individual red, green, and blue values, theoretically creating a
billion possible colors.
</p>
</div>

<div id="outline-container-sec-18-68-1" class="outline-4">
<h4 id="sec-18-68-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-68-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">init_color</span>(<span style="color: #98fb98;">short</span> <span style="color: #eedd82;">color</span>, <span style="color: #98fb98;">short</span> <span style="color: #eedd82;">r</span>, <span style="color: #98fb98;">short</span> <span style="color: #eedd82;">g</span>, <span style="color: #98fb98;">short</span> <span style="color: #eedd82;">b</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-68-2" class="outline-4">
<h4 id="sec-18-68-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-68-2">
<p>
<code>c</code> is a <code>short int</code> representing a color number to change. The
range of valid values for <code>c</code> is from 0 through the value of
<code>COLOR</code>. (See <i><code>COLOR</code></i>.)
</p>

<p>
<code>r</code>, <code>g</code>, and <code>b</code> are <code>short int</code> values representing the
intensity of the red, green and blue hues of the color
created. Values range from 0 through 1000, where 0 is black and
1000 is full intensity for red, green, or blue.
</p>
</div>
</div>

<div id="outline-container-sec-18-68-3" class="outline-4">
<h4 id="sec-18-68-3">Return Value</h4>
<div class="outline-text-4" id="text-18-68-3">
<p>
<code>ERR</code> upon failure, <code>OK</code> otherwise.
</p>
</div>
</div>

<div id="outline-container-sec-18-68-4" class="outline-4">
<h4 id="sec-18-68-4">Notes</h4>
<div class="outline-text-4" id="text-18-68-4">
<p>
Use the <code>can_change_color()</code> function to determine whether or not
the terminal has the ability to redefine its colors set. When
<code>can_change_color()</code> returns <code>TRUE</code>, then the <code>init_color()</code>
function can be used.
</p>

<p>
When all three color arguments, <code>red</code>, <code>green</code>, and <code>blue</code>, are
set to the same value the result is a gray tone. The lower the
value, the darker the gray; the higher the value, the lighter the
gray.
</p>

<p>
The default colors used by NCurses relate to the <code>init_color()</code>
statements shown in <a href="#Table-A-7">Table A-7</a>.
</p>

<p>
The <code>color_content()</code> function is used to determine the red,
green, and blue color values of colors in NCurses, kind of the
opposite of the <code>init_color()</code> function. See <a href="#color_content"><code>color_content()</code></a>
elsewhere in this appendix.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-7" name="Table-A-7">Table A-7</a> </dt><dd>Values for NCurses colors

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right">COLOR</th>
<th scope="col" class="left"><code>INIT_COLOR()</code> FUNCTION</th>
<th scope="col" class="left">CONSTANT NAME</th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">0</td>
<td class="left"><code>init_color(0,0,0,0)</code>;</td>
<td class="left"><code>COLOR_BLACK</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">1</td>
<td class="left"><code>init_color(0,1000,0,0)</code>;</td>
<td class="left"><code>COLOR_RED</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">2</td>
<td class="left"><code>init_color(0,0,1000,0)</code>;</td>
<td class="left"><code>COLOR_GREEN</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">3</td>
<td class="left"><code>init_color(0,1000,1000,0)</code>;</td>
<td class="left"><code>COLOR_YELLOW</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">4</td>
<td class="left"><code>init_color(0,0,0,1000)</code>;</td>
<td class="left"><code>COLOR_BLUE</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">5</td>
<td class="left"><code>init_color(0,1000,0,1000)</code>;</td>
<td class="left"><code>COLOR_MAGENTA</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">6</td>
<td class="left"><code>init_color(0,0,1000,1000)</code>;</td>
<td class="left"><code>COLOR_CYAN</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">7</td>
<td class="left"><code>init_color(0,1000,1000,1000)</code>;</td>
<td class="left"><code>COLOR_WHITE</code></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-68-5" class="outline-4">
<h4 id="sec-18-68-5">Examples</h4>
<div class="outline-text-4" id="text-18-68-5">
<div class="org-src-container">

<pre class="src src-c">init_color(5,1000,500,0);
</pre>
</div>

<p>
The statement defines color 5 in NCurses to be a flavor of
orange. Full intensity red and half intensity green equals orange.
</p>

<div class="org-src-container">

<pre class="src src-c">init_color(6,1000,500,0);
</pre>
</div>

<p>
The statement defines color 6 to be purple.
</p>
</div>
</div>

<div id="outline-container-sec-18-68-6" class="outline-4">
<h4 id="sec-18-68-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-68-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">NEW_COLOR</span>    1
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">RED</span>       1000
<span class="linenr"> 5: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">GREEN</span>      750
<span class="linenr"> 6: </span><span style="color: #b0c4de;">#define</span>   <span style="color: #eedd82;">BLUE</span>       750
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 9: </span>{
<span class="linenr">10: </span>  initscr();
<span class="linenr">11: </span>  start_color();
<span class="linenr">12: </span>  <span style="color: #00ffff;">if</span>(!can_change_color())
<span class="linenr">13: </span>    addstr(<span style="color: #ffa07a;">"This probably won't work, but anyway:\n"</span>);
<span class="linenr">14: </span>
<span class="linenr">15: </span>  init_color(NEW_COLOR,RED,GREEN,BLUE);
<span class="linenr">16: </span>
<span class="linenr">17: </span>  init_pair(1,NEW_COLOR,COLOR_BLACK);
<span class="linenr">18: </span>  attrset(COLOR_PAIR(1));
<span class="linenr">19: </span>  printw(<span style="color: #ffa07a;">"This is the new color %d.\n"</span>,NEW_COLOR);
<span class="linenr">20: </span>  refresh();
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  endwin();
<span class="linenr">24: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">25: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-68-6-1" class="outline-5">
<h5 id="sec-18-68-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-68-6-1">
<pre class="example">
This is the new color 1
</pre>

<p>
The text is displayed in pink on a black background.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-68-7" class="outline-4">
<h4 id="sec-18-68-7">Also See</h4>
<div class="outline-text-4" id="text-18-68-7">
<p>
<a href="#chapter_3">Chapter 3</a>, <a href="#can_change_color"><code>can_change_color()</code></a>, <a href="#COLORS"><code>COLORS</code></a>, <a href="#color_content"><code>color_content()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-69" class="outline-3">
<h3 id="sec-18-69"><code>init_pair()</code>                                                     <a id="init_pair" name="init_pair"></a></h3>
<div class="outline-text-3" id="text-18-69">
<p>
The <code>init_pair()</code> function assigns a foreground and background text
color to a color pair value. The color pair value is then used with
the <code>COLOR_PAIR(n)</code> attribute to apply those foreground and
background colors to text or a window as a whole.
</p>
</div>

<div id="outline-container-sec-18-69-1" class="outline-4">
<h4 id="sec-18-69-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-69-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">init_pair</span>(<span style="color: #98fb98;">short</span> <span style="color: #eedd82;">pair</span>, <span style="color: #98fb98;">short</span> <span style="color: #eedd82;">f</span>, <span style="color: #98fb98;">short</span> <span style="color: #eedd82;">b</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-69-2" class="outline-4">
<h4 id="sec-18-69-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-69-2">
<p>
<code>pair</code> is a <code>short int</code> value representing a color pair
number. Values range from 0 through the value of the <code>COLOR_PAIR</code>
constant, minus 1. The color pair number is used to reference the
foreground/background text color combination, specifically with
the <code>COLOR_PAIR(n)</code> attribute. The <code>n</code> in <code>COLOR_PAIR(n)</code> is the
same as <code>pair</code>, representing the color pair created.
</p>

<p>
<code>f</code> and <code>b</code> are a <code>short int</code> values representing the text
foreground and text background colors, respectively. Values range
from 0 through the value of <code>COLOR</code>, minus 1. Refer to <i><code>COLOR</code></i>
elsewhere in this appendix for the list of colors and color
constants commonly available.
</p>
</div>
</div>

<div id="outline-container-sec-18-69-3" class="outline-4">
<h4 id="sec-18-69-3">Return Value</h4>
<div class="outline-text-4" id="text-18-69-3">
<p>
The function returns <code>OK</code> when the pair has been created
successfully; otherwise, <code>ERR</code> is returned.
</p>
</div>
</div>

<div id="outline-container-sec-18-69-4" class="outline-4">
<h4 id="sec-18-69-4">Notes</h4>
<div class="outline-text-4" id="text-18-69-4">
<p>
The <code>start_color()</code> function must be used before this function.
<code>start_color()</code> initializes NCurses to do color. See
<a href="#start_color"><code>start_color()</code></a>.
</p>

<p>
<a href="#Table-A-8">Table A-8</a> lists NCurses color numbers, hues, and constants.
</p>

<p>
Values for the color pair number, <code>pair</code>, range from 1 through
<code>COLOR_PAIR-1</code>. This is because pair number 0 is reserved as the
default text color, typically white on black. Also see the
<a href="#assume_default_colors"><code>assume_default_colors()</code></a> function elsewhere in this appendix.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-8" name="Table-A-8">Table A-8</a> </dt><dd>NCurses color constants

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right">COLOR</th>
<th scope="col" class="left">CONSTANT NAME</th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">0</td>
<td class="left"><code>COLOR_BLACK</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">1</td>
<td class="left"><code>COLOR_RED</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">2</td>
<td class="left"><code>COLOR_GREEN</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">3</td>
<td class="left"><code>COLOR_YELLOW</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">4</td>
<td class="left"><code>COLOR_BLUE</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">5</td>
<td class="left"><code>COLOR_MAGENTA</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">6</td>
<td class="left"><code>COLOR_CYAN</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">7</td>
<td class="left"><code>COLOR_WHITE</code></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-69-5" class="outline-4">
<h4 id="sec-18-69-5">Examples</h4>
<div class="outline-text-4" id="text-18-69-5">
<div class="org-src-container">

<pre class="src src-c">init_pair(1,COLOR_WHITE,COLOR_BLUE);
</pre>
</div>

<p>
The statement creates a new color pair attribute, <code>COLOR_PAIR(1)</code>,
which colors text white on a blue background.
</p>

<div class="org-src-container">

<pre class="src src-c">init_pair(13,4,2);
</pre>
</div>

<p>
Here, <code>COLOR_PAIR(13)</code> is created. The colors used correspond to
color 4 and 2, for blue text on a green background. (See
<a href="#COLORS"><code>COLORS</code></a>.)
</p>
</div>
</div>

<div id="outline-container-sec-18-69-6" class="outline-4">
<h4 id="sec-18-69-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-69-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">pair</span>,<span style="color: #eedd82;">fg</span>,<span style="color: #eedd82;">bg</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  start_color();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  pair = 1;
<span class="linenr">11: </span>  <span style="color: #00ffff;">for</span>(fg=0;fg&lt;COLORS;fg++)
<span class="linenr">12: </span>    <span style="color: #00ffff;">for</span>(bg=0;bg&lt;COLORS;bg++)
<span class="linenr">13: </span>      {
<span class="linenr">14: </span>        init_pair(pair,fg,bg);
<span class="linenr">15: </span>        pair++;
<span class="linenr">16: </span>      }
<span class="linenr">17: </span>
<span class="linenr">18: </span>  <span style="color: #00ffff;">for</span>(pair=0;pair&lt;COLOR_PAIRS;pair++)
<span class="linenr">19: </span>    {
<span class="linenr">20: </span>      attrset(COLOR_PAIR(pair));
<span class="linenr">21: </span>      addstr(<span style="color: #ffa07a;">"Color! "</span>);
<span class="linenr">22: </span>      <span style="color: #00ffff;">if</span>( !(pair % COLORS))
<span class="linenr">23: </span>        addch(<span style="color: #ffa07a;">'\n'</span>);
<span class="linenr">24: </span>    }
<span class="linenr">25: </span>  refresh();
<span class="linenr">26: </span>  getch();
<span class="linenr">27: </span>
<span class="linenr">28: </span>  endwin();
<span class="linenr">29: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">30: </span>}
</pre>
</div>

<p>
The sample output is shown in <a href="#Figure-A-8">Figure A-8</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-8" name="Figure-A-8">Figure A-8</a> </dt><dd>Colorful color combinations (trust me)


<div class="figure">
<p><img src="img/FigureA-8.jpg" alt="FigureA-8.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-69-7" class="outline-4">
<h4 id="sec-18-69-7">Also See</h4>
<div class="outline-text-4" id="text-18-69-7">
<p>
<a href="#start_color"><code>start_color()</code></a>, <a href="#attrset"><code>attrset()</code></a>, <i><code>COLOR</code></i>, <a href="#COLOR_PAIR"><code>COLOR_PAIR</code></a>,
<a href="#pair_content"><code>pair_content()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-70" class="outline-3">
<h3 id="sec-18-70"><code>initscr()</code>                                                        <a id="initscr" name="initscr"></a></h3>
<div class="outline-text-3" id="text-18-70">
<p>
The <code>initscr()</code> function initializes NCurses functions. It sets up
various internal memory structures, creates the standard screen
window, and displays the virtual screen on the terminal.
</p>
</div>

<div id="outline-container-sec-18-70-1" class="outline-4">
<h4 id="sec-18-70-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-70-1">
<div class="org-src-container">

<pre class="src src-c">WINDOW *initscr(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-70-2" class="outline-4">
<h4 id="sec-18-70-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-70-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-70-3" class="outline-4">
<h4 id="sec-18-70-3">Return Value</h4>
<div class="outline-text-4" id="text-18-70-3">
<p>
<code>initscr()</code> returns a pointer to a <code>WINDOW</code> variable, which ends
up being the standard screen, <code>stdscr</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-70-4" class="outline-4">
<h4 id="sec-18-70-4">Notes</h4>
<div class="outline-text-4" id="text-18-70-4">
<p>
The <code>newterm()</code> function can also be used to initialize NCurses,
specifically for special input and output needs.
</p>

<p>
There are a few special NCurses functions that must be called
before <code>initscr()</code> (or <code>newterm()</code>) is used to initialize
NCurses. These are <code>filter()</code>, <code>ripoffline()</code>, <code>slk_init()</code>, and
<code>use_env()</code>.
</p>

<p>
It is not necessary to save the <code>WINDOW</code> pointer returned by
<code>initscr()</code>, as NCurses creates the <code>stdscr</code> variable
automatically.
</p>

<p>
The <code>endwin()</code> function is required to end NCurses programming and
return the terminal to normal behavior. See <a href="#endwin"><code>endwin()</code></a>.
</p>

<p>
When <code>initscr()</code> cannot initialize the terminal, it exits the
program.
</p>
</div>
</div>

<div id="outline-container-sec-18-70-5" class="outline-4">
<h4 id="sec-18-70-5">Example</h4>
<div class="outline-text-4" id="text-18-70-5">
<div class="org-src-container">

<pre class="src src-c">initscr();
</pre>
</div>

<p>
This statement is found near the top of just about every NCurses
program.
</p>
</div>
</div>

<div id="outline-container-sec-18-70-6" class="outline-4">
<h4 id="sec-18-70-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-70-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  addstr(<span style="color: #ffa07a;">"Goodbye, cruel C programming!"</span>);
<span class="linenr"> 7: </span>  refresh();
<span class="linenr"> 8: </span>  getch();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  endwin();
<span class="linenr">11: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">12: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-70-6-1" class="outline-5">
<h5 id="sec-18-70-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-70-6-1">
<pre class="example">
Goodbye, cruel C programming!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-70-7" class="outline-4">
<h4 id="sec-18-70-7">Also See</h4>
<div class="outline-text-4" id="text-18-70-7">
<p>
<a href="#chapter_1">Chapter 1</a>, <a href="#newterm"><code>newterm()</code></a>, <a href="#endwin"><code>endwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-71" class="outline-3">
<h3 id="sec-18-71"><code>innstr()</code>                                                         <a id="innstr" name="innstr"></a></h3>
<div class="outline-text-3" id="text-18-71">
<p>
See <a href="#instr"><code>instr()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-72" class="outline-3">
<h3 id="sec-18-72"><code>insch()</code>                                                          <a id="insch" name="insch"></a></h3>
<div class="outline-text-3" id="text-18-72">
<p>
The <code>insch()</code> function inserts only one character into a row of
text, shoving all the characters to the right one space to the
right. The character is inserted at the cursor's current position.
</p>
</div>

<div id="outline-container-sec-18-72-1" class="outline-4">
<h4 id="sec-18-72-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-72-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">insch</span>(<span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">winsch</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvinsch</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwinsch</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-72-2" class="outline-4">
<h4 id="sec-18-72-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-72-2">
<p>
<code>ch</code> is a <code>chtype</code> character, which can be a single character, a
text attribute, a color pair, or a combination of each. (See
<a href="#appendix_c">Appendix C</a>.)
</p>

<p>
Refer to the <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and <a href="#w_prefix"><code>w</code></a> prefix entries elsewhere in this
appendix for information on the <code>win</code>, <code>y</code>, and <code>x</code> arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-72-3" class="outline-4">
<h4 id="sec-18-72-3">Return Value</h4>
<div class="outline-text-4" id="text-18-72-3">
<p>
<code>ERR</code> on failure, or <code>OK</code> if everything ends up happily ever
after.
</p>
</div>
</div>

<div id="outline-container-sec-18-72-4" class="outline-4">
<h4 id="sec-18-72-4">Notes</h4>
<div class="outline-text-4" id="text-18-72-4">
<p>
The <code>insch()</code> function <i>inserts</i> a character at the cursor's
position. It does not delete any character already at that
position, nor does it move the cursor's location.
</p>

<p>
Any characters shoved off the right edge of the window by
<code>insch()</code> are not wrapped to the next line. Those characters
pushed off are lost.
</p>

<p>
When you merely want to put a character at a location without
rearranging the rest of the text, use the <code>addch()</code> function
instead.
</p>

<p>
To insert a string of characters use the <code>insstr()</code> function. See
<a href="#insstr"><code>insstr()</code></a>.
</p>

<p>
When inserting multiple characters remember to insert them
<i>backwards</i>.  That is, insert the last characters first;
otherwise, the string inserted (one character at a time) appears
<code>sdrawkcab</code>.
</p>

<p>
There is another NCurses function, <code>inch()</code>, which <i>reads</i> a
character from a window (kind of the opposite of <code>addch()</code>). Do
not confuse <code>inch()</code> with <code>insch()</code>!
</p>
</div>
</div>

<div id="outline-container-sec-18-72-5" class="outline-4">
<h4 id="sec-18-72-5">Examples</h4>
<div class="outline-text-4" id="text-18-72-5">
<div class="org-src-container">

<pre class="src src-c">mvinsch(5,10,<span style="color: #ffa07a;">'A'</span>);
</pre>
</div>

<p>
After this statement, an <code>A</code> is placed on the screen at row 5,
column 10. Any text from column 10 to the right edge of the window
is scooted one notch to the right to make room for the <code>A</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">winsch(tally,c);
</pre>
</div>

<p>
Here, the character stored in variable <code>c</code> is placed at the
cursor's current position in window <code>tally</code>. Existing text on that
row is moved over one notch to the right to make room.
</p>

<div class="org-src-container">

<pre class="src src-c">insch(<span style="color: #ffa07a;">'*'</span> | A_BOLD);
</pre>
</div>

<p>
Here, a bold <code>*</code> is inserted at the cursor's current position in
the standard screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-72-6" class="outline-4">
<h4 id="sec-18-72-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-72-6">
<p>
Refer to the entry for <a href="#delch"><code>delch()</code></a> for a sample program and output.
</p>
</div>
</div>

<div id="outline-container-sec-18-72-7" class="outline-4">
<h4 id="sec-18-72-7">Also See</h4>
<div class="outline-text-4" id="text-18-72-7">
<p>
<a href="#chapter_5">Chapter 5</a>, <a href="#insstr"><code>insstr()</code></a>, <a href="#addch"><code>addch()</code></a>, <a href="#insertln"><code>insertln()</code></a>, <a href="#delch"><code>delch()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-73" class="outline-3">
<h3 id="sec-18-73"><code>insdelln()</code>                                                       <a id="insdelln" name="insdelln"></a></h3>
<div class="outline-text-3" id="text-18-73">
<p>
The <code>insdelln()</code> function either inserts or deletes a given number
of lines in a window.
</p>
</div>

<div id="outline-container-sec-18-73-1" class="outline-4">
<h4 id="sec-18-73-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-73-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">insdelln</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">winsdelln</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-73-2" class="outline-4">
<h4 id="sec-18-73-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-73-2">
<p>
<code>n</code> is an <code>int</code> value that indicates the number of lines to insert
or delete. When <code>n</code> is positive, then that number of lines are
inserted at the row the cursor is on. When <code>n</code> is negative, that
number of lines are removed from the row the cursor is on.
</p>

<p>
Refer to the entry for <a href="#w_prefix"><code>w</code></a> later in this appendix for information
on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-73-3" class="outline-4">
<h4 id="sec-18-73-3">Return Value</h4>
<div class="outline-text-4" id="text-18-73-3">
<p>
<code>ERR</code> on failure or <code>OK</code> when things are all sunny and okay.
</p>
</div>
</div>

<div id="outline-container-sec-18-73-4" class="outline-4">
<h4 id="sec-18-73-4">Notes</h4>
<div class="outline-text-4" id="text-18-73-4">
<p>
The <code>insdelln()</code> function does not change the cursor's location.
</p>

<p>
Lines inserted cause text below to scroll down. The bottom <code>n</code>
line(s) are then removed from the window.
</p>

<p>
Lines removed cause the text below to scroll up; <code>n</code> blank lines
are inserted at the bottom of the window.
</p>

<p>
<code>insdelln(1)</code> is equivalent to <code>insertln()</code>.
</p>

<p>
<code>insdelln(-1)</code> is equivalent to <code>deleteln()</code>.
</p>

<p>
When <code>n</code> is zero, obviously, nothing happens.
</p>
</div>
</div>

<div id="outline-container-sec-18-73-5" class="outline-4">
<h4 id="sec-18-73-5">Examples</h4>
<div class="outline-text-4" id="text-18-73-5">
<div class="org-src-container">

<pre class="src src-c">insdelln(2);
</pre>
</div>

<p>
Two new, blank rows of text are inserted at the line the cursor is
on. The two blank lines will be on the cursor line and below that
line. Any text already on those two lines is scrolled down, with
the bottom two rows on the window scrolled off.
</p>

<div class="org-src-container">

<pre class="src src-c">winsdelln(editor,-12);
</pre>
</div>

<p>
Here, 12 lines of text are deleted from the window, <code>editor</code>. The
lines start on the cursor's line and extend down 11 lines. Any
lines below are then scrolled up, with blank lines inserted at the
bottom of the window.
</p>
</div>
</div>

<div id="outline-container-sec-18-73-6" class="outline-4">
<h4 id="sec-18-73-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-73-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">c</span>,<span style="color: #eedd82;">halfy</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">10: </span>  halfy = y &gt;&gt; 1;
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;y;c++)
<span class="linenr">13: </span>    mvprintw(c,15,<span style="color: #ffa07a;">"This is amazing row %d!\n"</span>,c);
<span class="linenr">14: </span>  refresh();
<span class="linenr">15: </span>  getch();
<span class="linenr">16: </span>
<span class="linenr">17: </span>  move(halfy,0);
<span class="linenr">18: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;halfy;c++)
<span class="linenr">19: </span>    {
<span class="linenr">20: </span>      insdelln(1);
<span class="linenr">21: </span>      refresh();
<span class="linenr">22: </span>      napms(100);
<span class="linenr">23: </span>    }
<span class="linenr">24: </span>
<span class="linenr">25: </span>  move(0,0);
<span class="linenr">26: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;halfy;c++)
<span class="linenr">27: </span>    {
<span class="linenr">28: </span>      insdelln(-1);
<span class="linenr">29: </span>      refresh();
<span class="linenr">30: </span>      napms(100);
<span class="linenr">31: </span>    }
<span class="linenr">32: </span>
<span class="linenr">33: </span>  endwin();
<span class="linenr">34: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">35: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-73-6-1" class="outline-5">
<h5 id="sec-18-73-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-73-6-1">
<p>
The screen is filled with text on each line. Pressing Enter
clears the screen by scrolling the bottom half down and then the
top half up.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-73-7" class="outline-4">
<h4 id="sec-18-73-7">Also See</h4>
<div class="outline-text-4" id="text-18-73-7">
<p>
<a href="#insertln"><code>insertln()</code></a>, <a href="#deleteln"><code>deleteln()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-74" class="outline-3">
<h3 id="sec-18-74"><code>insertln()</code>                                                       <a id="insertln" name="insertln"></a></h3>
<div class="outline-text-3" id="text-18-74">
<p>
The <code>insertln()</code> function inserts a fresh, blank line of text on
the screen above the cursor's current line. All lines from the
cursor's current line to the bottom of the window are scrolled down
one row. The last row of the screen is removed.
</p>
</div>

<div id="outline-container-sec-18-74-1" class="outline-4">
<h4 id="sec-18-74-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-74-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">insertln</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">winsdelln</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-74-2" class="outline-4">
<h4 id="sec-18-74-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-74-2">
<p>
The function takes no arguments; refer to the entry for <a href="#w_prefix"><code>w</code></a>
elsewhere in this appendix for information on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-74-3" class="outline-4">
<h4 id="sec-18-74-3">Return Value</h4>
<div class="outline-text-4" id="text-18-74-3">
<p>
<code>OK</code> upon success, <code>ERR</code> on failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-74-4" class="outline-4">
<h4 id="sec-18-74-4">Notes</h4>
<div class="outline-text-4" id="text-18-74-4">
<p>
The cursor's row position determines which row the new blank line
appears on. Text already on that row is scrolled down to the row
beneath, as is all text below that line.
</p>

<p>
<code>insertln()</code> scrolls text on the screen down even when scrolling
is not active for the window. See <a href="#scrollok"><code>scrollok()</code></a>.
</p>

<p>
This function does not move the cursor.
</p>
</div>
</div>

<div id="outline-container-sec-18-74-5" class="outline-4">
<h4 id="sec-18-74-5">Example</h4>
<div class="outline-text-4" id="text-18-74-5">
<div class="org-src-container">

<pre class="src src-c">insertln();
</pre>
</div>

<p>
After the statement, all text in the window from the line the
cursor is on to the bottom is scrolled down one row. A new blank
row then appears on the cursor's line.
</p>
</div>
</div>

<div id="outline-container-sec-18-74-6" class="outline-4">
<h4 id="sec-18-74-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-74-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">hamlet</span>[5][46] = { <span style="color: #ffa07a;">"And by opposing end them?"</span>,
<span class="linenr"> 7: </span>                         <span style="color: #ffa07a;">"Or to take arms against a sea of troubles,"</span>,
<span class="linenr"> 8: </span>                         <span style="color: #ffa07a;">"The slings and arrows of outrageous fortune,"</span>,
<span class="linenr"> 9: </span>                         <span style="color: #ffa07a;">"Whether 'tis nobler in the mind to suffer"</span>,
<span class="linenr">10: </span>                         <span style="color: #ffa07a;">"To be, or not to be: that is the question:"</span> };
<span class="linenr">11: </span>
<span class="linenr">12: </span>  initscr();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;5;x++)
<span class="linenr">15: </span>    {
<span class="linenr">16: </span>      move(0,0);
<span class="linenr">17: </span>      insertln();
<span class="linenr">18: </span>      addstr(hamlet[x]);
<span class="linenr">19: </span>      refresh();
<span class="linenr">20: </span>      getch();
<span class="linenr">21: </span>    }
<span class="linenr">22: </span>
<span class="linenr">23: </span>  endwin();
<span class="linenr">24: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">25: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-74-6-1" class="outline-5">
<h5 id="sec-18-74-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-74-6-1">
<pre class="example">
And by opposing end them?
</pre>

<p>
Press Enter.
</p>

<pre class="example">
Or to take arms against a sea of troubles,
And by opposing end them?
</pre>

<p>
Press Enter.
</p>

<pre class="example">
The slings and arrows of outrageous fortune,
Or to take arms against a sea of troubles,
And by opposing end them?
</pre>

<p>
Press Enter.
</p>

<pre class="example">
Whether 'tis nobler in the mind to suffer
The slings and arrows of outrageous fortune,
Or to take arms against a sea of troubles,
And by opposing end them?
</pre>

<p>
Press Enter.
</p>

<pre class="example">
To be, or not to be: that is the question:
Whether 'tis nobler in the mind to suffer
The slings and arrows of outrageous fortune,
Or to take arms against a sea of troubles,
And by opposing end them?
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-74-7" class="outline-4">
<h4 id="sec-18-74-7">Also See</h4>
<div class="outline-text-4" id="text-18-74-7">
<p>
<a href="#chapter_5">Chapter 5</a>, <a href="#deleteln"><code>deleteln()</code></a>, <a href="#insch"><code>insch()</code></a>, <a href="#insdelln"><code>insdelln()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-75" class="outline-3">
<h3 id="sec-18-75"><code>insstr()</code>                                                         <a id="insstr" name="insstr"></a></h3>
<div class="outline-text-3" id="text-18-75">
<p>
The <code>insstr()</code> function inserts a string of characters at the
cursor's position, shoving remaining text on that line to the
right. It's equivalent to multiple calls to the <code>insch()</code> function.
</p>
</div>

<div id="outline-container-sec-18-75-1" class="outline-4">
<h4 id="sec-18-75-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-75-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">insstr</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">insnstr</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">winsstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">winsnstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvinsstr</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvinsnstr</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwinsstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwinsnstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-75-2" class="outline-4">
<h4 id="sec-18-75-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-75-2">
<p>
<code>str</code> is a string of text characters (a <code>char</code> array) inserted at
the cursor's position.  These are plain text characters, not
<code>chtype</code> characters.
</p>

<p>
Those functions that use <code>n</code> specify how many characters of <code>str</code>
to display.  Values for <code>n</code> range from 0 on up to the length of
the str. If <code>n</code> is greater than the length of the str, or when <code>n</code>
is 0 (or less than 0), then the entire <code>str</code> is displayed.
</p>

<p>
Refer to the <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and <a href="#w_prefix"><code>w</code></a> prefix entries elsewhere in this
appendix for information on the <code>win</code>, <code>y</code>, and <code>x</code> arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-75-3" class="outline-4">
<h4 id="sec-18-75-3">Return Value</h4>
<div class="outline-text-4" id="text-18-75-3">
<p>
<code>OK</code> upon success, <code>ERR</code> upon not-success.
</p>
</div>
</div>

<div id="outline-container-sec-18-75-4" class="outline-4">
<h4 id="sec-18-75-4">Notes</h4>
<div class="outline-text-4" id="text-18-75-4">
<p>
The <code>insstr()</code> function does not change the cursor's
location. (Contrast this with <code>addstr()</code>, which does move the
cursor.)
</p>

<p>
Characters moved beyond the right edge of the screen are lost; the
<code>insstr()</code> function does not wrap text or scroll the screen.
</p>

<p>
Specifying values of <code>n</code> longer than the actual length of the
string does not cause blanks to be displayed. Instead, the entire
string is displayed, just as if the <code>insstr()</code> (non-n) version of
the function were used.
</p>

<p>
Just as with <code>addstr()</code> and <code>addch()</code>, this function interprets
the control characters for Tab, Newline, and Backspace. For
example, a tab advances text to the next tab stop; newline erases
the rest of the line and causes <code>insstr()</code> to continue to insert
text on the following line (column 0), and backspace moves the
cursor backward one notch.
</p>

<p>
When inserting only one character, use the <code>insch()</code> function
instead.
</p>
</div>
</div>

<div id="outline-container-sec-18-75-5" class="outline-4">
<h4 id="sec-18-75-5">Examples</h4>
<div class="outline-text-4" id="text-18-75-5">
<div class="org-src-container">

<pre class="src src-c">insstr(<span style="color: #ffa07a;">"ERROR -&gt;"</span>);
</pre>
</div>

<p>
Here, the string <code>ERROR-&gt;</code> is inserted into the standard screen at
the cursor's position.
</p>

<div class="org-src-container">

<pre class="src src-c">mvinsnstr(found_y,found_x,patch,5);
</pre>
</div>

<p>
Here, the first five characters from the string <code>patch</code> are
inserted into the standard screen at the locations specified in
the <code>found_y</code> and <code>found_x</code> variables.
</p>

<div class="org-src-container">

<pre class="src src-c">winsstr(tally,result[x]);
</pre>
</div>

<p>
Here, the text represented by <code>result[x]</code> is inserted at the
cursor's current position in the window <code>tally</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-75-6" class="outline-4">
<h4 id="sec-18-75-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-75-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">a</span>,<span style="color: #eedd82;">b</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">s</span>[] = <span style="color: #ffa07a;">"Excuse me while I squeeze in here!"</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">12: </span>  x &gt;&gt;= 1;                    <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">cut x in half</span><span style="color: #ff4500;">*/</span>
<span class="linenr">13: </span>  <span style="color: #00ffff;">for</span>(a=0;a&lt;y;a++)
<span class="linenr">14: </span>    {
<span class="linenr">15: </span>      <span style="color: #00ffff;">for</span>(b=0;b&lt;x;b++)
<span class="linenr">16: </span>        addch(<span style="color: #ffa07a;">'.'</span>);
<span class="linenr">17: </span>      addch(<span style="color: #ffa07a;">'\n'</span>);
<span class="linenr">18: </span>    }
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  mvinsstr(5,10,s);
<span class="linenr">23: </span>  refresh();
<span class="linenr">24: </span>  getch();
<span class="linenr">25: </span>
<span class="linenr">26: </span>  endwin();
<span class="linenr">27: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">28: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-75-6-1" class="outline-5">
<h5 id="sec-18-75-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-75-6-1">
<p>
The left side of the screen is populated with dots. Pressing
Enter causes text to be inserted, visually showing the dots
previously there pushed off to the right.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-75-7" class="outline-4">
<h4 id="sec-18-75-7">Also See</h4>
<div class="outline-text-4" id="text-18-75-7">
<p>
<a href="#insch"><code>insch()</code></a>, <a href="#addstr"><code>addstr()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-76" class="outline-3">
<h3 id="sec-18-76"><code>instr()</code>                                                          <a id="instr" name="instr"></a></h3>
<div class="outline-text-3" id="text-18-76">
<p>
The <code>instr()</code> function reads text characters from a window and
stores them in a <code>char</code> array. Text is read from the cursor's
current position to the end of the line or for the length
specified, depending on the version of the function.
</p>
</div>

<div id="outline-container-sec-18-76-1" class="outline-4">
<h4 id="sec-18-76-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-76-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">instr</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">innstr</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">winstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">winnstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvinstr</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvinnstr</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwinstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwinnstr</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">str</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-76-2" class="outline-4">
<h4 id="sec-18-76-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-76-2">
<p>
<code>str</code> indicates a <code>char</code> array big enough to hold text from the
window, plus the terminating <code>\0</code> character NCurses appends to the
end of the string. The text is read from the cursor's position to
the end of the row.
</p>

<p>
For the <code>n</code> functions, <code>n</code> represents the maximum number of
characters to read and place into the str. When <code>n</code> is 0, less
than 0, longer than the width of the window, or longer than the
distance from the cursor to the end of the row, then the whole
line is read â just like the <code>instr()</code> version of the function.
</p>

<p>
Refer to the <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and <a href="#w_prefix"><code>w</code></a> entries elsewhere in this
appendix for information on the <code>win</code>, <code>y</code>, and <code>x</code> arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-76-3" class="outline-4">
<h4 id="sec-18-76-3">Return Value</h4>
<div class="outline-text-4" id="text-18-76-3">
<p>
<code>OK</code> on success, <code>ERR</code> on failure. Refer to <a href="#OK"><code>OK</code></a> and <a href="#ERR"><code>ERR</code></a>
elsewhere in this appendix for additional and vital information.
</p>
</div>
</div>

<div id="outline-container-sec-18-76-4" class="outline-4">
<h4 id="sec-18-76-4">Notes</h4>
<div class="outline-text-4" id="text-18-76-4">
<p>
The <code>instr()</code> function does not move the cursor.
</p>

<p>
<code>instr()</code> reads the entire line of text, saving blanks as the
space character (<code>\x20</code>). The last character of the array is <code>\0</code>,
not <code>\n</code>.
</p>

<p>
This function reads only text characters from the window. To read
<code>chtype</code> characters, which include both text and formatting
attributes, use the <code>inchstr()</code> function instead. See <a href="#inchstr"><code>inchstr()</code></a>.
</p>

<p>
When control characters are put to the screen, NCurses displays
them as two characters, <code>^</code> followed by the control character's
key code. When a function such as <code>instr()</code> reads the screen, it
returns the <code>^</code> and character code values, not the control code
that was originally put to the screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-76-5" class="outline-4">
<h4 id="sec-18-76-5">Examples</h4>
<div class="outline-text-4" id="text-18-76-5">
<div class="org-src-container">

<pre class="src src-c">winnstr(beta,first_name,32);
</pre>
</div>

<p>
In the statement, 32 characters of text are read from the cursor's
current location (to the right) in the window <code>beta</code>. The
characters are stored in the string <code>first_name</code>.
</p>


<div class="org-src-container">

<pre class="src src-c">mvinstr(0,0,row[0]);
</pre>
</div>

<p>
The entire top row of the standard screen is read and stored into
the string array <code>row[0]</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-76-6" class="outline-4">
<h4 id="sec-18-76-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-76-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 5: </span>{
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">c</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>  start_color();
<span class="linenr">11: </span>  init_pair(1,COLOR_RED,COLOR_WHITE);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">set aside memory for chtype array </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  getmaxyx(stdscr,y,x);
<span class="linenr">15: </span>  c = (<span style="color: #98fb98;">char</span> *)malloc((x+1));
<span class="linenr">16: </span>  <span style="color: #00ffff;">if</span>( c == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">17: </span>    {
<span class="linenr">18: </span>      endwin();
<span class="linenr">19: </span>      puts(<span style="color: #ffa07a;">"Unable to allocate memory."</span>);
<span class="linenr">20: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">21: </span>    }
<span class="linenr">22: </span>
<span class="linenr">23: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">write something interesting to the screen </span><span style="color: #ff4500;">*/</span>
<span class="linenr">24: </span>  attron(COLOR_PAIR(1));
<span class="linenr">25: </span>  addstr(<span style="color: #ffa07a;">"This is a bit of text!"</span>);
<span class="linenr">26: </span>  attroff(COLOR_PAIR(1));
<span class="linenr">27: </span>  refresh();
<span class="linenr">28: </span>  getch();
<span class="linenr">29: </span>
<span class="linenr">30: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">copy the text only using instr </span><span style="color: #ff4500;">*/</span>
<span class="linenr">31: </span>  mvinstr(0,0,c);
<span class="linenr">32: </span>  mvaddstr(10,0,<span style="color: #ffa07a;">"Here is the text read:\n"</span>);
<span class="linenr">33: </span>  addstr(c);
<span class="linenr">34: </span>  refresh();
<span class="linenr">35: </span>  getch();
<span class="linenr">36: </span>
<span class="linenr">37: </span>  endwin();
<span class="linenr">38: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">39: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-76-6-1" class="outline-5">
<h5 id="sec-18-76-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-76-6-1">
<p>
<code>This is a bit of text</code> appears at the top of the screen in
red-on-white text.  Only the text is read by <code>mvinstr()</code> in line
31, and displayed on line 11 after the Enter key is pressed.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-76-7" class="outline-4">
<h4 id="sec-18-76-7">Also See</h4>
<div class="outline-text-4" id="text-18-76-7">
<p>
<a href="#inchstr"><code>inchstr()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-77" class="outline-3">
<h3 id="sec-18-77"><code>intrflush()</code>                                                      <a id="intrflush" name="intrflush"></a></h3>
<div class="outline-text-3" id="text-18-77">
<p>
The <code>intrflush()</code> function controls whether the keyboard input
queue is flushed when an interrupt key is typed at the keyboard.
</p>
</div>

<div id="outline-container-sec-18-77-1" class="outline-4">
<h4 id="sec-18-77-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-77-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">intrflush</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">bf</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-77-2" class="outline-4">
<h4 id="sec-18-77-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-77-2">
<p>
<code>win</code> is ignored.
</p>

<p>
<code>bf</code> is a Boolean value, either <code>TRUE</code> or <code>FALSE</code>. <code>TRUE</code> turns on
interrupt flushing on keyboard input. <code>FALSE</code> disables interrupt
flushing.
</p>
</div>
</div>

<div id="outline-container-sec-18-77-3" class="outline-4">
<h4 id="sec-18-77-3">Return Value</h4>
<div class="outline-text-4" id="text-18-77-3">
<p>
<code>ERR</code> upon failure, <code>OK</code> or some value other than <code>ERR</code> upon
success.
</p>
</div>
</div>

<div id="outline-container-sec-18-77-4" class="outline-4">
<h4 id="sec-18-77-4">Notes</h4>
<div class="outline-text-4" id="text-18-77-4">
<p>
When <code>intrflush()</code> is <code>TRUE</code>, pressing a break key results in an
instant flush of the input queue, and immediate action upon the
break key. When it is <code>FALSE</code>, then the interrupt is still acted
upon, but any text in the buffer may appear later, such as at the
command prompt.
</p>

<p>
The interrupt keys <code>intrflush()</code> monitors are listed in <a href="#Table-A-9">Table A-9</a>.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-9" name="Table-A-9">Table A-9</a> </dt><dd>Interrupt keys monitored by <code>intrflush()</code>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">KEY FUNCTION</th>
<th scope="col" class="left">NAME</th>
<th scope="col" class="left">KEY(S)</th>
<th scope="col" class="left">ASCII</th>
<th scope="col" class="left">SIGNAL</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Break</td>
<td class="left"><code>BREAK</code></td>
<td class="left">Break?</td>
<td class="left">n/a</td>
<td class="left"><code>BRKINT</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Interrupt</td>
<td class="left"><code>INTR</code></td>
<td class="left"><code>^C</code></td>
<td class="left">~ 0x03~</td>
<td class="left"><code>SIGINT</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Quit</td>
<td class="left"><code>QUIT</code></td>
<td class="left"><code>^\</code></td>
<td class="left">~ 0x1c~</td>
<td class="left"><code>SIGQUIT</code></td>
</tr>
</tbody>
</table>
</dd>
</dl>


<p>
The behavior of the Break key on your keyboard (if one exists)
depends on how its mapped in the terminal.
</p>

<p>
When <code>intrflush()</code> is turned on, pressing an interrupt key results
in a faster response than would otherwise be experienced.
</p>

<p>
On the downside, having <code>intrflush()</code> turned on may result in
disconnect between what NCurses believes to be displayed on the
screen versus what's actually there.
</p>

<p>
The default state for interrupt flushing is set by the terminal
and inherited by your NCurses program.
</p>
</div>
</div>

<div id="outline-container-sec-18-77-5" class="outline-4">
<h4 id="sec-18-77-5">Examples</h4>
<div class="outline-text-4" id="text-18-77-5">
<div class="org-src-container">

<pre class="src src-c">intrflush(<span style="color: #7fffd4;">NULL</span>,TRUE);
</pre>
</div>

<p>
Here, the <code>intrflush()</code> state is set <code>TRUE</code>, meaning that the
input buffer is flushed when an interrupt key is pressed.
</p>

<div class="org-src-container">

<pre class="src src-c">intrflush(<span style="color: #7fffd4;">NULL</span>,TRUE);
</pre>
</div>

<p>
The <code>intrflush()</code> state is set above to <code>FALSE</code>, meaning that the
input is not flushed when an interrupt key is pressed but may be
flushed afterwards.
</p>
</div>
</div>

<div id="outline-container-sec-18-77-6" class="outline-4">
<h4 id="sec-18-77-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-77-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">buffer</span>[81];
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  intrflush(<span style="color: #7fffd4;">NULL</span>,FALSE);
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"Type on the keyboard whilst I wait...\n"</span>);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  napms(5000);            <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">5 seconds </span><span style="color: #ff4500;">*/</span>
<span class="linenr">13: </span>
<span class="linenr">14: </span>  addstr(<span style="color: #ffa07a;">"Here is what you typed:\n"</span>);
<span class="linenr">15: </span>  getnstr(buffer,80);
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>
<span class="linenr">18: </span>  endwin();
<span class="linenr">19: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">20: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-77-6-1" class="outline-5">
<h5 id="sec-18-77-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-77-6-1">
<pre class="example">
Type on the keyboard whilst I wait...
</pre>

<p>
Type something; then press Ctrl+C. The Ctrl+C quits the program,
and then you'll see the text you typed appear at the prompt.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-77-7" class="outline-4">
<h4 id="sec-18-77-7">Also See</h4>
<div class="outline-text-4" id="text-18-77-7">
<p>
<a href="#flushinp"><code>flushinp()</code></a>, <a href="#qiflush"><code>qiflush()</code></a>, <a href="#typeahead"><code>typeahead()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-78" class="outline-3">
<h3 id="sec-18-78"><code>isendwin()</code>                                                       <a id="isendwin" name="isendwin"></a></h3>
<div class="outline-text-3" id="text-18-78">
<p>
The <code>isendwin()</code> function is used to determine whether NCurses
visual mode has not been reactivated after a call to the <code>endwin()</code>
function has been made.
</p>
</div>

<div id="outline-container-sec-18-78-1" class="outline-4">
<h4 id="sec-18-78-1">Explanation</h4>
<div class="outline-text-4" id="text-18-78-1">
<p>
Though <code>endwin()</code> is officially the "End of NCurses Program"
function, it's still possible to use NCurses functions after the
<code>endwin()</code> call has been made.
</p>

<p>
For example, <code>endwin()</code> can be used to suspend NCurses visual mode
and return to tty mode. Afterwards, any subsequent calls to
<code>refresh()</code> or <code>doupdate()</code> restore NCurses visual mode, meaning
that though <code>endwin()</code> has been called, NCurses functions are
still being used. (The <code>endwin()</code> function still needs to be
called when the program really does quit.)
</p>

<p>
The <code>isendwin()</code> function returns <code>TRUE</code> if <code>endwin()</code> has been
called and the program has not re-activated NCurses visual
mode. <code>isendwin()</code> returns <code>FALSE</code> if <code>endwin()</code> has been called
<i>and</i> followed by a <code>refresh()</code> or <code>doupdate()</code> function to once
again activate NCurses visual mode.
</p>
</div>
</div>

<div id="outline-container-sec-18-78-2" class="outline-4">
<h4 id="sec-18-78-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-78-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">bool</span> <span style="color: #87cefa;">isendwin</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-78-3" class="outline-4">
<h4 id="sec-18-78-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-78-3">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-78-4" class="outline-4">
<h4 id="sec-18-78-4">Return Value</h4>
<div class="outline-text-4" id="text-18-78-4">
<p>
A Boolean value, either <code>TRUE</code> or <code>FALSE</code>, both of which are
defined in <code>ncurses.h</code>.
</p>

<p>
<code>TRUE</code> is returned when the <code>endwin()</code> function has been called
and NCurses visual mode has been restarted by a <code>refresh()</code> or
<code>doupdate()</code> function.
</p>

<p>
<code>FALSE</code> is returned when <code>endwin()</code> has been called and NCurses
has not returned to visual mode.
</p>
</div>
</div>

<div id="outline-container-sec-18-78-5" class="outline-4">
<h4 id="sec-18-78-5">Notes</h4>
<div class="outline-text-4" id="text-18-78-5">
<p>
Do not use this function to determine whether or not NCurses is in
visual mode.
</p>

<p>
<code>FALSE</code> is returned when <code>isendwin()</code> is called before <code>endwin()</code>
has been issued.
</p>

<p>
Calling <code>isendwin()</code> before <code>initscr()</code> or <code>newterm()</code> has
initialized NCurses isn't necessarily a Bad Thing; like other
NCurses functions used outside of initialization it will merely
return <code>FALSE</code>.
</p>

<p>
I refer to this as the "Is it really over?" function.
</p>
</div>
</div>

<div id="outline-container-sec-18-78-6" class="outline-4">
<h4 id="sec-18-78-6">Examples</h4>
<div class="outline-text-4" id="text-18-78-6">
<div class="org-src-container">

<pre class="src src-c">endwin();
<span style="color: #00ffff;">if</span>(isendwin())
</pre>
</div>

<p>
The <code>if</code> condition evaluates to <code>TRUE</code> because the <code>endwin()</code>
function was just issued.
</p>

<div class="org-src-container">

<pre class="src src-c">endwin();
refresh();
<span style="color: #00ffff;">if</span>(isendwin())
</pre>
</div>

<p>
The <code>if</code> condition evaluates to <code>FALSE</code> because although the
<code>endwin()</code> function has been issued, the <code>refresh()</code> function has
restarted NCurses visual mode.
</p>
</div>
</div>

<div id="outline-container-sec-18-78-7" class="outline-4">
<h4 id="sec-18-78-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-78-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to temporarily suspend this program:\n"</span>);
<span class="linenr"> 8: </span>  refresh();
<span class="linenr"> 9: </span>  getch();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  endwin();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  fputs(<span style="color: #ffa07a;">"Program suspended..."</span>,stdout);
<span class="linenr">14: </span>  <span style="color: #00ffff;">if</span>(isendwin())
<span class="linenr">15: </span>    fputs(<span style="color: #ffa07a;">"isendwin() returns TRUE..."</span>,stdout);
<span class="linenr">16: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">17: </span>    fputs(<span style="color: #ffa07a;">"isendwin() returns FALSE..."</span>,stdout);
<span class="linenr">18: </span>  puts(<span style="color: #ffa07a;">"Press Enter:"</span>);
<span class="linenr">19: </span>  fflush(stdout);
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  addstr(<span style="color: #ffa07a;">"Now NCurses visual mode has been restarted after   endwin().\n"</span>);
<span class="linenr">23: </span>  <span style="color: #00ffff;">if</span>(isendwin())
<span class="linenr">24: </span>    addstr(<span style="color: #ffa07a;">"isendwin() returns TRUE.\n"</span>);
<span class="linenr">25: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">26: </span>    addstr(<span style="color: #ffa07a;">"isendwin() returns FALSE.\n"</span>);
<span class="linenr">27: </span>  refresh();
<span class="linenr">28: </span>  getch();
<span class="linenr">29: </span>
<span class="linenr">30: </span>  endwin();
<span class="linenr">31: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">32: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-78-7-1" class="outline-5">
<h5 id="sec-18-78-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-78-7-1">
<pre class="example">
Press Enter to temporarily suspend this program:
</pre>

<p>
Press Enter and the program ends. You see:
</p>

<pre class="example">
Program suspended...isendwin() returns TRUE...Press Enter:
</pre>

<p>
Press Enter:
</p>

<pre class="example">
Press Enter to temporarily suspend this program:
Now NCurses visual mode has been restarted after endwin().
isendwin() returns TRUE.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-78-8" class="outline-4">
<h4 id="sec-18-78-8">Also See</h4>
<div class="outline-text-4" id="text-18-78-8">
<p>
<a href="#endwin"><code>endwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-79" class="outline-3">
<h3 id="sec-18-79"><code>is_linetouched()</code>                                                 <a id="is_linetouched" name="is_linetouched"></a></h3>
<div class="outline-text-3" id="text-18-79">
<p>
The <code>is_linetouched()</code> function determines whether a line of text
in a window has been altered since the last screen update.
</p>
</div>

<div id="outline-container-sec-18-79-1" class="outline-4">
<h4 id="sec-18-79-1">Explanation</h4>
<div class="outline-text-4" id="text-18-79-1">
<p>
NCurses keeps track of which portions of a window have been
changed since the last <code>refresh()</code>. The <code>is_linetouched()</code>
function determines whether or not any text on a given line (row)
of text has been modified since that <code>refresh()</code>. If so, the
function returns <code>TRUE</code>, <code>FALSE</code> otherwise.
</p>
</div>
</div>

<div id="outline-container-sec-18-79-2" class="outline-4">
<h4 id="sec-18-79-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-79-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">bool</span> <span style="color: #87cefa;">is_linetouched</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">line</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-79-3" class="outline-4">
<h4 id="sec-18-79-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-79-3">
<p>
<code>win</code> is an NCurses window, either <code>stdscr</code> for the standard
screen or the name of a <code>WINDOW</code> variable returned from a function
that creates new windows.
</p>

<p>
<code>line</code> is an <code>int</code> value indicating which row (line) to check for
updates. Values range from 0 for the top row to the maximum rows
in a window.
</p>
</div>
</div>

<div id="outline-container-sec-18-79-4" class="outline-4">
<h4 id="sec-18-79-4">Return Value</h4>
<div class="outline-text-4" id="text-18-79-4">
<p>
The value returned by <code>is_linetouched()</code> is one of the following
constants declared in <code>ncurses.h</code>:
</p>

<ul class="org-ul">
<li><code>TRUE</code>, indicating that the <code>line</code> has been modified since the
last <code>refresh()</code>
</li>

<li><code>FALSE</code>, indicating that the line and the current screen match
up (or should match up as far as NCurses is concerned)
</li>

<li><code>ERR</code>, which happens when an invalid line number is specified
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-18-79-5" class="outline-4">
<h4 id="sec-18-79-5">Notes</h4>
<div class="outline-text-4" id="text-18-79-5">
<p>
The <code>is_linetouched()</code> function is merely a tool you can use to
determine whether or not a row of text has been updated since the
last <code>refresh()</code>.  Using the <code>is_linetouched()</code> function does not
force NCurses to update the screen but rather indicates which line
will be updated on the next refresh.
</p>

<p>
<code>is_linetouched()</code> works best after a recent refresh. For example,
when a window is just created, or <code>initscr()</code> has created the
standard screen, then effectively all lines in the window are
<i>touched</i>. Only after issuing a recent <code>refresh()</code> does the
<code>is_linetouched()</code> function become truly useful.
</p>

<p>
The <code>is_linetouched()</code> function always returns <code>TRUE</code> after the
<code>touchline()</code> function is used. See <a href="#touchline"><code>touchline()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-79-6" class="outline-4">
<h4 id="sec-18-79-6">Example</h4>
<div class="outline-text-4" id="text-18-79-6">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(is_linetouched(alpha,0));
</pre>
</div>

<p>
Here, the <code>if</code> test passes when modifications have been made to
line 0 in window <code>alpha</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-79-7" class="outline-4">
<h4 id="sec-18-79-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-79-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">hide</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">row</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  hide = newwin(0,0,0,0);
<span class="linenr">10: </span>
<span class="linenr">11: </span>  refresh();             <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Initial write of the standard screen </span><span style="color: #ff4500;">*/</span>
<span class="linenr">12: </span>  waddstr(hide,<span style="color: #ffa07a;">"Changes are being made to the standard screen\n"</span>);
<span class="linenr">13: </span>  mvaddstr(3,5,<span style="color: #ffa07a;">"Change!"</span>);
<span class="linenr">14: </span>  mvaddstr(10,60,<span style="color: #ffa07a;">"Change!"</span>);
<span class="linenr">15: </span>  mvaddstr(20,40,<span style="color: #ffa07a;">"Change!"</span>);
<span class="linenr">16: </span>  waddstr(hide,<span style="color: #ffa07a;">"Press Enter to see which rows have been changed:\n"</span>);
<span class="linenr">17: </span>  wrefresh(hide);
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  <span style="color: #00ffff;">for</span>(row=0;row&lt;LINES;row++)
<span class="linenr">21: </span>    {
<span class="linenr">22: </span>      <span style="color: #00ffff;">if</span>(is_linetouched(stdscr,row))
<span class="linenr">23: </span>        wprintw(hide,<span style="color: #ffa07a;">"Line %d has been updated.\n"</span>,row);
<span class="linenr">24: </span>    }
<span class="linenr">25: </span>  wrefresh(hide);
<span class="linenr">26: </span>  getch();
<span class="linenr">27: </span>
<span class="linenr">28: </span>  endwin();
<span class="linenr">29: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">30: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-79-7-1" class="outline-5">
<h5 id="sec-18-79-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-79-7-1">
<pre class="example">
Changes are being made to the standard screen
Press Enter to see which rows have been changed:
Line 3 has been updated.
Line 10 has been updated.
Line 20 has been updated.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-79-8" class="outline-4">
<h4 id="sec-18-79-8">Also See</h4>
<div class="outline-text-4" id="text-18-79-8">
<p>
<a href="#touchline"><code>touchline()</code></a>, <a href="#wtouchln"><code>wtouchln()</code></a>, <a href="#is_wintouched"><code>is_wintouched()</code></a>, <a href="#refresh"><code>refresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-80" class="outline-3">
<h3 id="sec-18-80"><code>is_wintouched()</code>                                                  <a id="is_wintouched" name="is_wintouched"></a></h3>
<div class="outline-text-3" id="text-18-80">
<p>
The <code>is_wintouched()</code> function helps determine whether any part of
a window has been changed or updated since the last <code>refresh()</code>.
</p>
</div>

<div id="outline-container-sec-18-80-1" class="outline-4">
<h4 id="sec-18-80-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-80-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">bool</span> <span style="color: #87cefa;">is_wintouched</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-80-2" class="outline-4">
<h4 id="sec-18-80-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-80-2">
<p>
<code>win</code> is the name of the window to examine.
</p>
</div>
</div>

<div id="outline-container-sec-18-80-3" class="outline-4">
<h4 id="sec-18-80-3">Return Value</h4>
<div class="outline-text-4" id="text-18-80-3">
<p>
The function returns <code>TRUE</code> when the window has been changed,
<code>FALSE</code> otherwise. <code>TRUE</code> and <code>FALSE</code> are defined in <code>ncurses.h</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-80-4" class="outline-4">
<h4 id="sec-18-80-4">Notes</h4>
<div class="outline-text-4" id="text-18-80-4">
<p>
A window is considered touched immediately after it's created or,
in the case of <code>stdscr</code>, immediately after the <code>initscr()</code>
function. On such a new window, the <code>is_wintouched()</code> function
always returns <code>TRUE</code>. Therefore, it's best to use
<code>is_wintouched()</code> after a <code>refresh()</code> or <code>wrefresh()</code> call is made
for a specific window.
</p>

<p>
<code>is_wintouched()</code> always returns <code>TRUE</code> after the <code>touchwin()</code>
function is used. See <a href="#touchwin"><code>touchwin()</code></a>.
</p>

<p>
The <code>is_wintouched()</code> function does not force NCurses to update a
window on the next call to <code>refresh()</code>. Instead, <code>is_wintouched()</code>
is merely a tool you can use to determine whether or not a window
has been modified since the last refresh or whether a refresh for
a particular window is really necessary.
</p>
</div>
</div>

<div id="outline-container-sec-18-80-5" class="outline-4">
<h4 id="sec-18-80-5">Example</h4>
<div class="outline-text-4" id="text-18-80-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(is_wintouched(stdscr));
</pre>
</div>

<p>
This <code>if</code> test is true when the standard screen has been updated
since the last call to <code>refresh()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-80-6" class="outline-4">
<h4 id="sec-18-80-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-80-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">fred</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  fred = newwin(0,0,0,0);
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  wrefresh(fred);            <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Initial write of fred </span><span style="color: #ff4500;">*/</span>
<span class="linenr">11: </span>  waddstr(fred,<span style="color: #ffa07a;">"Hello?"</span>);
<span class="linenr">12: </span>  addstr(<span style="color: #ffa07a;">"The window 'fred' "</span>);
<span class="linenr">13: </span>  <span style="color: #00ffff;">if</span>(is_wintouched(fred))
<span class="linenr">14: </span>    addstr(<span style="color: #ffa07a;">"has"</span>);
<span class="linenr">15: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">16: </span>    addstr(<span style="color: #ffa07a;">"has not"</span>);
<span class="linenr">17: </span>  addstr(<span style="color: #ffa07a;">" been changed since the last refresh().\n"</span>);
<span class="linenr">18: </span>  refresh();
<span class="linenr">19: </span>  getch();
<span class="linenr">20: </span>
<span class="linenr">21: </span>  endwin();
<span class="linenr">22: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">23: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-80-6-1" class="outline-5">
<h5 id="sec-18-80-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-80-6-1">
<pre class="example">
The window 'fred' has been changed since the last =refresh()=.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-80-7" class="outline-4">
<h4 id="sec-18-80-7">Also See</h4>
<div class="outline-text-4" id="text-18-80-7">
<p>
<a href="#touchwin"><code>touchwin()</code></a>, <a href="#untouchwin"><code>untouchwin()</code></a>, <a href="#is_linetouched"><code>is_linetouched()</code></a>, <a href="#refresh"><code>refresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-81" class="outline-3">
<h3 id="sec-18-81"><code>keyname()</code>                                                        <a id="keyname" name="keyname"></a></h3>
<div class="outline-text-3" id="text-18-81">
<p>
The <code>keyname()</code> function returns a string representing the
character or key code associated with a specific value.
</p>
</div>

<div id="outline-container-sec-18-81-1" class="outline-4">
<h4 id="sec-18-81-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-81-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">char</span> *<span style="color: #87cefa;">keyname</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>);
<span style="color: #98fb98;">char</span> *<span style="color: #87cefa;">key_name</span>(<span style="color: #98fb98;">wchar_t</span> <span style="color: #eedd82;">w</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-81-2" class="outline-4">
<h4 id="sec-18-81-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-81-2">
<p>
<code>c</code> is an <code>int</code> value representing a specific character code.
</p>

<p>
<code>wchar_t w</code> is used to represent wide character formats with the
<code>key_name()</code> variation of this function.
</p>
</div>
</div>

<div id="outline-container-sec-18-81-3" class="outline-4">
<h4 id="sec-18-81-3">Return Value</h4>
<div class="outline-text-4" id="text-18-81-3">
<p>
A string, char pointer, representing the character, control code,
meta code, or keyboard constant for the key code specified. <code>NULL</code>
is returned on error.
</p>
</div>
</div>

<div id="outline-container-sec-18-81-4" class="outline-4">
<h4 id="sec-18-81-4">Notes</h4>
<div class="outline-text-4" id="text-18-81-4">
<p>
Codes corresponding to ASCII control codes are displayed using
their corresponding alphabetic or punctuation symbol, prefixed by
the <code>^</code> symbol.
</p>

<p>
Extended ASCII codes are displayed prefixed by <code>M-</code> (for <i>meta</i>),
followed by their corresponding ASCII code characters.
</p>

<p>
<code>keyname()</code> also returns the constant name defined for special
keys on the keyboard, such as <code>KEY_UP</code>. While <code>KEY_UP</code> is defined
in <code>ncurses.h</code> as a specific value, when that value (the <code>KEY_UP</code>
constant) is used with <code>keyname()</code>, the string "<code>KEY_UP</code>" is
returned, and similarly for other special keyboard keys and
constants.
</p>
</div>
</div>

<div id="outline-container-sec-18-81-5" class="outline-4">
<h4 id="sec-18-81-5">Example</h4>
<div class="outline-text-4" id="text-18-81-5">
<div class="org-src-container">

<pre class="src src-c">ckey = keyname(v);
</pre>
</div>

<p>
Here, the string returned by <code>keyname()</code> for the key code in
variable <code>v</code> is saved in the <code>char</code> pointer variable <code>ckey</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-81-6" class="outline-4">
<h4 id="sec-18-81-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-81-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  <span style="color: #00ffff;">for</span>(c=0;c&lt;255;c++)
<span class="linenr">10: </span>    printw(<span style="color: #ffa07a;">"%-5s"</span>,keyname(c));
<span class="linenr">11: </span>
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  endwin();
<span class="linenr">16: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">17: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-81-6-1" class="outline-5">
<h5 id="sec-18-81-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-81-6-1">
<pre class="example">
^@   ^A   ^B   ^C   ^D   ^E   ^F   ^G   ^H   ^I   ^J   ^K   ^L   ^M   ^N   ^O
^P   ^Q   ^R   ^S   ^T   ^U   ^V   ^W   ^X   ^Y   ^Z   ^[   ^\   ^]   ^^   ^_
     !    "    #    $    %    &amp;    '    (    )    *    +    ,    -    .    /
0    1    2    3    4    5    6    7    8    9    :    ;    &lt;    =    &gt;    ?
@    A    B    C    D    E    F    G    H    I    J    K    L    M    N    O
P    Q    R    S    T    U    V    W    X    Y    Z    [    \    ]    ^    _
`    a    b    c    d    e    f    g    h    i    j    k    l    m    n    o
p    q    r    s    t    u    v    w    x    y    z    {    |    }    ~    ^?
M-^@ M-^A M-^B M-^C M-^D M-^E M-^F M-^G M-^H M-^I M-^J M-^K M-^L M-^M M-^N M-^O
M-^P M-^Q M-^R M-^S M-^T M-^U M-^V M-^W M-^X M-^Y M-^Z M-^[ M-^\ M-^] M-^^ M-^_
M-   M-!  M-"  M-#  M-$  M-%  M-&amp;  M-'  M-(  M-)  M-*  M-+  M-,  M--  M-.  M-/
M-0  M-1  M-2  M-3  M-4  M-5  M-6  M-7  M-8  M-9  M-:  M-;  M-&lt;  M-=  M-&gt;  M-?
M-@  M-A  M-B  M-C  M-D  M-E  M-F  M-G  M-H  M-I  M-J  M-K  M-L  M-M  M-N  M-O
M-P  M-Q  M-R  M-S  M-T  M-U  M-V  M-W  M-X  M-Y  M-Z  M-[  M-\  M-]  M-^  M-_
M-`  M-a  M-b  M-c  M-d  M-e  M-f  M-g  M-h  M-i  M-j  M-k  M-l  M-m  M-n  M-o
M-p  M-q  M-r  M-s  M-t  M-u  M-v  M-w  M-x  M-y  M-z  M-{  M-|  M-}  M-~
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-81-7" class="outline-4">
<h4 id="sec-18-81-7">Also See</h4>
<div class="outline-text-4" id="text-18-81-7">
<p>
<a href="#unctrl"><code>unctrl()</code></a>, <a href="#addch"><code>addch()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-82" class="outline-3">
<h3 id="sec-18-82"><code>keypad()</code>                                                         <a id="keypad" name="keypad"></a></h3>
<div class="outline-text-3" id="text-18-82">
<p>
The <code>keypad()</code> function allows special keys (nonalphanumeric),
function keys, and cursor control keys to be read by NCurses
programs.
</p>
</div>

<div id="outline-container-sec-18-82-1" class="outline-4">
<h4 id="sec-18-82-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-82-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">keypad</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">bf</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-82-2" class="outline-4">
<h4 id="sec-18-82-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-82-2">
<p>
<code>win</code> is the name of a <code>WINDOW</code> variable, indicating the window
through which special keys can be read, or <code>stdscr</code> for the
standard screen. (See <a href="#getch"><code>getch()</code></a> for more information on how the
<code>win</code> argument plays out with NCurses input.)
</p>

<p>
<code>bf</code> is a Boolean value, either <code>TRUE</code> to turn on the read of
special keys or <code>FALSE</code> to disable that feature.
</p>
</div>
</div>

<div id="outline-container-sec-18-82-3" class="outline-4">
<h4 id="sec-18-82-3">Return Value</h4>
<div class="outline-text-4" id="text-18-82-3">
<p>
<code>ERR</code> on failure, <code>OK</code> or some value other than <code>ERR</code> on success.
</p>
</div>
</div>

<div id="outline-container-sec-18-82-4" class="outline-4">
<h4 id="sec-18-82-4">Notes</h4>
<div class="outline-text-4" id="text-18-82-4">
<p>
Many of the special keys <code>keypad()</code> allows your code to monitor
are defined in <code>ncurses.h</code> and listed in <a href="#appendix_d">Appendix D</a>.
</p>

<p>
The operating system may steal special function keys from your
program, intercepting them before your code has a chance to
process the key process. When that's the case, you can try to use
the <code>raw()</code> function in NCurses to get the function keys passed
directly to your program.
</p>

<p>
On PCs, the Num Lock state must be off for the keys on the numeric
keypad to be read as cursor movement keys, not numbers. Note,
however, that xterm looks to see what's going on and overlays its
own configuration, which may override this.
</p>
</div>
</div>

<div id="outline-container-sec-18-82-5" class="outline-4">
<h4 id="sec-18-82-5">Example</h4>
<div class="outline-text-4" id="text-18-82-5">
<div class="org-src-container">

<pre class="src src-c">keypad(menu,TRUE);
</pre>
</div>

<p>
Here, reading of special keys from the keyboard is possible by
<code>wgetch()</code> functions reading input from the window menu.
</p>
</div>
</div>

<div id="outline-container-sec-18-82-6" class="outline-4">
<h4 id="sec-18-82-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-82-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  keypad(stdscr,TRUE);
<span class="linenr">10: </span>  <span style="color: #00ffff;">do</span>
<span class="linenr">11: </span>    {
<span class="linenr">12: </span>      ch = getch();
<span class="linenr">13: </span>      <span style="color: #00ffff;">switch</span>(ch)
<span class="linenr">14: </span>        {
<span class="linenr">15: </span>        <span style="color: #00ffff;">case</span> KEY_DOWN:
<span class="linenr">16: </span>          addstr(<span style="color: #ffa07a;">"Down\n"</span>);
<span class="linenr">17: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">18: </span>        <span style="color: #00ffff;">case</span> KEY_UP:
<span class="linenr">19: </span>          addstr(<span style="color: #ffa07a;">"Up\n"</span>);
<span class="linenr">20: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">21: </span>        <span style="color: #00ffff;">case</span> KEY_LEFT:
<span class="linenr">22: </span>          addstr(<span style="color: #ffa07a;">"Left\n"</span>);
<span class="linenr">23: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">24: </span>        <span style="color: #00ffff;">case</span> KEY_RIGHT:
<span class="linenr">25: </span>          addstr(<span style="color: #ffa07a;">"Right\n"</span>);
<span class="linenr">26: </span>        <span style="color: #00ffff;">default</span>:
<span class="linenr">27: </span>          <span style="color: #00ffff;">break</span>;
<span class="linenr">28: </span>        }
<span class="linenr">29: </span>      refresh();
<span class="linenr">30: </span>    } <span style="color: #00ffff;">while</span>(ch != <span style="color: #ffa07a;">'\n'</span>);
<span class="linenr">31: </span>
<span class="linenr">32: </span>  endwin();
<span class="linenr">33: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">34: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-82-6-1" class="outline-5">
<h5 id="sec-18-82-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-82-6-1">
<pre class="example">
Up
Down
Left
Right
Up
Up
Down
Left
Right
Left
Right
Up
Down
Down
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-82-7" class="outline-4">
<h4 id="sec-18-82-7">Also See</h4>
<div class="outline-text-4" id="text-18-82-7">
<p>
<a href="#chapter_7">Chapter 7</a>, <a href="#appendix_d">Appendix D</a>, <a href="#getch"><code>getch()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-83" class="outline-3">
<h3 id="sec-18-83"><code>killchar()</code>                                                       <a id="killchar" name="killchar"></a></h3>
<div class="outline-text-3" id="text-18-83">
<p>
The <code>killchar()</code> function returns the character that currently
serves as the terminal's Killchar, or <code>KILL</code>, key.
</p>
</div>

<div id="outline-container-sec-18-83-1" class="outline-4">
<h4 id="sec-18-83-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-83-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">char</span> <span style="color: #87cefa;">killchar</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-83-2" class="outline-4">
<h4 id="sec-18-83-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-83-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-83-3" class="outline-4">
<h4 id="sec-18-83-3">Return Value</h4>
<div class="outline-text-4" id="text-18-83-3">
<p>
A <code>char</code> value is returned, indicating the terminal's currently
set Killchar.
</p>
</div>
</div>

<div id="outline-container-sec-18-83-4" class="outline-4">
<h4 id="sec-18-83-4">Notes</h4>
<div class="outline-text-4" id="text-18-83-4">
<p>
The Killchar is the key or key combination you press to back up
and erase an entire line of text at the command prompt, resetting
the cursor back to the start of input.
</p>

<p>
The <code>getstr()</code> functions properly interpret the Killchar.
</p>

<p>
The <code>cbreak()</code> and <code>raw()</code> modes modify NCurses input functions to
ignore the Killchar's keys function. When Killchar is input, it's
treated just like any other character, typically displayed on the
screen in the <code>^c</code> format.
</p>

<p>
The <code>unctrl()</code> function can be used to translate a control code,
such as the code used for Killchar, into the displayable <code>^c</code>
format.
</p>
</div>
</div>

<div id="outline-container-sec-18-83-5" class="outline-4">
<h4 id="sec-18-83-5">Example</h4>
<div class="outline-text-4" id="text-18-83-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>( ch == killchar())
</pre>
</div>

<p>
The <code>if</code> condition tests true when the value of variable <code>ch</code> is
the same as the terminal's Killchar.
</p>
</div>
</div>

<div id="outline-container-sec-18-83-6" class="outline-4">
<h4 id="sec-18-83-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-83-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">ch</span> = <span style="color: #ffa07a;">'\0'</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  ch = killchar();
<span class="linenr">10: </span>  printw(<span style="color: #ffa07a;">"The Killchar is 0x%02x or %s\n"</span>,ch,unctrl(ch));
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  getch();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  endwin();
<span class="linenr">15: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">16: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-83-6-1" class="outline-5">
<h5 id="sec-18-83-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-83-6-1">
<pre class="example">
The Killchar is 0x15 or ^U
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-83-7" class="outline-4">
<h4 id="sec-18-83-7">Also See</h4>
<div class="outline-text-4" id="text-18-83-7">
<p>
<a href="#erasechar"><code>erasechar()</code></a>, <a href="#cbreak"><code>cbreak()</code></a>, <a href="#raw"><code>raw()</code></a>, <a href="#unctrl"><code>unctrl()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-84" class="outline-3">
<h3 id="sec-18-84"><code>leaveok()</code>                                                        <a id="leaveok" name="leaveok"></a></h3>
<div class="outline-text-3" id="text-18-84">
<p>
The <code>leaveok()</code> function directs NCurses not to update a window's
virtual cursor location to the hardware cursor location during a
<code>refresh()</code> operation.
</p>
</div>

<div id="outline-container-sec-18-84-1" class="outline-4">
<h4 id="sec-18-84-1">Explanation</h4>
<div class="outline-text-4" id="text-18-84-1">
<p>
As part of the refresh operation, NCurses synchronizes a window's
virtual cursor location with the hardware location on the
screen. When the <code>leaveok()</code> function is activated for a window
(set <code>TRUE</code>), then NCurses does not synchronize the cursor's
position for the window; the hardware cursor's position then
remains where it was or ends up in some other location.
</p>
</div>
</div>

<div id="outline-container-sec-18-84-2" class="outline-4">
<h4 id="sec-18-84-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-84-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">leaveok</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">bf</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-84-3" class="outline-4">
<h4 id="sec-18-84-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-84-3">
<p>
<code>win</code> is a <code>WINDOW</code> variable indicating which window <code>leaveok()</code>
is to monitor.  The cursor's location for <code>win</code> will not be
updated when <code>win</code> is refreshed.
</p>

<p>
<code>bf</code> is a Boolean value, either <code>TRUE</code> to have the cursor position
not updated during a refresh, or <code>FALSE</code> to have the cursor
position updated. Most windows are preset to <code>FALSE</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-84-4" class="outline-4">
<h4 id="sec-18-84-4">Return Value</h4>
<div class="outline-text-4" id="text-18-84-4">
<p>
The function always returns <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-84-5" class="outline-4">
<h4 id="sec-18-84-5">Notes</h4>
<div class="outline-text-4" id="text-18-84-5">
<p>
The location where the cursor ends up cannot be predicted in
advance. In fact, in my experience you should not rely on the
cursor being or staying anywhere when <code>leaveok()</code> is <code>TRUE</code>.
</p>

<p>
The cursor's location on one window does not affect the cursor's
location on another window.
</p>

<p>
The <code>leaveok()</code> function can be issued any time after a window has
been created and before it's refreshed.
</p>

<p>
<code>leaveok()</code> can save overhead for those programs that don't rely
upon the cursor or need a cursor blinking on the screen in any
particular spot.
</p>

<p>
<code>leaveok()</code> does not hide the cursor. For that you need to use the
<code>curs_set()</code> function (and hope that your terminal supports it).
</p>
</div>
</div>

<div id="outline-container-sec-18-84-6" class="outline-4">
<h4 id="sec-18-84-6">Examples</h4>
<div class="outline-text-4" id="text-18-84-6">
<div class="org-src-container">

<pre class="src src-c">leaveok(stdscr,TRUE);
</pre>
</div>

<p>
Here, the statement directs NCurses not to synchronize the
hardware cursor with the virtual cursor location on the standard
screen.
</p>

<div class="org-src-container">

<pre class="src src-c">leaveok(help,FALSE);
</pre>
</div>

<p>
This statement isn't needed, as <code>FALSE</code> is the normal condition
for a window.  However, if a previous <code>leaveok()</code> function set
<code>leaveok()</code> to <code>TRUE</code> for the window <code>help</code>, then the statement
restores the window's cursor back to normal updating.
</p>
</div>
</div>

<div id="outline-container-sec-18-84-7" class="outline-4">
<h4 id="sec-18-84-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-84-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  start_color();
<span class="linenr"> 7: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"This is the standard screen as it normally appears.\n"</span>);
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"The cursor is synchronized -&gt;"</span>);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  getch();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  leaveok(stdscr,TRUE);
<span class="linenr">15: </span>  bkgd(COLOR_PAIR(1));
<span class="linenr">16: </span>  addstr(<span style="color: #ffa07a;">"\n\nThe cursor is now not being updated.\n"</span>);
<span class="linenr">17: </span>  addstr(<span style="color: #ffa07a;">"This means that its position could be anywhere.\n"</span>);
<span class="linenr">18: </span>  refresh();
<span class="linenr">19: </span>  getch();
<span class="linenr">20: </span>
<span class="linenr">21: </span>  endwin();
<span class="linenr">22: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">23: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-84-7-1" class="outline-5">
<h5 id="sec-18-84-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-84-7-1">
<pre class="example">
This is the standard screen as it normally appears.
The cursor is synchronized -&gt;
</pre>

<p>
The cursor appears after the <code>&gt;</code>. Press Enter and the screen is
painted white-on-blue, and the cursor blinks in the lower-right
corner (well, on my screen).
</p>

<pre class="example">
The cursor is now not being updated.
This means that its position could be anywhere.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-84-8" class="outline-4">
<h4 id="sec-18-84-8">Also See</h4>
<div class="outline-text-4" id="text-18-84-8">
<p>
<a href="#refresh"><code>refresh()</code></a>, <a href="#curs_set"><code>curs_set()</code></a>, <a href="#getsyx"><code>getsyx()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-85" class="outline-3">
<h3 id="sec-18-85"><code>LINES</code>                                                            <a id="LINES" name="LINES"></a></h3>
<div class="outline-text-3" id="text-18-85">
<p>
The <code>LINES</code> constant is an <code>int</code> value set internally by NCurses to
represent the number of rows, or lines, available on the standard
screen.
</p>
</div>

<div id="outline-container-sec-18-85-1" class="outline-4">
<h4 id="sec-18-85-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-85-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">Not</span> <span style="color: #eedd82;">applicable</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-85-2" class="outline-4">
<h4 id="sec-18-85-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-85-2">
<p>
<code>LINES</code> works like any C language constant. It can be used as an
immediate value, in a comparison, or in combination with other
values.
</p>
</div>
</div>

<div id="outline-container-sec-18-85-3" class="outline-4">
<h4 id="sec-18-85-3">Return Value</h4>
<div class="outline-text-4" id="text-18-85-3">
<p>
The value of <code>LINES</code> depends on the number of rows in the terminal
or standard screen, <code>stdscr</code>.
</p>

<p>
<code>LINES</code> is an <code>int</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-85-4" class="outline-4">
<h4 id="sec-18-85-4">Notes</h4>
<div class="outline-text-4" id="text-18-85-4">
<p>
Most standard terminal windows have either 24 or 25 rows.
</p>

<p>
Do note that with terminal windows in graphical environments,
terminals can be just about any size. Also, some text screens have
the ability to show 30, 40, 50, or even more rows.
</p>

<p>
<code>LINES</code> is a variable, not a constant. Note that changing the value
of <code>LINES</code> does not re-size the standard screen or terminal window.
</p>

<p>
Normally NCurses sets <code>LINES</code> equal to the <code>LINES</code> environment
variable.  This can be changed by using the <code>use_env()</code>
function. See <a href="#use_env"><code>use_env()</code></a>.
</p>

<p>
Use the <code>getmaxyx()</code> function to determine the number of rows in
any NCurses window.
</p>

<p>
Yeah, this should really be <code>LINES</code>, but who am I?
</p>
</div>
</div>

<div id="outline-container-sec-18-85-5" class="outline-4">
<h4 id="sec-18-85-5">Examples</h4>
<div class="outline-text-4" id="text-18-85-5">
<div class="org-src-container">

<pre class="src src-c">printw(<span style="color: #ffa07a;">"This screen has only %d rows.\n"</span>,LINES);
</pre>
</div>

<p>
Here, the <code>printw()</code> function displays the value of <code>LINES</code> in a
string of text put to the screen.
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(LINES&lt;25)
</pre>
</div>

<p>
This statement tests to see if the value of <code>LINES</code> is less
than 25. If so, then the next block of statements are executed.
</p>
</div>
</div>

<div id="outline-container-sec-18-85-6" class="outline-4">
<h4 id="sec-18-85-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-85-6">
<p>
Refer to the entry for <a href="#COLS"><code>COLS</code></a> for a sample program and output.
</p>
</div>
</div>

<div id="outline-container-sec-18-85-7" class="outline-4">
<h4 id="sec-18-85-7">Also See</h4>
<div class="outline-text-4" id="text-18-85-7">
<p>
<a href="#COLS"><code>COLS</code></a>, <a href="#getmaxyx"><code>getmaxyx()</code></a>, <a href="#use_env"><code>use_env()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-86" class="outline-3">
<h3 id="sec-18-86"><code>longname()</code>                                                        <a id="longname" name="longname"></a></h3>
<div class="outline-text-3" id="text-18-86">
<p>
The <code>longname()</code> function returns a string describing the current
terminal.
</p>
</div>

<div id="outline-container-sec-18-86-1" class="outline-4">
<h4 id="sec-18-86-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-86-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">char</span> *<span style="color: #87cefa;">termname</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-86-2" class="outline-4">
<h4 id="sec-18-86-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-86-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-86-3" class="outline-4">
<h4 id="sec-18-86-3">Return Value</h4>
<div class="outline-text-4" id="text-18-86-3">
<p>
A string representing information about the terminal. On error,
<code>NULL</code> is returned.
</p>
</div>
</div>

<div id="outline-container-sec-18-86-4" class="outline-4">
<h4 id="sec-18-86-4">Notes</h4>
<div class="outline-text-4" id="text-18-86-4">
<p>
It's best to call <code>longname()</code> after the <code>initscr()</code> or
<code>newterm()</code> function has been used.
</p>

<p>
The <code>termname()</code> function returns only the terminal's name, which
may be part of the string returned by <code>longname()</code>.
</p>

<p>
The string <code>longname()</code> returns is the <i>verbose</i> terminal
description â but not that verbose! The maximum number of
characters returned by <code>longname()</code> is 128, which includes the
trailing <code>\0</code>.
</p>

<p>
Other functions that return information about the terminal include
<code>baudrate()</code>, <code>erasechar()</code>, <code>killchar()</code>, <code>has_il()</code>, <code>has_ic()</code>,
<code>termattrs()</code>, and <code>termname()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-86-5" class="outline-4">
<h4 id="sec-18-86-5">Example</h4>
<div class="outline-text-4" id="text-18-86-5">
<div class="org-src-container">

<pre class="src src-c">tp = longname();
</pre>
</div>

<p>
Here, the memory location of the string returned by the
<code>longname()</code> function is saved in the <code>tp</code> pointer.
</p>
</div>
</div>

<div id="outline-container-sec-18-86-6" class="outline-4">
<h4 id="sec-18-86-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-86-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  addstr(<span style="color: #ffa07a;">"Here is the longname() information:\n"</span>);
<span class="linenr"> 8: </span>  addstr(longname());
<span class="linenr"> 9: </span>  refresh();
<span class="linenr">10: </span>  getch();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  endwin();
<span class="linenr">13: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">14: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-86-6-1" class="outline-5">
<h5 id="sec-18-86-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-86-6-1">
<pre class="example">
Here is the =longname()= information:
generic color xterm
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-86-7" class="outline-4">
<h4 id="sec-18-86-7">Also See</h4>
<div class="outline-text-4" id="text-18-86-7">
<p>
<a href="#termname"><code>termname()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-87" class="outline-3">
<h3 id="sec-18-87"><code>meta()</code>                                                           <a id="meta" name="meta"></a></h3>
<div class="outline-text-3" id="text-18-87">
<p>
The <code>meta()</code> function controls whether the keyboard is read in
7-bit or 8-bit mode.
</p>
</div>

<div id="outline-container-sec-18-87-1" class="outline-4">
<h4 id="sec-18-87-1">Explanation</h4>
<div class="outline-text-4" id="text-18-87-1">
<p>
Meta comes from old terminal keyboards that had a Meta key,
similar to the Alt key on a PC or the Command key on a Mac. The
Meta key was a special shift key used in combination with other
keys to allow for extended input of keyboard commands. In many
cases, the Meta key merely added the 8th bit on input of standard
keys. So the U key, which has a 7-bit value of <code>1010101</code> would
have the 8-bit value <code>11010101</code> when input with the Meta key
pressed.
</p>
</div>
</div>

<div id="outline-container-sec-18-87-2" class="outline-4">
<h4 id="sec-18-87-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-87-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">meta</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">bf</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-87-3" class="outline-4">
<h4 id="sec-18-87-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-87-3">
<p>
<code>win</code> is the name of a <code>WINDOW</code> variable representing a window on
the screen.  The man page says that this argument, however, is
ignored.
</p>

<p>
<code>bf</code> is a Boolean value, <code>TRUE</code> to enable the reading of the 8th
bit on input, <code>FALSE</code> to restrict character input to 7 bits.
</p>
</div>
</div>

<div id="outline-container-sec-18-87-4" class="outline-4">
<h4 id="sec-18-87-4">Return Value</h4>
<div class="outline-text-4" id="text-18-87-4">
<p>
<code>ERR</code> on failure, or <code>OK</code> or a value other than <code>ERR</code> on success.
</p>
</div>
</div>

<div id="outline-container-sec-18-87-5" class="outline-4">
<h4 id="sec-18-87-5">Notes</h4>
<div class="outline-text-4" id="text-18-87-5">
<p>
Setting <code>meta()</code> <code>TRUE</code> is the same as setting the CS8 flag for
the terminal in POSIX.
</p>

<p>
When the <code>meta_off/rmm and meta_on/smm</code> abilities are defined for
the terminal, NCurses sends those signals to the terminal when you
call <code>meta()</code>: smm is sent for <code>meta()</code> <code>TRUE</code>, and rmm is sent
for <code>meta()</code> <code>FALSE</code>.
</p>

<p>
Eight-bit characters can be input on the PC by using the Alt key
pad. Pressing and holding the Alt key, type a meta key value
between 128 and 255 on the keypad. Release the Alt key to generate
that key value.
</p>
</div>
</div>

<div id="outline-container-sec-18-87-6" class="outline-4">
<h4 id="sec-18-87-6">Example</h4>
<div class="outline-text-4" id="text-18-87-6">
<div class="org-src-container">

<pre class="src src-c">meta(win,TRUE);
</pre>
</div>

<p>
The statement allows for 8-bit character input in the window
<code>win</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-87-7" class="outline-4">
<h4 id="sec-18-87-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-87-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  meta(stdscr,TRUE);
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"Input is now 8 bits   wide.\n"</span>);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  c = getch();
<span class="linenr">13: </span>  printw(<span style="color: #ffa07a;">"\nAnd getch() reads   the value %d.\n"</span>,c);
<span class="linenr">14: </span>  meta(stdscr,FALSE);
<span class="linenr">15: </span>  addstr(<span style="color: #ffa07a;">"Input is now 7 bits   wide.\n"</span>);
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>  c = getch();
<span class="linenr">18: </span>  printw(<span style="color: #ffa07a;">"\nAnd getch() reads   the value %d.\n"</span>,c);
<span class="linenr">19: </span>
<span class="linenr">20: </span>  refresh();
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  endwin();
<span class="linenr">24: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">25: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-87-7-1" class="outline-5">
<h5 id="sec-18-87-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-87-7-1">
<pre class="example">
Input is now 8 bits wide.
?
And getch() reads the value 197.
Input is now 7 bits wide.
~S
And getch() reads the value 19.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-87-8" class="outline-4">
<h4 id="sec-18-87-8">Also See</h4>
<div class="outline-text-4" id="text-18-87-8">
<p>
<a href="#getch"><code>getch()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-88" class="outline-3">
<h3 id="sec-18-88"><code>MEVENT</code>                                                           <a id="MEVENT" name="MEVENT"></a></h3>
<div class="outline-text-3" id="text-18-88">
<p>
NCurses uses the <code>MEVENT</code> structure to store information about a
specific mouse event. The <code>getch()</code> function is used to determine
when a mouse event has taken place. After that, <code>getmouse()</code> reads
information about the mouse event and stores that data into a
<code>MEVENT</code> structure. The program can then read data from the
<code>MEVENT</code> structure to see what happened and act accordingly.
</p>
</div>

<div id="outline-container-sec-18-88-1" class="outline-4">
<h4 id="sec-18-88-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-88-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">Not</span> <span style="color: #eedd82;">applicable</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-88-2" class="outline-4">
<h4 id="sec-18-88-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-88-2">
<p>
<code>MEVENT</code> is a structure defined in <code>ncurses.h</code>. It has the following
components:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">short</span> <span style="color: #eedd82;">id</span>;
<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #eedd82;">y</span>, <span style="color: #eedd82;">z</span>;
<span style="color: #98fb98;">mmask_t</span> <span style="color: #eedd82;">bstate</span>;
</pre>
</div>

<p>
<code>id</code> is a <code>short int</code> value used to make a distinction between
multiple pointing devices, for example on a laptop with both a
mouse pad and external mouse.
</p>

<p>
<code>x</code> is an <code>int</code> value representing the column in which the mouse
pointer was at during the event. Values start at 0 for the
leftmost column.
</p>

<p>
<code>y</code> is an <code>int</code> value representing the row in which the mouse
pointer was at during the event. Values start at 0 for the top
row.
</p>

<p>
<code>z</code> is an <code>int</code> value reserved for future use, though it might be
for reading the wheel button.
</p>

<p>
<code>bstate</code> is a <code>mmask_t</code> (<code>long int</code>) value representing the
mouse's button state at the time of the event. <code>mmask_t</code> values
and their defined constants are listed in <a href="#Table-A-10">Table A-10</a>.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-10" name="Table-A-10">Table A-10</a> </dt><dd>Mouse action constant values

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">MOUSE ACTION CONSTANT</th>
<th scope="col" class="left">VALUE</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>BUTTON1_RELEASED</code></td>
<td class="left"><code>0x1</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON1_PRESSED</code></td>
<td class="left"><code>0x2</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON1_CLICKED</code></td>
<td class="left"><code>0x4</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON1_DOUBLE_CLICKED</code></td>
<td class="left"><code>0x8</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON1_TRIPLE_CLICKED</code></td>
<td class="left"><code>0x10</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON1_RESERVED_EVENT</code></td>
<td class="left"><code>0x20</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON2_RELEASED</code></td>
<td class="left"><code>0x40</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON2_PRESSED</code></td>
<td class="left"><code>0x80</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON2_CLICKED</code></td>
<td class="left"><code>0x100</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON2_DOUBLE_CLICKED</code></td>
<td class="left"><code>0x200</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON2_TRIPLE_CLICKED</code></td>
<td class="left"><code>0x400</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON2_RESERVED_EVENT</code></td>
<td class="left"><code>0x800</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON3_RELEASED</code></td>
<td class="left"><code>0x1000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON3_PRESSED</code></td>
<td class="left"><code>0x2000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON3_CLICKED</code></td>
<td class="left"><code>0x4000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON3_DOUBLE_CLICKED</code></td>
<td class="left"><code>0x8000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON3_TRIPLE_CLICKED</code></td>
<td class="left"><code>0x10000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON3_RESERVED_EVENT</code></td>
<td class="left"><code>0x20000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON4_RELEASED</code></td>
<td class="left"><code>0x40000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON4_PRESSED</code></td>
<td class="left"><code>0x80000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON4_CLICKED</code></td>
<td class="left"><code>0x100000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON4_DOUBLE_CLICKED</code></td>
<td class="left"><code>0x200000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON4_TRIPLE_CLICKED</code></td>
<td class="left"><code>0x400000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON4_RESERVED_EVENT</code></td>
<td class="left"><code>0x800000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON_CTRL</code></td>
<td class="left"><code>0x1000000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON_SHIFT</code></td>
<td class="left"><code>0x2000000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>BUTTON_ALT</code></td>
<td class="left"><code>0x4000000</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ALL_MOUSE_EVENTS</code></td>
<td class="left"><code>0x7ffffff</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>REPORT_MOUSE_POSITION</code></td>
<td class="left"><code>0x8000000</code></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-88-3" class="outline-4">
<h4 id="sec-18-88-3">Return Value</h4>
<div class="outline-text-4" id="text-18-88-3">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-88-4" class="outline-4">
<h4 id="sec-18-88-4">Notes</h4>
<div class="outline-text-4" id="text-18-88-4">
<p>
The actions the mouse can perform are defined as constants in
<code>ncurses.h</code>.  <a href="#Table-A-10">Table A-10</a> lists them, along with their <code>long int
    values</code>. Please do note that these values may change in the future
as more mouse abilities come to be monitored in NCurses.
</p>
</div>
</div>

<div id="outline-container-sec-18-88-5" class="outline-4">
<h4 id="sec-18-88-5">Examples</h4>
<div class="outline-text-4" id="text-18-88-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">MEVENT</span> <span style="color: #eedd82;">me</span>;
</pre>
</div>

<p>
The statement creates a <code>MEVENT</code> structure named <code>me</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">getmouse(&amp;me)
</pre>
</div>

<p>
The <code>getmouse()</code> function above reads information about the most
recent mouse event and stores it in the <code>MEVENT</code> structure <code>me</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">row = me.y;
col = me.x;
</pre>
</div>

<p>
The two statements read the values of the mouse's row and column
locations from the <code>MEVENT</code> structure <code>me</code>. The row location is
saved in the variable <code>row</code>; the column location is saved in the
variable <code>col</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-88-6" class="outline-4">
<h4 id="sec-18-88-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-88-6">
<p>
Refer to the entry for <a href="#getmouse"><code>getmouse()</code></a> for a sample program and
output.
</p>
</div>
</div>

<div id="outline-container-sec-18-88-7" class="outline-4">
<h4 id="sec-18-88-7">Also See</h4>
<div class="outline-text-4" id="text-18-88-7">
<p>
<a href="#chapter_13">Chapter 13</a>, <a href="#getmouse"><code>getmouse()</code></a>, <a href="#mousemask"><code>mousemask()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-89" class="outline-3">
<h3 id="sec-18-89"><code>mouse_trafo()</code>                                                    <a id="mouse_trafo" name="mouse_trafo"></a></h3>
<div class="outline-text-3" id="text-18-89">
<p>
The <code>mouse_trafo()</code> function helps translate mouse coordinates
between the screen and the standard screen.
</p>
</div>

<div id="outline-container-sec-18-89-1" class="outline-4">
<h4 id="sec-18-89-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-89-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">bool</span> <span style="color: #87cefa;">mouse_trafo</span>(<span style="color: #98fb98;">int</span>* <span style="color: #eedd82;">pY</span>, <span style="color: #98fb98;">int</span>* <span style="color: #eedd82;">pX</span>, <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">to_screen</span>);
<span style="color: #98fb98;">bool</span> <span style="color: #87cefa;">wmouse_trafo</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">WINDOW</span>* <span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span>* <span style="color: #eedd82;">pY</span>, <span style="color: #98fb98;">int</span>* <span style="color: #eedd82;">pX</span>, <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">to_screen</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-89-2" class="outline-4">
<h4 id="sec-18-89-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-89-2">
<p>
<code>pY</code> and <code>pX</code> are the addresses of <code>int</code> variables. <code>pY</code> holds the
row value of a screen coordinate, <code>pX</code> holds the column value.
</p>

<p>
<code>to_screen</code> is a Boolean value, either <code>TRUE</code> or <code>FALSE</code>. When
<code>to_screen</code> is <code>TRUE</code>, the coordinates <code>pY</code> and <code>pX</code> are converted
from the window's coordinates to the screen's coordinates. When
<code>to_screen</code> is <code>FALSE</code>, the coordinates are converted from the
screen's coordinates into the window's coordinates.
</p>

<p>
Refer to the  <a href="#w_prefix"><code>w</code></a> entry later in this appendix for information on
the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-89-3" class="outline-4">
<h4 id="sec-18-89-3">Return Value</h4>
<div class="outline-text-4" id="text-18-89-3">
<p>
The function returns a Boolean value, either <code>TRUE</code> upon success
or <code>FALSE</code> when one of the coordinates is <code>NULL</code> or the
coordinates are outside the window.
</p>
</div>
</div>

<div id="outline-container-sec-18-89-4" class="outline-4">
<h4 id="sec-18-89-4">Notes</h4>
<div class="outline-text-4" id="text-18-89-4">
<p>
This isn't an easy one to figure out, but the Sample Program
should help.
</p>

<p>
The function is called with <code>pY</code> and <code>pX</code> already filled with a
set of coordinates. When the function is successful, new
coordinates are put into those variables. Otherwise, when the
function fails, the coordinate pair is unchanged.
</p>

<p>
Functions such as <code>ripoffline()</code> and <code>slk_init()</code> affect the size
of the standard screen, meaning that <code>mouse_trafo()</code> might be
necessary to check the mouse event coordinates for such a
reduced-size standard screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-89-5" class="outline-4">
<h4 id="sec-18-89-5">Example</h4>
<div class="outline-text-4" id="text-18-89-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span> (mouse_trafo(&amp;ry,&amp;rx,FALSE))
</pre>
</div>

<p>
Here, the <code>ry</code> and <code>rx</code> variables contain the coordinates of a
mouse click obtained from the <code>MEVENT</code> structure, read by
<code>getmouse()</code>. The <code>mouse_trafo()</code> function translates those
coordinates from screen-relative to window-relative. When the
translation is successful, the condition passes and the if
statement(s) are then executed.
</p>
</div>
</div>

<div id="outline-container-sec-18-89-6" class="outline-4">
<h4 id="sec-18-89-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-89-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">tinkie</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">MEVENT</span> <span style="color: #eedd82;">mwhat</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>,<span style="color: #eedd82;">row</span>,<span style="color: #eedd82;">col</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>  noecho();
<span class="linenr">11: </span>  mousemask(ALL_MOUSE_EVENTS,<span style="color: #7fffd4;">NULL</span>);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  tinkie = newwin(LINES-4,COLS-4,2,1);
<span class="linenr">14: </span>  keypad(tinkie,TRUE);
<span class="linenr">15: </span>
<span class="linenr">16: </span>  <span style="color: #00ffff;">while</span>(1)
<span class="linenr">17: </span>    {
<span class="linenr">18: </span>      ch = wgetch(tinkie);
<span class="linenr">19: </span>      <span style="color: #00ffff;">if</span>( ch == KEY_MOUSE )
<span class="linenr">20: </span>        {
<span class="linenr">21: </span>          getmouse(&amp;mwhat);
<span class="linenr">22: </span>          row = mwhat.y;
<span class="linenr">23: </span>          col = mwhat.x;
<span class="linenr">24: </span>          wmouse_trafo(tinkie,&amp;row,&amp;col,FALSE);
<span class="linenr">25: </span>          mvwaddch(tinkie,row,col,<span style="color: #ffa07a;">'*'</span>);
<span class="linenr">26: </span>          refresh();
<span class="linenr">27: </span>          <span style="color: #00ffff;">continue</span>;
<span class="linenr">28: </span>        }
<span class="linenr">29: </span>      <span style="color: #00ffff;">if</span>( ch == <span style="color: #ffa07a;">'\n'</span> )
<span class="linenr">30: </span>        <span style="color: #00ffff;">break</span>;
<span class="linenr">31: </span>    }
<span class="linenr">32: </span>
<span class="linenr">33: </span>  endwin();
<span class="linenr">34: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">35: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-89-6-1" class="outline-5">
<h5 id="sec-18-89-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-89-6-1">
<p>
The mouse clicks produce an asterisk, <code>*</code>, in the window
<code>tinkie</code>. The <code>mouse_trafo()</code> function helps translate the
coordinates from screen-relative to relative to the window,
meaning that the asterisks show up where the mouse is clicked.
(Recompile with <code>FALSE</code> in line 24 to see the difference.)
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-89-7" class="outline-4">
<h4 id="sec-18-89-7">Also See</h4>
<div class="outline-text-4" id="text-18-89-7">
<p>
<a href="#getmouse"><code>getmouse()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-90" class="outline-3">
<h3 id="sec-18-90"><code>mousemask()</code>                                                      <a id="mousemask" name="mousemask"></a></h3>
<div class="outline-text-3" id="text-18-90">
<p>
The <code>mousemask()</code> function determines which mouse events are to be
monitored for those programs that use the mouse.
</p>
</div>

<div id="outline-container-sec-18-90-1" class="outline-4">
<h4 id="sec-18-90-1">Explanation</h4>
<div class="outline-text-4" id="text-18-90-1">
<p>
A mouse event is some type of action done with the mouse. It
includes pressing, releasing, clicking, double-clicking, and
triple-clicking for up to four mouse buttons, as well as using the
Ctrl, Shift, or Alt keys while clicking. Refer to <a href="#Table-A-10">Table A-10</a> for
the full list.
</p>

<p>
The <code>mousemask()</code> function merely determines which or how many of
the various mouse events a program is to monitor. The actual
reading of the mouse events is done through a combination of the
<code>getch()</code> and <code>getmouse()</code> functions. See <a href="#getmouse"><code>getmouse()</code></a>.
</p>

<p>
Additionally, the <code>mousemask()</code> function can be used to determine
whether or not a given terminal can read the mouse. Refer to the
Sample Program.
</p>
</div>
</div>

<div id="outline-container-sec-18-90-2" class="outline-4">
<h4 id="sec-18-90-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-90-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">mmask_t</span> <span style="color: #87cefa;">mousemask</span>(<span style="color: #98fb98;">mmask_t</span> <span style="color: #eedd82;">newmask</span>, <span style="color: #98fb98;">mmask_t</span> *<span style="color: #eedd82;">oldmask</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-90-3" class="outline-4">
<h4 id="sec-18-90-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-90-3">
<p>
<code>newmask</code> is a <code>mmask_t</code> variable (<code>long int</code>), representing the
mouse actions your program monitors. Mouse action constants are
defined in the <code>ncurses.h</code> file and listed in the Notes
section. Multiple actions are specified in the newmask argument by
using a <code>|</code> (logical OR) between the constants. Or the
<code>ALL_MOUSE_EVENTS</code> value can be used to monitor all mouse actions.
</p>

<p>
<code>oldmask</code>, also an <code>mmask_t</code> variable, can be a previous value
returned from the <code>mousemask()</code> function, but mostly <code>NULL</code> is
specified in its place.
</p>
</div>
</div>

<div id="outline-container-sec-18-90-4" class="outline-4">
<h4 id="sec-18-90-4">Return Value</h4>
<div class="outline-text-4" id="text-18-90-4">
<p>
The value returned by <code>mousemask()</code> is an <code>mmask_t</code> variable
representing the mouse actions <code>mousemask()</code> will be monitoring,
specifically those actions your terminal is capable of
monitoring. Therefore it's important to check this value to
determine that your program is using those mouse actions you need.
</p>
</div>
</div>

<div id="outline-container-sec-18-90-5" class="outline-4">
<h4 id="sec-18-90-5">Notes</h4>
<div class="outline-text-4" id="text-18-90-5">
<p>
Setting the value of <code>newmask</code> to zero has the effect of turning
off the mouse pointer.
</p>

<p>
Mouse button constants are listed in <a href="#Table-A-11">Table A-11</a>. In <a href="#Table-A-12">Table A-12</a>
you'll find a list of multi-click functions. Finally, <a href="#Table-A-13">Table A-13</a>
lists keyboard shift states that can be logically OR'd with other
mouse states.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-11" name="Table-A-11">Table A-11</a> </dt><dd>Mouse action constant values

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right">BUTTON</th>
<th scope="col" class="left">UP/RELEASED</th>
<th scope="col" class="left">DOWN/PRESSED</th>
<th scope="col" class="left">DOWN-UP/CLICKED</th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">1</td>
<td class="left"><code>BUTTON1_RELEASED</code></td>
<td class="left"><code>BUTTON1_PRESSED</code></td>
<td class="left"><code>BUTTON1_CLICKED</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">2</td>
<td class="left"><code>BUTTON2_RELEASED</code></td>
<td class="left"><code>BUTTON2_PRESSED</code></td>
<td class="left"><code>BUTTON2_CLICKED</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">3</td>
<td class="left"><code>BUTTON3_RELEASED</code></td>
<td class="left"><code>BUTTON3_PRESSED</code></td>
<td class="left"><code>BUTTON3_CLICKED</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">4</td>
<td class="left"><code>BUTTON4_RELEASED</code></td>
<td class="left"><code>BUTTON4_PRESSED</code></td>
<td class="left"><code>BUTTON4_CLICKED</code></td>
</tr>
</tbody>
</table>
</dd>
</dl>


<dl class="org-dl">
<dt> <a id="Table-A-12" name="Table-A-12">Table A-12</a> </dt><dd>Mouse action constants

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right">BUTTON</th>
<th scope="col" class="left">DOUBLE-CLICKED</th>
<th scope="col" class="left">TRIPLE-CLICKED</th>
<th scope="col" class="left">RESERVED EVENT</th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">1</td>
<td class="left"><code>BUTTON1_DOUBLE_CLICKED</code></td>
<td class="left"><code>BUTTON1_TRIPLE_CLICKED</code></td>
<td class="left"><code>BUTTON1_RESERVED_EVENT</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">2</td>
<td class="left"><code>BUTTON2_DOUBLE_CLICKED</code></td>
<td class="left"><code>BUTTON2_TRIPLE_CLICKED</code></td>
<td class="left"><code>BUTTON2_RESERVED_EVENT</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">3</td>
<td class="left"><code>BUTTON3_DOUBLE_CLICKED</code></td>
<td class="left"><code>BUTTON3_TRIPLE_CLICKED</code></td>
<td class="left"><code>BUTTON3_RESERVED_EVENT</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">4</td>
<td class="left"><code>BUTTON4_DOUBLE_CLICKED</code></td>
<td class="left"><code>BUTTON4_TRIPLE_CLICKED</code></td>
<td class="left"><code>BUTTON4_RESERVED_EVENT</code></td>
</tr>
</tbody>
</table>
</dd>
</dl>


<dl class="org-dl">
<dt> <a id="Table-A-13" name="Table-A-13">Table A-13</a> </dt><dd>Mouse action constants (continued)

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">ACTION</th>
<th scope="col" class="left">CONSTANT</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Control key pressed during button up/down</td>
<td class="left"><code>BUTTON_CTRL</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Shift key pressed during button up/down</td>
<td class="left"><code>BUTTON_SHIFT</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Alt key pressed during button up/down</td>
<td class="left"><code>BUTTON_ALT</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">All events</td>
<td class="left"><code>ALL_MOUSE_EVENTS</code></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-90-6" class="outline-4">
<h4 id="sec-18-90-6">Examples</h4>
<div class="outline-text-4" id="text-18-90-6">
<div class="org-src-container">

<pre class="src src-c">mousemask(ALL_MOUSE_EVENTS);
</pre>
</div>

<p>
The statement directs NCurses to scan for all available mouse
events.
</p>

<div class="org-src-container">

<pre class="src src-c">mmask = mousemask(ALL_MOUSE_EVENTS);
</pre>
</div>

<p>
Here, the statement saves the return value of <code>mousemask()</code> to the
<code>mmask_t</code> variable <code>mmask</code>. Then <code>mmask</code> can be used later to
check for which mouse events are available.
</p>

<div class="org-src-container">

<pre class="src src-c">mousemask(BUTTON1_CLICKED | BUTTON_CTRL);
</pre>
</div>

<p>
The statement directs NCurses to monitor both the button 1 click
as well as the button 1 click with the keyboard's Ctrl (control)
key pressed.
</p>
</div>
</div>

<div id="outline-container-sec-18-90-7" class="outline-4">
<h4 id="sec-18-90-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-90-7">
<p>
Refer to the entry for <a href="#getmouse"><code>getmouse()</code></a> for a sample program and
output.
</p>
</div>
</div>

<div id="outline-container-sec-18-90-8" class="outline-4">
<h4 id="sec-18-90-8">Also See</h4>
<div class="outline-text-4" id="text-18-90-8">
<p>
<a href="#chapter_13">Chapter 13</a>, <a href="#getmouse"><code>getmouse()</code></a>, <a href="#MEVENT"><code>MEVENT</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-91" class="outline-3">
<h3 id="sec-18-91"><code>move()</code>                                                           <a id="move" name="move"></a></h3>
<div class="outline-text-3" id="text-18-91">
<p>
The <code>move()</code> function relocates the cursor to the given row and
column coordinates.
</p>
</div>

<div id="outline-container-sec-18-91-1" class="outline-4">
<h4 id="sec-18-91-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-91-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">move</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wmove</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-91-2" class="outline-4">
<h4 id="sec-18-91-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-91-2">
<p>
<code>y</code> is an <code>int</code> value representing the number of the row to which
to move the cursor. Values range from 0 for the top row, to
whatever the size of the window.
</p>

<p>
<code>x</code> is an <code>int</code> value representing the number of the column to
which the cursor is moved. Values range from 0 for the left-most
column, to the width of the window.
</p>

<p>
Refer to the entry for <a href="#w_prefix"><code>w</code></a> later in this appendix for more
information on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-91-3" class="outline-4">
<h4 id="sec-18-91-3">Return Value</h4>
<div class="outline-text-4" id="text-18-91-3">
<p>
<code>ERR</code> upon failure, or <code>OK</code> on success, though values other than
<code>ERR</code> may also be returned upon success.
</p>
</div>
</div>

<div id="outline-container-sec-18-91-4" class="outline-4">
<h4 id="sec-18-91-4">Notes</h4>
<div class="outline-text-4" id="text-18-91-4">
<p>
<code>move()</code> is a pseudo function, representing
<code>wmove(stdscr,row,col)</code>.
</p>

<p>
The <code>row</code>, or <code>y</code>, argument comes first.
</p>

<p>
Location 0, 0 is the <i>home</i> position, the upper-left corner of a
window.
</p>

<p>
The function fails when it attempts to place the cursor outside
the bounds of the window.
</p>

<p>
Use the <code>getmaxyx()</code> function to determine the size of the window
and, therefore, the bounds for <code>row</code> and <code>col</code> in the <code>move()</code>
function. But remember that the first row and column in a window
are numbered 0 (zero), not 1.
</p>

<p>
Most functions that place text to the screen also advance the
cursor.
</p>

<p>
The <code>mv</code> and <code>mvw</code> prefix functions both more the cursor as well
as place text.
</p>
</div>
</div>

<div id="outline-container-sec-18-91-5" class="outline-4">
<h4 id="sec-18-91-5">Examples</h4>
<div class="outline-text-4" id="text-18-91-5">
<div class="org-src-container">

<pre class="src src-c">move(0,0);
</pre>
</div>

<p>
The statement homes the cursor on the standard screen.
</p>

<div class="org-src-container">

<pre class="src src-c">wmove(menu,xmax/2,ymax/2);
</pre>
</div>

<p>
After the statement, the cursor is placed at the center of the
window <code>menu</code>, assuming the <code>xmax</code> and <code>ymax</code> represent the
maximum values for the <code>rows</code> and columns for that window.
</p>
</div>
</div>

<div id="outline-container-sec-18-91-6" class="outline-4">
<h4 id="sec-18-91-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-91-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  addstr(<span style="color: #ffa07a;">"Putting an asterisk at location 10,50:"</span>);
<span class="linenr"> 8: </span>  move(10,50);
<span class="linenr"> 9: </span>  addch(<span style="color: #ffa07a;">'*'</span>);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  getch();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  endwin();
<span class="linenr">14: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">15: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-91-6-1" class="outline-5">
<h5 id="sec-18-91-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-91-6-1">
<pre class="example">
Putting an asterisk at location 10, 50:
</pre>

<p>
And an asterisk appears at that position on the standard screen.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-91-7" class="outline-4">
<h4 id="sec-18-91-7">Also See</h4>
<div class="outline-text-4" id="text-18-91-7">
<p>
<a href="#chapter_4">Chapter 4</a>, <a href="#mv_prefix"><code>mv</code> prefix</a>, <a href="#curs_set"><code>curs_set()</code></a>, <i><code>mvcur()</code></i>, <a href="#getyx"><code>getyx()</code></a>,
<a href="#getmaxyx"><code>getmaxyx()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-92" class="outline-3">
<h3 id="sec-18-92"><code>mv</code> prefix functions                                              <a id="mv_prefix" name="mv_prefix"></a></h3>
<div class="outline-text-3" id="text-18-92">
<p>
Nearly all NCurses text output functions come with a variation
prefixed by <code>mv</code>. The <code>mv</code> means that the function includes a new
cursor location. This saves typing over having to use a <code>move()</code>
function before using a standard text output function; both
functions are combined into one.
</p>
</div>

<div id="outline-container-sec-18-92-1" class="outline-4">
<h4 id="sec-18-92-1">Format</h4>
<div class="outline-text-4" id="text-18-92-1">
<p>
The <code>mv</code> prefix functions feature <code>y</code> and <code>x</code> as their first
arguments.
</p>

<p>
<code>y</code> is the vertical or row position at which to place the
character. Zero represents the top row. The maximum value for <code>y</code>
depends on the window's height.
</p>

<p>
<code>x</code> is the horizontal or column position at which to place the
character. Zero represents the far left column. The maximum value
for <code>x</code> depends on the window's width.
</p>

<p>
Refer to the individual functions elsewhere in this appendix for
information on other arguments listed.
</p>
</div>
</div>

<div id="outline-container-sec-18-92-2" class="outline-4">
<h4 id="sec-18-92-2">Return Value</h4>
<div class="outline-text-4" id="text-18-92-2">
<p>
All the <code>mv</code>-prefixed functions shown earlier return either <code>OK</code>
or <code>ERR</code>. Normally, these values aren't checked; however, it's a
good idea to check them with the <code>mv</code>-prefixed functions â
especially when there is a possibility that a character would be
placed outside a window's boundary.
</p>

<p>
<code>OK</code> and <code>ERR</code> are defined in <code>ncurses.h</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-92-3" class="outline-4">
<h4 id="sec-18-92-3">Notes</h4>
<div class="outline-text-4" id="text-18-92-3">
<p>
The functions <code>mvwin()</code> and mvderwin() are not mv-prefix
functions.
</p>

<p>
While the <code>mv</code> prefix functions save typing, using them is not
more efficient nor saves any time over using the separate <code>move()</code>
function before an output function.
</p>
</div>
</div>

<div id="outline-container-sec-18-92-4" class="outline-4">
<h4 id="sec-18-92-4">Also See</h4>
<div class="outline-text-4" id="text-18-92-4">
<p>
<a href="#addch"><code>addch()</code></a>, <a href="#addchstr"><code>addchstr()</code></a>, <a href="#addstr"><code>addstr()</code></a>, and so on
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-93" class="outline-3">
<h3 id="sec-18-93"><code>mvderwin()</code>                                                       <a id="mvderwin" name="mvderwin"></a></h3>
<div class="outline-text-3" id="text-18-93">
<p>
The <code>mvderwin()</code> function uses a subwindow to display a different
portion of the parent window. It does not really move anything
other than data.
</p>
</div>

<div id="outline-container-sec-18-93-1" class="outline-4">
<h4 id="sec-18-93-1">Explanation</h4>
<div class="outline-text-4" id="text-18-93-1">
<p>
Subwindows share memory with their parent. Therefore, moving a
subwindow doesn't really do anything. Instead, what this function
does is allow you to display a different portion of the parent
window in the subwindow rectangle.
</p>
</div>
</div>

<div id="outline-container-sec-18-93-2" class="outline-4">
<h4 id="sec-18-93-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-93-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">mvderwin</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">par_y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">par_x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-93-3" class="outline-4">
<h4 id="sec-18-93-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-93-3">
<p>
<code>win</code> is the name of a <code>WINDOW</code> variable representing a subwindow.
</p>

<p>
<code>par_y</code> is an <code>int</code> value representing the row value of a
coordinate in the parent window.
</p>

<p>
<code>par_x</code> is an <code>int</code> value representing the column value of a
coordinate in the parent window.
</p>
</div>
</div>

<div id="outline-container-sec-18-93-4" class="outline-4">
<h4 id="sec-18-93-4">Return Value</h4>
<div class="outline-text-4" id="text-18-93-4">
<p>
<code>OK</code> on success or <code>ERR</code> upon failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-93-5" class="outline-4">
<h4 id="sec-18-93-5">Notes</h4>
<div class="outline-text-4" id="text-18-93-5">
<p>
The <code>mvderwin()</code> function takes a rectangle of text from the
parent window at location <code>par_y</code>, <code>par_x</code>, with the same width
and depth as the subwindow, as copies that text into the
subwindow's location.
</p>

<p>
This function also copies any text attributes from the source
location in the parent window to the subwindow, overwriting any
attributes already in the subwindow.
</p>

<p>
<code>mvderwin()</code> updates a window inside a subwindow in much the same
manner as <code>prefresh()</code> updates a portion of a pad inside a
window. See <a href="#prefresh"><code>prefresh()</code></a>.
</p>

<p>
This function works on all subwindows, whether they were created
by the <code>subwin()</code> or <code>derwin()</code> functions.
</p>

<p>
The <code>mvwin()</code> function is used to move a window. It should not be
used on a subwindow.
</p>

<p>
According to popular lore on the Internet, "The subwindow
functions are flaky, incompletely implemented, and not well
tested."
</p>
</div>
</div>

<div id="outline-container-sec-18-93-6" class="outline-4">
<h4 id="sec-18-93-6">Example</h4>
<div class="outline-text-4" id="text-18-93-6">
<div class="org-src-container">

<pre class="src src-c">mvderwin(sub,5,10);
</pre>
</div>

<p>
Here, the statement copies text from location row 5, column 10 in
the parent window and places it into the subwindow sub. The width
and depth of the information copied is equal in size to the
subwindow.
</p>
</div>
</div>

<div id="outline-container-sec-18-93-7" class="outline-4">
<h4 id="sec-18-93-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-93-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">sonny</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  start_color();
<span class="linenr"> 9: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">10: </span>  init_pair(2,COLOR_RED,COLOR_YELLOW);
<span class="linenr">11: </span>
<span class="linenr">12: </span>  sonny = subwin(stdscr,5,20,10,30);
<span class="linenr">13: </span>
<span class="linenr">14: </span>  bkgd(COLOR_PAIR(1));
<span class="linenr">15: </span>  addstr(<span style="color: #ffa07a;">"Hello, son."</span>);
<span class="linenr">16: </span>  wbkgd(sonny,COLOR_PAIR(2));
<span class="linenr">17: </span>  waddstr(sonny,<span style="color: #ffa07a;">"Hello, Dad!"</span>);
<span class="linenr">18: </span>  refresh();
<span class="linenr">19: </span>  getch();
<span class="linenr">20: </span>
<span class="linenr">21: </span>  mvderwin(sonny,0,0);
<span class="linenr">22: </span>  wbkgd(sonny,COLOR_PAIR(2));
<span class="linenr">23: </span>  wrefresh(sonny);
<span class="linenr">24: </span>  getch(sonny);
<span class="linenr">25: </span>
<span class="linenr">26: </span>  endwin();
<span class="linenr">27: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">28: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-93-7-1" class="outline-5">
<h5 id="sec-18-93-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-93-7-1">
<p>
A yellow subwindow is created with the text <code>Hello, Dad!</code> Press
Enter and the text <code>Hello, son.</code> is copied from the upper-right
corner of the parent into the subwindow via <code>mvderwin()</code>.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-93-8" class="outline-4">
<h4 id="sec-18-93-8">Also See</h4>
<div class="outline-text-4" id="text-18-93-8">
<p>
<a href="#mvwin"><code>mvwin()</code></a>, <a href="#prefresh"><code>prefresh()</code></a>, <a href="#subwin"><code>subwin()</code></a>, <a href="#derwin"><code>derwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-94" class="outline-3">
<h3 id="sec-18-94"><code>mvw</code> prefix functions                                             <a id="mvw_prefix" name="mvw_prefix"></a></h3>
<div class="outline-text-3" id="text-18-94">
<p>
A host of NCurses text output functions come prefixed by
<code>mvw</code>. This combines the <code>mv</code> and <code>w</code> prefixes, allowing text to be
placed at a specific position within a specific window.
</p>
</div>

<div id="outline-container-sec-18-94-1" class="outline-4">
<h4 id="sec-18-94-1">Format</h4>
<div class="outline-text-4" id="text-18-94-1">
<p>
The <code>mvw</code> prefix functions feature <code>win</code>, <code>y</code>, and <code>x</code> as their
first arguments.
</p>

<p>
<code>win</code> is a <code>WINDOW</code> variable, representing a window created
earlier in the program. Refer to the <a href="#w_prefix"><code>w</code></a> Prefix entry later in
this appendix for more details.
</p>

<p>
<code>y</code> and <code>x</code> represent the cursor's position on the screen. They
are <code>int</code> values for the row and column, ranging from 0 to the
height and width of the window, respectively.
</p>

<p>
Refer to the individual functions elsewhere in this appendix for
information on the other arguments in the various <a href="#mvw_prefix"><code>mvw</code></a> prefix
functions.
</p>
</div>
</div>

<div id="outline-container-sec-18-94-2" class="outline-4">
<h4 id="sec-18-94-2">Notes</h4>
<div class="outline-text-4" id="text-18-94-2">
<p>
Note that <code>win</code> always comes first, even though <code>mv</code> comes first
in the <code>mvw</code> prefix.
</p>

<p>
The <code>mvwin()</code> function is not an <code>mvw</code>-prefix function.
</p>
</div>
</div>

<div id="outline-container-sec-18-94-3" class="outline-4">
<h4 id="sec-18-94-3">Also See</h4>
<div class="outline-text-4" id="text-18-94-3">
<p>
<a href="#addch"><code>addch()</code></a>, <a href="#addchstr"><code>addchstr()</code></a>, <a href="#addstr"><code>addstr()</code></a>, and so on
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-95" class="outline-3">
<h3 id="sec-18-95"><code>mvwin()</code>                                                          <a id="mvwin" name="mvwin"></a></h3>
<div class="outline-text-3" id="text-18-95">
<p>
The <code>mvwin()</code> function is used to move a window on the screen,
changing its origin to the coordinates given.
</p>
</div>

<div id="outline-container-sec-18-95-1" class="outline-4">
<h4 id="sec-18-95-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-95-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">mvwin</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-95-2" class="outline-4">
<h4 id="sec-18-95-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-95-2">
<div class="org-src-container">

<pre class="src src-c">mvwin(win,row,col)
</pre>
</div>

<p>
<code>win</code> is a <code>WINDOW</code> variable referring to the window you want moved.
</p>

<p>
<code>row</code> is the new starting row for the window's left edge.
</p>

<p>
<code>col</code> is the new starting column for the window's top.
</p>

<p>
Values for <code>row</code> and <code>col</code> are <code>ints</code>, ranging from 0 for the
left/top edge of the standard screen, on through the dimensions of
the standard screen, minus the size of window <code>win</code>. See <a href="#LINES"><code>LINES</code></a>
and <a href="#COLS"><code>COLS</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-95-3" class="outline-4">
<h4 id="sec-18-95-3">Return Value</h4>
<div class="outline-text-4" id="text-18-95-3">
<p>
<code>OK</code> upon success, or <code>ERR</code> on failure. Failure most often occurs
when the move results in part of the window being off-screen. In
that case, <code>ERR</code> is returned and the window remains at its
original location.
</p>
</div>
</div>

<div id="outline-container-sec-18-95-4" class="outline-4">
<h4 id="sec-18-95-4">Notes</h4>
<div class="outline-text-4" id="text-18-95-4">
<p>
The original window is not erased by the move, leading to a
"Picard maneuver" type situation where the moved window appears
twice on the screen. To remove the old window, use a <code>touchline()</code>
or <code>touchwin()</code> function on the background window. Refer to the
Sample Program.
</p>

<p>
According to the man page, "moving subwindows is allowed, but
should be avoided." I'll go one step further: <i>do not use this
function on a subwindow!</i> Also see <a href="#mvderwin"><code>mvderwin()</code></a>.
</p>

<p>
The <code>wmove()</code> function is used to relocate the cursor in a
window. See <a href="#move"><code>move()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-95-5" class="outline-4">
<h4 id="sec-18-95-5">Example</h4>
<div class="outline-text-4" id="text-18-95-5">
<div class="org-src-container">

<pre class="src src-c">mvwin(help,ybase+dy,xbase+dx);
</pre>
</div>

<p>
The function moves the window <code>help</code> to the new location specified
by the <code>ybase+dy</code> (row) and <code>xbase+dx</code> (column) arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-95-6" class="outline-4">
<h4 id="sec-18-95-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-95-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">row</span>,<span style="color: #eedd82;">col</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">peri</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  start_color();
<span class="linenr">10: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">11: </span>
<span class="linenr">12: </span>  peri = newwin(5,30,2,30);
<span class="linenr">13: </span>  wbkgd(peri,COLOR_PAIR(1));
<span class="linenr">14: </span>  waddstr(peri,<span style="color: #ffa07a;">"I am the peripatetic window"</span>);
<span class="linenr">15: </span>  wrefresh(peri);
<span class="linenr">16: </span>  getch(peri);
<span class="linenr">17: </span>
<span class="linenr">18: </span>  wtouchln(stdscr,2,5,1);
<span class="linenr">19: </span>  mvwin(peri,12,40);
<span class="linenr">20: </span>  wnoutrefresh(stdscr);
<span class="linenr">21: </span>  wnoutrefresh(peri);
<span class="linenr">22: </span>  doupdate();
<span class="linenr">23: </span>  getch();
<span class="linenr">24: </span>
<span class="linenr">25: </span>  endwin();
<span class="linenr">26: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">27: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-95-6-1" class="outline-5">
<h5 id="sec-18-95-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-95-6-1">
<p>
A blue subwindow appears on the screen. Press Enter and it moves
to a new location.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-95-7" class="outline-4">
<h4 id="sec-18-95-7">Also See</h4>
<div class="outline-text-4" id="text-18-95-7">
<p>
<a href="#chapter_10">Chapter 10</a>, <a href="#touchline"><code>touchline()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-96" class="outline-3">
<h3 id="sec-18-96"><code>napms(ms)</code>                                                        <a id="napms" name="napms"></a></h3>
<div class="outline-text-3" id="text-18-96">
<p>
The <code>napms()</code> function pauses program execution for a given number
of milliseconds (thousandth of a second).
</p>
</div>

<div id="outline-container-sec-18-96-1" class="outline-4">
<h4 id="sec-18-96-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-96-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">napms</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ms</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-96-2" class="outline-4">
<h4 id="sec-18-96-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-96-2">
<div class="org-src-container">

<pre class="src src-c">napms(ms)
</pre>
</div>

<p>
<code>ms</code> is the number of milliseconds program execution pauses. It's
an <code>int</code> value, therefore the maximum pause for any computer
system depends on the size of an <code>int</code>. Negative values and 0
result in no pause, but do not produce an error.
</p>
</div>
</div>

<div id="outline-container-sec-18-96-3" class="outline-4">
<h4 id="sec-18-96-3">Return Value</h4>
<div class="outline-text-4" id="text-18-96-3">
<p>
Always returns <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-96-4" class="outline-4">
<h4 id="sec-18-96-4">Notes</h4>
<div class="outline-text-4" id="text-18-96-4">
<p>
Yeah, the name is cute: nap ms. Get it? Still, <i>namps</i> is a
popular typo.
</p>

<p>
1000 milliseconds equals 1 second.
</p>

<p>
<code>napms()</code> is defined as a low-level NCurses function, one of the
few documented in this appendix.
</p>
</div>
</div>

<div id="outline-container-sec-18-96-5" class="outline-4">
<h4 id="sec-18-96-5">Examples</h4>
<div class="outline-text-4" id="text-18-96-5">
<div class="org-src-container">

<pre class="src src-c">napms(500);
</pre>
</div>

<p>
The statement causes program execution to pause for half a second.
</p>

<div class="org-src-container">

<pre class="src src-c">napms(60000);
</pre>
</div>

<p>
The statement delays program execution for one minute.
</p>
</div>
</div>

<div id="outline-container-sec-18-96-6" class="outline-4">
<h4 id="sec-18-96-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-96-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  addstr(<span style="color: #ffa07a;">"Give me a second..."</span>);
<span class="linenr"> 8: </span>  refresh();
<span class="linenr"> 9: </span>  napms(1000);
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"...Thanks!\n"</span>);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  getch();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  endwin();
<span class="linenr">15: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">16: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-96-6-1" class="outline-5">
<h5 id="sec-18-96-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-96-6-1">
<pre class="example">
Give me a second...
</pre>

<p>
A second passes . . .
</p>

<pre class="example">
...Thanks!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-96-7" class="outline-4">
<h4 id="sec-18-96-7">Also See</h4>
<div class="outline-text-4" id="text-18-96-7">
<p>
<a href="#chapter_2">Chapter 2</a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-97" class="outline-3">
<h3 id="sec-18-97"><code>NCURSES_MOUSE_VERSION</code>                                            <a id="NCURSES_MOUSE_VERSION" name="NCURSES_MOUSE_VERSION"></a></h3>
<div class="outline-text-3" id="text-18-97">
<p>
The <code>NCURSES_MOUSE_VERSION</code> constant is defined in <code>ncurses.h</code> and
set equal to the NCurses mouse support release version.
</p>
</div>

<div id="outline-container-sec-18-97-1" class="outline-4">
<h4 id="sec-18-97-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-97-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">Not</span> <span style="color: #eedd82;">applicable</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-97-2" class="outline-4">
<h4 id="sec-18-97-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-97-2">
<p>
The <code>NCURSES_MOUSE_VERSION</code> constant returns an <code>int</code> value equal
to the current version of the mouse support software.
</p>
</div>
</div>

<div id="outline-container-sec-18-97-3" class="outline-4">
<h4 id="sec-18-97-3">Return Value</h4>
<div class="outline-text-4" id="text-18-97-3">
<p>
<code>NCURSES_MOUSE_VERSION</code> is set equal to 2 for the current release
of NCurses as this book goes to press.
</p>
</div>
</div>

<div id="outline-container-sec-18-97-4" class="outline-4">
<h4 id="sec-18-97-4">Notes</h4>
<div class="outline-text-4" id="text-18-97-4">
<p>
The <code>NCURSES_MOUSE_VERSION</code> constant is used to help programmers
determine mouse support as well as integrate mouse support into
their code.
</p>
</div>
</div>

<div id="outline-container-sec-18-97-5" class="outline-4">
<h4 id="sec-18-97-5">Examples</h4>
<div class="outline-text-4" id="text-18-97-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#ifdef</span> NCURSES_MOUSE_VERSION
<span style="color: #ff4500;">/*</span>
<span style="color: #ff4500;"> * Mouse functions go here</span>
<span style="color: #ff4500;"> </span><span style="color: #ff4500;">*/</span>
<span style="color: #b0c4de;">#endif</span>
</pre>
</div>

<p>
Here, <code>NCURSES_MOUSE_VERSION</code> is used in a macro to allow mouse
access in a program where NCurses mouse support is available.
</p>

<div class="org-src-container">

<pre class="src src-c">printw(<span style="color: #ffa07a;">"This is NCurses   mouse version %d.\n"</span>,NCURSES_MOUSE_VERSION);
</pre>
</div>

<p>
The <code>printw()</code> function displays the text <code>This is NCurses mouse
    version</code> followed by the current version value.
</p>
</div>
</div>

<div id="outline-container-sec-18-97-6" class="outline-4">
<h4 id="sec-18-97-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-97-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  <span style="color: #00ffff;">if</span>(NCURSES_MOUSE_VERSION &gt; 0)
<span class="linenr"> 8: </span>    addstr(<span style="color: #ffa07a;">"This version of NCurses supports the mouse.\n"</span>);
<span class="linenr"> 9: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">10: </span>    addstr(<span style="color: #ffa07a;">"This version of NCurses does not support the mouse.\n"</span>);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  getch();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  endwin();
<span class="linenr">15: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">16: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-97-6-1" class="outline-5">
<h5 id="sec-18-97-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-97-6-1">
<pre class="example">
This version of NCurses supports the mouse.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-97-7" class="outline-4">
<h4 id="sec-18-97-7">Also See</h4>
<div class="outline-text-4" id="text-18-97-7">
<p>
<a href="#chapter_13">Chapter 13</a>, <a href="#NCURSES_VERSION"><code>NCURSES_VERSION</code></a>, <a href="#mousemask"><code>mousemask()</code></a>, <a href="#getmouse"><code>getmouse()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-98" class="outline-3">
<h3 id="sec-18-98"><code>NCURSES_VERSION</code>                                                  <a id="NCURSES_VERSION" name="NCURSES_VERSION"></a></h3>
<div class="outline-text-3" id="text-18-98">
<p>
<code>NCURSES_VERSION</code> is one of a series of constants defined in
<code>ncurses.h</code> that describe which version of NCurses is being used.
</p>
</div>

<div id="outline-container-sec-18-98-1" class="outline-4">
<h4 id="sec-18-98-1">Explanation</h4>
<div class="outline-text-4" id="text-18-98-1">
<p>
NCurses version constants are employed in programs that rely upon
versionspecific NCurses commands, typically used with various
preprocessor directives to selectively compile code, though they
can also be used as immediate values.
</p>
</div>
</div>

<div id="outline-container-sec-18-98-2" class="outline-4">
<h4 id="sec-18-98-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-98-2">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-98-3" class="outline-4">
<h4 id="sec-18-98-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-98-3">
<div class="org-src-container">

<pre class="src src-c">NCURSES_VERSION
NCURSES_VERSION_MAJOR
<span style="color: #98fb98;">NCURSES_VERSION_MINOR</span>
<span style="color: #eedd82;">NCURSES_VERSION_PATCH</span>
</pre>
</div>

<p>
The <code>NCURSES_VERSION</code> constant contains a string specifying
NCurses major and minor versions.
</p>

<p>
The <code>NCURSES_VERSION_MAJOR</code> constant contains NCurses major
version number.
</p>

<p>
The <code>NCURSES_VERSION_MINOR</code> constant contains NCurses minor
version number.
</p>

<p>
The <code>NCURSES_VERSION_PATCH</code> constant contains NCurses most recent
patch number.
</p>
</div>
</div>

<div id="outline-container-sec-18-98-4" class="outline-4">
<h4 id="sec-18-98-4">Return Value</h4>
<div class="outline-text-4" id="text-18-98-4">
<p>
The values the constants contain depend on the release of NCurses,
obviously.  Otherwise:
</p>

<ul class="org-ul">
<li><code>NCURSES_VERSION</code> is a string value, such as <code>5.4</code>.
</li>

<li><code>NCURSES_VERSION_MAJOR</code> is a numeric value, such as <code>5</code>.
</li>

<li><code>NCURSES_VERSION_MINOR</code> is a numeric value, such as <code>4</code>.
</li>

<li><code>NCURSES_VERSION_PATCH</code> is a numeric value combining the year,
month and day of the most recent NCurses patch release, such as
<code>20040208</code>. (This value is also defined for release versions of
NCurses.)
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-18-98-5" class="outline-4">
<h4 id="sec-18-98-5">Notes</h4>
<div class="outline-text-4" id="text-18-98-5">
<p>
You can find newer versions of Curses (well, NCurses) at:
</p>

<p>
<a href="http://ftp.gnu.org/pub/gnu/ncurses/">http://ftp.gnu.org/pub/gnu/ncurses/</a>
</p>

<p>
A constant <code>CURSES</code> also exists, which is set to 1. Your programs
should use the <code>NCURSES_VERSION</code>&#x2026; constants instead.
</p>
</div>
</div>

<div id="outline-container-sec-18-98-6" class="outline-4">
<h4 id="sec-18-98-6">Examples</h4>
<div class="outline-text-4" id="text-18-98-6">
<div class="org-src-container">

<pre class="src src-c">printw(<span style="color: #ffa07a;">"This is NCurses version %s.\n"</span>,NCURSES_VERSION);
</pre>
</div>

<p>
Here, the <code>printw()</code> function displays the text <code>This is NCurses
    version</code> followed by the current version string.
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(NCURSES_VERSION_MAJOR&lt;5)
</pre>
</div>

<p>
The <code>if</code> test checks to ensure that the user's version of NCurses
is at least major release 5.
</p>
</div>
</div>

<div id="outline-container-sec-18-98-7" class="outline-4">
<h4 id="sec-18-98-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-98-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #b0c4de;">#ifdef</span> NCURSES_VERSION
<span class="linenr"> 8: </span>  printw(<span style="color: #ffa07a;">"This is NCurses version %s.%d.\n"</span>,\
<span class="linenr"> 9: </span>         NCURSES_VERSION,NCURSES_VERSION_PATCH);
<span class="linenr">10: </span><span style="color: #b0c4de;">#else</span>
<span class="linenr">11: </span>  printw(<span style="color: #ffa07a;">"You are apparently not using NCurses.\n"</span>);
<span class="linenr">12: </span><span style="color: #b0c4de;">#endif</span>
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  endwin();
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-98-7-1" class="outline-5">
<h5 id="sec-18-98-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-98-7-1">
<pre class="example">
This is NCurses version 5.4.20040208.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-98-8" class="outline-4">
<h4 id="sec-18-98-8">Also See</h4>
<div class="outline-text-4" id="text-18-98-8">
<p>
<a href="#curses_version"><code>curses_version()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-99" class="outline-3">
<h3 id="sec-18-99"><code>newpad()</code>                                                         <a id="newpad" name="newpad"></a></h3>
<div class="outline-text-3" id="text-18-99">
<p>
The <code>newpad()</code> function is used to create a special type of window
storage area called a <i>pad</i>.
</p>
</div>

<div id="outline-container-sec-18-99-1" class="outline-4">
<h4 id="sec-18-99-1">Explanation</h4>
<div class="outline-text-4" id="text-18-99-1">
<p>
Pads work a lot like windows, though they're not displayed on the
screen as such. Instead, the pad exists in memory and only chunks
of it at a time are written to an actual window on the screen. The
main advantage of this arrangement is that pads can be of any
size, even a size greater than the screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-99-2" class="outline-4">
<h4 id="sec-18-99-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-99-2">
<div class="org-src-container">

<pre class="src src-c">WINDOW *newpad(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">nlines</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ncols</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-99-3" class="outline-4">
<h4 id="sec-18-99-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-99-3">
<p>
<code>nlines</code> is an <code>int</code> value indicating the number of <code>rows</code> the pad
will have. Values for <code>nlines</code> range from <code>1</code> on up to <code>32767</code>, or
the value of <code>NCURSES_SIZE_T</code> (normally defined as a <code>short</code>)..
</p>

<p>
<code>ncols</code> is an <code>int</code> value indicating the number columns for the
new pad. Values range from <code>1</code> on up to <code>32767</code>, or the value of
<code>NCURSES_SIZE_T</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-99-4" class="outline-4">
<h4 id="sec-18-99-4">Return Value</h4>
<div class="outline-text-4" id="text-18-99-4">
<p>
Upon successful creation of a new pad, a <code>WINDOW</code> pointer is
returned. <code>NULL</code> is returned when there is a problem.
</p>
</div>
</div>

<div id="outline-container-sec-18-99-5" class="outline-4">
<h4 id="sec-18-99-5">Notes</h4>
<div class="outline-text-4" id="text-18-99-5">
<p>
It's the <code>prefresh()</code> function that determines which part of a pad
appears on a window. See <a href="#prefresh"><code>prefresh()</code></a>.
</p>

<p>
The symbol <code>NCURSES_SIZE_T</code> can be modified, though not
casually. By doing so you can change the maximum size of a pad. Do
keep in mind that NCurses applications are limited to short
integers.
</p>

<p>
All text output and formatting commands work with a pad just as
they do any window.
</p>

<p>
The <code>getch()</code> and <code>getch()</code> functions can be used with a pad, but
unlike a window the input will not be displayed. Pads are not
automatically updated with those functions, whereas regular
windows are.
</p>

<p>
Pads cannot be scrolled. Do not use <code>scrollok()</code>, <code>scroll()</code> or
<code>scrl()</code> with a pad.
</p>

<p>
Pads cannot be moved. Do not use <code>mvwin()</code> with a pad.
</p>

<p>
Do not use <code>wrefresh()</code> or <code>wnoutrefresh()</code> with a pad.
</p>

<p>
Pads cannot have subwindows; do not use <code>subwin()</code> with a
pad. Instead, use <code>subpad()</code> to create a subpad. See <a href="#subpad"><code>subpad()</code></a>
for additional information and warnings.
</p>

<p>
Pads are removed by using the <code>delwin()</code> function, just as windows
are removed. See <a href="#delwin"><code>delwin()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-99-6" class="outline-4">
<h4 id="sec-18-99-6">Examples</h4>
<div class="outline-text-4" id="text-18-99-6">
<div class="org-src-container">

<pre class="src src-c">p = newpad(200,WIDE+1);
</pre>
</div>

<p>
The statement creates a pad with 200 rows and <code>WIDE+1</code> columns. If
successfully created, variable p is used like any other <code>WINDOW</code>
variable to reference the pad in the code.
</p>

<div class="org-src-container">

<pre class="src src-c">tinypad = newpad(2,10);
</pre>
</div>

<p>
Here, a pad with 2 rows and 10 columns is created. Such a small
pad could be used as off-screen storage.
</p>

<div class="org-src-container">

<pre class="src src-c">doc = newpad(LINES,COLS+40);
</pre>
</div>

<p>
The <code>doc</code> pad created here is as tall as the standard screen, but
40 characters wider. This type of pad could be used to facilitate
sideways scrolling â coupled with adept programming and use of the
<code>prefresh()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-99-7" class="outline-4">
<h4 id="sec-18-99-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-99-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">p</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  p = newpad(50,100);         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create a new pad </span><span style="color: #ff4500;">*/</span>
<span class="linenr">10: </span>  <span style="color: #00ffff;">if</span>( p == <span style="color: #7fffd4;">NULL</span> )
<span class="linenr">11: </span>    {
<span class="linenr">12: </span>      endwin();
<span class="linenr">13: </span>      puts(<span style="color: #ffa07a;">"Unable to create new pad"</span>);
<span class="linenr">14: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">15: </span>    }
<span class="linenr">16: </span>
<span class="linenr">17: </span>  addstr(<span style="color: #ffa07a;">"New pad created\n"</span>);
<span class="linenr">18: </span>  refresh();
<span class="linenr">19: </span>  getch();
<span class="linenr">20: </span>
<span class="linenr">21: </span>  endwin();
<span class="linenr">22: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">23: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-99-7-1" class="outline-5">
<h5 id="sec-18-99-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-99-7-1">
<pre class="example">
New pad created
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-99-8" class="outline-4">
<h4 id="sec-18-99-8">Also See</h4>
<div class="outline-text-4" id="text-18-99-8">
<p>
<a href="#chapter_11">Chapter 11</a>, <a href="#prefresh"><code>prefresh()</code></a>, <a href="#pechochar"><code>pechochar()</code></a>, <a href="#delwin"><code>delwin()</code></a>, <a href="#subpad"><code>subpad()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-100" class="outline-3">
<h3 id="sec-18-100"><code>newterm()</code>                                                        <a id="newterm" name="newterm"></a></h3>
<div class="outline-text-3" id="text-18-100">
<p>
The <code>newterm()</code> function initializes NCurses for use on a specific
terminal, with a specific terminal configuration, for a one-line
terminal, or for multiple terminals. <code>newterm()</code> is used in place
of <code>initscr()</code> when your code needs to access terminals in a
special way.
</p>
</div>

<div id="outline-container-sec-18-100-1" class="outline-4">
<h4 id="sec-18-100-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-100-1">
<div class="org-src-container">

<pre class="src src-c">SCREEN *newterm(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">type</span>, <span style="color: #98fb98;">FILE</span> *<span style="color: #eedd82;">outfd</span>, <span style="color: #98fb98;">FILE</span> *<span style="color: #eedd82;">infd</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-100-2" class="outline-4">
<h4 id="sec-18-100-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-100-2">
<p>
<code>type</code> is a string of text representing a terminal type, such as
<code>ansi</code> or <code>xterm</code>, which is what helps facilitate placing stuff on
the screen. When <code>NULL</code> is specified, the value of environmental
variable <code>$TERM</code> is used.
</p>

<p>
<code>outfd</code> is a <code>FILE</code> pointer representing a file opened for output
to the terminal.
</p>

<p>
<code>infd</code> is a <code>FILE</code> pointer representing a file opened for input
from the terminal.
</p>
</div>
</div>

<div id="outline-container-sec-18-100-3" class="outline-4">
<h4 id="sec-18-100-3">Return Value</h4>
<div class="outline-text-4" id="text-18-100-3">
<p>
The function returns a <code>SCREEN</code> pointer, which identifies a screen
structure in memory. It's through that pointer that NCurses
accesses the terminal named by <code>newterm()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-100-4" class="outline-4">
<h4 id="sec-18-100-4">Notes</h4>
<div class="outline-text-4" id="text-18-100-4">
<p>
Use the <code>set_term()</code> function after initializing NCurses with
<code>newterm()</code> to set the output terminal. See <a href="#set_term"><code>set_term()</code></a>.
</p>

<p>
After everything is set up, you can use NCurses input and output
functions with the new terminal just as you did when <code>initscr()</code>
set things up for one terminal only.
</p>

<p>
The <code>termname()</code> function can be used to obtain the current
terminal name (the <code>termtype</code> argument), though using <code>NULL</code> seems
simple enough. See <a href="#termname"><code>termname()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-100-5" class="outline-4">
<h4 id="sec-18-100-5">Example</h4>
<div class="outline-text-4" id="text-18-100-5">
<div class="org-src-container">

<pre class="src src-c">term_a = newterm(<span style="color: #ffa07a;">"ansi"</span>,fileout,filein);
</pre>
</div>

<p>
Here, a new <code>ansi</code> terminal is created using open file handles
<code>fileout</code> for output and <code>filein</code> for input. The resulting NCurses
terminal is saved in the <code>SCREEN</code> pointer <code>term_a</code>. (Also refer to
the Sample Program for more of the setup involved before
<a href="#newterm"><code>newterm()</code></a> can be called.)
</p>
</div>
</div>

<div id="outline-container-sec-18-100-6" class="outline-4">
<h4 id="sec-18-100-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-100-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">INTERM</span> <span style="color: #ffa07a;">"/dev/ttyp1"</span>
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">OUTTERM</span> <span style="color: #ffa07a;">"/dev/ttyp2"</span>
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">FILE</span> *<span style="color: #eedd82;">termin</span>,*<span style="color: #eedd82;">termout</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">SCREEN</span> *<span style="color: #eedd82;">tp1</span>,*<span style="color: #eedd82;">tp2</span>;
<span class="linenr">10: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">name</span>[81];
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Open terminal one for reading</span>
<span class="linenr">13: </span><span style="color: #ff4500;">     Open terminal two for writing </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  termin = fopen(INTERM,<span style="color: #ffa07a;">"r"</span>);
<span class="linenr">15: </span>  termout = fopen(OUTTERM,<span style="color: #ffa07a;">"w"</span>);
<span class="linenr">16: </span>  <span style="color: #00ffff;">if</span>( termin==<span style="color: #7fffd4;">NULL</span> || termout==<span style="color: #7fffd4;">NULL</span> )
<span class="linenr">17: </span>    {
<span class="linenr">18: </span>      puts(<span style="color: #ffa07a;">"Unable to open terminal."</span>);
<span class="linenr">19: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">20: </span>    }
<span class="linenr">21: </span>
<span class="linenr">22: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">set up the new terminal in NCurses </span><span style="color: #ff4500;">*/</span>
<span class="linenr">23: </span>  tp2 = newterm(<span style="color: #7fffd4;">NULL</span>,termout,termin);
<span class="linenr">24: </span>  <span style="color: #00ffff;">if</span>( tp2 == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">25: </span>    {
<span class="linenr">26: </span>      puts(<span style="color: #ffa07a;">"Unable to open terminal window."</span>);
<span class="linenr">27: </span>      <span style="color: #00ffff;">return</span>(2);
<span class="linenr">28: </span>    }
<span class="linenr">29: </span>
<span class="linenr">30: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">NCurses is now started for the new terminal </span><span style="color: #ff4500;">*/</span>
<span class="linenr">31: </span>  tp1 = set_term(tp2);
<span class="linenr">32: </span>  printw(<span style="color: #ffa07a;">"Welcome to NCurses output on terminal %s.\n"</span>,OUTTERM);
<span class="linenr">33: </span>  printw(<span style="color: #ffa07a;">"You can type on terminal %s, and see it here.\n"</span>,INTERM);
<span class="linenr">34: </span>  addstr(<span style="color: #ffa07a;">"What is your name: "</span>);
<span class="linenr">35: </span>  refresh();
<span class="linenr">36: </span>  getnstr(name,80);
<span class="linenr">37: </span>  printw(<span style="color: #ffa07a;">"%s, glad to have you aboard!"</span>,name);
<span class="linenr">38: </span>  refresh();
<span class="linenr">39: </span>  getch();
<span class="linenr">40: </span>
<span class="linenr">41: </span>  endwin();
<span class="linenr">42: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">43: </span>}
</pre>
</div>

<dl class="org-dl">
<dt> NOTE </dt><dd>Specify the proper terminal device names and types in
lines 3 and 4. I used the names of the virtual terminals
on the screen in Mac OS X. The terminal names you use
should be two screens you can access and see on your
console.
</dd>
</dl>
</div>

<div id="outline-container-sec-18-100-6-1" class="outline-5">
<h5 id="sec-18-100-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-100-6-1">
<p>
If possible, configure the two terminal windows so that you can
see both at once.  Make sure no programs are running on the
second terminal. On the second terminal, you'll see:
</p>

<pre class="example">
Welcome to NCurses output on terminal /dev/ttyp2.
You can type on terminal /dev/ttyp1, and see it here.
What is your name:
</pre>

<p>
Type your name on the first terminal window and press Enter.
</p>

<pre class="example">
Dan Gookin, glad to have you aboard!
</pre>

<p>
Press Enter to quit the program and restore both windows.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-100-7" class="outline-4">
<h4 id="sec-18-100-7">Also See</h4>
<div class="outline-text-4" id="text-18-100-7">
<p>
<a href="#set_term"><code>set_term()</code></a>, <a href="#initscr"><code>initscr()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-101" class="outline-3">
<h3 id="sec-18-101"><code>newwin()</code>                                                         <a id="newwin" name="newwin"></a></h3>
<div class="outline-text-3" id="text-18-101">
<p>
The <code>newwin()</code> function creates a new window within NCurses.
</p>
</div>

<div id="outline-container-sec-18-101-1" class="outline-4">
<h4 id="sec-18-101-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-101-1">
<div class="org-src-container">

<pre class="src src-c">WINDOW *newwin(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">nlines</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ncols</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">begin_y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">begin_x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-101-2" class="outline-4">
<h4 id="sec-18-101-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-101-2">
<p>
<code>nlines</code> is an <code>int</code> value that sets the height of the window in
<code>rows</code>. Values for <code>nlines</code> range from 1 through the height of the
standard screen. When 0 is specified for <code>nlines</code>, the new
window's height will be the same as the standard screen's height.
</p>

<p>
<code>ncols</code> is an <code>int</code> value setting the width of the window in
columns. Values range from 1 through the width of the standard
screen. Specifying 0 for <code>ncols</code> sets the new window's width to
the same as the standard screen's width.
</p>

<p>
<code>begin_y</code> is an <code>int</code> value indicating the location of the new
window's top row relative to the standard screen. Values range
from 0 for the top row to the maximum number of <code>rows</code> on the
standard screen <i>minus</i> the new window's height.
</p>

<p>
<code>begin_x</code> is an <code>int</code> value indicating the location of the new
window's leftmost column. Values range from 0 for the far left
column to the maximum number of columns on the standard screen
<i>minus</i> the new window's width.
</p>

<p>
Together, <code>begin_y</code> and <code>begin_x</code> plot the coordinates of the new
window's upper-left corner. The window's lower-right corner is
calculated by adding the <code>nlines</code> and <code>ncols</code> values to that
coordinate.
</p>
</div>
</div>

<div id="outline-container-sec-18-101-3" class="outline-4">
<h4 id="sec-18-101-3">Return Value</h4>
<div class="outline-text-4" id="text-18-101-3">
<p>
Upon success, the function returns a pointer referencing a
<code>WINDOW</code> structure in memory. The pointer is used to reference the
window in other NCurses commands.
</p>

<p>
Upon failure, the pointer is equal to <code>NULL</code>. Failure occurs when
the window is larger than the screen, part of the window does not
fit on the screen, or not enough memory is available to allocate
space for the window.
</p>
</div>
</div>

<div id="outline-container-sec-18-101-4" class="outline-4">
<h4 id="sec-18-101-4">Notes</h4>
<div class="outline-text-4" id="text-18-101-4">
<p>
Refer to <a href="#Figure-8-1">Figure 8-1</a> for a visual representation of how the
<code>newwin()</code> function's arguments map out onto the screen.
</p>

<p>
The smallest window possible is a 1-by-1 character window, big
enough for only one character.
</p>

<p>
The window cannot be larger than the standard screen, nor can the
window be positioned so that part of it extends beyond the edge of
the screen's rectangle. Either condition causes an error (<code>NULL</code>
pointer) to be returned by <code>newwin()</code>.
</p>

<p>
When you need a window larger than the screen, you need a
<i>pad</i>. See <a href="#newpad"><code>newpad()</code></a>.
</p>

<p>
Refer to the entries for <a href="#COLS"><code>COLS</code></a> and <a href="#LINES"><code>LINES</code></a> to get the size of the
standard screen.
</p>

<p>
The function <code>newwin(0,0,0,0)</code> creates a new window the same size
and position as the standard screen.
</p>

<p>
<code>newwin()</code> merely creates the new window's structure and the
pointer reference. It does not display the window's contents. Use
<code>wrefresh()</code> for that task.
</p>

<p>
The <code>w</code> prefix commands direct output or detect input associated
with a particular window.
</p>

<p>
Windows can be splashed with color, text attributes, or even a
"background" text character. Refer to the <a href="#bkgd"><code>bkgd()</code></a> function for
more info.
</p>

<p>
To place a box or border around a window, refer to the <a href="#box"><code>box()</code></a> and
<a href="#border"><code>border()</code></a> functions.
</p>
</div>
</div>

<div id="outline-container-sec-18-101-5" class="outline-4">
<h4 id="sec-18-101-5">Examples</h4>
<div class="outline-text-4" id="text-18-101-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>((help = newwin(10,30,4,26)) == <span style="color: #7fffd4;">NULL</span>)
</pre>
</div>

<p>
Here, a new window named help is created, being 10 rows high and
30 rows wide and located at position 4, 26 on the standard
screen. But the statement is also a comparison, and if that
<code>newwin()</code> function fails, then the if test passes and the next
few statements are executed.
</p>

<div class="org-src-container">

<pre class="src src-c">a   =   newwin(halfy,halfx,0,0);
b   =   newwin(halfy,halfx,0,halfx);
c   =   newwin(halfy,halfx,halfy,0);
d   =   newwin(halfy,halfx,halfy,halfx);
</pre>
</div>

<p>
These four statements create four windows, <code>a</code>, <code>b</code>, <code>c</code>, and
<code>d</code>. Assuming that <code>halfy</code> and <code>halfx</code> are half the row height and
column width of the standard screen, then the four windows occupy
four equal sections of the standard screen: <code>a</code> in the upper left;
<code>b</code> in the upper right; <code>c</code> in the lower left; and <code>d</code> in the
lower right.
</p>
</div>
</div>

<div id="outline-container-sec-18-101-6" class="outline-4">
<h4 id="sec-18-101-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-101-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">ALPHA_W</span> 30
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">ALPHA_H</span> 5
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">alpha</span>;
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">y</span>;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">set things up </span><span style="color: #ff4500;">*/</span>
<span class="linenr">12: </span>  initscr();
<span class="linenr">13: </span>  start_color();
<span class="linenr">14: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">15: </span>
<span class="linenr">16: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Calculate the window origin coordinates that will place</span>
<span class="linenr">17: </span><span style="color: #ff4500;">     the window at the center of the standard screen </span><span style="color: #ff4500;">*/</span>
<span class="linenr">18: </span>  x = (COLS - ALPHA_W) &gt;&gt; 1;
<span class="linenr">19: </span>  y = (LINES - ALPHA_H) &gt;&gt; 1;
<span class="linenr">20: </span>
<span class="linenr">21: </span>  addstr(<span style="color: #ffa07a;">"Creating new window....\n"</span>);
<span class="linenr">22: </span>  refresh();
<span class="linenr">23: </span>  alpha = newwin(ALPHA_H,ALPHA_W,y,x);
<span class="linenr">24: </span>  <span style="color: #00ffff;">if</span>( alpha == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">25: </span>    {
<span class="linenr">26: </span>      endwin();
<span class="linenr">27: </span>      puts(<span style="color: #ffa07a;">"Problem creating window"</span>);
<span class="linenr">28: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">29: </span>    }
<span class="linenr">30: </span>
<span class="linenr">31: </span>  addstr(<span style="color: #ffa07a;">"Displaying window:\n"</span>);
<span class="linenr">32: </span>  refresh();
<span class="linenr">33: </span>  wbkgd(alpha,COLOR_PAIR(1));
<span class="linenr">34: </span>  mvwaddstr(alpha,2,12,<span style="color: #ffa07a;">"Hello!"</span>);
<span class="linenr">35: </span>  wrefresh(alpha);
<span class="linenr">36: </span>
<span class="linenr">37: </span>  getch();
<span class="linenr">38: </span>
<span class="linenr">39: </span>  endwin();
<span class="linenr">40: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">41: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-101-6-1" class="outline-5">
<h5 id="sec-18-101-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-101-6-1">
<pre class="example">
Creating new window....
Displaying window:
</pre>

<p>
And a blue window appears in the center of the screen, with the
word <code>Hello!</code> displayed in its center.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-101-7" class="outline-4">
<h4 id="sec-18-101-7">Also See</h4>
<div class="outline-text-4" id="text-18-101-7">
<p>
<a href="#chapter_8">Chapter 8</a>, <a href="#WINDOW"><code>WINDOW</code></a>, <a href="#dupwin"><code>dupwin()</code></a>, <a href="#refresh"><code>refresh()</code></a>, <a href="#delwin"><code>delwin()</code></a>, <a href="#w_prefix"><code>w</code> prefix</a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-102" class="outline-3">
<h3 id="sec-18-102"><code>nl()</code>                                                             <a id="nl" name="nl"></a></h3>
<div class="outline-text-3" id="text-18-102">
<p>
<code>nl()</code> is an input modification function that allows your program
to distinguish between the line feed and carriage return codes.
</p>
</div>

<div id="outline-container-sec-18-102-1" class="outline-4">
<h4 id="sec-18-102-1">Explanation</h4>
<div class="outline-text-4" id="text-18-102-1">
<p>
The newline <code>\n</code> actually generates two separate cursor movement
commands.  The first is the carriage return (CR), which moves the
cursor to the start of a line â just like the carriage return bar
on the old manual typewriters. The second cursor movement command
is the line feed (LF), which advances the cursor down one row on
the screen.
</p>

<p>
Code-wise, ASCII defines CR as code 13 or <code>^M</code>, and LF as code 10
or <code>^J</code>. On the PC keyboard, the Enter key is traditionally mapped
to <code>^M</code>, which is why you often find text files imported from a PC
(Windows) to UNIX as lacking linefeeds. Similarly, PC users often
find imported UNIX text files to lack carriage returns. The reason
is that the Enter key in UNIX, the <code>\n</code>, is mapped to code 10,
which provides both carriage return and line feed functions.
</p>

<p>
The terminal normally interprets both code 13 or <code>^M</code> and code 10
or <code>^J</code> as the <code>\n</code>, which is code 10. So whether you type Enter,
Ctrl+J, or Ctrl+M on the keyboard, the <code>nl()</code> mode translates that
key press into code 10. When <code>nonl()</code> is specified, your program
can properly interpret the Ctrl+M key combination as code 13, a
carriage return or <code>\r</code>. NCurses uses the <code>nl()</code> mode by default.
</p>
</div>
</div>

<div id="outline-container-sec-18-102-2" class="outline-4">
<h4 id="sec-18-102-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-102-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">nl</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">nonl</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-102-3" class="outline-4">
<h4 id="sec-18-102-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-102-3">
<p>
The function takes no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-102-4" class="outline-4">
<h4 id="sec-18-102-4">Return Value</h4>
<div class="outline-text-4" id="text-18-102-4">
<p>
Always <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-102-5" class="outline-4">
<h4 id="sec-18-102-5">Notes</h4>
<div class="outline-text-4" id="text-18-102-5">
<p>
Regardless of the <code>nl()</code> or <i>nonl()</i> modes, NCurses always
displays the <code>\n</code> character as both a carriage return/line
feed. (The <code>\r</code> character always returns to the beginning of the
line.)
</p>

<p>
Supposedly NCurses is able to more efficiently move the cursor in
<code>nonl()</code> mode.
</p>
</div>
</div>

<div id="outline-container-sec-18-102-6" class="outline-4">
<h4 id="sec-18-102-6">Example</h4>
<div class="outline-text-4" id="text-18-102-6">
<div class="org-src-container">

<pre class="src src-c">nonl();
</pre>
</div>

<p>
The statement allows the program to distinguish between the line
feed and carriage return characters.
</p>
</div>
</div>

<div id="outline-container-sec-18-102-7" class="outline-4">
<h4 id="sec-18-102-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-102-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span> = <span style="color: #ffa07a;">'\0'</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  nonl();
<span class="linenr">10: </span>  <span style="color: #00ffff;">while</span>(ch != <span style="color: #ffa07a;">'z'</span>)
<span class="linenr">11: </span>    ch = getch();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  endwin();
<span class="linenr">14: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">15: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-102-7-1" class="outline-5">
<h5 id="sec-18-102-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-102-7-1">
<p>
As you type, experiment with the Ctrl+M and Ctrl+J keys to see
how they perform differently. Recompiling the program after
commenting out line 9 shows how NCurses interprets both Ctrl+M
and Ctrl+J the same.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-102-8" class="outline-4">
<h4 id="sec-18-102-8">Also See</h4>
<div class="outline-text-4" id="text-18-102-8">
<p>
<a href="#getch"><code>getch()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-103" class="outline-3">
<h3 id="sec-18-103"><code>nocbreak()</code>                                                       <a id="nocbreak" name="nocbreak"></a></h3>
<div class="outline-text-3" id="text-18-103">
<p>
See <a href="#cbreak"><code>cbreak()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-104" class="outline-3">
<h3 id="sec-18-104"><code>nodelay()</code>                                                        <a id="nodelay" name="nodelay"></a></h3>
<div class="outline-text-3" id="text-18-104">
<p>
The <code>nodelay()</code> function transforms the <code>getch()</code> function from a
blocking call to nonblocking.
</p>
</div>

<div id="outline-container-sec-18-104-1" class="outline-4">
<h4 id="sec-18-104-1">Explanation</h4>
<div class="outline-text-4" id="text-18-104-1">
<p>
Normally the <code>getch()</code> function waits for a key to be
pressed. Waiting, waiting. <code>nodelay()</code> turns off the delay for a
window, causing <code>wgetch()</code> to return <code>ERR</code> when a character isn't
waiting or the character's value when a key has been pressed and
its character is waiting in the input queue.
</p>
</div>
</div>

<div id="outline-container-sec-18-104-2" class="outline-4">
<h4 id="sec-18-104-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-104-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">nodelay</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">bf</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-104-3" class="outline-4">
<h4 id="sec-18-104-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-104-3">
<p>
<code>win</code> is the name of a window. Only <code>wgetch()</code> commands
referencing <code>win</code> (or <code>getch()</code> for <code>stdscr</code>) are affected by
<code>nodelay()</code>.
</p>

<p>
<code>bf</code> is a Boolean value, either <code>TRUE</code> or <code>FALSE</code>. <code>TRUE</code> turns on
nodelay for the named window, causing calls to <code>getch()</code> not to
pause. <code>FALSE</code> sets the normal mode, where <code>getch()</code> pauses to
wait for a key.
</p>
</div>
</div>

<div id="outline-container-sec-18-104-4" class="outline-4">
<h4 id="sec-18-104-4">Return Value</h4>
<div class="outline-text-4" id="text-18-104-4">
<p>
<code>OK</code> upon success, <code>ERR</code> on failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-104-5" class="outline-4">
<h4 id="sec-18-104-5">Notes</h4>
<div class="outline-text-4" id="text-18-104-5">
<p>
Normally, nodelay is set equal to <code>FALSE</code>.
</p>

<p>
There is no <code>delay()</code> function, but two other NCurses functions
control input delay. Check out <code>timeout()</code> and <code>halfdelay()</code>.
</p>

<p>
NCurses uses only one input queue from the keyboard, but by
assigning a window value, it's possible to manipulate the input
stream differently by associating <code>wgetch()</code> with a specific
window. See <a href="#getch"><code>getch()</code></a> for more information.
</p>
</div>
</div>

<div id="outline-container-sec-18-104-6" class="outline-4">
<h4 id="sec-18-104-6">Example</h4>
<div class="outline-text-4" id="text-18-104-6">
<pre class="example">
nodelay(stdscr,TRUE);
</pre>

<p>
The statement turns <code>getch()</code> into a non-blocking call for the
standard screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-104-7" class="outline-4">
<h4 id="sec-18-104-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-104-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">value</span> = 0;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  nodelay(stdscr,TRUE);         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">turn off getch() wait </span><span style="color: #ff4500;">*/</span>
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"Press the Spacebar to stop the insane loop!\n"</span>);
<span class="linenr">11: </span>  <span style="color: #00ffff;">while</span>(1)
<span class="linenr">12: </span>    {
<span class="linenr">13: </span>      printw(<span style="color: #ffa07a;">"%d\r"</span>,value++);
<span class="linenr">14: </span>      refresh();
<span class="linenr">15: </span>      <span style="color: #00ffff;">if</span>(getch() == <span style="color: #ffa07a;">' '</span>) <span style="color: #00ffff;">break</span>;
<span class="linenr">16: </span>    }
<span class="linenr">17: </span>  getch();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  endwin();
<span class="linenr">20: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">21: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-104-7-1" class="outline-5">
<h5 id="sec-18-104-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-104-7-1">
<pre class="example">
Press the Spacebar to stop the insane loop!
</pre>

<p>
Press the Spacebar to stop the counter.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-104-8" class="outline-4">
<h4 id="sec-18-104-8">Also See</h4>
<div class="outline-text-4" id="text-18-104-8">
<p>
<a href="#chapter_7">Chapter 7</a>, <a href="#getch"><code>getch()</code></a>, <a href="#timeout"><code>timeout()</code></a>, <a href="#halfdelay"><code>halfdelay()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-105" class="outline-3">
<h3 id="sec-18-105"><code>noecho()</code>                                                         <a id="noecho" name="noecho"></a></h3>
<div class="outline-text-3" id="text-18-105">
<p>
See <a href="#echo"><code>echo()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-106" class="outline-3">
<h3 id="sec-18-106"><code>nonl()</code>                                                           <a id="nonl" name="nonl"></a></h3>
<div class="outline-text-3" id="text-18-106">
<p>
See <a href="#nl"><code>nl()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-107" class="outline-3">
<h3 id="sec-18-107"><code>noqiflush()</code>                                                      <a id="noqiflush" name="noqiflush"></a></h3>
<div class="outline-text-3" id="text-18-107">
<p>
See <a href="#qiflush"><code>qiflush()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-108" class="outline-3">
<h3 id="sec-18-108"><code>noraw()</code>                                                          <a id="noraw" name="noraw"></a></h3>
<div class="outline-text-3" id="text-18-108">
<p>
See <a href="#raw"><code>raw()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-109" class="outline-3">
<h3 id="sec-18-109"><code>notimeout()</code>                                                      <a id="notimeout" name="notimeout"></a></h3>
<div class="outline-text-3" id="text-18-109">
<p>
The <code>notimeout()</code> function determines whether or not NCurses input
functions pause after the user presses the Esc key.
</p>
</div>

<div id="outline-container-sec-18-109-1" class="outline-4">
<h4 id="sec-18-109-1">Explanation</h4>
<div class="outline-text-4" id="text-18-109-1">
<p>
An escape sequence can be generated either by the keyboard, such
as when a specialty or function key is pressed, or manually input
by the user. A onesecond timeout is used to help determine whether
the escape sequence is generated by the keyboard or the user,
seeing how user input is slower than the escape sequence produced
by the keyboard.
</p>

<p>
When <code>notimeout()</code> is set <code>TRUE</code> for a window, then <code>getch()</code>
calls to that window will not wait one second to determine whether
an escape sequence comes from the keyboard or user. The end effect
is that input is greatly sped up for those programs where it's
unlikely that the user will be manually inputting escape sequences
or when keyboard escape sequences are not used. (Also see
<a href="#keypad"><code>keypad()</code></a>.)
</p>
</div>
</div>

<div id="outline-container-sec-18-109-2" class="outline-4">
<h4 id="sec-18-109-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-109-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">notimeout</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">bf</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-109-3" class="outline-4">
<h4 id="sec-18-109-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-109-3">
<p>
<code>win</code> is a <code>WINDOW</code> variable representing a window on the screen.
</p>

<p>
<code>bf</code> if a Boolean value, either <code>TRUE</code> or <code>FALSE</code>, both of which
are defined in <code>ncurses.h</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-109-4" class="outline-4">
<h4 id="sec-18-109-4">Return Value</h4>
<div class="outline-text-4" id="text-18-109-4">
<p>
<code>ERR</code> upon failure or an <code>int</code> value other than <code>ERR</code> upon
success.
</p>
</div>
</div>

<div id="outline-container-sec-18-109-5" class="outline-4">
<h4 id="sec-18-109-5">Notes</h4>
<div class="outline-text-4" id="text-18-109-5">
<p>
There are three delays the <code>getch()</code> function checks when it is
first called: <code>notimeout()</code>, <code>nodelay()</code>, and <code>halfdelay()</code>.
</p>

<p>
Don't confuse this function with <code>timeout()</code>, which adjusts the
delay associated with blocking text input, not just the delay
associated with Escape character input.
</p>

<p>
The delay doesn't seem to be present one way or the other when
<code>keypad()</code> is set <code>FALSE</code> for the window.
</p>

<p>
Internally, NCurses uses the <code>ESCDELAY</code> constant to set the Esc
key delay in increments of a millisecond. The value of 1000 sets a
1 second Esc key delay, which is the default on many systems.
</p>

<p>
The <code>notimeout()</code> state is only used in one special case: deciding
whether to continue reading after a character was read. It's done
independently of the <code>keypad()</code> logic.
</p>

<p>
I have not been able to get this function to work. As a
workaround, I recommend setting the value of the <code>ESCDELAY</code>
variable to zero when <code>notimeout(win,TRUE)</code> fails to behave:
</p>

<div class="org-src-container">

<pre class="src src-c">ESCDELAY = 0;
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-109-6" class="outline-4">
<h4 id="sec-18-109-6">Example</h4>
<div class="outline-text-4" id="text-18-109-6">
<div class="org-src-container">

<pre class="src src-c">notimeout(stdscr,TRUE);
</pre>
</div>

<p>
The statement disables the Esc key delay for the standard screen
window.
</p>
</div>
</div>

<div id="outline-container-sec-18-109-7" class="outline-4">
<h4 id="sec-18-109-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-109-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span> = <span style="color: #ffa07a;">'\0'</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  keypad(stdscr,TRUE);
<span class="linenr">10: </span>  notimeout(stdscr,FALSE);
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"Press the Esc key and note the delay:\n"</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  <span style="color: #00ffff;">while</span>( ch != <span style="color: #ffa07a;">'\n'</span>)
<span class="linenr">14: </span>    ch = getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  ch = <span style="color: #ffa07a;">'\0'</span>;
<span class="linenr">17: </span>  notimeout(stdscr,TRUE);
<span class="linenr">18: </span>  mvaddstr(3,0,<span style="color: #ffa07a;">"Now with notimeout TRUE, press Esc:\n"</span>);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  <span style="color: #00ffff;">while</span>( ch != <span style="color: #ffa07a;">'\n'</span>)
<span class="linenr">21: </span>    ch = getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  endwin();
<span class="linenr">24: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">25: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-109-7-1" class="outline-5">
<h5 id="sec-18-109-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-109-7-1">
<pre class="example">
Press the Esc key and note the delay:
^[
Now with notimeout TRUE, press Esc:
^[
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-109-8" class="outline-4">
<h4 id="sec-18-109-8">Also See</h4>
<div class="outline-text-4" id="text-18-109-8">
<p>
<a href="#getch"><code>getch()</code></a>, <a href="#timeout"><code>timeout()</code></a>, <a href="#notimeout"><code>notimeout()</code></a>, <a href="#nodelay"><code>nodelay()</code></a>, <a href="#halfdelay"><code>halfdelay()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-110" class="outline-3">
<h3 id="sec-18-110"><code>OK</code>                                                               <a id="OK" name="OK"></a></h3>
<div class="outline-text-3" id="text-18-110">
<p>
The <code>int</code> constant <code>OK</code> is used to indicate successful completion
of a function.
</p>
</div>

<div id="outline-container-sec-18-110-1" class="outline-4">
<h4 id="sec-18-110-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-110-1">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-110-2" class="outline-4">
<h4 id="sec-18-110-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-110-2">
<p>
<code>OK</code> can be used like any other constant, though it is most often
found in a comparison:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>( function() == OK)
</pre>
</div>

<p>
Or if the return value from a function is saved in a variable, <code>r</code>:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>( r == OK)
</pre>
</div>

<p>
Or:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">while</span>( function() == OK)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-110-3" class="outline-4">
<h4 id="sec-18-110-3">Return Value</h4>
<div class="outline-text-4" id="text-18-110-3">
<p>
The value of <code>OK</code> is set in <code>ncurses.h</code> to 0.
</p>
</div>
</div>

<div id="outline-container-sec-18-110-4" class="outline-4">
<h4 id="sec-18-110-4">Notes</h4>
<div class="outline-text-4" id="text-18-110-4">
<p>
Not every function returns <code>OK</code> upon success.
</p>

<p>
Some functions are documented as returning <code>ERR</code> upon failure, but
any value other than <code>ERR</code> â not specifically <code>OK</code> â upon success.
</p>

<p>
Note that <code>OK</code> might be defined as being zero, therefore something
like:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">while</span>( function() )
</pre>
</div>

<p>
cannot work based upon the function's success if the success
returned is <code>OK</code> and <code>OK</code> is defined as zero.
</p>

<p>
<code>OK</code>'s counterpart is the <code>ERR</code> constant. See <a href="#ERR"><code>ERR</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-110-5" class="outline-4">
<h4 id="sec-18-110-5">Example</h4>
<div class="outline-text-4" id="text-18-110-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>( putwin(menu,mfile) != OK)
</pre>
</div>

<p>
The statement checks to see if the <code>putwin()</code> function has not
returned <code>OK</code>, meaning that the operation has failed.
</p>
</div>
</div>

<div id="outline-container-sec-18-110-6" class="outline-4">
<h4 id="sec-18-110-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-110-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span> = 0,<span style="color: #eedd82;">x</span> = 0, <span style="color: #eedd82;">r</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"You Move The Cursor!\n"</span>);
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"Enter the Y (row) coordinate: "</span>);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  scanw(<span style="color: #ffa07a;">"%d"</span>,&amp;y);
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"Enter the X (column) coordinate: "</span>);
<span class="linenr">14: </span>  refresh();
<span class="linenr">15: </span>  scanw(<span style="color: #ffa07a;">"%d"</span>,&amp;x);
<span class="linenr">16: </span>
<span class="linenr">17: </span>  r = move(y,x);
<span class="linenr">18: </span>  <span style="color: #00ffff;">if</span>(r == ERR)
<span class="linenr">19: </span>    {
<span class="linenr">20: </span>      mvaddstr(3,0,<span style="color: #ffa07a;">"You have moved the cursor!"</span>);
<span class="linenr">21: </span>      move(y,x);
<span class="linenr">22: </span>    }
<span class="linenr">23: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">24: </span>    mvaddstr(3,0,<span style="color: #ffa07a;">"You cannot move the cursor there!"</span>);
<span class="linenr">25: </span>  refresh();
<span class="linenr">26: </span>  getch();
<span class="linenr">27: </span>
<span class="linenr">28: </span>  endwin();
<span class="linenr">29: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">30: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-110-6-1" class="outline-5">
<h5 id="sec-18-110-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-110-6-1">
<pre class="example">
You Move The Cursor!
Enter the Y (row) coordinate: 50
Enter the X (column) coordinate: 5
You cannot move the cursor there!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-110-7" class="outline-4">
<h4 id="sec-18-110-7">Also See</h4>
<div class="outline-text-4" id="text-18-110-7">
<p>
<a href="#ERR"><code>ERR</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-111" class="outline-3">
<h3 id="sec-18-111"><code>overlay()</code>                                                        <a id="overlay" name="overlay"></a></h3>
<div class="outline-text-3" id="text-18-111">
<p>
The <code>overlay()</code> function takes text from one window and places that
text into the blank portions of another window.
</p>
</div>

<div id="outline-container-sec-18-111-1" class="outline-4">
<h4 id="sec-18-111-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-111-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">overlay</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">srcwin</span>, <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">dstwin</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-111-2" class="outline-4">
<h4 id="sec-18-111-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-111-2">
<p>
<code>srcwin</code> is a <code>WINDOW</code> pointer representing the source window,
from which text is copied.
</p>

<p>
<code>dstwin</code> is a <code>WINDOW</code> pointer representing the destination, the
window where text from <code>srcwin</code> is pasted.
</p>
</div>
</div>

<div id="outline-container-sec-18-111-3" class="outline-4">
<h4 id="sec-18-111-3">Return Value</h4>
<div class="outline-text-4" id="text-18-111-3">
<p>
The function returns <code>OK</code> upon success, or <code>ERR</code> when there is a
problem.
</p>
</div>
</div>

<div id="outline-container-sec-18-111-4" class="outline-4">
<h4 id="sec-18-111-4">Notes</h4>
<div class="outline-text-4" id="text-18-111-4">
<p>
With the <code>overlay()</code> function, only the blank parts of the
destination window are over-written with text from the source
window. Text from <code>srcwin</code> will not replace text in <code>dstwin</code>,
neither will text attributes be copied to the <code>dstwin</code>.
</p>

<p>
<code>srcwin</code> and <code>dstwin</code> do not need to be the same size. However:
</p>

<ul class="org-ul">
<li>The two windows must overlap. It is only the overlapping portion
of the windows that is overlaid.
</li>

<li>When the two windows do not overlap, <code>overlay()</code> returns <code>ERR</code>.
</li>
</ul>


<p>
The <code>overlay()</code> function behaves the same as the <code>copywin()</code>
function with the <code>TRUE</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-111-5" class="outline-4">
<h4 id="sec-18-111-5">Example</h4>
<div class="outline-text-4" id="text-18-111-5">
<div class="org-src-container">

<pre class="src src-c">overlay(first,second);
</pre>
</div>

<p>
After the statement, locations where window <code>first</code> overlaps
window <code>second</code> will be changed; any blank spots in window
<code>second</code> will be filled by overlapping text from window <code>first</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-111-6" class="outline-4">
<h4 id="sec-18-111-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-111-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">alpha</span>,*<span style="color: #eedd82;">beta</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  start_color();
<span class="linenr">10: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">11: </span>  init_pair(2,COLOR_WHITE,COLOR_RED);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create and color two side-by-side windows </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  alpha = newwin(5,30,0,0);
<span class="linenr">15: </span>  wbkgd(alpha,COLOR_PAIR(1));
<span class="linenr">16: </span>  beta = newwin(5,30,1,2);
<span class="linenr">17: </span>  wbkgd(beta,COLOR_PAIR(2));
<span class="linenr">18: </span>
<span class="linenr">19: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">populate the windows with text </span><span style="color: #ff4500;">*/</span>
<span class="linenr">20: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;75;x++)
<span class="linenr">21: </span>    {
<span class="linenr">22: </span>      wprintw(alpha,<span style="color: #ffa07a;">"O "</span>);
<span class="linenr">23: </span>      wprintw(beta,<span style="color: #ffa07a;">" X"</span>);
<span class="linenr">24: </span>    }
<span class="linenr">25: </span>  wrefresh(alpha);
<span class="linenr">26: </span>  wrefresh(beta);
<span class="linenr">27: </span>  getch(beta);
<span class="linenr">28: </span>
<span class="linenr">29: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">copy from window beta to window alpha </span><span style="color: #ff4500;">*/</span>
<span class="linenr">30: </span>  overlay(beta,alpha);
<span class="linenr">31: </span>  wrefresh(alpha);
<span class="linenr">32: </span>  wrefresh(beta);
<span class="linenr">33: </span>  wgetch(beta);
<span class="linenr">34: </span>
<span class="linenr">35: </span>  endwin();
<span class="linenr">36: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">37: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-111-6-1" class="outline-5">
<h5 id="sec-18-111-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-111-6-1">
<p>
Two windows appear, one blue with Os and another red with Xs. The
two windows overlap for all but one row and column. Pressing
Enter copies the Xs from the red window to the blue.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-111-7" class="outline-4">
<h4 id="sec-18-111-7">Also See</h4>
<div class="outline-text-4" id="text-18-111-7">
<p>
<a href="#chapter_10">Chapter 10</a>, <a href="#copywin"><code>copywin()</code></a>, <a href="#overwrite"><code>overwrite()</code></a>, <a href="#dupwin"><code>dupwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-112" class="outline-3">
<h3 id="sec-18-112"><code>overwrite()</code>                                                      <a id="overwrite" name="overwrite"></a></h3>
<div class="outline-text-3" id="text-18-112">
<p>
The <code>overwrite()</code> function takes text from one window and pastes it
into another window, replacing the second window's text contents
and attributes.
</p>
</div>

<div id="outline-container-sec-18-112-1" class="outline-4">
<h4 id="sec-18-112-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-112-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">overwrite</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">srcwin</span>, <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">dstwin</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-112-2" class="outline-4">
<h4 id="sec-18-112-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-112-2">
<p>
<code>srcwin</code> is a <code>WINDOW</code> pointer representing the source window,
from which text is copied.
</p>

<p>
<code>dstwin</code> is a <code>WINDOW</code> pointer representing the destination, the
window where text from <code>srcwin</code> is pasted.
</p>
</div>
</div>

<div id="outline-container-sec-18-112-3" class="outline-4">
<h4 id="sec-18-112-3">Return Value</h4>
<div class="outline-text-4" id="text-18-112-3">
<p>
The function returns <code>OK</code> or <code>ERR</code> upon success or failure,
respectively.
</p>
</div>
</div>

<div id="outline-container-sec-18-112-4" class="outline-4">
<h4 id="sec-18-112-4">Notes</h4>
<div class="outline-text-4" id="text-18-112-4">
<p>
The <code>overwrite()</code> function literally overwrites the contents of
<code>srcwin</code> with <code>dstwin</code>; both text and attributes from <code>srcwin</code>
replace text in <code>dstwin</code>.
</p>

<p>
<code>srcwin</code> and <code>dstwin</code> do not need to be the same size, but the two
windows <i>must</i> overlap. Only the overlapping portion of the
windows is affected by the <code>overwrite()</code> function.
</p>

<p>
When the two windows do not overlap, <code>overlay()</code> returns <code>ERR</code>.
</p>

<p>
The <code>overwrite()</code> function behaves the same as the <code>copywin()</code>
function with the <code>FALSE</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-112-5" class="outline-4">
<h4 id="sec-18-112-5">Example</h4>
<div class="outline-text-4" id="text-18-112-5">
<div class="org-src-container">

<pre class="src src-c">overwrite(top, bottom);
</pre>
</div>

<p>
The statement causes text from window <code>top</code> to overwrite and
replace text from window <code>bottom</code> at those locations where the two
windows overlap.
</p>
</div>
</div>

<div id="outline-container-sec-18-112-6" class="outline-4">
<h4 id="sec-18-112-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-112-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">alpha</span>,*<span style="color: #eedd82;">beta</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  start_color();
<span class="linenr">10: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">11: </span>  init_pair(2,COLOR_WHITE,COLOR_RED);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create and color two side-by-side windows </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  alpha = newwin(5,30,0,0);
<span class="linenr">15: </span>  wbkgd(alpha,COLOR_PAIR(1));
<span class="linenr">16: </span>  beta = newwin(5,30,1,2);
<span class="linenr">17: </span>  wbkgd(beta,COLOR_PAIR(2));
<span class="linenr">18: </span>
<span class="linenr">19: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">populate the windows with text </span><span style="color: #ff4500;">*/</span>
<span class="linenr">20: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;75;x++)
<span class="linenr">21: </span>    {
<span class="linenr">22: </span>      wprintw(alpha,<span style="color: #ffa07a;">"O "</span>);
<span class="linenr">23: </span>      wprintw(beta,<span style="color: #ffa07a;">" X"</span>);
<span class="linenr">24: </span>    }
<span class="linenr">25: </span>  wrefresh(beta);
<span class="linenr">26: </span>  wrefresh(alpha);
<span class="linenr">27: </span>  wgetch(alpha);
<span class="linenr">28: </span>
<span class="linenr">29: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">copy from window beta to window alpha </span><span style="color: #ff4500;">*/</span>
<span class="linenr">30: </span>  overwrite(beta,alpha);
<span class="linenr">31: </span>  wrefresh(beta);
<span class="linenr">32: </span>  wrefresh(alpha);
<span class="linenr">33: </span>  wgetch(alpha);
<span class="linenr">34: </span>
<span class="linenr">35: </span>  endwin();
<span class="linenr">36: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">37: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-112-6-1" class="outline-5">
<h5 id="sec-18-112-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-112-6-1">
<p>
Two windows appear, one blue with Os overlapping another red with
Xs. Pressing Enter copies the Xs from the red window to the blue,
replacing any existing text and attributes. In fact, it appears
as if the red window is on top, but it is not.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-112-7" class="outline-4">
<h4 id="sec-18-112-7">Also See</h4>
<div class="outline-text-4" id="text-18-112-7">
<p>
<a href="#chapter_10">Chapter 10</a>, <a href="#copywin"><code>copywin()</code></a>, <a href="#overlay"><code>overlay()</code></a>, <a href="#dupwin"><code>dupwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-113" class="outline-3">
<h3 id="sec-18-113"><code>pair_content()</code>                                                   <a id="pair_content" name="pair_content"></a></h3>
<div class="outline-text-3" id="text-18-113">
<p>
The <code>pair_content()</code> function is used to determine which two colors
have been assigned to a color pair.
</p>
</div>

<div id="outline-container-sec-18-113-1" class="outline-4">
<h4 id="sec-18-113-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-113-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">pair_content</span>(<span style="color: #98fb98;">short</span> <span style="color: #eedd82;">pair</span>, <span style="color: #98fb98;">short</span> *<span style="color: #eedd82;">f</span>, <span style="color: #98fb98;">short</span> *<span style="color: #eedd82;">b</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-113-2" class="outline-4">
<h4 id="sec-18-113-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-113-2">
<p>
<code>pair</code> is a <code>short int</code> value representing a color pair
number. Values range from 0 through the value of the <code>COLOR_PAIRS</code>
constant, minus 1.
</p>

<p>
<code>f</code> and <code>b</code> are addresses of <code>short int</code> variables to hold the
color value of the text foreground and text background colors for
<code>pair</code>, respectively. Values returned for foreground or background
range from 0 through the value returned by <code>COLORS</code>, minus 1.
</p>
</div>
</div>

<div id="outline-container-sec-18-113-3" class="outline-4">
<h4 id="sec-18-113-3">Return Value</h4>
<div class="outline-text-4" id="text-18-113-3">
<p>
The function returns <code>OK</code> for success or <code>ERR</code> for failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-113-4" class="outline-4">
<h4 id="sec-18-113-4">Notes</h4>
<div class="outline-text-4" id="text-18-113-4">
<p>
The <code>start_color()</code> function must be issued first in a program, or
the <code>pair_content()</code> function will return <code>ERR</code>.
</p>

<p>
It is not necessary that <code>pair</code> represent a defined color
pair. When called with an undefined color pair value,
<code>pair_content()</code> returns zero for both foreground and background
colors.
</p>

<p>
Colors <code>0</code> through <code>7</code> are defined as constants in
<code>ncurses.h</code>. See <a href="#COLORS"><code>COLORS</code></a> elsewhere in this appendix for the
values.
</p>
</div>
</div>

<div id="outline-container-sec-18-113-5" class="outline-4">
<h4 id="sec-18-113-5">Examples</h4>
<div class="outline-text-4" id="text-18-113-5">
<div class="org-src-container">

<pre class="src src-c">pair_content(3,fg,bg);
</pre>
</div>

<p>
This statement reads the color attributes assigned to color
pair 3. The foreground value is stored in the location indicated
by pointer variable fg, and the background value is stored in the
location indicated by pointer variable <code>bg</code>. It's assumed that the
pointer variables are initialized earlier in the code.
</p>

<div class="org-src-container">

<pre class="src src-c">pair_content(pair,&amp;fore,&amp;back);
</pre>
</div>

<p>
Here, the color values for color pair indicated by variable <code>pair</code>
are stored in the locations for variables fore and <code>back</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-113-6" class="outline-4">
<h4 id="sec-18-113-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-113-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">char</span> *<span style="color: #87cefa;">ncolor</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">color</span>);
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">short</span> <span style="color: #eedd82;">pair</span>,<span style="color: #eedd82;">f</span>,<span style="color: #eedd82;">b</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>  start_color();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Create color pairs </span><span style="color: #ff4500;">*/</span>
<span class="linenr">13: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">14: </span>  init_pair(2,COLOR_BLACK,COLOR_RED);
<span class="linenr">15: </span>  init_pair(3,COLOR_YELLOW,COLOR_RED);
<span class="linenr">16: </span>  init_pair(4,COLOR_BLUE,COLOR_GREEN);
<span class="linenr">17: </span>  init_pair(5,COLOR_CYAN,COLOR_MAGENTA);
<span class="linenr">18: </span>
<span class="linenr">19: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">display pair colors </span><span style="color: #ff4500;">*/</span>
<span class="linenr">20: </span>  <span style="color: #00ffff;">for</span>(pair=1;pair&lt;=5;pair++)
<span class="linenr">21: </span>    {
<span class="linenr">22: </span>      attrset(COLOR_PAIR(pair));
<span class="linenr">23: </span>      pair_content(pair,&amp;f,&amp;b);
<span class="linenr">24: </span>      printw(<span style="color: #ffa07a;">"Pair %d: %s foreground, %s background.\n"</span>,\
<span class="linenr">25: </span>             pair,ncolor(f),ncolor(b));
<span class="linenr">26: </span>    }
<span class="linenr">27: </span>  refresh();
<span class="linenr">28: </span>  getch();
<span class="linenr">29: </span>
<span class="linenr">30: </span>  endwin();
<span class="linenr">31: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">32: </span>}
<span class="linenr">33: </span>
<span class="linenr">34: </span><span style="color: #98fb98;">char</span> *<span style="color: #87cefa;">ncolor</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">color</span>)
<span class="linenr">35: </span>{
<span class="linenr">36: </span>  <span style="color: #00ffff;">switch</span>(color)
<span class="linenr">37: </span>    {
<span class="linenr">38: </span>    <span style="color: #00ffff;">case</span> COLOR_BLACK:
<span class="linenr">39: </span>      <span style="color: #00ffff;">return</span>(<span style="color: #ffa07a;">"Black"</span>);
<span class="linenr">40: </span>    <span style="color: #00ffff;">case</span> COLOR_RED:
<span class="linenr">41: </span>      <span style="color: #00ffff;">return</span>(<span style="color: #ffa07a;">"Red"</span>);
<span class="linenr">42: </span>    <span style="color: #00ffff;">case</span> COLOR_GREEN:
<span class="linenr">43: </span>      <span style="color: #00ffff;">return</span>(<span style="color: #ffa07a;">"Green"</span>);
<span class="linenr">44: </span>    <span style="color: #00ffff;">case</span> COLOR_YELLOW:
<span class="linenr">45: </span>      <span style="color: #00ffff;">return</span>(<span style="color: #ffa07a;">"Yellow"</span>);
<span class="linenr">46: </span>    <span style="color: #00ffff;">case</span> COLOR_BLUE:
<span class="linenr">47: </span>      <span style="color: #00ffff;">return</span>(<span style="color: #ffa07a;">"Blue"</span>);
<span class="linenr">48: </span>    <span style="color: #00ffff;">case</span> COLOR_MAGENTA:
<span class="linenr">49: </span>      <span style="color: #00ffff;">return</span>(<span style="color: #ffa07a;">"Magenta"</span>);
<span class="linenr">50: </span>    <span style="color: #00ffff;">case</span> COLOR_CYAN:
<span class="linenr">51: </span>      <span style="color: #00ffff;">return</span>(<span style="color: #ffa07a;">"Cyan"</span>);
<span class="linenr">52: </span>    <span style="color: #00ffff;">case</span> COLOR_WHITE:
<span class="linenr">53: </span>      <span style="color: #00ffff;">return</span>(<span style="color: #ffa07a;">"White"</span>);
<span class="linenr">54: </span>    }
<span class="linenr">55: </span>  <span style="color: #00ffff;">return</span>(<span style="color: #ffa07a;">"?"</span>);
<span class="linenr">56: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-113-6-1" class="outline-5">
<h5 id="sec-18-113-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-113-6-1">
<pre class="example">
Pair   1:   White foreground, Blue background.
Pair   2:   Black foreground, Red background.
Pair   3:   Yellow foreground, Red background.
Pair   4:   Blue foreground, Green background.
Pair   5:   Cyan foreground, Magenta background.
</pre>

<p>
And the code here appears formatted with the colors indicated.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-113-7" class="outline-4">
<h4 id="sec-18-113-7">Also See</h4>
<div class="outline-text-4" id="text-18-113-7">
<p>
<a href="#start_color"><code>start_color()</code></a>, <a href="#init_pair"><code>init_pair()</code></a>, <a href="#COLOR_PAIR"><code>COLOR_PAIRS</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-114" class="outline-3">
<h3 id="sec-18-114"><code>PAIR_NUMBER()</code>                                                    <a id="PAIR_NUMBER" name="PAIR_NUMBER"></a></h3>
<div class="outline-text-3" id="text-18-114">
<p>
The <code>PAIR_NUMBER()</code> pseudo function is used to return which color
pair is being used to format text.
</p>
</div>

<div id="outline-container-sec-18-114-1" class="outline-4">
<h4 id="sec-18-114-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-114-1">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-114-2" class="outline-4">
<h4 id="sec-18-114-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-114-2">
<div class="org-src-container">

<pre class="src src-c">PAIR_NUMBER(attr)
</pre>
</div>

<p>
<code>attr</code> is the value produced by the <code>COLOR_PAIR(n)</code>
attribute. It's the value used internally when NCurses builds
attribute information to be stored on the screen in the <code>chtype</code>
variable. (See <a href="#appendix_c">Appendix C</a>.)
</p>
</div>
</div>

<div id="outline-container-sec-18-114-3" class="outline-4">
<h4 id="sec-18-114-3">Return Value</h4>
<div class="outline-text-4" id="text-18-114-3">
<p>
The value returned by <code>PAIR_NUMBER()</code> is an int is equal to
whichever color pair number has been used to format the text and
background colors. Its range is between 0 and the value of
<code>COLOR_PAIRS</code>, minus 1.
</p>
</div>
</div>

<div id="outline-container-sec-18-114-4" class="outline-4">
<h4 id="sec-18-114-4">Notes</h4>
<div class="outline-text-4" id="text-18-114-4">
<p>
In reality, <code>COLOR_PAIR(n)</code> is simply a cluster of bits used in
the <code>chtype</code> value to define how a character in an NCurses window
is formatted. The <code>PAIR_NUMBER()</code> pseudo function simply extracts
the <code>COLOR_PAIR(n)</code> value, <code>n</code> itself, from that <code>chtype</code>
value. This is why it's often written that <code>PAIR_NUMBER()</code> is the
"opposite" of the <code>COLOR_PAIR(n)</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-114-5" class="outline-4">
<h4 id="sec-18-114-5">Examples</h4>
<div class="outline-text-4" id="text-18-114-5">
<div class="org-src-container">

<pre class="src src-c">n = PAIR_NUMBER(a)
</pre>
</div>

<p>
The value of variable a is equal to the value of a specific
<code>COLOR_PAIR(n)</code>.  The value returned in variable <code>n</code> will be the
same as a from <code>COLOR_PAIR(a)</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">x = PAIR_NUMBER(COLOR_PAIR(n));
</pre>
</div>

<p>
This statement is basically the same as <code>x = n</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-114-6" class="outline-4">
<h4 id="sec-18-114-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-114-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>,<span style="color: #eedd82;">p</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  start_color();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  init_pair(1,COLOR_RED,COLOR_WHITE);
<span class="linenr">11: </span>
<span class="linenr">12: </span>  c = COLOR_PAIR(1);
<span class="linenr">13: </span>  p = PAIR_NUMBER(c);
<span class="linenr">14: </span>  printw(<span style="color: #ffa07a;">"COLOR_PAIR(1) = %d\n"</span>,c);
<span class="linenr">15: </span>  printw(<span style="color: #ffa07a;">"PAIR_NUMBER(%d) = %d\n"</span>,c,p);
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>  getch();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  endwin();
<span class="linenr">20: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">21: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-114-6-1" class="outline-5">
<h5 id="sec-18-114-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-114-6-1">
<pre class="example">
COLOR_PAIR(1) = 256
PAIR_NUMBER(256) = 1
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-114-7" class="outline-4">
<h4 id="sec-18-114-7">Also See</h4>
<div class="outline-text-4" id="text-18-114-7">
<p>
<a href="#init_pair"><code>init_pair()</code></a>, <a href="#COLOR_PAIR"><code>COLOR_PAIR</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-115" class="outline-3">
<h3 id="sec-18-115"><code>pechochar()</code>                                                      <a id="pechochar" name="pechochar"></a></h3>
<div class="outline-text-3" id="text-18-115">
<p>
The <code>pechochar()</code> function is used to both put single characters to
a pad and display those characters on the standard screen.
</p>
</div>

<div id="outline-container-sec-18-115-1" class="outline-4">
<h4 id="sec-18-115-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-115-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">pechochar</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">pad</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-115-2" class="outline-4">
<h4 id="sec-18-115-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-115-2">
<p>
<code>pad</code> is the name of a <code>WINDOW</code> pointer, referencing a pad created
by the <code>newpad()</code> function.
</p>

<p>
<code>ch</code> is a <code>chtype</code> variable, a <code>long int</code> value. It can be a
single character or a combination character and formatting
attributes. See <a href="#appendix_c">Appendix C</a> for more information on <code>chtype</code>
characters.
</p>
</div>
</div>

<div id="outline-container-sec-18-115-3" class="outline-4">
<h4 id="sec-18-115-3">Return Value</h4>
<div class="outline-text-4" id="text-18-115-3">
<p>
<code>OK</code> on success, <code>ERR</code> on utter failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-115-4" class="outline-4">
<h4 id="sec-18-115-4">Notes</h4>
<div class="outline-text-4" id="text-18-115-4">
<p>
For the <code>pechochar()</code> function to work, a <code>prefresh()</code> function
must first be used. <code>prefresh()</code> defines both the area on the
standard screen where text appears as well as the part of the pad
to which text is written. See the "Sample Program" for more
information.
</p>

<p>
After <code>prefresh()</code> has been issued, then <code>pechochar()</code> can be used
to simultaneously put text to the pad and display that text on the
screen; no further calls to <code>prefresh()</code> are needed.
</p>

<p>
<code>pechochar()</code> advances the cursor's location on both the pad and
standard screen. It behaves exactly like the <code>addch()</code> function in
that respect.
</p>

<p>
The wide character version of this command is
<code>pecho_wchar()</code>. Here is the man page format:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">pecho_wchar</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">pad</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">cchar_t</span> *<span style="color: #eedd82;">wch</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-115-5" class="outline-4">
<h4 id="sec-18-115-5">Examples</h4>
<div class="outline-text-4" id="text-18-115-5">
<div class="org-src-container">

<pre class="src src-c">pechochar(p,c);
</pre>
</div>

<p>
The statement places the character represented by <code>c</code> onto pad
<code>p</code>, displaying that character on the standard screen.
</p>

<div class="org-src-container">

<pre class="src src-c">pechochar(xpad,<span style="color: #ffa07a;">'A'</span> | A_BOLD);
</pre>
</div>

<p>
Here, the statement places a bold letter A on pad <code>xpad</code> as well
as on the standard screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-115-6" class="outline-4">
<h4 id="sec-18-115-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-115-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">p</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">text</span>[] = <span style="color: #ffa07a;">"Greetings from pad p."</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">t</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  p = newpad(50,100);         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create a new pad </span><span style="color: #ff4500;">*/</span>
<span class="linenr">12: </span>  <span style="color: #00ffff;">if</span>( p == <span style="color: #7fffd4;">NULL</span> )
<span class="linenr">13: </span>    {
<span class="linenr">14: </span>      endwin();
<span class="linenr">15: </span>      puts(<span style="color: #ffa07a;">"Unable to create new pad"</span>);
<span class="linenr">16: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">17: </span>    }
<span class="linenr">18: </span>
<span class="linenr">19: </span>  t = text;
<span class="linenr">20: </span>  prefresh(p,0,0,0,0,1,25);
<span class="linenr">21: </span>  <span style="color: #00ffff;">while</span>(*t)
<span class="linenr">22: </span>    {
<span class="linenr">23: </span>      pechochar(p,*t);
<span class="linenr">24: </span>      t++;
<span class="linenr">25: </span>      napms(50);
<span class="linenr">26: </span>    }
<span class="linenr">27: </span>  wgetch(p);
<span class="linenr">28: </span>
<span class="linenr">29: </span>  endwin();
<span class="linenr">30: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">31: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-115-6-1" class="outline-5">
<h5 id="sec-18-115-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-115-6-1">
<pre class="example">
Greetings from pad p.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-115-7" class="outline-4">
<h4 id="sec-18-115-7">Also See</h4>
<div class="outline-text-4" id="text-18-115-7">
<p>
<a href="#addch"><code>addch()</code></a>, <a href="#newpad"><code>newpad()</code></a>, <a href="#prefresh"><code>prefresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-116" class="outline-3">
<h3 id="sec-18-116"><code>pnoutrefresh()</code>                                                   <a id="pnoutrefresh" name="pnoutrefresh"></a></h3>
<div class="outline-text-3" id="text-18-116">
<p>
The <code>pnoutrefresh()</code> function is analogous to the <code>wnoutrefresh()</code>
function, but for a pad instead of a window. It's used to optimize
the updating of multiple pads to the standard screen.
</p>
</div>

<div id="outline-container-sec-18-116-1" class="outline-4">
<h4 id="sec-18-116-1">Explanation</h4>
<div class="outline-text-4" id="text-18-116-1">
<p>
<code>pnoutrefresh()</code> can best be used when updating several pads on
the standard screen. Rather than using <code>prefresh()</code> on each pad,
you can use <code>pnoutrefresh()</code> on each pad, then a single
<code>doupate()</code> function to perform all the updates at once.
</p>
</div>
</div>

<div id="outline-container-sec-18-116-2" class="outline-4">
<h4 id="sec-18-116-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-116-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">pnoutrefresh</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">pad</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">pminrow</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">pmincol</span>,
                 <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">sminrow</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">smincol</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">smaxrow</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">smaxcol</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-116-3" class="outline-4">
<h4 id="sec-18-116-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-116-3">
<p>
Refer to the entry for <a href="#prefresh"><code>prefresh()</code></a> as the arguments are the same
for both.
</p>
</div>
</div>

<div id="outline-container-sec-18-116-4" class="outline-4">
<h4 id="sec-18-116-4">Return Value</h4>
<div class="outline-text-4" id="text-18-116-4">
<p>
<code>OK</code> on success; <code>ERR</code> when things get fouled up.
</p>
</div>
</div>

<div id="outline-container-sec-18-116-5" class="outline-4">
<h4 id="sec-18-116-5">Notes</h4>
<div class="outline-text-4" id="text-18-116-5">
<p>
Internally, the <code>prefresh()</code> function is composed of a
<code>pnoutfresh()</code> function followed by a call to <code>doupdate()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-116-6" class="outline-4">
<h4 id="sec-18-116-6">Example</h4>
<div class="outline-text-4" id="text-18-116-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr">1: </span>pnoutrefresh(p,0, 0, 0, 0, 23,19);
<span class="linenr">2: </span>pnoutrefresh(p,24, 0, 0,24,23,43);
<span class="linenr">3: </span>pnoutrefresh(p,48, 0, 0,48,23, 67);
<span class="linenr">4: </span>doupdate();
</pre>
</div>

<p>
The <code>pnoutrefresh()</code> functions update portions of the pad p to
various locations on the standard screen. The final <code>doupdate()</code>
function updates the screen with the information.
</p>
</div>
</div>

<div id="outline-container-sec-18-116-7" class="outline-4">
<h4 id="sec-18-116-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-116-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">pad</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">a</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  pad = newpad(40,100);
<span class="linenr">11: </span>  <span style="color: #00ffff;">if</span>(pad == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">12: </span>    {
<span class="linenr">13: </span>      endwin();
<span class="linenr">14: </span>      puts(<span style="color: #ffa07a;">"Problem creating pad"</span>);
<span class="linenr">15: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">16: </span>    }
<span class="linenr">17: </span>
<span class="linenr">18: </span>  <span style="color: #00ffff;">for</span>(a=0;a&lt;4000;a++)
<span class="linenr">19: </span>    {
<span class="linenr">20: </span>      waddch(pad,<span style="color: #ffa07a;">'A'</span> + (a % 26));
<span class="linenr">21: </span>    }
<span class="linenr">22: </span>
<span class="linenr">23: </span>  prefresh(pad,0,0,7,30,17,50);
<span class="linenr">24: </span>  wgetch(pad);
<span class="linenr">25: </span>
<span class="linenr">26: </span>  mvwaddstr(pad,1,0,<span style="color: #ffa07a;">"Hello, there!"</span>);
<span class="linenr">27: </span>  pnoutrefresh(pad,0,0,7,30,17,50);
<span class="linenr">28: </span>  doupdate();
<span class="linenr">29: </span>  wgetch(pad);
<span class="linenr">30: </span>
<span class="linenr">31: </span>  endwin();
<span class="linenr">32: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">33: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-116-7-1" class="outline-5">
<h5 id="sec-18-116-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-116-7-1">
<p>
The output is the same as shown for <code>prefresh()</code> below, though
after pressing the Enter key, the text <code>Hello, there!</code> appears on
the second line.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-116-8" class="outline-4">
<h4 id="sec-18-116-8">Also See</h4>
<div class="outline-text-4" id="text-18-116-8">
<p>
<a href="#newpad"><code>newpad()</code></a>, <a href="#prefresh"><code>prefresh()</code></a>, <a href="#doupdate"><code>doupdate()</code></a>, <a href="#wnoutrefresh"><code>wnoutrefresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-117" class="outline-3">
<h3 id="sec-18-117"><code>prefresh()</code>                                                       <a id="prefresh" name="prefresh"></a></h3>
<div class="outline-text-3" id="text-18-117">
<p>
The <code>prefresh()</code> function is used to display information stored in
a pad structure to a window.
</p>
</div>

<div id="outline-container-sec-18-117-1" class="outline-4">
<h4 id="sec-18-117-1">Explanation</h4>
<div class="outline-text-4" id="text-18-117-1">
<p>
Pads work like windows, though they're not displayed on the
screen. To see the information put to a pad, the <code>prefresh()</code>
function is used. Unlike the <code>refresh()</code> function, <code>prefresh()</code>
takes a rectangle of text (and attributes) from the pad and places
it in a window. This is how information from a pad is displayed.
</p>
</div>
</div>

<div id="outline-container-sec-18-117-2" class="outline-4">
<h4 id="sec-18-117-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-117-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">prefresh</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">pad</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">pminrow</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">pmincol</span>,
             <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">sminrow</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">smincol</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">smaxrow</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">smaxcol</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-117-3" class="outline-4">
<h4 id="sec-18-117-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-117-3">
<p>
<code>pad</code> is the name of a pad, a <code>WINDOW</code> pointer returned from the
<code>newpad()</code> function.
</p>

<p>
<code>pminrow</code> and <code>pmincol</code> are <code>int</code> values represents the upper-left
(<code>Y</code> and <code>X</code>) coordinates of a rectangle of text on the pad.
</p>

<p>
<code>sminrow</code> and <code>smincol</code> are <code>int</code> values representing the
upper-left (Y and X) coordinates of a rectangle of text on the
standard screen. This location is where the text from the pad will
be placed.
</p>

<p>
<code>smaxrow</code> and <code>smaxcol</code> represent the lower-right (Y and X)
coordinate of the rectangle on the standard screen. These are
<code>int</code> values and they are relative to the home location, not to
<code>sminrow</code> and <code>smincol</code>. The differences between the upper-left
and lower-right coordinates on the screen are also used to
calculate the size of the rectangle copied from the pad.
</p>
</div>
</div>

<div id="outline-container-sec-18-117-4" class="outline-4">
<h4 id="sec-18-117-4">Return Value</h4>
<div class="outline-text-4" id="text-18-117-4">
<p>
<code>OK</code> or <code>ERR</code> depending on success or failure of the call.
</p>
</div>
</div>

<div id="outline-container-sec-18-117-5" class="outline-4">
<h4 id="sec-18-117-5">Notes</h4>
<div class="outline-text-4" id="text-18-117-5">
<p>
<code>prefresh()</code> always outputs text to the standard screen.
</p>

<p>
The <code>prefresh()</code> function updates the standard screen; there is no
need to call <code>refresh()</code> after <code>prefresh()</code> to see the text.
</p>

<p>
You cannot <code>prefresh()</code> a rectangle from the pad that is larger
than the standard screen (or larger than the pad, for that
matter).
</p>
</div>
</div>

<div id="outline-container-sec-18-117-6" class="outline-4">
<h4 id="sec-18-117-6">Examples</h4>
<div class="outline-text-4" id="text-18-117-6">
<div class="org-src-container">

<pre class="src src-c">prefresh(p,0,0,0,0,10,35);
</pre>
</div>

<p>
The statement here places part of the pad p on the standard
screen. The text from the pad starts at location 0, 0. The
rectangle on the standard screen starts at location 0, 0, and it
is 10 rows deep by 35 columns wide.
</p>

<div class="org-src-container">

<pre class="src src-c">prefresh(psto,py,px,10,5,11,75);
</pre>
</div>

<p>
Here, text from the pad <code>psto</code> is read from starting location
<code>py</code>, <code>px</code>, and placed on the screen at location 10, 5. The
rectangle is 1 row high and 70 characters wide.
</p>
</div>
</div>

<div id="outline-container-sec-18-117-7" class="outline-4">
<h4 id="sec-18-117-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-117-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">pad</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">a</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  pad = newpad(40,100);
<span class="linenr">11: </span>  <span style="color: #00ffff;">if</span>(pad == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">12: </span>    {
<span class="linenr">13: </span>      endwin();
<span class="linenr">14: </span>      puts(<span style="color: #ffa07a;">"Problem creating pad"</span>);
<span class="linenr">15: </span>      <span style="color: #00ffff;">return</span>(1);
<span class="linenr">16: </span>    }
<span class="linenr">17: </span>
<span class="linenr">18: </span>  <span style="color: #00ffff;">for</span>(a=0;a&lt;4000;a++)
<span class="linenr">19: </span>    {
<span class="linenr">20: </span>      waddch(pad,<span style="color: #ffa07a;">'A'</span> + (a % 26));
<span class="linenr">21: </span>    }
<span class="linenr">22: </span>
<span class="linenr">23: </span>  prefresh(pad,0,0,7,30,17,50);
<span class="linenr">24: </span>  wgetch(pad);
<span class="linenr">25: </span>
<span class="linenr">26: </span>  endwin();
<span class="linenr">27: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">28: </span>}
</pre>
</div>

<p>
The sample output is shown in <a href="#Figure-A-9">Figure A-9</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-9" name="Figure-A-9">Figure A-9</a> </dt><dd>A square chunk of the pad appears on the
terminal screen.


<div class="figure">
<p><img src="img/FigureA-9.jpg" alt="FigureA-9.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-117-8" class="outline-4">
<h4 id="sec-18-117-8">Also See</h4>
<div class="outline-text-4" id="text-18-117-8">
<p>
<a href="#chapter_11">Chapter 11</a>, <a href="#newpad"><code>newpad()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-118" class="outline-3">
<h3 id="sec-18-118"><code>printw()</code>                                                         <a id="printw" name="printw"></a></h3>
<div class="outline-text-3" id="text-18-118">
<p>
The <code>printw()</code> function is the NCurses equivalent to the standard C
<code>printf()</code> function. Use <code>printw()</code> in your NCurses programs when
you need <code>printf()</code>.
</p>
</div>

<div id="outline-container-sec-18-118-1" class="outline-4">
<h4 id="sec-18-118-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-118-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">printw</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">fmt</span>, ...);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">wprintw</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">fmt</span>, ...);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvprintw</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">fmt</span>, ...);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwprintw</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">fmt</span>, ...);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">vw_printw</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">fmt</span>, <span style="color: #98fb98;">va_list</span> <span style="color: #eedd82;">varglist</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">vwprintw</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">fmt</span>, <span style="color: #98fb98;">va_list</span> <span style="color: #eedd82;">varglist</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-118-2" class="outline-4">
<h4 id="sec-18-118-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-118-2">
<p>
The format for <code>printw()</code> is identical to <code>printf()</code>. <code>fmt</code> is a
formatting string that defines text to be output. The string can
contain text, escape characters, and replaceable parameters. <code>fmt</code>
is followed by a list of variables that are displayed by the
replaceable parameters.
</p>

<p>
Refer to the entries for <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and <a href="#w_prefix"><code>w</code></a> elsewhere in this
appendix for information on the <code>w</code>, <code>mv</code>, and <code>mvw</code> variations to
this function.
</p>

<p>
The <code>vwprintw()</code> functions are the NCurses versions of the
<code>vprintf()</code> function, where <code>varglist</code> is a <code>va_list</code> (for
example, a pointer) representing variable arguments. Refer to the
man page for <code>vprintf()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-118-3" class="outline-4">
<h4 id="sec-18-118-3">Return Value</h4>
<div class="outline-text-4" id="text-18-118-3">
<p>
<code>ERR</code> on failure, <code>OK</code> or any <code>int</code> value other than <code>ERR</code> on
success.
</p>
</div>
</div>

<div id="outline-container-sec-18-118-4" class="outline-4">
<h4 id="sec-18-118-4">Notes</h4>
<div class="outline-text-4" id="text-18-118-4">
<p>
Internally, NCurses calls the <code>sprintf()</code> or <code>vsprintf()</code>
functions to do the evaluation and text formatting for
<code>printw()</code>. The output is done through the <code>addstr()</code> function and
therefore all the notes for <code>addstr()</code> also apply to <code>printw()</code>.
</p>

<p>
A variable argument version of <code>printw()</code>, analogous to
<code>vsprintf()</code>, is <code>vw_printw()</code>. Here is the man page format:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">vw_printw</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">fmt</span>, <span style="color: #98fb98;">va_list</span> <span style="color: #eedd82;">varglist</span>);
</pre>
</div>

<p>
The older version of <code>vw_printw()</code> was <code>vwprintw()</code>. It carries
the same format as <code>vw_printw()</code> but has been deprecated.
</p>
</div>
</div>

<div id="outline-container-sec-18-118-5" class="outline-4">
<h4 id="sec-18-118-5">Examples</h4>
<div class="outline-text-4" id="text-18-118-5">
<div class="org-src-container">

<pre class="src src-c">printw(<span style="color: #ffa07a;">"Pleased to meet you, %s %s!"</span>,first,last);
</pre>
</div>

<p>
Here, the statement displays on the standard screen the text
<code>Pleased to meet you</code> followed by the strings represented by
<code>first</code> and <code>last</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">wprintw(test,<span style="color: #ffa07a;">"_maxx = %d, _maxy = %d\n"</span>,test-&gt;_maxx,test-&gt;_maxy);
</pre>
</div>

<p>
The statement displays the values of <code>_maxx</code> and <code>_maxy</code> for the
window <code>test</code> on the window <code>test</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">mvprintw(11,COL2, <span style="color: #ffa07a;">"%-30s"</span>, <span style="color: #ffa07a;">"October 19, 1993"</span>);
</pre>
</div>

<p>
Here, the statement displays at row 11 and the column indicated by
<code>COL2</code>, the text <code>October 19, 1993</code> right-justified in a column 30
characters wide.
</p>
</div>
</div>

<div id="outline-container-sec-18-118-6" class="outline-4">
<h4 id="sec-18-118-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-118-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">yoda</span> = 874,<span style="color: #eedd82;">ss</span> = 65;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  printw(<span style="color: #ffa07a;">"Yoda is %d years old\n"</span>,yoda);
<span class="linenr">10: </span>  printw(<span style="color: #ffa07a;">"He has collected %d years\n"</span>,yoda-ss);
<span class="linenr">11: </span>  printw(<span style="color: #ffa07a;">"of Social Security."</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  endwin();
<span class="linenr">16: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">17: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-118-6-1" class="outline-5">
<h5 id="sec-18-118-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-118-6-1">
<pre class="example">
Yoda is 874 years old
He has collected 809 years
of Social Security.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-118-7" class="outline-4">
<h4 id="sec-18-118-7">Also See</h4>
<div class="outline-text-4" id="text-18-118-7">
<p>
<a href="#chapter_2">Chapter 2</a>, <a href="#addstr"><code>addstr()</code></a>, <a href="#scanw"><code>scanw()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-119" class="outline-3">
<h3 id="sec-18-119"><code>putwin()</code>                                                         <a id="putwin" name="putwin"></a></h3>
<div class="outline-text-3" id="text-18-119">
<p>
The <code>putwin()</code> function saves a window's data to a formatted file
on disk. All window information is saved: size, text, attributes,
and so forth.
</p>
</div>

<div id="outline-container-sec-18-119-1" class="outline-4">
<h4 id="sec-18-119-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-119-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">putwin</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">FILE</span> *<span style="color: #eedd82;">filep</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-119-2" class="outline-4">
<h4 id="sec-18-119-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-119-2">
<p>
<code>win</code> is the name of a <code>WINDOW</code> variable representing the window to
save to disk.
</p>

<p>
<code>filep</code> is a <code>FILE</code> pointer representing a file open for writing.
</p>
</div>
</div>

<div id="outline-container-sec-18-119-3" class="outline-4">
<h4 id="sec-18-119-3">Return Value</h4>
<div class="outline-text-4" id="text-18-119-3">
<p>
<code>ERR</code> on failure, or <code>OK</code> (or a value other than <code>ERR</code>) on
success.
</p>
</div>
</div>

<div id="outline-container-sec-18-119-4" class="outline-4">
<h4 id="sec-18-119-4">Notes</h4>
<div class="outline-text-4" id="text-18-119-4">
<p>
The <code>getwin()</code> function is used to read a window data file
previously saved to disk by <code>putwin()</code>. See <a href="#getwin"><code>getwin()</code></a>.
</p>

<p>
The file saved to disk starts with a <code>WINDOW</code> structure header and
then contains <code>chtype</code>-like data for each character in the
window. As saved to disk, each character in the window occupies 16
bytes.
</p>
</div>
</div>

<div id="outline-container-sec-18-119-5" class="outline-4">
<h4 id="sec-18-119-5">Example</h4>
<div class="outline-text-4" id="text-18-119-5">
<div class="org-src-container">

<pre class="src src-c">putwin(help,hfile);
</pre>
</div>

<p>
The statement saves information about and contents of the window
<code>help</code> to a file referenced by <code>hfile</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-119-6" class="outline-4">
<h4 id="sec-18-119-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-119-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">FILENAME</span> <span style="color: #ffa07a;">"window.dat"</span>
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>);
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 9: </span>{
<span class="linenr">10: </span>  <span style="color: #98fb98;">FILE</span> *<span style="color: #eedd82;">wfile</span>;
<span class="linenr">11: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>;
<span class="linenr">12: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>;
<span class="linenr">13: </span>
<span class="linenr">14: </span>  initscr();
<span class="linenr">15: </span>  start_color();
<span class="linenr">16: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">17: </span>
<span class="linenr">18: </span>  addstr(<span style="color: #ffa07a;">"Creating new window\n"</span>);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>
<span class="linenr">21: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Crete the window </span><span style="color: #ff4500;">*/</span>
<span class="linenr">22: </span>  win = newwin(5,20,7,30);
<span class="linenr">23: </span>  <span style="color: #00ffff;">if</span>(win == <span style="color: #7fffd4;">NULL</span>)
<span class="linenr">24: </span>    bomb(<span style="color: #ffa07a;">"Unable to create window\n"</span>);
<span class="linenr">25: </span>  wbkgd(win,COLOR_PAIR(1));
<span class="linenr">26: </span>  mvwaddstr(win,1,2,<span style="color: #ffa07a;">"This program was\n"</span>);
<span class="linenr">27: </span>  mvwaddstr(win,2,5,<span style="color: #ffa07a;">"created by\n"</span>);
<span class="linenr">28: </span>  mvwaddstr(win,3,5,<span style="color: #ffa07a;">"Dan Gookin\n"</span>);          <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">put your name here </span><span style="color: #ff4500;">*/</span>
<span class="linenr">29: </span>  wrefresh(win);
<span class="linenr">30: </span>  getch();
<span class="linenr">31: </span>
<span class="linenr">32: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">open the file </span><span style="color: #ff4500;">*/</span>
<span class="linenr">33: </span>  wfile = fopen(FILENAME,<span style="color: #ffa07a;">"w"</span>);
<span class="linenr">34: </span>  <span style="color: #00ffff;">if</span>( wfile==<span style="color: #7fffd4;">NULL</span>)
<span class="linenr">35: </span>    bomb(<span style="color: #ffa07a;">"Error creating file\n"</span>);
<span class="linenr">36: </span>
<span class="linenr">37: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">write the window's data </span><span style="color: #ff4500;">*/</span>
<span class="linenr">38: </span>  r = putwin(win,wfile);
<span class="linenr">39: </span>  <span style="color: #00ffff;">if</span>( r == ERR)
<span class="linenr">40: </span>    addstr(<span style="color: #ffa07a;">"Error putting window to disk\n"</span>);
<span class="linenr">41: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">42: </span>    addstr(<span style="color: #ffa07a;">"Window put to disk\n"</span>);
<span class="linenr">43: </span>  fclose(wfile);
<span class="linenr">44: </span>  refresh();
<span class="linenr">45: </span>  getch();
<span class="linenr">46: </span>
<span class="linenr">47: </span>  endwin();
<span class="linenr">48: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">49: </span>}
<span class="linenr">50: </span>
<span class="linenr">51: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>)
<span class="linenr">52: </span>{
<span class="linenr">53: </span>  endwin();
<span class="linenr">54: </span>  puts(message);
<span class="linenr">55: </span>  exit(1);
<span class="linenr">56: </span>}
</pre>
</div>

<p>
The sample output is shown in <a href="#Figure-A-10">Figure A-10</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-10" name="Figure-A-10">Figure A-10</a> </dt><dd>This window is saved to disk.


<div class="figure">
<p><img src="img/FigureA-10.jpg" alt="FigureA-10.jpg" />
</p>
</div>
</dd>
</dl>

<p>
Refer to the entry for <a href="#getwin"><code>getwin()</code></a> for a sample program that loads
in the window image.
</p>
</div>
</div>

<div id="outline-container-sec-18-119-7" class="outline-4">
<h4 id="sec-18-119-7">Also See</h4>
<div class="outline-text-4" id="text-18-119-7">
<p>
<a href="#chapter_14">Chapter 14</a>, <a href="#getwin"><code>getwin()</code></a>, <a href="#scr_dump"><code>scr_dump()</code></a>, <a href="#scr_restore"><code>scr_restore()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-120" class="outline-3">
<h3 id="sec-18-120"><code>qiflush()</code>                                                        <a id="qiflush" name="qiflush"></a></h3>
<div class="outline-text-3" id="text-18-120">
<p>
The <code>qiflush()</code> and <code>noqiflush()</code> function control whether or not
the keyboard input buffer is flushed when the Interrupt, Quit, or
Suspend keys are used.
</p>
</div>

<div id="outline-container-sec-18-120-1" class="outline-4">
<h4 id="sec-18-120-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-120-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">qiflush</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">noqiflush</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-120-2" class="outline-4">
<h4 id="sec-18-120-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-120-2">
<p>
The functions take no arguments.
</p>

<p>
The <code>qiflush()</code> function directs NCurses to flush any text waiting
in the input queue whenever the Interrupt, Quit, or Suspend keys
are pressed.
</p>

<p>
The <code>noqiflush()</code> function directs NCurses to retain whatever text
is in the buffer, which is typically flushed out at the next
command prompt.
</p>
</div>
</div>

<div id="outline-container-sec-18-120-3" class="outline-4">
<h4 id="sec-18-120-3">Return Value</h4>
<div class="outline-text-4" id="text-18-120-3">
<p>
<code>OK</code> upon success; <code>ERR</code> on failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-120-4" class="outline-4">
<h4 id="sec-18-120-4">Notes</h4>
<div class="outline-text-4" id="text-18-120-4">
<p>
<a href="#Table-A-14">Table A-14</a> explains the Interrupt, Quit, and Suspend keys.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-14" name="Table-A-14">Table A-14</a> </dt><dd>Interrupt, Quit, and Suspend Explained

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">KEY FUNCTION</th>
<th scope="col" class="left">NAME</th>
<th scope="col" class="left">KEY(S)</th>
<th scope="col" class="left">ASCII</th>
<th scope="col" class="left">FUNCTION</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Interrupt</td>
<td class="left"><code>INTR</code></td>
<td class="left"><code>^C</code></td>
<td class="left"><code>0x03</code></td>
<td class="left">Halt the program (<code>SIGINT</code>)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Quit</td>
<td class="left"><code>QUIT</code></td>
<td class="left"><code>^\</code></td>
<td class="left"><code>0x1c</code></td>
<td class="left">Halts the program (<code>SIGQUIT</code>)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Suspend</td>
<td class="left"><code>SUSP</code></td>
<td class="left"><code>^Z</code></td>
<td class="left"><code>0x1a</code></td>
<td class="left">Immediately stops program and sends it into the background (<code>SIGTSTP</code>)</td>
</tr>
</tbody>
</table>
</dd>
</dl>


<p>
The terminal's initial state determines whether <code>qiflush()</code> or
<code>noqiflush()</code> is the norm for NCurses. You can use the <code>stty -a</code>
command to check for your terminal: the <code>noflsh</code> and <code>-noflush</code>
lflags disable or enable flush after <code>INTR</code>, <code>QUIT</code>, <code>SUSP</code>,
respectively.
</p>
</div>
</div>

<div id="outline-container-sec-18-120-5" class="outline-4">
<h4 id="sec-18-120-5">Examples</h4>
<div class="outline-text-4" id="text-18-120-5">
<div class="org-src-container">

<pre class="src src-c">qiflush();
</pre>
</div>

<p>
The statement causes any text left in the input queue to be
flushed when the Interrupt, Quit, or Suspend keys are pressed.
</p>

<div class="org-src-container">

<pre class="src src-c">noqiflush();
</pre>
</div>

<p>
If the Interrupt, Quit, or Suspend keys are pressed after this
command is issued, then any text remaining in the input queue
stays there, only to be dumped out at the next opportunity.
</p>
</div>
</div>

<div id="outline-container-sec-18-120-6" class="outline-4">
<h4 id="sec-18-120-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-120-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">buffer</span>[81];
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  noqiflush();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"Type on the keyboard whilst I wait...\n"</span>);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  napms(5000);            <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">5 seconds </span><span style="color: #ff4500;">*/</span>
<span class="linenr">13: </span>
<span class="linenr">14: </span>  addstr(<span style="color: #ffa07a;">"Here is what you typed:\n"</span>);
<span class="linenr">15: </span>  getnstr(buffer,80);
<span class="linenr">16: </span>  refresh();
<span class="linenr">17: </span>
<span class="linenr">18: </span>  endwin();
<span class="linenr">19: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">20: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-120-6-1" class="outline-5">
<h5 id="sec-18-120-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-120-6-1">
<pre class="example">
Type on the keyboard whilst I wait...
</pre>

<p>
Type something, then press Ctrl+Z. The Ctrl+Z suspends the
program, placing it into the background. Any text you typed
appears on the command prompt because <code>noqiflsh()</code> prevented it
from being flushed. Type <code>fg</code> to return to the program.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-120-7" class="outline-4">
<h4 id="sec-18-120-7">Also See</h4>
<div class="outline-text-4" id="text-18-120-7">
<p>
<a href="#flushinp"><code>flushinp()</code></a>, <a href="#intrflush"><code>intrflush()</code></a>, <a href="#typeahead"><code>typeahead()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-121" class="outline-3">
<h3 id="sec-18-121"><code>raw()</code>                                                            <a id="raw" name="raw"></a></h3>
<div class="outline-text-3" id="text-18-121">
<p>
The <code>raw()</code> function removes any modifications done by the terminal
to input, allowing your program to read input in the <i>un-cooked</i> or
<i>raw</i> mode. The companion <code>noraw()</code> function ensures that cooked
mode, not raw, is enforced in NCurses.
</p>
</div>

<div id="outline-container-sec-18-121-1" class="outline-4">
<h4 id="sec-18-121-1">Explanation</h4>
<div class="outline-text-4" id="text-18-121-1">
<p>
Normally the terminal has some control over input that's passed to
your program. For example, your terminal's Killchar, Erase,
Interrupt, and other special keys can also be used in your
program. By using the <code>raw()</code> function, you can disable all that
interception, allowing your program to receive all keyboard input.
</p>
</div>
</div>

<div id="outline-container-sec-18-121-2" class="outline-4">
<h4 id="sec-18-121-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-121-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">raw</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">noraw</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-121-3" class="outline-4">
<h4 id="sec-18-121-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-121-3">
<p>
The <code>raw()</code> command activates raw mode.
</p>

<p>
The <code>noraw()</code> command restores cooked input mode (normal).
</p>
</div>
</div>

<div id="outline-container-sec-18-121-4" class="outline-4">
<h4 id="sec-18-121-4">Return Value</h4>
<div class="outline-text-4" id="text-18-121-4">
<p>
<code>OK</code> upon success, <code>ERR</code> upon failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-121-5" class="outline-4">
<h4 id="sec-18-121-5">Notes</h4>
<div class="outline-text-4" id="text-18-121-5">
<p>
The raw mode disables any keyboard buffering done by the terminal,
which in effect allows characters to be read more
quickly. However, if this is all you're after, I recommend using
<code>cbreak()</code> instead of <code>raw()</code>.
</p>

<p>
Raw mode specifically ignores the Interrupt, Quit, Suspend,
Killchar, Erasechar, and flow control characters. Knowing which
keys are which depends on how your terminal is configured. (Use
the command <code>stty -a</code> to determine which keys your terminal uses.)
<a href="#Table-A-15">Table A-15</a> lists common values.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-15" name="Table-A-15">Table A-15</a> </dt><dd>Keys and codes ignored in raw mode

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">KEY FUNCTION</th>
<th scope="col" class="left">NAME</th>
<th scope="col" class="left">KEY(S)</th>
<th scope="col" class="left">ASCII</th>
<th scope="col" class="left">FUNCTION</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Delayed Suspend</td>
<td class="left"><code>DSUSP</code></td>
<td class="left"><code>^Y</code></td>
<td class="left"><code>0x19</code></td>
<td class="left">Stops program when character is read (<code>SIGTSTP</code>)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Erasechar</td>
<td class="left"><code>ERASE</code></td>
<td class="left"><code>^?</code></td>
<td class="left"><code>0x7F</code></td>
<td class="left">Back up and erase</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left"><code>^H</code></td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Flow control</td>
<td class="left"><code>STOP</code></td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>START</code></td>
<td class="left"><code>^S</code></td>
<td class="left">&#xa0;</td>
<td class="left"><code>^S</code> pauses text output,</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left"><code>^Q</code></td>
<td class="left"><code>0x13</code></td>
<td class="left"><code>^Q</code> restarts</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left"><code>0x11</code></td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Interrupt</td>
<td class="left"><code>INTR</code></td>
<td class="left"><code>^C</code></td>
<td class="left"><code>0x03</code></td>
<td class="left">Halt the program (<code>SIGINT</code>)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Killchar</td>
<td class="left"><code>KILL</code></td>
<td class="left"><code>^U</code></td>
<td class="left"><code>0x15</code></td>
<td class="left">Erases the input line, from cursor position to the line start</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Quit</td>
<td class="left"><code>QUIT</code></td>
<td class="left"><code>^\</code></td>
<td class="left"><code>0x1c</code></td>
<td class="left">Halts the program (<code>SIGQUIT</code>)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">Suspend</td>
<td class="left"><code>SUSP</code></td>
<td class="left"><code>^Z</code></td>
<td class="left"><code>0x1a</code></td>
<td class="left">Immediately stops program and sends it into the background (<code>SIGTSTP</code>)</td>
</tr>
</tbody>
</table>
</dd>
</dl>



<p>
If your keyboard has a Break key, then raw mode may or may not
affect it, depending on how the key is mapped.
</p>

<dl class="org-dl">
<dt> NOTE </dt><dd>Because raw mode ignores the Quit and Suspend keys, be
extra careful! Unlike other NCurses programs, when
<code>raw()</code> is active you cannot "break out" by pressing
Ctrl+C or Ctrl+\. When a program runs amok in raw mode,
the only way to kill it is with the <code>kill</code> command from
another terminal window.
</dd>
</dl>


<p>
The <code>cbreak()</code> setting overrides <code>raw()</code>. See <a href="#cbreak"><code>cbreak()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-121-6" class="outline-4">
<h4 id="sec-18-121-6">Examples</h4>
<div class="outline-text-4" id="text-18-121-6">
<div class="org-src-container">

<pre class="src src-c">raw()
</pre>
</div>

<p>
Here, raw mode is set for the program.
</p>

<div class="org-src-container">

<pre class="src src-c">noraw()
</pre>
</div>

<p>
Here, the raw mode is cancelled.
</p>
</div>
</div>

<div id="outline-container-sec-18-121-7" class="outline-4">
<h4 id="sec-18-121-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-121-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 6: </span>  initscr();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  raw();
<span class="linenr"> 9: </span>  mvaddstr(0,0,<span style="color: #ffa07a;">"Type away, raw mode is on:"</span>);
<span class="linenr">10: </span>  <span style="color: #00ffff;">while</span>( getch() != <span style="color: #ffa07a;">'\n'</span>)
<span class="linenr">11: </span>    ;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  noraw();
<span class="linenr">14: </span>  mvaddstr(3,0,<span style="color: #ffa07a;">"Type away, raw mode is off:"</span>);
<span class="linenr">15: </span>  <span style="color: #00ffff;">while</span>( getch() != <span style="color: #ffa07a;">'\n'</span>)
<span class="linenr">16: </span>    ;
<span class="linenr">17: </span>
<span class="linenr">18: </span>  endwin();
<span class="linenr">19: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">20: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-121-7-1" class="outline-5">
<h5 id="sec-18-121-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-121-7-1">
<pre class="example">
Type away, raw mode is on:
</pre>

<p>
Try any of the keys listed in the above table: Ctrl+Z, Ctrl+C,
Ctrl+U. You'll see them display <code>^Z</code>, <code>^C</code>, <code>^U</code> instead of
performing their normal terminal functions. Press Enter to end
the line.
</p>

<pre class="example">
Type away, raw mode is off:
</pre>

<p>
Typing works as in the terminal. Keys from the above table
perform their regular actions.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-121-8" class="outline-4">
<h4 id="sec-18-121-8">Also See</h4>
<div class="outline-text-4" id="text-18-121-8">
<p>
<a href="#cbreak"><code>cbreak()</code></a>, <a href="#halfdelay"><code>halfdelay()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-122" class="outline-3">
<h3 id="sec-18-122"><code>redrawwin()</code>                                                      <a id="redrawwin" name="redrawwin"></a></h3>
<div class="outline-text-3" id="text-18-122">
<p>
The <code>redrawwin()</code> function is used to help force an update of the
terminal window when the contents of a window may be corrupted or
in need of a complete refresh.
</p>
</div>

<div id="outline-container-sec-18-122-1" class="outline-4">
<h4 id="sec-18-122-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-122-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">redrawwin</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-122-2" class="outline-4">
<h4 id="sec-18-122-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-122-2">
<p>
<code>win</code> is the name of a window to update. It's a <code>WINDOW</code> variable
representing a window on the screen, or <code>stdscr</code> for the standard
screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-122-3" class="outline-4">
<h4 id="sec-18-122-3">Return Value</h4>
<div class="outline-text-4" id="text-18-122-3">
<p>
<code>ERR</code> on failure, <code>OK</code> or some value other than <code>ERR</code> when things
go well.
</p>
</div>
</div>

<div id="outline-container-sec-18-122-4" class="outline-4">
<h4 id="sec-18-122-4">Notes</h4>
<div class="outline-text-4" id="text-18-122-4">
<p>
This function is equivalent to <code>wredrawln(win,0,n)</code>, where <code>win</code>
is the name of the window and <code>n</code> is the window's bottom row.
</p>

<p>
<code>wredrawwin()</code> works by telling NCurses to discard its
corresponding data in the current screen, so it is forced to
recompute when refreshing that window.
</p>

<p>
Refer to the entry for <a href="#wredrawln"><code>wredrawln()</code></a> for more information and
notes about this function.
</p>
</div>
</div>

<div id="outline-container-sec-18-122-5" class="outline-4">
<h4 id="sec-18-122-5">Example</h4>
<div class="outline-text-4" id="text-18-122-5">
<div class="org-src-container">

<pre class="src src-c">redrawwin(boy);
</pre>
</div>

<p>
The statement directs NCurses to completely update the contents of
the window boy.
</p>
</div>
</div>

<div id="outline-container-sec-18-122-6" class="outline-4">
<h4 id="sec-18-122-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-122-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">coffee</span>;
<span class="linenr"> 6: </span>  initscr();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  coffee = newwin(2,40,0,0);
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  waddstr(coffee,<span style="color: #ffa07a;">"I'm just an innocent little program,\n"</span>);
<span class="linenr">11: </span>  waddstr(coffee,<span style="color: #ffa07a;">"minding my own business..."</span>);
<span class="linenr">12: </span>  wmove(coffee,0,0);
<span class="linenr">13: </span>  wrefresh(coffee);
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  system(<span style="color: #ffa07a;">"echo \"RANDOM DATA\" &gt; `tty`"</span>);
<span class="linenr">17: </span>  getch();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  wredrawln(coffee,0,1);
<span class="linenr">20: </span>  wrefresh(coffee);
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  endwin();
<span class="linenr">24: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">25: </span>}
</pre>
</div>

<p>
Refer to the entry for <a href="#wredrawln"><code>wredrawln()</code></a> for sample output.
</p>
</div>
</div>

<div id="outline-container-sec-18-122-7" class="outline-4">
<h4 id="sec-18-122-7">Also See</h4>
<div class="outline-text-4" id="text-18-122-7">
<p>
<a href="#wredrawln"><code>wredrawln()</code></a>, <a href="#refresh"><code>refresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-123" class="outline-3">
<h3 id="sec-18-123"><code>refresh()</code>                                                        <a id="refresh" name="refresh"></a></h3>
<div class="outline-text-3" id="text-18-123">
<p>
The <code>refresh()</code> function is used to update the screen in
NCurses. Most NCurses output functions require that <code>refresh()</code> be
used so that you can see the output on the terminal display.
</p>
</div>

<div id="outline-container-sec-18-123-1" class="outline-4">
<h4 id="sec-18-123-1">Explanation</h4>
<div class="outline-text-4" id="text-18-123-1">
<p>
In NCurses, there is the virtual window that exists in memory and
then the current screen, which is what's shown on the screen. What
the <code>refresh()</code> function does is to check to see which parts of a
window have been <i>touched</i> (changed) since the last <code>refresh()</code>,
then those parts of the window are written to the current screen
during the next <code>refresh()</code> operation.
</p>
</div>
</div>

<div id="outline-container-sec-18-123-2" class="outline-4">
<h4 id="sec-18-123-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-123-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">refresh</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wrefresh</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-123-3" class="outline-4">
<h4 id="sec-18-123-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-123-3">
<p>
The function has no arguments.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> entry elsewhere in this appendix for information
on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-123-4" class="outline-4">
<h4 id="sec-18-123-4">Return Value</h4>
<div class="outline-text-4" id="text-18-123-4">
<p>
<code>ERR</code> on failure, <code>OK</code> or a value other than <code>ERR</code> on success.
</p>
</div>
</div>

<div id="outline-container-sec-18-123-5" class="outline-4">
<h4 id="sec-18-123-5">Notes</h4>
<div class="outline-text-4" id="text-18-123-5">
<p>
Next to <code>getch()</code>, <code>refresh()</code> is the most often used function in
NCurses.
</p>

<p>
Internally, the <code>refresh()</code> function is a combination of
<code>wnoutrefresh()</code> and <code>doupdate()</code> calls.
</p>

<p>
It's possible that <code>refresh()</code> alone may not properly update the
screen. If so, consider using the <code>clearok()</code> function before
calling <code>refresh()</code>. Also see the <a href="#touchwin"><code>touchwin()</code></a> function.
</p>

<p>
When you are using the following combination:
</p>

<div class="org-src-container">

<pre class="src src-c">wrefresh(w);
getch();
</pre>
</div>

<p>
it's okay to replace it with:
</p>

<div class="org-src-container">

<pre class="src src-c">wgetch(w);
</pre>
</div>

<p>
which not only waits for a key to be pressed but updates the
window <code>w</code>.
</p>

<p>
You can avoid using <code>refresh()</code> by calling the <code>immedok()</code>
function with <code>TRUE</code> as the argument for a given window. If so,
all output to that window is immediately and automatically
refreshed. There is a performance trade off involved with all that
updating. See <a href="#immedok"><code>immedok()</code></a>.
</p>

<p>
It's possible to optimize screen output, especially when updating
multiple windows, by using the <code>wnoutrefresh()</code> function on each
window, then a single <code>doupdate()</code> function call to perform the
actual screen update. See <a href="#doupdate"><code>doupdate()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-123-6" class="outline-4">
<h4 id="sec-18-123-6">Examples</h4>
<div class="outline-text-4" id="text-18-123-6">
<div class="org-src-container">

<pre class="src src-c">refresh();
</pre>
</div>

<p>
The statement updates the standard screen with any information
waiting to be displayed.
</p>

<div class="org-src-container">

<pre class="src src-c">wrefresh(mini);
</pre>
</div>

<p>
The statement updates the window mini.
</p>
</div>
</div>

<div id="outline-container-sec-18-123-7" class="outline-4">
<h4 id="sec-18-123-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-123-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  addstr(<span style="color: #ffa07a;">"Goodbye, cruel C programming!"</span>);
<span class="linenr"> 7: </span>  refresh();
<span class="linenr"> 8: </span>  getch();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  endwin();
<span class="linenr">11: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">12: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-123-7-1" class="outline-5">
<h5 id="sec-18-123-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-123-7-1">
<pre class="example">
Goodbye, cruel C programming!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-123-8" class="outline-4">
<h4 id="sec-18-123-8">Also See</h4>
<div class="outline-text-4" id="text-18-123-8">
<p>
<a href="#chapter_8">Chapter 8</a>, <a href="#clearok"><code>clearok()</code></a>, <a href="#immedok"><code>immedok()</code></a>, <a href="#touchwin"><code>touchwin()</code></a>, <a href="#wnoutrefresh"><code>wnoutrefresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-124" class="outline-3">
<h3 id="sec-18-124"><code>ripoffline()</code>                                                     <a id="ripoffline" name="ripoffline"></a></h3>
<div class="outline-text-3" id="text-18-124">
<p>
The <code>ripoffline()</code> function creates a special one-line window at
the top or bottom of the terminal screen.
</p>
</div>

<div id="outline-container-sec-18-124-1" class="outline-4">
<h4 id="sec-18-124-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-124-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">ripoffline</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">line</span>, <span style="color: #98fb98;">int</span> (*<span style="color: #87cefa;">init</span>)(<span style="color: #98fb98;">WINDOW</span> *, <span style="color: #98fb98;">int</span>));
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-124-2" class="outline-4">
<h4 id="sec-18-124-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-124-2">
<p>
<code>line</code> is an <code>int</code> value, either positive or negative. When line
is positive, a single row is ripped from the top of the terminal
window. When <code>line</code> is negative, a single row is ripped from the
bottom of the terminal window.
</p>

<p>
<code>init</code> is the name of a function <code>ripoffline()</code> calls to create
the line. The function is called with two arguments: first a
pointer to a <code>WINDOW</code> structure representing the ripped-off line,
and second and <code>int</code> value representing the number of columns in
the ripped off line. (The number of rows is always 1.)  The
<code>WINDOW</code> and <code>int</code> values are passed by NCurses to your <code>init</code>
function. Your init function must return an <code>int</code> value.
</p>
</div>
</div>

<div id="outline-container-sec-18-124-3" class="outline-4">
<h4 id="sec-18-124-3">Return Value</h4>
<div class="outline-text-4" id="text-18-124-3">
<p>
Always <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-124-4" class="outline-4">
<h4 id="sec-18-124-4">Notes</h4>
<div class="outline-text-4" id="text-18-124-4">
<p>
The <code>ripoffline()</code> function must be used before <code>initscr()</code> or
<code>newterm()</code>.
</p>

<p>
You may call <code>ripoffline()</code> up to five times.
</p>

<p>
The function referenced in <code>ripoffline()</code> is responsible for
placing information inside the line. NCurses passes to your
function the name of the <code>WINDOW</code> variable used to reference the
line, plus the number of columns in the line. Your function can
use any of the standard NCurses text output functions to create
the line, referencing the <code>WINDOW</code> variable, of course. The only
two functions not allowed are <code>refresh()</code> and doupdate(). So be
sure to use a <code>wnoutrefresh()</code> command to help put the line's text
to the screen.
</p>

<p>
The size of the standard screen is reduced by one line for each
call made to <code>ripoffline()</code>. This reduces the value of <code>LINES</code> and
sets the standard screen's home cursor location down one row for
each new <code>ripoffline()</code> window created at the top of the screen.
</p>

<p>
The line ripped off can be referenced elsewhere in your NCurses
program.  To do so, save the <code>WINDOW</code> pointer to a global variable
inside the <code>init</code> function. Once saved, you can use that global
variable to reference the ripped-off line elsewhere in the
program, updating the line via <code>wrefresh()</code> just as you would any
other window.
</p>

<p>
<code>ripoffline()</code> is used internally by NCurses to set up the soft
label keys.  See <a href="#slk_init"><code>slk_init()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-124-5" class="outline-4">
<h4 id="sec-18-124-5">Example</h4>
<div class="outline-text-4" id="text-18-124-5">
<div class="org-src-container">

<pre class="src src-c">ripoffline(1,setup);
</pre>
</div>

<p>
The statement removes a line from the top of the screen. The
<code>setup()</code> function is called to initialize the line.
</p>
</div>
</div>

<div id="outline-container-sec-18-124-6" class="outline-4">
<h4 id="sec-18-124-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-124-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #00ffff;">static</span> <span style="color: #98fb98;">int</span> <span style="color: #87cefa;">ruler</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">w</span>,<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">cols</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  waddch(w,<span style="color: #ffa07a;">'|'</span>);
<span class="linenr"> 8: </span>  <span style="color: #00ffff;">for</span>(x=1;x&lt;cols;x++)
<span class="linenr"> 9: </span>    {
<span class="linenr">10: </span>      <span style="color: #00ffff;">if</span>(x % 5)
<span class="linenr">11: </span>        waddch(w,<span style="color: #ffa07a;">'-'</span>);
<span class="linenr">12: </span>      <span style="color: #00ffff;">else</span>
<span class="linenr">13: </span>        waddch(w,<span style="color: #ffa07a;">'+'</span>);
<span class="linenr">14: </span>    }
<span class="linenr">15: </span>  waddch(w,<span style="color: #ffa07a;">'|'</span>);
<span class="linenr">16: </span>  wnoutrefresh(w);
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
<span class="linenr">19: </span>
<span class="linenr">20: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">21: </span>{
<span class="linenr">22: </span>  ripoffline(1,ruler);
<span class="linenr">23: </span>  initscr();
<span class="linenr">24: </span>
<span class="linenr">25: </span>  addstr(<span style="color: #ffa07a;">"The ruler has been placed atop the screen.\n"</span>);
<span class="linenr">26: </span>  printw(<span style="color: #ffa07a;">"The standard screen is now %d rows high.\n"</span>,LINES);
<span class="linenr">27: </span>  refresh();
<span class="linenr">28: </span>  getch();
<span class="linenr">29: </span>
<span class="linenr">30: </span>  endwin();
<span class="linenr">31: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">32: </span>}
</pre>
</div>

<p>
The sample output is shown in <a href="#Figure-A-11">Figure A-11</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-11" name="Figure-A-11">Figure A-11</a> </dt><dd>The <code>ripoffline()</code> function places a
"ruler" atop the terminal window.


<div class="figure">
<p><img src="img/FigureA-11.jpg" alt="FigureA-11.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-124-7" class="outline-4">
<h4 id="sec-18-124-7">Also See</h4>
<div class="outline-text-4" id="text-18-124-7">
<p>
<a href="#LINES"><code>LINES</code></a>, <a href="#slk_init"><code>slk_init()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-125" class="outline-3">
<h3 id="sec-18-125"><code>scanw()</code>                                                          <a id="scanw" name="scanw"></a></h3>
<div class="outline-text-3" id="text-18-125">
<p>
The <code>scanw()</code> function is the NCurses equivalent of the <code>scanf()</code>
function.  When you need <code>scanf()</code> in your NCurses code, you use
<code>scanw()</code> instead.
</p>
</div>

<div id="outline-container-sec-18-125-1" class="outline-4">
<h4 id="sec-18-125-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-125-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">scanw</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">fmt</span>, ...);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">wscanw</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">fmt</span>, ...);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvscanw</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">fmt</span>, ...);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwscanw</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">fmt</span>, ...);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">vw_scanw</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">fmt</span>, <span style="color: #98fb98;">va_list</span> <span style="color: #eedd82;">varglist</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">vwscanw</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">fmt</span>, <span style="color: #98fb98;">va_list</span> <span style="color: #eedd82;">varglist</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-125-2" class="outline-4">
<h4 id="sec-18-125-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-125-2">
<p>
The format for <code>scanw()</code> is identical to <code>scanf()</code>. <code>fmt</code> is a
formatting string that describes the type of input. The string is
followed by variable pointers in which the input is stored.
</p>

<p>
Refer to the entries for <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and <a href="#w_prefix"><code>w</code></a> elsewhere in this
appendix for information on the <code>w</code>, <code>mv</code>, and <code>mvw</code> variations to
this function.
</p>

<p>
The <code>vwscanw()</code> functions are comparable to the <code>vscanf()</code>
function, where <code>varglist</code> is a <code>va_list</code> (for example, a pointer)
representing variable arguments. Refer to the man page for
<code>vscanf()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-125-3" class="outline-4">
<h4 id="sec-18-125-3">Return Value</h4>
<div class="outline-text-4" id="text-18-125-3">
<p>
An <code>int</code> value is returned, either <code>ERR</code> when things go wrong or a
value equal to the number of fields successfully scanned.
</p>
</div>
</div>

<div id="outline-container-sec-18-125-4" class="outline-4">
<h4 id="sec-18-125-4">Notes</h4>
<div class="outline-text-4" id="text-18-125-4">
<p>
<code>scanw()</code> uses <code>getstr()</code> for input with the string passed
internally to the <code>sscanf()</code> function for evaluation.
</p>

<p>
A variable argument version of <code>scanw()</code>, analogous to <code>vscanf()</code>,
is <code>vw_scanw()</code>. Here is the man page format:
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">vw_scanw</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">fmt</span>, <span style="color: #98fb98;">va_list</span> <span style="color: #eedd82;">varglist</span>);
</pre>
</div>

<p>
The older version of <code>vw_scanw()</code> was <code>vwscanw()</code>. It carries the
same format as <code>vw_scanw()</code> but has been deprecated.
</p>

<p>
Consider compiling your code with <code>-Wall</code> as an option to help
troubleshoot common <code>scanf()</code> and <code>scanw()</code> issues.
</p>
</div>
</div>

<div id="outline-container-sec-18-125-5" class="outline-4">
<h4 id="sec-18-125-5">Examples</h4>
<div class="outline-text-4" id="text-18-125-5">
<div class="org-src-container">

<pre class="src src-c">scanw(<span style="color: #ffa07a;">"%d"</span>,&amp;age);
</pre>
</div>

<p>
The statement reads an integer value from the keyboard and stores
it in the age variable.
</p>

<div class="org-src-container">

<pre class="src src-c">scanw(<span style="color: #ffa07a;">"%20s"</span>,petname);
</pre>
</div>

<p>
Here, <code>scanw()</code> reads up to 20 nonwhite space characters from the
keyboard and stores them in the petname string (<code>char</code> array).
</p>
</div>
</div>

<div id="outline-container-sec-18-125-6" class="outline-4">
<h4 id="sec-18-125-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-125-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">UNI</span> 4.5
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">pieces</span> = 0;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"SUSHI BAR MENU\n\n"</span>);
<span class="linenr">12: </span>  printw(<span style="color: #ffa07a;">"We have Uni today for $%.2f.\n"</span>,UNI);
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"How many pieces would you like? "</span>);
<span class="linenr">14: </span>  refresh();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  scanw(<span style="color: #ffa07a;">"%d"</span>,&amp;pieces);
<span class="linenr">17: </span>  printw(<span style="color: #ffa07a;">"You want %d pieces?\n"</span>,pieces);
<span class="linenr">18: </span>  printw(<span style="color: #ffa07a;">"That will be $%.2f!\n"</span>,UNI*pieces);
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  endwin();
<span class="linenr">23: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">24: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-125-6-1" class="outline-5">
<h5 id="sec-18-125-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-125-6-1">
<pre class="example">
SUSHI BAR MENU

We have Uni today for $4.50.
How many pieces would you like? 3
You want 3 pieces?
That will be $13.50!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-125-7" class="outline-4">
<h4 id="sec-18-125-7">Also See</h4>
<div class="outline-text-4" id="text-18-125-7">
<p>
<a href="#chapter_2">Chapter 2</a>, <a href="#getstr"><code>getstr()</code></a>, <a href="#printw"><code>printw()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-126" class="outline-3">
<h3 id="sec-18-126"><code>scr_dump()</code>                                                       <a id="scr_dump" name="scr_dump"></a></h3>
<div class="outline-text-3" id="text-18-126">
<p>
The <code>scr_dump()</code> function takes a snapshot of the current screen
and saves it to disk.
</p>
</div>

<div id="outline-container-sec-18-126-1" class="outline-4">
<h4 id="sec-18-126-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-126-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">scr_dump</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">filename</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-126-2" class="outline-4">
<h4 id="sec-18-126-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-126-2">
<p>
<code>filename</code> is the name of a file under which the standard screen
data will be saved. It is <i>not</i> a <code>FILE</code> pointer.
</p>
</div>
</div>

<div id="outline-container-sec-18-126-3" class="outline-4">
<h4 id="sec-18-126-3">Return Value</h4>
<div class="outline-text-4" id="text-18-126-3">
<p>
<code>OK</code> upon success or <code>ERR</code> on failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-126-4" class="outline-4">
<h4 id="sec-18-126-4">Notes</h4>
<div class="outline-text-4" id="text-18-126-4">
<p>
The <code>scr_restore()</code> function is the companion to <code>scr_dump()</code>,
restoring the image saved to disk and back to the virtual screen.
</p>

<p>
The file format used by <code>scr_dump()</code> is the same as for
<code>putwin()</code>. In fact, the <code>getwin()</code> function can be used to read
in the file created by <code>scr_dump()</code>.
</p>

<p>
Remember that the <code>scr_dump()</code> function's argument is a filename,
not a <code>FILE</code> pointer!
</p>
</div>
</div>

<div id="outline-container-sec-18-126-5" class="outline-4">
<h4 id="sec-18-126-5">Examples</h4>
<div class="outline-text-4" id="text-18-126-5">
<div class="org-src-container">

<pre class="src src-c">scr_dump(screen);
</pre>
</div>

<p>
Here, the <code>scr_dump()</code> function saves the current screen to disk
using the file specified by the screen variable.
</p>

<div class="org-src-container">

<pre class="src src-c">scr_dump(<span style="color: #ffa07a;">"test.win"</span>);
</pre>
</div>

<p>
The statement above saves the screen to a file named <code>test.win</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-126-6" class="outline-4">
<h4 id="sec-18-126-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-126-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;time.h&gt;</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">FILENAME</span> <span style="color: #ffa07a;">"windump"</span>
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 8: </span>{
<span class="linenr"> 9: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">word</span>[7];
<span class="linenr">10: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">w</span>,<span style="color: #eedd82;">r</span>;
<span class="linenr">11: </span>
<span class="linenr">12: </span>  srandom((<span style="color: #98fb98;">unsigned</span>)time(<span style="color: #7fffd4;">NULL</span>));       <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">seed randomizer </span><span style="color: #ff4500;">*/</span>
<span class="linenr">13: </span>  word[7] = <span style="color: #ffa07a;">'\0'</span>;
<span class="linenr">14: </span>  initscr();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Fill most of the screen with random 6-char words </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;200;x++)
<span class="linenr">18: </span>    {
<span class="linenr">19: </span>      <span style="color: #00ffff;">for</span>(w=0;w&lt;6;w++)
<span class="linenr">20: </span>        word[w] = (random() % 26) + <span style="color: #ffa07a;">'a'</span>;
<span class="linenr">21: </span>      printw(<span style="color: #ffa07a;">"%s\t"</span>,word);
<span class="linenr">22: </span>    }
<span class="linenr">23: </span>  addch(<span style="color: #ffa07a;">'\n'</span>);
<span class="linenr">24: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to write this screen to disk\n"</span>);
<span class="linenr">25: </span>  refresh();
<span class="linenr">26: </span>  getch();
<span class="linenr">27: </span>
<span class="linenr">28: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">write the window to disk </span><span style="color: #ff4500;">*/</span>
<span class="linenr">29: </span>  r = scr_dump(FILENAME);
<span class="linenr">30: </span>  <span style="color: #00ffff;">if</span>( r == ERR)
<span class="linenr">31: </span>    addstr(<span style="color: #ffa07a;">"Error writing window to disk\n"</span>);
<span class="linenr">32: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">33: </span>    addstr(<span style="color: #ffa07a;">"File written; press Enter to quit\n"</span>);
<span class="linenr">34: </span>  refresh();
<span class="linenr">35: </span>  getch();
<span class="linenr">36: </span>
<span class="linenr">37: </span>  endwin();
<span class="linenr">38: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">39: </span>}
</pre>
</div>

<p>
The sample output is shown in <a href="#Figure-A-12">Figure A-12</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-12" name="Figure-A-12">Figure A-12</a> </dt><dd>Random bits of text appear on the screen
and are saved to disk.


<div class="figure">
<p><img src="img/FigureA-12.jpg" alt="FigureA-12.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-126-7" class="outline-4">
<h4 id="sec-18-126-7">Also See</h4>
<div class="outline-text-4" id="text-18-126-7">
<p>
<a href="#chapter_14">Chapter 14</a>, <a href="#scr_restore"><code>scr_restore()</code></a>, <a href="#putwin"><code>putwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-127" class="outline-3">
<h3 id="sec-18-127"><code>scr_init()</code>                                                       <a id="scr_init" name="scr_init"></a></h3>
<div class="outline-text-3" id="text-18-127">
<p>
The <code>scr_init()</code> function reads the window data saved to disk by
<code>scr_dump()</code> and uses information from that file to configure the
screen.
</p>
</div>

<div id="outline-container-sec-18-127-1" class="outline-4">
<h4 id="sec-18-127-1">Explanation</h4>
<div class="outline-text-4" id="text-18-127-1">
<p>
The <code>scr_dump()</code> function writes window data to disk. It writes
the visible data to disk (what you see on the screen), as well as
various window settings and options.
</p>

<p>
To restore the visible screen, the <code>scr_restore()</code> function is
used.  However, to restore both the screen and the window
settings, <code>scr_init()</code> must be used before <code>scr_restore()</code>. Or, to
make things easier, the scr<sub>set</sub>() function can be used, which is a
combination of <code>scr_init()</code> followed by <code>scr_restore()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-127-2" class="outline-4">
<h4 id="sec-18-127-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-127-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">scr_init</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">filename</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-127-3" class="outline-4">
<h4 id="sec-18-127-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-127-3">
<p>
<code>filename</code> is the name of a file in which the standard screen data
has been saved. The value is a string, <i>not</i> a <code>FILE</code> pointer.
</p>
</div>
</div>

<div id="outline-container-sec-18-127-4" class="outline-4">
<h4 id="sec-18-127-4">Return Value</h4>
<div class="outline-text-4" id="text-18-127-4">
<p>
<code>OK</code> on success or <code>ERR</code> on failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-127-5" class="outline-4">
<h4 id="sec-18-127-5">Notes</h4>
<div class="outline-text-4" id="text-18-127-5">
<p>
By itself, <code>scr_init()</code> merely reads window setting information
from the named file.
</p>

<p>
The information <code>scr_init()</code> sets in memory can be updated to the
screen by using a <code>wrefresh(curscr)</code> statement.
</p>

<p>
The <code>scr_init()</code> function pays heed to the terminfo <code>rmcup</code> and
<code>nrrmc</code> capabilities. When <code>rmcup</code> exists, the function returns
<code>ERR</code>. (Refer to <a href="#chapter_1">Chapter 1</a> for a description of <code>rmcup</code>.)
</p>
</div>
</div>

<div id="outline-container-sec-18-127-6" class="outline-4">
<h4 id="sec-18-127-6">Example</h4>
<div class="outline-text-4" id="text-18-127-6">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(scr_init(<span style="color: #ffa07a;">"windata.bin"</span>) == ERR)
</pre>
</div>

<p>
The statement checks to see if the <code>scr_init()</code> function returns
<code>ERR</code>. If not, information from the <code>windata.bin</code> file is read
from disk and used to configure NCurses window structures.
</p>
</div>
</div>

<div id="outline-container-sec-18-127-7" class="outline-4">
<h4 id="sec-18-127-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-127-7">
<p>
Refer to the entry for <a href="#scr_restore"><code>scr_restore()</code></a> for a sample program and
output.
</p>
</div>
</div>

<div id="outline-container-sec-18-127-8" class="outline-4">
<h4 id="sec-18-127-8">Also See</h4>
<div class="outline-text-4" id="text-18-127-8">
<p>
<a href="#scr_dump"><code>scr_dump()</code></a>, <a href="#scr_restore"><code>scr_restore()</code></a>, <a href="#scr_set"><code>scr_set()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-128" class="outline-3">
<h3 id="sec-18-128"><code>scr_restore()</code>                                                    <a id="scr_restore" name="scr_restore"></a></h3>
<div class="outline-text-3" id="text-18-128">
<p>
The <code>scr_restore()</code> function fetches a previously saved screen dump
and loads it into memory, replacing the current virtual screen.
</p>
</div>

<div id="outline-container-sec-18-128-1" class="outline-4">
<h4 id="sec-18-128-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-128-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">scr_restore</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">filename</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-128-2" class="outline-4">
<h4 id="sec-18-128-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-128-2">
<p>
<code>filename</code> is the name of a file to which screen data has been
saved. It is <i>not</i> a <code>FILE</code> pointer.
</p>
</div>
</div>

<div id="outline-container-sec-18-128-3" class="outline-4">
<h4 id="sec-18-128-3">Return Value</h4>
<div class="outline-text-4" id="text-18-128-3">
<p>
<code>OK</code> or <code>ERR</code>, based on success or failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-128-4" class="outline-4">
<h4 id="sec-18-128-4">Notes</h4>
<div class="outline-text-4" id="text-18-128-4">
<p>
The <code>scr_restore()</code> function does not display the screen data. A
call to <code>doupdate()</code> is required to display the restored screen.
</p>

<p>
While the cursor's location is saved in the window file by
<code>scr_dump()</code>, the <code>scr_restore()</code> function does not restore the
cursor's location. The cursor instead remains at whatever location
it was at when <code>scr_restore()</code> was issued. To fix this,
<code>scr_init()</code> should be called before <code>scr_dump()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-128-5" class="outline-4">
<h4 id="sec-18-128-5">Example</h4>
<div class="outline-text-4" id="text-18-128-5">
<div class="org-src-container">

<pre class="src src-c">scr_restore(<span style="color: #ffa07a;">"windump.dat"</span>);
</pre>
</div>

<p>
The statement restores the screen previously saved to disk in the
file <code>windump.dat</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-128-6" class="outline-4">
<h4 id="sec-18-128-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-128-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">FILENAME</span> <span style="color: #ffa07a;">"windump"</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to restore the screen\n"</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">restore the window from disk </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>  r = scr_init(FILENAME);
<span class="linenr">17: </span>  <span style="color: #00ffff;">if</span>( r != ERR)
<span class="linenr">18: </span>    {
<span class="linenr">19: </span>      scr_restore(FILENAME);
<span class="linenr">20: </span>      wrefresh(curscr);
<span class="linenr">21: </span>    }
<span class="linenr">22: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">23: </span>    {
<span class="linenr">24: </span>      addstr(<span style="color: #ffa07a;">"Error reading window file: press Enter\n"</span>);
<span class="linenr">25: </span>      refresh();
<span class="linenr">26: </span>    }
<span class="linenr">27: </span>  getch();
<span class="linenr">28: </span>
<span class="linenr">29: </span>  endwin();
<span class="linenr">30: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">31: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-128-6-1" class="outline-5">
<h5 id="sec-18-128-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-128-6-1">
<p>
The previously saved screen (see <a href="#scr_dump"><code>scr_dump()</code></a>) is restored.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-128-7" class="outline-4">
<h4 id="sec-18-128-7">Also See</h4>
<div class="outline-text-4" id="text-18-128-7">
<p>
<a href="#chapter_14">Chapter 14</a>, <a href="#scr_dump"><code>scr_dump()</code></a>, <a href="#scr_set"><code>scr_set()</code></a>, <a href="#getwin"><code>getwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-129" class="outline-3">
<h3 id="sec-18-129"><code>scr_set()</code>                                                        <a id="scr_set" name="scr_set"></a></h3>
<div class="outline-text-3" id="text-18-129">
<p>
The <code>scr_set()</code> function combines the abilities of the <code>scr_init()</code>
and <code>scr_restore()</code> functions.
</p>
</div>

<div id="outline-container-sec-18-129-1" class="outline-4">
<h4 id="sec-18-129-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-129-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">scr_set</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">filename</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-129-2" class="outline-4">
<h4 id="sec-18-129-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-129-2">
<p>
<code>filename</code> is the name of a screen data file. It is a text
constant, <i>not</i> a <code>FILE</code> pointer.
</p>
</div>
</div>

<div id="outline-container-sec-18-129-3" class="outline-4">
<h4 id="sec-18-129-3">Return Value</h4>
<div class="outline-text-4" id="text-18-129-3">
<p>
<code>OK</code> on success or <code>ERR</code> on failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-129-4" class="outline-4">
<h4 id="sec-18-129-4">Notes</h4>
<div class="outline-text-4" id="text-18-129-4">
<p>
The <code>scr_set()</code> function is equivalent to a call to <code>scr_init()</code>
followed by a call to <code>scr_restore()</code>. Refer to <a href="#scr_init"><code>scr_init()</code></a> or
<code>scr_restore()</code> for more information.
</p>
</div>
</div>

<div id="outline-container-sec-18-129-5" class="outline-4">
<h4 id="sec-18-129-5">Example</h4>
<div class="outline-text-4" id="text-18-129-5">
<div class="org-src-container">

<pre class="src src-c">rc = scr_set(fname);
</pre>
</div>

<p>
The <code>scr_set()</code> function loads window data from a file referenced
by the fname (string) variable. Both the window's settings and
visual data are loaded. The <code>int</code> variable <code>rc</code> contains either
<code>OK</code> or <code>ERR</code> depending on the function's success or failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-129-6" class="outline-4">
<h4 id="sec-18-129-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-129-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">FILENAME</span> <span style="color: #ffa07a;">"windump"</span>
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to restore the screen\n"</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">restore the window from disk </span><span style="color: #ff4500;">*/</span>
<span class="linenr">16: </span>  r = scr_set(FILENAME);
<span class="linenr">17: </span>  <span style="color: #00ffff;">if</span>( r == ERR)
<span class="linenr">18: </span>    addstr(<span style="color: #ffa07a;">"Error reading window file: press Enter\n"</span>);
<span class="linenr">19: </span>  wrefresh(curscr);
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  endwin();
<span class="linenr">23: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">24: </span>}
</pre>
</div>

<p>
Sample output is the same as for <a href="#scr_restore"><code>scr_restore()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-129-7" class="outline-4">
<h4 id="sec-18-129-7">Also See</h4>
<div class="outline-text-4" id="text-18-129-7">
<p>
<a href="#chapter_14">Chapter 14</a>, <a href="#scr_dump"><code>scr_dump()</code></a>, <a href="#scr_restore"><code>scr_restore()</code></a>, <a href="#scr_set"><code>scr_set()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-130" class="outline-3">
<h3 id="sec-18-130"><code>scrl()</code>                                                           <a id="scrl" name="scrl"></a></h3>
<div class="outline-text-3" id="text-18-130">
<p>
The <code>scrl()</code> function scrolls text in a window up or down a given
number of lines.
</p>
</div>

<div id="outline-container-sec-18-130-1" class="outline-4">
<h4 id="sec-18-130-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-130-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">scrl</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wscrl</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-130-2" class="outline-4">
<h4 id="sec-18-130-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-130-2">
<p>
<code>n</code> is an <code>int</code> value indicating the number of lines to scroll the
window. When n is positive, <code>n</code> lines are scrolled up; when <code>n</code> is
negative, <code>n</code> lines are scrolled down.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> entry later in this appendix for information on
the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-130-3" class="outline-4">
<h4 id="sec-18-130-3">Return Value</h4>
<div class="outline-text-4" id="text-18-130-3">
<p>
Always <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-130-4" class="outline-4">
<h4 id="sec-18-130-4">Notes</h4>
<div class="outline-text-4" id="text-18-130-4">
<p>
Scrolling must be enabled for the window for <code>scroll()</code> to
function properly.  See <a href="#scrollok"><code>scrollok()</code></a>.
</p>

<p>
Scrolling does not affect the cursor's location in the window. If
the cursor is on row 5, then scrolling the text in the window up
or down moves only the text; the cursor remains at row 5.
</p>

<p>
When text is scrolled up, blank lines are inserted at the bottom
of the window; lines at the top are removed. When text is scrolled
down, blanks lines are inserted at the top of the window, with
lines at the bottom being removed.
</p>
</div>
</div>

<div id="outline-container-sec-18-130-5" class="outline-4">
<h4 id="sec-18-130-5">Examples</h4>
<div class="outline-text-4" id="text-18-130-5">
<div class="org-src-container">

<pre class="src src-c">scrl(1);
</pre>
</div>

<p>
The statement scrolls the standard screen up one line, which is
the same as the <code>scroll()</code> function.
</p>

<div class="org-src-container">

<pre class="src src-c">wscrl(viewer,-3);
</pre>
</div>

<p>
The statement scrolls the text in the window viewer down three
rows.
</p>
</div>
</div>

<div id="outline-container-sec-18-130-6" class="outline-4">
<h4 id="sec-18-130-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-130-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  scrollok(stdscr,TRUE);
<span class="linenr">10: </span>  keypad(stdscr,TRUE);
<span class="linenr">11: </span>  noecho();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to quit; Up/Down to scroll"</span>);
<span class="linenr">14: </span>  mvaddstr(LINES/2,0,<span style="color: #ffa07a;">"Scroll me!"</span>);
<span class="linenr">15: </span>  refresh();
<span class="linenr">16: </span>
<span class="linenr">17: </span>  <span style="color: #00ffff;">do</span>
<span class="linenr">18: </span>    {
<span class="linenr">19: </span>      ch = getch();
<span class="linenr">20: </span>      <span style="color: #00ffff;">if</span>(ch == KEY_UP)
<span class="linenr">21: </span>        scrl(1);
<span class="linenr">22: </span>      <span style="color: #00ffff;">if</span>(ch == KEY_DOWN)
<span class="linenr">23: </span>        scrl(-1);
<span class="linenr">24: </span>    } <span style="color: #00ffff;">while</span>( ch != <span style="color: #ffa07a;">'\n'</span>);
<span class="linenr">25: </span>
<span class="linenr">26: </span>  endwin();
<span class="linenr">27: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">28: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-130-6-1" class="outline-5">
<h5 id="sec-18-130-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-130-6-1">
<p>
Use the up/down arrows on the keyboard to scroll the text on the
screen. Press Enter to quit.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-130-7" class="outline-4">
<h4 id="sec-18-130-7">Also See</h4>
<div class="outline-text-4" id="text-18-130-7">
<p>
<a href="#chapter_10">Chapter 10</a>, <a href="#scrollok"><code>scrollok()</code></a>, <a href="#setscrreg"><code>setscrreg()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-131" class="outline-3">
<h3 id="sec-18-131"><code>scroll()</code>                                                         <a id="scroll" name="scroll"></a></h3>
<div class="outline-text-3" id="text-18-131">
<p>
The <code>scroll()</code> function scrolls text in a window up one line.
</p>
</div>

<div id="outline-container-sec-18-131-1" class="outline-4">
<h4 id="sec-18-131-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-131-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">scroll</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-131-2" class="outline-4">
<h4 id="sec-18-131-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-131-2">
<p>
<code>win</code> is the name of a <code>WINDOW</code> variable representing the window
to be scrolled.  Text in that window is moved up one line; the top
line of text is removed and a new blank line is inserted at the
bottom.
</p>
</div>
</div>

<div id="outline-container-sec-18-131-3" class="outline-4">
<h4 id="sec-18-131-3">Return Value</h4>
<div class="outline-text-4" id="text-18-131-3">
<p>
Always <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-131-4" class="outline-4">
<h4 id="sec-18-131-4">Notes</h4>
<div class="outline-text-4" id="text-18-131-4">
<p>
The <code>scroll()</code> function is a macro equivalent to
<code>wscrl(win,1)</code>. See <i><code>wscrl()</code></i>.
</p>

<p>
Also see <a href="#scrl"><code>scrl()</code></a> for more notes and information.
</p>
</div>
</div>

<div id="outline-container-sec-18-131-5" class="outline-4">
<h4 id="sec-18-131-5">Example</h4>
<div class="outline-text-4" id="text-18-131-5">
<div class="org-src-container">

<pre class="src src-c">scroll(main);
</pre>
</div>

<p>
The statement scrolls the contents of the window <code>main</code> up one
line.
</p>
</div>
</div>

<div id="outline-container-sec-18-131-6" class="outline-4">
<h4 id="sec-18-131-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-131-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  scrollok(stdscr,TRUE);
<span class="linenr"> 8: </span>  mvaddstr(LINES/2,0,<span style="color: #ffa07a;">"Watch me scroll up!"</span>);
<span class="linenr"> 9: </span>  refresh();
<span class="linenr">10: </span>  getch();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  scroll(stdscr);
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  endwin();
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-131-6-1" class="outline-5">
<h5 id="sec-18-131-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-131-6-1">
<pre class="example">
Watch me scroll up!
</pre>

<p>
Press Enter and the line scrolls up one notch.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-131-7" class="outline-4">
<h4 id="sec-18-131-7">Also See</h4>
<div class="outline-text-4" id="text-18-131-7">
<p>
<a href="#chapter_10">Chapter 10</a>, <a href="#scrollok"><code>scrollok()</code></a>, <a href="#scrl"><code>scrl()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-132" class="outline-3">
<h3 id="sec-18-132"><code>scrollok()</code>                                                       <a id="scrollok" name="scrollok"></a></h3>
<div class="outline-text-3" id="text-18-132">
<p>
The <code>scrollok()</code> function enables scrolling in a window.
</p>
</div>

<div id="outline-container-sec-18-132-1" class="outline-4">
<h4 id="sec-18-132-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-132-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">scrollok</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">bf</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-132-2" class="outline-4">
<h4 id="sec-18-132-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-132-2">
<p>
<code>win</code> is the name of a <code>WINDOW</code> variable representing a window
created in your code.
</p>

<p>
<code>Bf</code> is a Boolean value, either <code>TRUE</code> or <code>FALSE</code> as defined in
<code>ncurses.h</code>.  When <code>TRUE</code>, scrolling for window <code>win</code> is
activated. <code>FALSE</code> is the default condition, meaning that the
window isn't scrolling.
</p>
</div>
</div>

<div id="outline-container-sec-18-132-3" class="outline-4">
<h4 id="sec-18-132-3">Return Value</h4>
<div class="outline-text-4" id="text-18-132-3">
<p>
<code>OK</code> on success; <code>ERR</code> on failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-132-4" class="outline-4">
<h4 id="sec-18-132-4">Notes</h4>
<div class="outline-text-4" id="text-18-132-4">
<p>
The <code>scrollok()</code> function enables scrolling. That means any text
displayed after the last line, or a newline or line feed on the
last line, pops text up by one row in the window. The top row of
text is lost, and a new blank row appears on the bottom to allow
for the next text.
</p>

<p>
The <code>scrollok()</code> setting is inherited by subwindows. If you set
<code>scrollok()</code> <code>TRUE</code> for a window, then all its subwindows will
also have the ability to scroll. Otherwise, new windows and new
subwindows start out with <code>scrollok()</code> disabled.
</p>

<p>
Text can be manually scrolled by using the <code>scroll()</code> or <code>scrl()</code>
functions.
</p>

<p>
Pads cannot be scrolled. Trying to apply <code>scrollok()</code> to a pad
returns <code>ERR</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-132-5" class="outline-4">
<h4 id="sec-18-132-5">Example</h4>
<div class="outline-text-4" id="text-18-132-5">
<div class="org-src-container">

<pre class="src src-c">scrollok(main,TRUE);
</pre>
</div>

<p>
The statement enables scrolling for the window <code>main</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-132-6" class="outline-4">
<h4 id="sec-18-132-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-132-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span> = 0;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  scrollok(stdscr,TRUE);
<span class="linenr">10: </span>  <span style="color: #00ffff;">while</span>(1)
<span class="linenr">11: </span>    {
<span class="linenr">12: </span>      printw(<span style="color: #ffa07a;">"%d\t"</span>,x);
<span class="linenr">13: </span>      x++;
<span class="linenr">14: </span>      refresh();
<span class="linenr">15: </span>    }
<span class="linenr">16: </span>
<span class="linenr">17: </span>  endwin();
<span class="linenr">18: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">19: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-132-6-1" class="outline-5">
<h5 id="sec-18-132-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-132-6-1">
<p>
Incrementing numbers are displayed in columns that scroll up the
screen. Press Ctrl+C to halt the program.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-132-7" class="outline-4">
<h4 id="sec-18-132-7">Also See</h4>
<div class="outline-text-4" id="text-18-132-7">
<p>
<a href="#chapter_10">Chapter 10</a>, <a href="#scroll"><code>scroll()</code></a>, <a href="#scrl"><code>scrl()</code></a>, <a href="#setscrreg"><code>setscrreg()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-133" class="outline-3">
<h3 id="sec-18-133"><code>setscrreg()</code>                                                      <a id="setscrreg" name="setscrreg"></a></h3>
<div class="outline-text-3" id="text-18-133">
<p>
The <code>setscrreg()</code> function determines which region (between two
rows) of the screen will be scrolled.
</p>
</div>

<div id="outline-container-sec-18-133-1" class="outline-4">
<h4 id="sec-18-133-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-133-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">setscrreg</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">top</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">bot</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wsetscrreg</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">top</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">bot</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-133-2" class="outline-4">
<h4 id="sec-18-133-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-133-2">
<p>
<code>top</code> is an <code>int</code> value indicating the top row for the scrolling
region. Values range from 0 for the top row, to the value of <code>bot</code>
minus 1.
</p>

<p>
<code>bot</code> is in <code>int</code> value indicating the bottom row of the scrolling
region. Values range from <code>top+1</code> to the bottom of the window.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> entry elsewhere in this appendix for information
on the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-133-3" class="outline-4">
<h4 id="sec-18-133-3">Return Value</h4>
<div class="outline-text-4" id="text-18-133-3">
<p>
<code>OK</code> on success, <code>ERR</code> on failure. The function fails when <code>top</code>
is greater than or equal to <code>bot</code>, or when <code>bot</code> is greater than
the bottom of the window.
</p>
</div>
</div>

<div id="outline-container-sec-18-133-4" class="outline-4">
<h4 id="sec-18-133-4">Notes</h4>
<div class="outline-text-4" id="text-18-133-4">
<p>
This function works only after scrolling has been enabled for the
window via the <code>scrollok()</code> function. See <a href="#scrollok"><code>scrollok()</code></a>.
</p>

<p>
Unless <code>setscrreg()</code> is used, the top and bottom rows of the window
define the scrolling region.
</p>

<p>
The bottom row of the window can be returned using <code>w-&gt;_maxy</code>,
where <code>w</code> is the window's <code>WINDOW</code> variable name.
</p>

<p>
Text can still be written to the window below the scrolling
region, specifically by using the various <code>mv</code>-prefix text output
functions.
</p>
</div>
</div>

<div id="outline-container-sec-18-133-5" class="outline-4">
<h4 id="sec-18-133-5">Examples</h4>
<div class="outline-text-4" id="text-18-133-5">
<div class="org-src-container">

<pre class="src src-c">setscrreg(5,stdscr-&gt;_maxy);
</pre>
</div>

<p>
The statement creates a scrolling region from line 5 through the
bottom of the standard screen.
</p>

<div class="org-src-container">

<pre class="src src-c">wsetscrreg(options,2,opbot);
</pre>
</div>

<p>
Here, the statement creates a scrolling region in the window
<code>options</code>, from line 2 (the third line) of the window through the
value represented by <code>opbot</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-133-6" class="outline-4">
<h4 id="sec-18-133-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-133-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span> = 0;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">stdbot</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  stdbot = stdscr-&gt;_maxy;
<span class="linenr">10: </span>
<span class="linenr">11: </span>  scrollok(stdscr,TRUE);
<span class="linenr">12: </span>  setscrreg(3,stdbot-3);
<span class="linenr">13: </span>
<span class="linenr">14: </span>  attrset(A_BOLD);
<span class="linenr">15: </span>  mvaddstr(stdbot-2,0,<span style="color: #ffa07a;">"Press Ctrl+C to stop."</span>);
<span class="linenr">16: </span>  attroff(A_BOLD);
<span class="linenr">17: </span>  move(0,0);
<span class="linenr">18: </span>  <span style="color: #00ffff;">while</span>(1)
<span class="linenr">19: </span>    {
<span class="linenr">20: </span>      printw(<span style="color: #ffa07a;">"%d\t"</span>,x);
<span class="linenr">21: </span>      x++;
<span class="linenr">22: </span>      refresh();
<span class="linenr">23: </span>    }
<span class="linenr">24: </span>
<span class="linenr">25: </span>  endwin();
<span class="linenr">26: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">27: </span>}
</pre>
</div>

<p>
The sample output is shown in <a href="#Figure-A-13">Figure A-13</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-13" name="Figure-A-13">Figure A-13</a> </dt><dd>Only the indicated region of the window
scrolls.


<div class="figure">
<p><img src="img/FigureA-13.jpg" alt="FigureA-13.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-133-7" class="outline-4">
<h4 id="sec-18-133-7">Also See</h4>
<div class="outline-text-4" id="text-18-133-7">
<p>
<a href="#scrollok"><code>scrollok()</code></a>, <a href="#scrl"><code>scrl()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-134" class="outline-3">
<h3 id="sec-18-134"><code>setsyx()</code>                                                         <a id="setsyx" name="setsyx"></a></h3>
<div class="outline-text-3" id="text-18-134">
<p>
The <code>setsyx()</code> function is used to set the virtual screen's cursor
location.
</p>
</div>

<div id="outline-container-sec-18-134-1" class="outline-4">
<h4 id="sec-18-134-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-134-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">setsyx</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-134-2" class="outline-4">
<h4 id="sec-18-134-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-134-2">
<p>
<code>y</code> and <code>x</code> are <code>int</code> values used to set the row and column
positions of the virtual screen's cursor, respectively. Values
range from 0 up through the values of <code>LINES</code> and <code>COLS</code>. When -1
is specified for both <code>y</code> and <code>x</code>, the <code>leaveok()</code> state is set
<code>TRUE</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-134-3" class="outline-4">
<h4 id="sec-18-134-3">Return Value</h4>
<div class="outline-text-4" id="text-18-134-3">
<p>
<code>setsyx()</code> is a macro and as such its return value should not be
used.
</p>
</div>
</div>

<div id="outline-container-sec-18-134-4" class="outline-4">
<h4 id="sec-18-134-4">Notes</h4>
<div class="outline-text-4" id="text-18-134-4">
<p>
To move the cursor in a window, use the <code>move()</code> function. See
<a href="#move"><code>move()</code></a>.
</p>

<p>
The row, or <code>y</code>, argument comes first.
</p>

<p>
Most often <code>setsyx()</code> is used internally in conjunction with
<code>getsyx()</code>, which fetches the virtual screen's cursor
location. That way the cursor's location can be saved and restored
while NCurses is doing something else.
</p>
</div>
</div>

<div id="outline-container-sec-18-134-5" class="outline-4">
<h4 id="sec-18-134-5">Example</h4>
<div class="outline-text-4" id="text-18-134-5">
<div class="org-src-container">

<pre class="src src-c">setsyx(row,col);
</pre>
</div>

<p>
The statement places the virtual screen's cursor to the position
indicated by the <code>row</code> and <code>col</code> variables.
</p>
</div>
</div>

<div id="outline-container-sec-18-134-6" class="outline-4">
<h4 id="sec-18-134-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-134-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>,<span style="color: #eedd82;">x</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  setsyx(5,5);
<span class="linenr">10: </span>  getsyx(y,x);
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"The cursor on the virtual screen is set to 5, 5.\n"</span>);
<span class="linenr">12: </span>  printw(<span style="color: #ffa07a;">"And getsyx() reports %d, %d.\n"</span>,y,x);
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  endwin();
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-134-6-1" class="outline-5">
<h5 id="sec-18-134-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-134-6-1">
<pre class="example">
The cursor on the virtual screen is set to 5, 5.
And getsyx() reports 5, 5.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-134-7" class="outline-4">
<h4 id="sec-18-134-7">Also See</h4>
<div class="outline-text-4" id="text-18-134-7">
<p>
<a href="#getsyx"><code>getsyx()</code></a>, <a href="#leaveok"><code>leaveok()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-135" class="outline-3">
<h3 id="sec-18-135"><code>set_term()</code>                                                       <a id="set_term" name="set_term"></a></h3>
<div class="outline-text-3" id="text-18-135">
<p>
The <code>set_term()</code> function determines which terminal to use for
NCurses input and output functions. Used primarily in conjunction
with <code>newterm()</code> when configuring unique terminal setups for
NCurses.
</p>
</div>

<div id="outline-container-sec-18-135-1" class="outline-4">
<h4 id="sec-18-135-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-135-1">
<div class="org-src-container">

<pre class="src src-c">SCREEN *set_term(SCREEN *new);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-135-2" class="outline-4">
<h4 id="sec-18-135-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-135-2">
<p>
<code>new</code> is the name of a <code>SCREEN</code> pointer, returned by <code>newterm()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-135-3" class="outline-4">
<h4 id="sec-18-135-3">Return Value</h4>
<div class="outline-text-4" id="text-18-135-3">
<p>
<code>set_term()</code> returns a <code>SCREEN</code> pointer indicating which terminal
was previously in use.
</p>
</div>
</div>

<div id="outline-container-sec-18-135-4" class="outline-4">
<h4 id="sec-18-135-4">Notes</h4>
<div class="outline-text-4" id="text-18-135-4">
<p>
This is the only function that manipulates <code>SCREEN</code> pointers. (The
<code>delscreen()</code> function removes space allocated to the pointers.)
</p>
</div>
</div>

<div id="outline-container-sec-18-135-5" class="outline-4">
<h4 id="sec-18-135-5">Examples</h4>
<div class="outline-text-4" id="text-18-135-5">
<div class="org-src-container">

<pre class="src src-c">old = set_term(new);
</pre>
</div>

<p>
The statement activates NCurses I/O on the terminal specified by
<code>SCREEN</code> pointer <code>new</code>. The terminal currently used is saved in
<code>SCREEN</code> pointer <code>old</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">set_term(old);
</pre>
</div>

<p>
The statement transfers NCurses I/O to the terminal identified by
<code>SCREEN</code> pointer <code>old</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-135-6" class="outline-4">
<h4 id="sec-18-135-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-135-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">SCREEN</span> *<span style="color: #eedd82;">s</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  s = newterm(<span style="color: #7fffd4;">NULL</span>, stdout, stdin);
<span class="linenr"> 8: </span>  set_term(s);
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  addstr(<span style="color: #ffa07a;">"Hello!"</span>);
<span class="linenr">11: </span>
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  endwin();
<span class="linenr">16: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">17: </span>}
</pre>
</div>

<p>
The program assigns standard input and output to the new terminal
s, which is setup by <code>set_term()</code>. The <code>addstr()</code> function in line
10 outputs to standard output.
</p>
</div>

<div id="outline-container-sec-18-135-6-1" class="outline-5">
<h5 id="sec-18-135-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-135-6-1">
<pre class="example">
Hello!
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-135-7" class="outline-4">
<h4 id="sec-18-135-7">Also See</h4>
<div class="outline-text-4" id="text-18-135-7">
<p>
<a href="#newterm"><code>newterm()</code></a>, <a href="#delscreen"><code>delscreen()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-136" class="outline-3">
<h3 id="sec-18-136"><code>slk_attr()</code>                                                       <a id="slk_attr" name="slk_attr"></a></h3>
<div class="outline-text-3" id="text-18-136">
<p>
The <code>slk_attr()</code> function returns the attributes currently be used
to format the soft labels.
</p>
</div>

<div id="outline-container-sec-18-136-1" class="outline-4">
<h4 id="sec-18-136-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-136-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">attr_t</span> <span style="color: #87cefa;">slk_attr</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-136-2" class="outline-4">
<h4 id="sec-18-136-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-136-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-136-3" class="outline-4">
<h4 id="sec-18-136-3">Return Value</h4>
<div class="outline-text-4" id="text-18-136-3">
<p>
A <code>long int</code> value of the NCurses <code>attr_t</code> type is returned,
packed with values according to which formatting attributes have
been applied to the soft labels. <a href="#appendix_c">Appendix C</a> describes the bit
field.
</p>
</div>
</div>

<div id="outline-container-sec-18-136-4" class="outline-4">
<h4 id="sec-18-136-4">Notes</h4>
<div class="outline-text-4" id="text-18-136-4">
<p>
This function is the soft label version of the <code>attr_get()</code>
function. See <a href="#attr_get"><code>attr_get()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-136-5" class="outline-4">
<h4 id="sec-18-136-5">Examples</h4>
<div class="outline-text-4" id="text-18-136-5">
<div class="org-src-container">

<pre class="src src-c">va = slk_attr();
</pre>
</div>

<p>
The statement stores attributes used to format the soft labels in
the <code>va</code> variable.
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(slk_attr() &amp; A_BOLD)
</pre>
</div>

<p>
The evaluation is true when the <code>A_BOLD</code> attribute is being used
to format the soft labels.
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(slk_attr() == A_BOLD)
</pre>
</div>

<p>
The evaluation is true when only the <code>A_BOLD</code> attribute is being
used to format the soft labels.
</p>
</div>
</div>

<div id="outline-container-sec-18-136-6" class="outline-4">
<h4 id="sec-18-136-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-136-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LCOUNT</span> 8
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">labels</span>[LCOUNT][19] = { <span style="color: #ffa07a;">"Help!"</span>, <span style="color: #ffa07a;">"File"</span>, <span style="color: #ffa07a;">"Print"</span>, <span style="color: #ffa07a;">"Text"</span>,
<span class="linenr"> 9: </span>                              <span style="color: #ffa07a;">"Edit"</span>, <span style="color: #ffa07a;">"Quick"</span>, <span style="color: #ffa07a;">"Config"</span>, <span style="color: #ffa07a;">"System"</span> };
<span class="linenr">10: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">text</span>;
<span class="linenr">11: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  slk_init(0);
<span class="linenr">14: </span>  initscr();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;LCOUNT;x++)
<span class="linenr">17: </span>    slk_set(x+1,labels[x],CENTER);
<span class="linenr">18: </span>  slk_refresh();
<span class="linenr">19: </span>  <span style="color: #00ffff;">if</span>(slk_attr() &amp; A_STANDOUT)
<span class="linenr">20: </span>    addstr(<span style="color: #ffa07a;">"The labels are formatted with the standard attribute.\n"</span>);
<span class="linenr">21: </span>  refresh();
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  endwin();
<span class="linenr">25: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">26: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-136-6-1" class="outline-5">
<h5 id="sec-18-136-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-136-6-1">
<pre class="example">
The labels are formatted with the standard attribute.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-136-7" class="outline-4">
<h4 id="sec-18-136-7">Also See</h4>
<div class="outline-text-4" id="text-18-136-7">
<p>
<a href="#attr_get"><code>attr_get()</code></a>, <a href="#slk_attron"><code>slk_attron()</code></a>, <a href="#slk_attrset"><code>slk_attrset()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-137" class="outline-3">
<h3 id="sec-18-137"><code>slk_attroff()</code>                                                    <a id="slk_attroff" name="slk_attroff"></a></h3>
<div class="outline-text-3" id="text-18-137">
<p>
The <code>slk_attroff()</code> function is used to remove one or more attributes
from the soft label key display.
</p>
</div>

<div id="outline-container-sec-18-137-1" class="outline-4">
<h4 id="sec-18-137-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-137-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">slk_attroff</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">attrs</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">slk_attr_off</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">attrs</span>, <span style="color: #98fb98;">void</span> * <span style="color: #eedd82;">opts</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-137-2" class="outline-4">
<h4 id="sec-18-137-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-137-2">
<p>
<code>attrs</code> is a <code>chtype</code> variable representing one or more attribute
constants. These constants are defined in <code>ncurses.h</code> as listed in
<a href="#Table-A-1">Table A-1</a> under <code>attrset()</code>.
</p>

<p>
<code>NULL</code> is used as a placeholder the undefined opts argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-137-3" class="outline-4">
<h4 id="sec-18-137-3">Return Value</h4>
<div class="outline-text-4" id="text-18-137-3">
<p>
<code>ERR</code> on failure or <code>OK</code> or any value other than <code>ERR</code> when things
go right.
</p>
</div>
</div>

<div id="outline-container-sec-18-137-4" class="outline-4">
<h4 id="sec-18-137-4">Notes</h4>
<div class="outline-text-4" id="text-18-137-4">
<p>
The soft key labels are normally formatted with the standout
(<code>A_STANDOUT</code>) format. <code>slk_attroff()</code> can be use to remove this
attribute, or <code>slk_attrset()</code> can be used to assign new
attributes.
</p>

<p>
Also see the Notes for <a href="#slk_attron"><code>slk_attron()</code></a> and <a href="#slk_attrset"><code>slk_attrset()</code></a> for more
information.
</p>
</div>
</div>

<div id="outline-container-sec-18-137-5" class="outline-4">
<h4 id="sec-18-137-5">Example</h4>
<div class="outline-text-4" id="text-18-137-5">
<div class="org-src-container">

<pre class="src src-c">slk_attroff(A_BOLD);
</pre>
</div>

<p>
The statement removes the bold attribute from any text written to
the soft labels by subsequent <code>slk_set()</code> commands.
</p>
</div>
</div>

<div id="outline-container-sec-18-137-6" class="outline-4">
<h4 id="sec-18-137-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-137-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LCOUNT</span> 8
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">labels</span>[LCOUNT][19] = { <span style="color: #ffa07a;">"Help!"</span>, <span style="color: #ffa07a;">"File"</span>, <span style="color: #ffa07a;">"Print"</span>, <span style="color: #ffa07a;">"Text"</span>,
<span class="linenr"> 9: </span>                              <span style="color: #ffa07a;">"Edit"</span>, <span style="color: #ffa07a;">"Quick"</span>, <span style="color: #ffa07a;">"Config"</span>, <span style="color: #ffa07a;">"System"</span> };
<span class="linenr">10: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">text</span>;
<span class="linenr">11: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  slk_init(0);
<span class="linenr">14: </span>  initscr();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  slk_attroff(A_STANDOUT);
<span class="linenr">17: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;LCOUNT;x++)
<span class="linenr">18: </span>    slk_set(x+1,labels[x],CENTER);
<span class="linenr">19: </span>  slk_refresh();
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  endwin();
<span class="linenr">23: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">24: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-137-6-1" class="outline-5">
<h5 id="sec-18-137-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-137-6-1">
<p>
The labels are displayed in normal text; the
<code>slk_attroff(A_STANDOUT)</code> function removes the standout
formatting normally applied to the labels.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-137-7" class="outline-4">
<h4 id="sec-18-137-7">Also See</h4>
<div class="outline-text-4" id="text-18-137-7">
<p>
<a href="#attroff"><code>attroff()</code></a>, <a href="#slk_attron"><code>slk_attron()</code></a>, <a href="#slk_attrset"><code>slk_attrset()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-138" class="outline-3">
<h3 id="sec-18-138"><code>slk_attron()</code>                                                     <a id="slk_attron" name="slk_attron"></a></h3>
<div class="outline-text-3" id="text-18-138">
<p>
The <code>slk_attron()</code> function applies the standard text attributes to
the soft labels. It is the soft label key equivalent of the
<code>attron()</code> function.
</p>
</div>

<div id="outline-container-sec-18-138-1" class="outline-4">
<h4 id="sec-18-138-1">Man Page Formats</h4>
<div class="outline-text-4" id="text-18-138-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">slk_attron</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">attrs</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">slk_attr_on</span>(<span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">attrs</span>, <span style="color: #98fb98;">void</span>* <span style="color: #eedd82;">opts</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-138-2" class="outline-4">
<h4 id="sec-18-138-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-138-2">
<p>
<code>attrs</code> is a <code>chtype</code> variable representing one or more attribute
constants as defined in <code>ncurses.h</code>.
</p>

<p>
<code>NULL</code> is used in the <code>slk_attr_on()</code> function as a placeholder
for the undefined <code>opts</code> value.
</p>
</div>
</div>

<div id="outline-container-sec-18-138-3" class="outline-4">
<h4 id="sec-18-138-3">Return Value</h4>
<div class="outline-text-4" id="text-18-138-3">
<p>
<code>ERR</code> on failure, <code>OK</code> or some value other than <code>ERR</code> on success.
</p>
</div>
</div>

<div id="outline-container-sec-18-138-4" class="outline-4">
<h4 id="sec-18-138-4">Notes</h4>
<div class="outline-text-4" id="text-18-138-4">
<p>
As with <code>attron()</code>, the <code>slk_attron()</code> function merely adds
attributes to those already set. Setting a new attribute does not
affect previous attributes applied to the soft labels.
</p>

<p>
Soft label keys are normally displayed with the <code>A_STANDOUT</code>
attribute applied.
</p>

<p>
Multiple attributes can be applied by using more than one NCurses
attribute constant separated by a logical OR in the <code>slk_attron()</code>
statement.
</p>

<p>
Refer to <a href="#Table-A-1">Table A-1</a> (in the <code>attrset()</code> entry) for a list of
NCurses attribute constants.
</p>

<p>
<code>COLOR_PAIR(n)</code> can be specified as a text attribute, where <code>n</code> is
a color pair number defined by an <code>init_pair()</code> function earlier
in the program. Also see the <a href="#slk_color"><code>slk_color()</code></a> function.
</p>

<p>
Individual labels can be assigned unique attributes by using
<code>slk_attron()</code> or <code>slk_attrset()</code> and then issuing a <code>slk_set()</code>
function to update one or more labels. The updated labels show the
newly applied attributes.
</p>
</div>
</div>

<div id="outline-container-sec-18-138-5" class="outline-4">
<h4 id="sec-18-138-5">Examples</h4>
<div class="outline-text-4" id="text-18-138-5">
<div class="org-src-container">

<pre class="src src-c">slk_attron(A_UNDERLINE);
</pre>
</div>

<p>
Here, the underline attribute is set in addition to any other
attributes already defined for the soft labels.
</p>

<div class="org-src-container">

<pre class="src src-c">slk_attron(A_BOLD | A_BLINK);
</pre>
</div>

<p>
This statement turns on the bold and (annoying) blink attributes,
in addition to any other attributes previously defined, for the
soft labels.
</p>
</div>
</div>

<div id="outline-container-sec-18-138-6" class="outline-4">
<h4 id="sec-18-138-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-138-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LCOUNT</span> 8
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">labels</span>[LCOUNT][19] = { <span style="color: #ffa07a;">"Help!"</span>, <span style="color: #ffa07a;">"File"</span>, <span style="color: #ffa07a;">"Print"</span>, <span style="color: #ffa07a;">"Text"</span>,
<span class="linenr"> 9: </span>                              <span style="color: #ffa07a;">"Edit"</span>, <span style="color: #ffa07a;">"Quick"</span>, <span style="color: #ffa07a;">"Config"</span>, <span style="color: #ffa07a;">"System"</span> };
<span class="linenr">10: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">text</span>;
<span class="linenr">11: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  slk_init(0);
<span class="linenr">14: </span>  initscr();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;LCOUNT;x++)
<span class="linenr">17: </span>    slk_set(x+1,labels[x],CENTER);
<span class="linenr">18: </span>  slk_attron(A_BOLD);
<span class="linenr">19: </span>  slk_refresh();
<span class="linenr">20: </span>
<span class="linenr">21: </span>  refresh();
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  endwin();
<span class="linenr">25: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">26: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-138-6-1" class="outline-5">
<h5 id="sec-18-138-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-138-6-1">
<p>
The labels appear in bold text (in addition to inverse/standout).
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-138-7" class="outline-4">
<h4 id="sec-18-138-7">Also See</h4>
<div class="outline-text-4" id="text-18-138-7">
<p>
<a href="#attron"><code>attron()</code></a>, <a href="#slk_attrset"><code>slk_attrset()</code></a>, <a href="#slk_attroff"><code>slk_attroff()</code></a>, <a href="#slk_color"><code>slk_color()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-139" class="outline-3">
<h3 id="sec-18-139"><code>slk_attrset()</code>                                                    <a id="slk_attrset" name="slk_attrset"></a></h3>
<div class="outline-text-3" id="text-18-139">
<p>
The <code>slk_attrset()</code> function discards any previously defined
attributes for the soft label keys and defines a new set of
attributes. It is the soft label key counterpart of the <code>attrset()</code>
functions.
</p>
</div>

<div id="outline-container-sec-18-139-1" class="outline-4">
<h4 id="sec-18-139-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-139-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">slk_attrset</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">attrs</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">slk_attr_set</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">attr_t</span> <span style="color: #eedd82;">attrs</span>, <span style="color: #98fb98;">short</span> <span style="color: #eedd82;">color_pair_number</span>, ;
                 <span style="color: #98fb98;">void</span>* <span style="color: #eedd82;">opts</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-139-2" class="outline-4">
<h4 id="sec-18-139-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-139-2">
<p>
<code>attrs</code> is a <code>chtype</code> value representing one or more attribute
constants, as defined in <code>ncurses.h</code> and listed in <a href="#Table-A-1">Table A-1</a>
(under <code>attrset()</code>).
</p>

<p>
<code>color_pair_number</code> is a <code>short int</code> value representing a color
pair number defined by <code>init_pair()</code> earlier in the code. It's the
same value as the n used in <code>COLOR_PAIR(n)</code>.
</p>

<p>
<code>NULL</code> is used in the <code>slk_attr_set()</code> functions as a placeholder
the undefined opts value.
</p>
</div>
</div>

<div id="outline-container-sec-18-139-3" class="outline-4">
<h4 id="sec-18-139-3">Return Value</h4>
<div class="outline-text-4" id="text-18-139-3">
<p>
<code>ERR</code> on failure, a value other than <code>ERR</code> (such as <code>OK</code>) on
success.
</p>
</div>
</div>

<div id="outline-container-sec-18-139-4" class="outline-4">
<h4 id="sec-18-139-4">Notes</h4>
<div class="outline-text-4" id="text-18-139-4">
<p>
By default, the soft label keys are displayed in the <code>A_STANDOUT</code>
(reverse text) format. They use color pair 0.
</p>

<p>
Also see the entry for <a href="#attrset"><code>attrset()</code></a> for more notes, as well as the
notes for <a href="#slk_attron"><code>slk_attron()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-139-5" class="outline-4">
<h4 id="sec-18-139-5">Examples</h4>
<div class="outline-text-4" id="text-18-139-5">
<div class="org-src-container">

<pre class="src src-c">slk_attrset(A_BOLD);
</pre>
</div>

<p>
Here, the bold attribute is applied to the soft labels.
</p>

<div class="org-src-container">

<pre class="src src-c">slk_attrset(A_BOLD | A_UNDERLINE);
</pre>
</div>

<p>
The statement here applies both bold and underline attributes to
the soft label keys.
</p>

<div class="org-src-container">

<pre class="src src-c">slk_attrset(COLOR_PAIR(1));
slk_attr_set(0,1,<span style="color: #7fffd4;">NULL</span>);
</pre>
</div>


<p>
These two functions are identical; both assign color pair 1 to the
soft label keys.
</p>
</div>
</div>

<div id="outline-container-sec-18-139-6" class="outline-4">
<h4 id="sec-18-139-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-139-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LCOUNT</span> 8
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">labels</span>[LCOUNT][19] = { <span style="color: #ffa07a;">"Help!"</span>, <span style="color: #ffa07a;">"File"</span>, <span style="color: #ffa07a;">"Print"</span>, <span style="color: #ffa07a;">"Text"</span>,
<span class="linenr"> 9: </span>                              <span style="color: #ffa07a;">"Edit"</span>, <span style="color: #ffa07a;">"Quick"</span>, <span style="color: #ffa07a;">"Config"</span>, <span style="color: #ffa07a;">"System"</span> };
<span class="linenr">10: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">text</span>;
<span class="linenr">11: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  slk_init(0);
<span class="linenr">14: </span>  initscr();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;LCOUNT;x++)
<span class="linenr">17: </span>    slk_set(x+1,labels[x],CENTER);
<span class="linenr">18: </span>  slk_attrset(A_BOLD);
<span class="linenr">19: </span>  slk_refresh();
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  endwin();
<span class="linenr">23: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">24: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-139-6-1" class="outline-5">
<h5 id="sec-18-139-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-139-6-1">
<p>
The labels appear in bold text.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-139-7" class="outline-4">
<h4 id="sec-18-139-7">Also See</h4>
<div class="outline-text-4" id="text-18-139-7">
<p>
<a href="#attrset"><code>attrset()</code></a>, <a href="#slk_attron"><code>slk_attron()</code></a>, <a href="#slk_attroff"><code>slk_attroff()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-140" class="outline-3">
<h3 id="sec-18-140"><code>slk_clear()</code>                                                      <a id="slk_clear" name="slk_clear"></a></h3>
<div class="outline-text-3" id="text-18-140">
<p>
The <code>slk_clear()</code> function hides the soft labels.
</p>
</div>

<div id="outline-container-sec-18-140-1" class="outline-4">
<h4 id="sec-18-140-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-140-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">slk_clear</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-140-2" class="outline-4">
<h4 id="sec-18-140-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-140-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-140-3" class="outline-4">
<h4 id="sec-18-140-3">Return Value</h4>
<div class="outline-text-4" id="text-18-140-3">
<p>
<code>ERR</code> on failure; <code>OK</code> upon success (actually, any value other
than <code>ERR</code> on success).
</p>
</div>
</div>

<div id="outline-container-sec-18-140-4" class="outline-4">
<h4 id="sec-18-140-4">Notes</h4>
<div class="outline-text-4" id="text-18-140-4">
<p>
<code>slk_clear()</code> does not need to be followed by a <code>refresh()</code> type
command; it's effect is immediately seen.
</p>

<p>
This function merely hides the labels. To make them appear again,
use the <code>slk_restore()</code> function.
</p>

<p>
Using <code>slk_clear()</code> does not alter the reduced size of the
standard screen.  The bottom line(s) formerly used by the soft
labels still cannot be used.
</p>

<p>
<code>slk_clear()</code> hides all the soft labels. If you merely want to
hide (or remove) one label, use <code>slk_set()</code> to assign that label a
null string. See <a href="#slk_set"><code>slk_set()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-140-5" class="outline-4">
<h4 id="sec-18-140-5">Example</h4>
<div class="outline-text-4" id="text-18-140-5">
<div class="org-src-container">

<pre class="src src-c">slk_clear();
</pre>
</div>

<p>
The statement removes the soft label key display from the screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-140-6" class="outline-4">
<h4 id="sec-18-140-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-140-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LCOUNT</span> 8
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">labels</span>[LCOUNT][9] = { <span style="color: #ffa07a;">"Help!"</span>, <span style="color: #ffa07a;">"File"</span>, <span style="color: #ffa07a;">"Print"</span>, <span style="color: #ffa07a;">"Text"</span>,
<span class="linenr"> 9: </span>                             <span style="color: #ffa07a;">"Edit"</span>, <span style="color: #ffa07a;">"Quick"</span>, <span style="color: #ffa07a;">"Conf"</span>, <span style="color: #ffa07a;">"System"</span> };
<span class="linenr">10: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr">11: </span>
<span class="linenr">12: </span>  slk_init(0);
<span class="linenr">13: </span>  initscr();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;LCOUNT;x++)
<span class="linenr">16: </span>    slk_set(x+1,labels[x],CENTER);
<span class="linenr">17: </span>  slk_refresh();
<span class="linenr">18: </span>
<span class="linenr">19: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to hide the soft label keys:\n"</span>);
<span class="linenr">20: </span>  refresh();
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  slk_clear();
<span class="linenr">24: </span>  addstr(<span style="color: #ffa07a;">"Press Enter to restore the soft label keys:\n"</span>);
<span class="linenr">25: </span>  refresh();
<span class="linenr">26: </span>  getch();
<span class="linenr">27: </span>
<span class="linenr">28: </span>  slk_restore();
<span class="linenr">29: </span>  getch();
<span class="linenr">30: </span>
<span class="linenr">31: </span>  endwin();
<span class="linenr">32: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">33: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-140-6-1" class="outline-5">
<h5 id="sec-18-140-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-140-6-1">
<p>
Soft keys are displayed (refer to the figure for <a href="#slk_set"><code>slk_set()</code></a>).
</p>

<pre class="example">
Press Enter to hide the soft label keys:
</pre>

<p>
And the soft labels are gone.
</p>

<pre class="example">
Press Enter to restore the soft label keys:
</pre>

<p>
And they come back again.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-140-7" class="outline-4">
<h4 id="sec-18-140-7">Also See</h4>
<div class="outline-text-4" id="text-18-140-7">
<p>
<a href="#slk_restore"><code>slk_restore()</code></a>, <a href="#slk_set"><code>slk_set()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-141" class="outline-3">
<h3 id="sec-18-141"><code>slk_color()</code>                                                      <a id="slk_color" name="slk_color"></a></h3>
<div class="outline-text-3" id="text-18-141">
<p>
The <code>slk_color()</code> function chooses a color pair for the foreground
and background of the soft label text.
</p>
</div>

<div id="outline-container-sec-18-141-1" class="outline-4">
<h4 id="sec-18-141-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-141-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">slk_color</span>(<span style="color: #98fb98;">short</span> <span style="color: #eedd82;">color_pair_number</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-141-2" class="outline-4">
<h4 id="sec-18-141-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-141-2">
<p>
<code>color_pair_number</code> is a <code>short int</code> value representing a color
pair defined by the <code>init_pair()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-141-3" class="outline-4">
<h4 id="sec-18-141-3">Return Value</h4>
<div class="outline-text-4" id="text-18-141-3">
<p>
The function returns <code>ERR</code> on failure, <code>OK</code> or some value other
than <code>ERR</code> on success.
</p>
</div>
</div>

<div id="outline-container-sec-18-141-4" class="outline-4">
<h4 id="sec-18-141-4">Notes</h4>
<div class="outline-text-4" id="text-18-141-4">
<p>
Only the labels are colored; the spaces between the labels are
left as the terminal's assumed default color, such as black. Any
color applied to the standard screen extends down to the last row
just above the soft labels.
</p>

<p>
The index line (for <code>slk_init()</code> value 3) is always colored using
color pair 0; the <code>slk_color()</code>, as well as other slk attribute
functions, do not affect the index line.
</p>

<p>
The <code>slk_color(n)</code> function is equivalent to
<code>slk_attron(COLOR_PAIR(n))</code>.
</p>

<p>
The man page states that <code>slk_color()</code> has effect only when the
soft labels are simulated on the bottom of the screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-141-5" class="outline-4">
<h4 id="sec-18-141-5">Example</h4>
<div class="outline-text-4" id="text-18-141-5">
<div class="org-src-container">

<pre class="src src-c">slk_color(4);
</pre>
</div>

<p>
Here, the statement applies the foreground and background colors
of color pair 4 to the soft labels.
</p>
</div>
</div>

<div id="outline-container-sec-18-141-6" class="outline-4">
<h4 id="sec-18-141-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-141-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LCOUNT</span> 8
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">labels</span>[LCOUNT][19] = { <span style="color: #ffa07a;">"Help!"</span>, <span style="color: #ffa07a;">"File"</span>, <span style="color: #ffa07a;">"Print"</span>, <span style="color: #ffa07a;">"Text"</span>,
<span class="linenr"> 9: </span>                              <span style="color: #ffa07a;">"Edit"</span>, <span style="color: #ffa07a;">"Quick"</span>, <span style="color: #ffa07a;">"Config"</span>, <span style="color: #ffa07a;">"System"</span> };
<span class="linenr">10: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">text</span>;
<span class="linenr">11: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  slk_init(0);
<span class="linenr">14: </span>  initscr();
<span class="linenr">15: </span>  start_color();
<span class="linenr">16: </span>  init_pair(1,COLOR_BLUE,COLOR_WHITE);
<span class="linenr">17: </span>
<span class="linenr">18: </span>  slk_color(1);
<span class="linenr">19: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;LCOUNT;x++)
<span class="linenr">20: </span>    slk_set(x+1,labels[x],CENTER);
<span class="linenr">21: </span>  slk_refresh();
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  endwin();
<span class="linenr">25: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">26: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-141-6-1" class="outline-5">
<h5 id="sec-18-141-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-141-6-1">
<p>
The labels appear with white text on a blue background.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-141-7" class="outline-4">
<h4 id="sec-18-141-7">Also See</h4>
<div class="outline-text-4" id="text-18-141-7">
<p>
<a href="#color_set"><code>color_set()</code></a>, <a href="#slk_attron"><code>slk_attron()</code></a>, <a href="#slk_attrset"><code>slk_attrset()</code></a>, <a href="#init_pair"><code>init_pair()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-142" class="outline-3">
<h3 id="sec-18-142"><code>slk_init()</code>                                                       <a id="slk_init" name="slk_init"></a></h3>
<div class="outline-text-3" id="text-18-142">
<p>
The <code>slk_init()</code> function directs NCurses to configure itself to
display soft label keys on the screen.
</p>
</div>

<div id="outline-container-sec-18-142-1" class="outline-4">
<h4 id="sec-18-142-1">Explanation</h4>
<div class="outline-text-4" id="text-18-142-1">
<p>
Soft label keys consist of one or two rows of text along the
bottom of the screen.  Each text label is associated with a
function or soft label key, so that pressing that key carries out
the function as indicated (or so the theory goes).
</p>

<p>
NCurses soft label key (<i>slk</i>) functions allow for the display of
the soft label keys in your program, though programming your
keyboard's function keys must also be done to get the things to
work.
</p>
</div>
</div>

<div id="outline-container-sec-18-142-2" class="outline-4">
<h4 id="sec-18-142-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-142-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">slk_init</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">fmt</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-142-3" class="outline-4">
<h4 id="sec-18-142-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-142-3">
<p>
<code>fmt</code> is an <code>int</code> value from 0 through 3. The values specified
describe how the soft keys are configured, as referenced in
<a href="#Table-A-16">Table A-16</a> and illustrated in <a href="#Figure-A-14">Figure A-14</a>.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-16" name="Table-A-16">Table A-16</a> </dt><dd>Soft label setup for <code>slk_init()</code>'s <code>n</code>
                          argument

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="right" />

<col  class="right" />

<col  class="right" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right">FMT</th>
<th scope="col" class="right">TOTALLABELS</th>
<th scope="col" class="right">CHARS PER  LABEL</th>
<th scope="col" class="right">PATTERN</th>
<th scope="col" class="left">INDEX LINE</th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">0</td>
<td class="right">8</td>
<td class="right">8</td>
<td class="right">4-4</td>
<td class="left">No</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">1</td>
<td class="right">8</td>
<td class="right">8</td>
<td class="right">3-2-3</td>
<td class="left">No</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">2</td>
<td class="right">12</td>
<td class="right">5</td>
<td class="right">4-4-4</td>
<td class="left">No</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="right">3</td>
<td class="right">12</td>
<td class="right">5</td>
<td class="right">4-4-4</td>
<td class="left">Yes</td>
</tr>
</tbody>
</table>
</dd>

<dt> <a id="Figure-A-14" name="Figure-A-14">Figure A-14</a> </dt><dd>Soft label key setups


<div class="figure">
<p><img src="img/FigureA-14.jpg" alt="FigureA-14.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-142-4" class="outline-4">
<h4 id="sec-18-142-4">Return Value</h4>
<div class="outline-text-4" id="text-18-142-4">
<p>
<code>ERR</code> on failure, <code>OK</code> (or a value other than <code>ERR</code>) on success.
</p>
</div>
</div>

<div id="outline-container-sec-18-142-5" class="outline-4">
<h4 id="sec-18-142-5">Notes</h4>
<div class="outline-text-4" id="text-18-142-5">
<p>
The <code>slk_init()</code> function must be used before <code>initscr()</code> or
<code>newterm()</code>.
</p>

<p>
<code>slk_init()</code> decreases the number of lines available on the
standard screen by one or two, depending on the format. This
affects the value of the <code>LINES</code> constant. See <a href="#LINES"><code>LINES</code></a>.
</p>

<p>
The <code>slk_set()</code> function is used to apply text to the labels. To
make the labels show up, <code>slk_refresh()</code> is used.
</p>

<p>
I've found that when specifying 3 for <code>fmt</code>, it's often necessary
to use an <code>slk_restore()</code> command just after <code>initscr()</code> to get
the index line to display.
</p>

<p>
There are terminals where the soft key labels are supplied by
default; for example, they're not a part of the standard
screen. For those terminals, NCurses lets you program the
labels. The labels are simulated on other terminals (by removing
one or two lines from the standard screen).
</p>
</div>
</div>

<div id="outline-container-sec-18-142-6" class="outline-4">
<h4 id="sec-18-142-6">Example</h4>
<div class="outline-text-4" id="text-18-142-6">
<div class="org-src-container">

<pre class="src src-c">slk_init(0);
initscr();
</pre>
</div>


<p>
These statements set up the terminal for soft key labels. The
first line specifies 8 labels in a 4-4 pattern. Note that this
function must appear before <code>initscr()</code>. Further code is required
to apply text to and display the labels.
</p>
</div>
</div>

<div id="outline-container-sec-18-142-7" class="outline-4">
<h4 id="sec-18-142-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-142-7">
<p>
Refer to the entry for <a href="#slk_set"><code>slk_set()</code></a> for a sample program and
output.
</p>
</div>
</div>

<div id="outline-container-sec-18-142-8" class="outline-4">
<h4 id="sec-18-142-8">Also See</h4>
<div class="outline-text-4" id="text-18-142-8">
<p>
<a href="#chapter_12">Chapter 12</a>, <a href="#slk_set"><code>slk_set()</code></a>, <i><code>slk_reset()</code></i>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-143" class="outline-3">
<h3 id="sec-18-143"><code>slk_label()</code>                                                      <a id="slk_label" name="slk_label"></a></h3>
<div class="outline-text-3" id="text-18-143">
<p>
The <code>slk_label()</code> function returns the text assigned to a soft key
label.
</p>
</div>

<div id="outline-container-sec-18-143-1" class="outline-4">
<h4 id="sec-18-143-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-143-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">char</span> *<span style="color: #87cefa;">slk_label</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">labnum</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-143-2" class="outline-4">
<h4 id="sec-18-143-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-143-2">
<p>
<code>labnum</code> is an <code>int</code> value indicating which label to be
read. Values range from 1 through 8 or 12, depending on the label
configuration defined by <code>slk_init()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-143-3" class="outline-4">
<h4 id="sec-18-143-3">Return Value</h4>
<div class="outline-text-4" id="text-18-143-3">
<p>
A pointer is returned, the memory location of the text displayed
in the label.  On error, <code>NULL</code> is returned.
</p>
</div>
</div>

<div id="outline-container-sec-18-143-4" class="outline-4">
<h4 id="sec-18-143-4">Notes</h4>
<div class="outline-text-4" id="text-18-143-4">
<p>
Any blanks used to align the label are not returned by
<code>slk_label()</code>.
</p>

<p>
If the label's text is truncated, then only the truncated part is
returned by the <code>slk_label()</code> function.
</p>

<p>
When a label is not defined (blank), a null string is returned.
</p>
</div>
</div>

<div id="outline-container-sec-18-143-5" class="outline-4">
<h4 id="sec-18-143-5">Examples</h4>
<div class="outline-text-4" id="text-18-143-5">
<div class="org-src-container">

<pre class="src src-c">lab3 = slk_label(3);
</pre>
</div>

<p>
The statement places the memory location of the text used in soft
label 3 into the <code>char</code> pointer <code>lab3</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">printw(<span style="color: #ffa07a;">"Label %d is %s.\n"</span>,x,slk_label(x));
</pre>
</div>

<p>
The <code>printw()</code> statement displays the label number and text for
the label referenced by variable <code>x</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-143-6" class="outline-4">
<h4 id="sec-18-143-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-143-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LCOUNT</span> 8
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">labels</span>[LCOUNT][19] = { <span style="color: #ffa07a;">"Help!"</span>, <span style="color: #ffa07a;">"File"</span>, <span style="color: #ffa07a;">"Print"</span>, <span style="color: #ffa07a;">"Text"</span>,
<span class="linenr"> 9: </span>                              <span style="color: #ffa07a;">"Edit"</span>, <span style="color: #ffa07a;">"Quick"</span>, <span style="color: #ffa07a;">"Config"</span>, <span style="color: #ffa07a;">"System"</span> };
<span class="linenr">10: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">text</span>;
<span class="linenr">11: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">c</span>;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  slk_init(0);
<span class="linenr">14: </span>  initscr();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;LCOUNT;x++)
<span class="linenr">17: </span>    slk_set(x+1,labels[x],CENTER);
<span class="linenr">18: </span>  slk_refresh();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  addstr(<span style="color: #ffa07a;">"Retrieve the text for which label? "</span>);
<span class="linenr">21: </span>  refresh();
<span class="linenr">22: </span>  scanw(<span style="color: #ffa07a;">"%d"</span>,&amp;c);
<span class="linenr">23: </span>  text = slk_label(c);
<span class="linenr">24: </span>  printw(<span style="color: #ffa07a;">"The text for label %d is \"%s\".\n"</span>,c,slk_label(c));
<span class="linenr">25: </span>  refresh();
<span class="linenr">26: </span>  getch();
<span class="linenr">27: </span>
<span class="linenr">28: </span>  endwin();
<span class="linenr">29: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">30: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-143-6-1" class="outline-5">
<h5 id="sec-18-143-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-143-6-1">
<p>
The soft labels are displayed.
</p>

<pre class="example">
Retrieve the text for which label?
</pre>

<p>
Type a number, such as 7.
</p>

<pre class="example">
The text for label 7 is "Config".
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-143-7" class="outline-4">
<h4 id="sec-18-143-7">Also See</h4>
<div class="outline-text-4" id="text-18-143-7">
<p>
<a href="#slk_set"><code>slk_set()</code></a>, <a href="#slk_init"><code>slk_init()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-144" class="outline-3">
<h3 id="sec-18-144"><code>slk_noutrefresh()</code>                                                <a id="slk_noutrefresh" name="slk_noutrefresh"></a></h3>
<div class="outline-text-3" id="text-18-144">
<p>
The <code>slk_noutrefresh()</code> function finds touched parts of the soft
labels and prepares those portions for updating on the virtual
screen.
</p>
</div>

<div id="outline-container-sec-18-144-1" class="outline-4">
<h4 id="sec-18-144-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-144-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">slk_noutrefresh</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-144-2" class="outline-4">
<h4 id="sec-18-144-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-144-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-144-3" class="outline-4">
<h4 id="sec-18-144-3">Return Value</h4>
<div class="outline-text-4" id="text-18-144-3">
<p>
<code>OK</code>, or some value other than <code>ERR</code>, on success; <code>ERR</code> on
failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-144-4" class="outline-4">
<h4 id="sec-18-144-4">Notes</h4>
<div class="outline-text-4" id="text-18-144-4">
<p>
Refer to <a href="#wnoutrefresh"><code>wnoutrefresh()</code></a> for more information on this type of
function and how it can be used to optimize NCurses output.
</p>

<p>
When you use <code>slk_noutrefresh()</code>, as well as other noutrefresh()
functions, the <code>doupdate()</code> function is required to do the
actually displaying of text.
</p>
</div>
</div>

<div id="outline-container-sec-18-144-5" class="outline-4">
<h4 id="sec-18-144-5">Example</h4>
<div class="outline-text-4" id="text-18-144-5">
<div class="org-src-container">

<pre class="src src-c">slk_noutrefresh();
</pre>
</div>

<p>
The statement scans for any changes (touches) to the soft labels
and prepares the updated portions to be written to the screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-144-6" class="outline-4">
<h4 id="sec-18-144-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-144-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LCOUNT</span> 8
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">labels</span>[LCOUNT][19] = { <span style="color: #ffa07a;">"Help!"</span>, <span style="color: #ffa07a;">"File"</span>, <span style="color: #ffa07a;">"Print"</span>, <span style="color: #ffa07a;">"Text"</span>,
<span class="linenr"> 9: </span>                              <span style="color: #ffa07a;">"Edit"</span>, <span style="color: #ffa07a;">"Quick"</span>, <span style="color: #ffa07a;">"Config"</span>, <span style="color: #ffa07a;">"System"</span> };
<span class="linenr">10: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">text</span>;
<span class="linenr">11: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  slk_init(0);
<span class="linenr">14: </span>  initscr();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;LCOUNT;x++)
<span class="linenr">17: </span>    slk_set(x+1,labels[x],CENTER);
<span class="linenr">18: </span>  slk_noutrefresh();
<span class="linenr">19: </span>  addstr(<span style="color: #ffa07a;">"Welcome to your Soft Label Key program\n"</span>);
<span class="linenr">20: </span>  wnoutrefresh(stdscr);
<span class="linenr">21: </span>  doupdate();
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  endwin();
<span class="linenr">25: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">26: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-144-6-1" class="outline-5">
<h5 id="sec-18-144-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-144-6-1">
<p>
Both the text <code>Welcome to your Soft Label Key program</code> and soft
labels appear at the same time, thanks to the single <code>doupdate()</code>
function.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-144-7" class="outline-4">
<h4 id="sec-18-144-7">Also See</h4>
<div class="outline-text-4" id="text-18-144-7">
<p>
<a href="#wnoutrefresh"><code>wnoutrefresh()</code></a>, <a href="#doupdate"><code>doupdate()</code></a>, <a href="#slk_refresh"><code>slk_refresh()</code></a>, <a href="#slk_touch"><code>slk_touch()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-145" class="outline-3">
<h3 id="sec-18-145"><code>slk_refresh()</code>                                                    <a id="slk_refresh" name="slk_refresh"></a></h3>
<div class="outline-text-3" id="text-18-145">
<p>
The <code>slk_refresh()</code> function displays the soft label keys on the
screen or updates the soft label keys after a change has been
made. It's analogous to the <code>refresh()</code> function but specific to
the soft label keys.
</p>
</div>

<div id="outline-container-sec-18-145-1" class="outline-4">
<h4 id="sec-18-145-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-145-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">slk_refresh</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-145-2" class="outline-4">
<h4 id="sec-18-145-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-145-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-145-3" class="outline-4">
<h4 id="sec-18-145-3">Return Value</h4>
<div class="outline-text-4" id="text-18-145-3">
<p>
<code>ERR</code> on failure, <code>OK</code> (or a value other than <code>ERR</code>) on success.
</p>
</div>
</div>

<div id="outline-container-sec-18-145-4" class="outline-4">
<h4 id="sec-18-145-4">Notes</h4>
<div class="outline-text-4" id="text-18-145-4">
<p>
The <code>slk_refresh()</code> function is specific to the line(s) on the
screen containing the soft label keys. Because the line(s) is
outside of the standard screen, this special function is required
to update the text (labels) displayed there.
</p>

<p>
Like other <code>refresh()</code> functions in NCurses, <code>slk_refresh()</code> is a
combination of two lower-level functions: <code>slk_noutrefresh()</code> and
the <code>doupdate()</code> function. See <a href="#slk_noutrefresh"><code>slk_noutrefresh()</code></a> and
<a href="#doupdate"><code>doupdate()</code></a> for more information.
</p>
</div>
</div>

<div id="outline-container-sec-18-145-5" class="outline-4">
<h4 id="sec-18-145-5">Example</h4>
<div class="outline-text-4" id="text-18-145-5">
<div class="org-src-container">

<pre class="src src-c">slk_refresh();
</pre>
</div>

<p>
The function updates the soft label key display.
</p>
</div>
</div>

<div id="outline-container-sec-18-145-6" class="outline-4">
<h4 id="sec-18-145-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-145-6">
<p>
Refer to the entry for <a href="#slk_set"><code>slk_set()</code></a> for a sample program and
output.
</p>
</div>
</div>

<div id="outline-container-sec-18-145-7" class="outline-4">
<h4 id="sec-18-145-7">Also See</h4>
<div class="outline-text-4" id="text-18-145-7">
<p>
<a href="#chapter_12">Chapter 12</a>, <a href="#slk_init"><code>slk_init()</code></a>, <a href="#slk_set"><code>slk_set()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-146" class="outline-3">
<h3 id="sec-18-146"><code>slk_restore()</code>                                                    <a id="slk_restore" name="slk_restore"></a></h3>
<div class="outline-text-3" id="text-18-146">
<p>
The <code>slk_restore()</code> function redisplays the soft labels after an
<code>slk_clear()</code> command has temporarily hidden them.
</p>
</div>

<div id="outline-container-sec-18-146-1" class="outline-4">
<h4 id="sec-18-146-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-146-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">slk_restore</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-146-2" class="outline-4">
<h4 id="sec-18-146-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-146-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-146-3" class="outline-4">
<h4 id="sec-18-146-3">Return Value</h4>
<div class="outline-text-4" id="text-18-146-3">
<p>
<code>ERR</code> on failure; <code>OK</code> or any value other than <code>ERR</code> upon success.
</p>
</div>
</div>

<div id="outline-container-sec-18-146-4" class="outline-4">
<h4 id="sec-18-146-4">Notes</h4>
<div class="outline-text-4" id="text-18-146-4">
<p>
This function is often used in conjunction with <code>slk_clear()</code> to
show or hide the soft label keys.
</p>

<p>
As with <code>slk_clear()</code>, an <code>slk_refresh()</code> is not needed to follow
the <code>slk_restore()</code> and display the soft label keys.
</p>

<p>
A call to the <code>slk_restore()</code> function may be necessary right
after <code>initscr()</code> to urge NCurses to display the soft label key's
index line. See <a href="#slk_init"><code>slk_init()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-146-5" class="outline-4">
<h4 id="sec-18-146-5">Example</h4>
<div class="outline-text-4" id="text-18-146-5">
<div class="org-src-container">

<pre class="src src-c">slk_restore();
</pre>
</div>

<p>
The statement restores the soft label key display to the
screen. Presumably they were cleared previously by a <code>slk_clear()</code>
function.
</p>
</div>
</div>

<div id="outline-container-sec-18-146-6" class="outline-4">
<h4 id="sec-18-146-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-146-6">
<p>
Refer to the entry for <a href="#slk_clear"><code>slk_clear()</code></a> for a sample program and
output.
</p>
</div>
</div>

<div id="outline-container-sec-18-146-7" class="outline-4">
<h4 id="sec-18-146-7">Also See</h4>
<div class="outline-text-4" id="text-18-146-7">
<p>
<a href="#chapter_12">Chapter 12</a>, <a href="#slk_clear"><code>slk_clear()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-147" class="outline-3">
<h3 id="sec-18-147"><code>slk_set()</code>                                                        <a id="slk_set" name="slk_set"></a></h3>
<div class="outline-text-3" id="text-18-147">
<p>
The <code>slk_set()</code> function applies a text label to a specific soft
key.
</p>
</div>

<div id="outline-container-sec-18-147-1" class="outline-4">
<h4 id="sec-18-147-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-147-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">slk_set</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">labnum</span>, <span style="color: #00ffff;">const</span> <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">label</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">fmt</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-147-2" class="outline-4">
<h4 id="sec-18-147-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-147-2">
<p>
<code>labnum</code> is an <code>int</code> value representing a specific soft key
label. Values range from 1 through 8 or 1 through 12 depending on
the number of soft key labels <code>slk_init()</code> has created. The labels
are numbered from left to right across the screen.
</p>

<p>
<code>label</code> is a string constant or variable representing the text to
be assigned a label. When eight labels are displayed, each label
can have up to eight characters of text displayed. For the 12
label configuration, each label displays up to five
characters. Extra characters are truncated on the right.
</p>

<p>
<code>fmt</code> is an <code>int</code> value describing how text is to be aligned
within a label's space.  Valid values are 0 for left-justified; 1
for centered; and 2 for right-justified.
</p>
</div>
</div>

<div id="outline-container-sec-18-147-3" class="outline-4">
<h4 id="sec-18-147-3">Return Value</h4>
<div class="outline-text-4" id="text-18-147-3">
<p>
An <code>int</code> value: <code>ERR</code> on failure, <code>OK</code> (or a value other than
<code>ERR</code>) on success.
</p>
</div>
</div>

<div id="outline-container-sec-18-147-4" class="outline-4">
<h4 id="sec-18-147-4">Notes</h4>
<div class="outline-text-4" id="text-18-147-4">
<p>
Soft label keys must first be initialized before <code>slk_set()</code> can
be used. See <a href="#slk_init"><code>slk_init()</code></a>.
</p>

<p>
The <code>slk_init()</code> function also determines the total number of
labels available as well as how many characters can appear in each
label. See <a href="#Table-A-16">Table A-16</a>.
</p>

<p>
Remember that the labels are numbered starting with 1, not zero.
</p>

<p>
The labels and their text do not appear until an <code>slk_restore()</code>
function is used.
</p>

<p>
To remove text from a label, specify a null string as the label
argument in <code>slk_set()</code>.
</p>

<p>
A label's text can be changed at any time by issuing an
<code>slk_set()</code> function with new label text, followed by the
appropriate <code>slk_refresh()</code> function.
</p>

<p>
The <code>slk_label()</code> function returns text assigned to a given
label. See <a href="#slk_label"><code>slk_label()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-147-5" class="outline-4">
<h4 id="sec-18-147-5">Examples</h4>
<div class="outline-text-4" id="text-18-147-5">
<div class="org-src-container">

<pre class="src src-c">slk_set(1,<span style="color: #ffa07a;">"HELP!"</span>,1);
</pre>
</div>

<p>
Here, the text <code>HELP!</code> is applied to the first soft label. It is
centered within the label.
</p>

<div class="org-src-container">

<pre class="src src-c">slk_set(8,<span style="color: #ffa07a;">""</span>,0);
slk_refresh();
</pre>
</div>

<p>
The statements remove the label from soft label key 8.
</p>
</div>
</div>

<div id="outline-container-sec-18-147-6" class="outline-4">
<h4 id="sec-18-147-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-147-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LEFT</span> 0
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 5: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">RIGHT</span> 2
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 8: </span>{
<span class="linenr"> 9: </span>  slk_init(0);
<span class="linenr">10: </span>  initscr();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  slk_set(1,<span style="color: #ffa07a;">"Help!"</span>,LEFT);
<span class="linenr">13: </span>  slk_set(2,<span style="color: #ffa07a;">"File"</span>,LEFT);
<span class="linenr">14: </span>  slk_set(3,<span style="color: #ffa07a;">"Print"</span>,LEFT);
<span class="linenr">15: </span>  slk_set(4,<span style="color: #ffa07a;">"Text"</span>,CENTER);
<span class="linenr">16: </span>  slk_set(5,<span style="color: #ffa07a;">"Edit"</span>,CENTER);
<span class="linenr">17: </span>  slk_set(6,<span style="color: #ffa07a;">"Quick"</span>,RIGHT);
<span class="linenr">18: </span>  slk_set(7,<span style="color: #ffa07a;">"Conf"</span>,RIGHT);
<span class="linenr">19: </span>  slk_set(8,<span style="color: #ffa07a;">"Change"</span>,RIGHT);
<span class="linenr">20: </span>  slk_refresh();
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  endwin();
<span class="linenr">24: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">25: </span>}
</pre>
</div>

<p>
The sample output is shown in <a href="#Figure-A-15">Figure A-15</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-15" name="Figure-A-15">Figure A-15</a> </dt><dd>Soft label keys are set.


<div class="figure">
<p><img src="img/FigureA-15.jpg" alt="FigureA-15.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-147-7" class="outline-4">
<h4 id="sec-18-147-7">Also See</h4>
<div class="outline-text-4" id="text-18-147-7">
<p>
<a href="#chapter_12">Chapter 12</a>, <a href="#slk_init"><code>slk_init()</code></a>, <a href="#slk_label"><code>slk_label()</code></a>, <a href="#slk_refresh"><code>slk_refresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-148" class="outline-3">
<h3 id="sec-18-148"><code>slk_touch()</code>                                                      <a id="slk_touch" name="slk_touch"></a></h3>
<div class="outline-text-3" id="text-18-148">
<p>
The <code>slk_touch()</code> function flags all portions of the soft labels as
requiring an update, forcing NCurses to redraw the soft labels on
the next <code>slk_noutrefresh()</code> or <code>slk_refresh()</code> call.
</p>
</div>

<div id="outline-container-sec-18-148-1" class="outline-4">
<h4 id="sec-18-148-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-148-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">slk_touch</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-148-2" class="outline-4">
<h4 id="sec-18-148-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-148-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-148-3" class="outline-4">
<h4 id="sec-18-148-3">Return Value</h4>
<div class="outline-text-4" id="text-18-148-3">
<p>
<code>ERR</code> on failure, <code>OK</code> or some value other than <code>ERR</code> on success.
</p>
</div>
</div>

<div id="outline-container-sec-18-148-4" class="outline-4">
<h4 id="sec-18-148-4">Notes</h4>
<div class="outline-text-4" id="text-18-148-4">
<p>
Refer to the entry for <a href="#touchwin"><code>touchwin()</code></a> for the lowdown on how NCurses
reacts to touched portions of a window and how that relates to
information being updated on the screen. The same information
applies to the soft labels.
</p>
</div>
</div>

<div id="outline-container-sec-18-148-5" class="outline-4">
<h4 id="sec-18-148-5">Example</h4>
<div class="outline-text-4" id="text-18-148-5">
<div class="org-src-container">

<pre class="src src-c">slk_touch();
</pre>
</div>

<p>
The statement flags all of the soft labels are requiring an update
with the next <code>slk_noutrefresh()</code> or <code>slk_refresh()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-148-6" class="outline-4">
<h4 id="sec-18-148-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-148-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">CENTER</span> 1
<span class="linenr"> 4: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">LCOUNT</span> 8
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">labels</span>[LCOUNT][19] = { <span style="color: #ffa07a;">"Help!"</span>, <span style="color: #ffa07a;">"File"</span>, <span style="color: #ffa07a;">"Print"</span>, <span style="color: #ffa07a;">"Text"</span>,
<span class="linenr"> 9: </span>                              <span style="color: #ffa07a;">"Edit"</span>, <span style="color: #ffa07a;">"Quick"</span>, <span style="color: #ffa07a;">"Config"</span>, <span style="color: #ffa07a;">"System"</span> };
<span class="linenr">10: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">text</span>;
<span class="linenr">11: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>;
<span class="linenr">12: </span>
<span class="linenr">13: </span>  slk_init(0);
<span class="linenr">14: </span>  initscr();
<span class="linenr">15: </span>  start_color();
<span class="linenr">16: </span>  init_pair(1,COLOR_RED,COLOR_YELLOW);
<span class="linenr">17: </span>
<span class="linenr">18: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;LCOUNT;x++)
<span class="linenr">19: </span>    slk_set(x+1,labels[x],CENTER);
<span class="linenr">20: </span>  slk_refresh();
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  slk_color(1);
<span class="linenr">24: </span>  slk_touch();
<span class="linenr">25: </span>  slk_refresh();
<span class="linenr">26: </span>  getch();
<span class="linenr">27: </span>
<span class="linenr">28: </span>  endwin();
<span class="linenr">29: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">30: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-148-6-1" class="outline-5">
<h5 id="sec-18-148-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-148-6-1">
<p>
The soft labels appear. Press Enter and they reappear with color
applied. If the <code>slk_touch()</code> was not issued in line 24, then the
new color attributes would not have been seen. (Comment out that
line, and recompile to see.)
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-148-7" class="outline-4">
<h4 id="sec-18-148-7">Also See</h4>
<div class="outline-text-4" id="text-18-148-7">
<p>
<a href="#slk_refresh"><code>slk_refresh()</code></a>, <a href="#touchwin"><code>touchwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-149" class="outline-3">
<h3 id="sec-18-149"><code>standend()</code>                                                       <a id="standend" name="standend"></a></h3>
<div class="outline-text-3" id="text-18-149">
<p>
The <code>standend()</code> function is used to turn off text attributes.
</p>
</div>

<div id="outline-container-sec-18-149-1" class="outline-4">
<h4 id="sec-18-149-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-149-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">standend</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wstandend</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-149-2" class="outline-4">
<h4 id="sec-18-149-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-149-2">
<p>
The function has no arguments.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> entry later in this appendix for information on
the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-149-3" class="outline-4">
<h4 id="sec-18-149-3">Return Value</h4>
<div class="outline-text-4" id="text-18-149-3">
<p>
The return value, according to the documentation, is "not
meaningful."
</p>
</div>
</div>

<div id="outline-container-sec-18-149-4" class="outline-4">
<h4 id="sec-18-149-4">Notes</h4>
<div class="outline-text-4" id="text-18-149-4">
<p>
While it would seem that <code>standend()</code> is the logical bookend
function to <code>standout()</code>, it does more than just turn off the
standout text attribute; it turns off <i>all</i> text attributes, even
color.
</p>

<p>
<code>standend()</code> is identical to the following:
</p>

<div class="org-src-container">

<pre class="src src-c">attrset(A_NORMAL);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-149-5" class="outline-4">
<h4 id="sec-18-149-5">Example</h4>
<div class="outline-text-4" id="text-18-149-5">
<div class="org-src-container">

<pre class="src src-c">standend();
</pre>
</div>

<p>
The statement restores the normal text attribute for all text
subsequently displayed on the standard screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-149-6" class="outline-4">
<h4 id="sec-18-149-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-149-6">
<p>
For a sample program and sample output refer to the <a href="#standout"><code>standout()</code></a>
function's entry (next).
</p>
</div>
</div>

<div id="outline-container-sec-18-149-7" class="outline-4">
<h4 id="sec-18-149-7">Also See</h4>
<div class="outline-text-4" id="text-18-149-7">
<p>
<a href="#chapter_3">Chapter 3</a>, <a href="#attrset"><code>attrset()</code></a>, <a href="#attroff"><code>attroff()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-150" class="outline-3">
<h3 id="sec-18-150"><code>standout()</code>                                                       <a id="standout" name="standout"></a></h3>
<div class="outline-text-3" id="text-18-150">
<p>
The <code>standout()</code> function activates the standout attribute for text
displayed on the screen.
</p>
</div>

<div id="outline-container-sec-18-150-1" class="outline-4">
<h4 id="sec-18-150-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-150-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">standout</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wstandout</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-150-2" class="outline-4">
<h4 id="sec-18-150-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-150-2">
<p>
The function has no arguments.
</p>

<p>
Refer to the <a href="#w_prefix"><code>w</code></a> entry later in this appendix for information on
the <code>win</code> argument.
</p>
</div>
</div>

<div id="outline-container-sec-18-150-3" class="outline-4">
<h4 id="sec-18-150-3">Return Value</h4>
<div class="outline-text-4" id="text-18-150-3">
<p>
The return value, according to the documentation, is "not
meaningful."
</p>
</div>
</div>

<div id="outline-container-sec-18-150-4" class="outline-4">
<h4 id="sec-18-150-4">Notes</h4>
<div class="outline-text-4" id="text-18-150-4">
<p>
On most terminals, standout displays text in reverse video, such
as black text on a white background.
</p>

<p>
This function is identical to the following:
</p>

<div class="org-src-container">

<pre class="src src-c">attron(A_STANDOUT);
</pre>
</div>

<p>
In fact, the <code>standout()</code> function may simply be a macro using the
<code>attron(A_STANDOUT)</code> function as its definition.
</p>

<p>
<code>standout()</code> is an older Curses function and therefore I recommend
avoiding it. Use <code>attron()</code> or <code>attrset()</code> instead.
</p>
</div>
</div>

<div id="outline-container-sec-18-150-5" class="outline-4">
<h4 id="sec-18-150-5">Example</h4>
<div class="outline-text-4" id="text-18-150-5">
<div class="org-src-container">

<pre class="src src-c">wstandout(output);
</pre>
</div>

<p>
The statement activates the standout attribute for any text
subsequently written to the window output.
</p>
</div>
</div>

<div id="outline-container-sec-18-150-6" class="outline-4">
<h4 id="sec-18-150-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-150-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  addstr(<span style="color: #ffa07a;">"Yes, I must admit that "</span>);
<span class="linenr"> 8: </span>  standout();
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"Chris"</span>);
<span class="linenr">10: </span>  standend();
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">" is my favorite pupil."</span>);
<span class="linenr">12: </span>  refresh();
<span class="linenr">13: </span>  getch();
<span class="linenr">14: </span>
<span class="linenr">15: </span>  endwin();
<span class="linenr">16: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">17: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-150-6-1" class="outline-5">
<h5 id="sec-18-150-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-150-6-1">
<pre class="example">
Yes, I must admit that Chris is my favorite pupil.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-150-7" class="outline-4">
<h4 id="sec-18-150-7">Also See</h4>
<div class="outline-text-4" id="text-18-150-7">
<p>
<a href="#chapter_3">Chapter 3</a>, <a href="#attrset"><code>attrset()</code></a>, <a href="#attron"><code>attron()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-151" class="outline-3">
<h3 id="sec-18-151"><code>start_color()</code>                                                    <a id="start_color" name="start_color"></a></h3>
<div class="outline-text-3" id="text-18-151">
<p>
The <code>start_color()</code> function is used on those terminals that can
display colored text to allow NCurses to access those color
abilities. No NCurses text or background color functions can be
used until <code>start_color()</code> has initialized colors in NCurses.
</p>
</div>

<div id="outline-container-sec-18-151-1" class="outline-4">
<h4 id="sec-18-151-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-151-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">start_color</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-151-2" class="outline-4">
<h4 id="sec-18-151-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-151-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-151-3" class="outline-4">
<h4 id="sec-18-151-3">Return Value</h4>
<div class="outline-text-4" id="text-18-151-3">
<p>
<code>OK</code> upon success, meaning that your program can use color functions
and color attributes. <code>ERR</code> upon failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-151-4" class="outline-4">
<h4 id="sec-18-151-4">Notes</h4>
<div class="outline-text-4" id="text-18-151-4">
<p>
The <code>has_colors()</code> function can be used initially to determine
whether or not the terminal is capable of setting text colors.
</p>

<p>
<code>start_color()</code> traditionally appears just after the <code>initscr()</code>
or newterm() function.
</p>

<p>
The colors applied to text or to a window's background are created
as color pairs. See <a href="#init_pair"><code>init_pair()</code></a>.
</p>

<p>
Colors are applied similar to other attributes. See <a href="#attrset"><code>attrset()</code></a>,
<code>attron()</code>, <code>bkgd()</code>. Colors can also be applied directly by using
a logical OR to build a chtype character, and then using any of
the <code>chtype</code> character functions to place that text in a window.
</p>

<p>
Custom colors can be created by using the <code>init_color()</code> function,
though not every terminal supports it. Also see the
<a href="#can_change_color"><code>can_change_color()</code></a> function.
</p>

<p>
The number of colors available to a terminal can be found by
examining the <code>COLORS</code> constant. See <a href="#COLORS"><code>COLORS</code></a>.
</p>

<p>
Also refer to this appendix's <a href="#COLORS"><code>COLORS</code></a> entry for a list of NCurses
color constants.
</p>

<p>
The number of color pairs available is found by examining the
<code>COLOR_PAIRS</code> constant.
</p>
</div>
</div>

<div id="outline-container-sec-18-151-5" class="outline-4">
<h4 id="sec-18-151-5">Example</h4>
<div class="outline-text-4" id="text-18-151-5">
<div class="org-src-container">

<pre class="src src-c">start_color();
</pre>
</div>

<p>
The function initializes color for the NCurses program.
</p>
</div>
</div>

<div id="outline-container-sec-18-151-6" class="outline-4">
<h4 id="sec-18-151-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-151-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>);
<span class="linenr"> 5: </span>
<span class="linenr"> 6: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 7: </span>{
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">first test for color ability of the terminal </span><span style="color: #ff4500;">*/</span>
<span class="linenr">11: </span>  <span style="color: #00ffff;">if</span>(!has_colors()) bomb(1);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">next attempt to initialize NCurses colors </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  <span style="color: #00ffff;">if</span>(start_color() != OK) bomb(2);
<span class="linenr">15: </span>
<span class="linenr">16: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">colors are okay; continue </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>
<span class="linenr">18: </span>  printw(<span style="color: #ffa07a;">"Colors have been properly initialized.\n"</span>);
<span class="linenr">19: </span>  printw(<span style="color: #ffa07a;">"Congratulations!\n"</span>);
<span class="linenr">20: </span>  printw(<span style="color: #ffa07a;">"NCurses reports that you can use %d colors,\n"</span>,COLORS);
<span class="linenr">21: </span>  printw(<span style="color: #ffa07a;">"and %d color pairs."</span>,COLOR_PAIRS);
<span class="linenr">22: </span>  refresh();
<span class="linenr">23: </span>  getch();
<span class="linenr">24: </span>
<span class="linenr">25: </span>  endwin();
<span class="linenr">26: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">27: </span>}
<span class="linenr">28: </span>
<span class="linenr">29: </span><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>)
<span class="linenr">30: </span>{
<span class="linenr">31: </span>  endwin();
<span class="linenr">32: </span>  printw(<span style="color: #ffa07a;">"Color problem %d\n"</span>,r);
<span class="linenr">33: </span>  exit(r);
<span class="linenr">34: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-151-6-1" class="outline-5">
<h5 id="sec-18-151-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-151-6-1">
<pre class="example">
Colors have been properly initialized.
Congratulations!
NCurses reports that you can use 8 colors,
and 64 color pairs.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-151-7" class="outline-4">
<h4 id="sec-18-151-7">Also See</h4>
<div class="outline-text-4" id="text-18-151-7">
<p>
<a href="#chapter_3">Chapter 3</a>, <a href="#has_colors"><code>has_colors()</code></a>, <a href="#init_pair"><code>init_pair()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-152" class="outline-3">
<h3 id="sec-18-152"><code>subpad()</code>                                                         <a id="subpad" name="subpad"></a></h3>
<div class="outline-text-3" id="text-18-152">
<p>
The <code>subpad()</code> function creates and defines a rectangle on a pad as
a subpad, much the same as <code>subwin()</code> creates a subwindow.
</p>
</div>

<div id="outline-container-sec-18-152-1" class="outline-4">
<h4 id="sec-18-152-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-152-1">
<div class="org-src-container">

<pre class="src src-c">WINDOW *subpad(WINDOW *orig, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">nlines</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ncols</span>,<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">begin_y</span>, <span style="color: #98fb98;">int</span>
               <span style="color: #eedd82;">begin_x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-152-2" class="outline-4">
<h4 id="sec-18-152-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-152-2">
<p>
<code>orig</code> is a <code>WINDOW</code> variable, a pointer, representing the parent
pad.
</p>

<p>
<code>nlines</code> and <code>ncols</code> are <code>int</code> values that set the subpad's size
in rows and columns. Values for <code>nlines</code> and <code>ncols</code> cannot be
larger than the parent pad.
</p>

<p>
<code>begin_y</code> and <code>begin_x</code> are <code>int</code> values that set the subpad's
position relative to the parent pad. The value 0,0 is the parent
pad's upper-left corner.
</p>
</div>
</div>

<div id="outline-container-sec-18-152-3" class="outline-4">
<h4 id="sec-18-152-3">Return Value</h4>
<div class="outline-text-4" id="text-18-152-3">
<p>
When the <code>subpad()</code> call is successful, a subpad is created in
memory and a pointer to a <code>WINDOW</code> structure is returned. When
things go awry, <code>NULL</code> is returned and no subpad is created.
</p>
</div>
</div>

<div id="outline-container-sec-18-152-4" class="outline-4">
<h4 id="sec-18-152-4">Notes</h4>
<div class="outline-text-4" id="text-18-152-4">
<p>
The subpad must fit completely inside the parent pad. Aside from
that, like pads subpads can be larger than the standard screen.
</p>

<p>
As with a subwindow, a subpad shares memory with the pad: Changes
to one are reflected in the other.
</p>

<p>
The best way to put a subpad to use is as a shortcut to reference
a specific area in a pad. As such, it's easier to calculate
offsets with in a subpad than from the entire pad. Refer to the
code for <a href="code/book/paddy2.c"><code>PADDY2.C</code></a> in <a href="#chapter_11">Chapter 11</a> for an example.
</p>

<p>
As with the pad, the subpad is created off-screen. Use the
<code>prefresh()</code> function to display its contents. See <a href="#prefresh"><code>prefresh()</code></a>.
</p>

<p>
Subpads are removed with the <code>delwin()</code> function. Be sure to
remove all subpads before the parent pad is removed.
</p>

<p>
It's possible to have subpads within subpads.
</p>

<p>
It may be necessary to call <code>touchline()</code> or <code>touchwin()</code> on the
pad to update the information on the subpad.
</p>
</div>
</div>

<div id="outline-container-sec-18-152-5" class="outline-4">
<h4 id="sec-18-152-5">Example</h4>
<div class="outline-text-4" id="text-18-152-5">
<div class="org-src-container">

<pre class="src src-c">s2 = subpad(p,TALL,WIDE+1,TALL,0);
</pre>
</div>

<p>
The statement creates a subpad <code>s2</code> inside pad <code>p</code>. The pad is
<code>TALL</code> rows tall and <code>WIDE+1</code> columns wide. It's located at offset
<code>TALL</code>, 0 inside pad <code>p</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-152-6" class="outline-4">
<h4 id="sec-18-152-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-152-6">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>);

<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
{
  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">pod</span>,*<span style="color: #eedd82;">pea</span>;

  initscr();

  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create a new pad </span><span style="color: #ff4500;">*/</span>
  pod = newpad(50,50);
  <span style="color: #00ffff;">if</span>( pod == <span style="color: #7fffd4;">NULL</span> )
    bomb(<span style="color: #ffa07a;">"Unable to create new pad"</span>);

  addstr(<span style="color: #ffa07a;">"New pad created\n"</span>);
  refresh();

  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create a subpad </span><span style="color: #ff4500;">*/</span>
  pea = subpad(pod,20,20,29,29);
  <span style="color: #00ffff;">if</span>( pea == <span style="color: #7fffd4;">NULL</span> )
    bomb(<span style="color: #ffa07a;">"Unable to create subpad"</span>);

  addstr(<span style="color: #ffa07a;">"Subpad created\n"</span>);
  refresh();
  getch();

  endwin();
  <span style="color: #00ffff;">return</span> 0;
}

<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">bomb</span>(<span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">message</span>)
{
  endwin();
  puts(message);
  exit(1);
}
</pre>
</div>
</div>

<div id="outline-container-sec-18-152-6-1" class="outline-5">
<h5 id="sec-18-152-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-152-6-1">
<pre class="example">
New pad created

Subpad created
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-152-7" class="outline-4">
<h4 id="sec-18-152-7">Also See</h4>
<div class="outline-text-4" id="text-18-152-7">
<p>
<a href="#chapter_11">Chapter 11</a>, <a href="#newpad"><code>newpad()</code></a>, <a href="#prefresh"><code>prefresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-153" class="outline-3">
<h3 id="sec-18-153"><code>subwin()</code>                                                         <a id="subwin" name="subwin"></a></h3>
<div class="outline-text-3" id="text-18-153">
<p>
The <code>subwin()</code> function creates a subwindow or window within a
window.
</p>
</div>

<div id="outline-container-sec-18-153-1" class="outline-4">
<h4 id="sec-18-153-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-153-1">
<div class="org-src-container">

<pre class="src src-c">WINDOW *subwin(WINDOW *orig, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">nlines</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ncols</span>,
               <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">begin_y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">begin_x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-153-2" class="outline-4">
<h4 id="sec-18-153-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-153-2">
<p>
<code>orig</code> is a window on the screen, which becomes the parent window
of the subwindow.
</p>

<p>
<code>nlines</code> and <code>ncols</code> are <code>int</code> values indicating the number of
rows and columns the subwindow contains, respectively. Values
range from 1 to the distance between the window's origin and the
bottom and right edges of the window, respectively. When either
<code>nlines</code> or <code>ncols</code> is 0, the subwindow extends from its origin to
the bottom or right edge of the parent window, respectively.
Neither <code>nlines</code> nor <code>ncols</code> can be negative.
</p>

<p>
<code>begin_y</code> and <code>begin_x</code> give the subwindow's origin, the
upper-right coordinate relative to the standard screen. Values for
<code>begin_y</code> and <code>begin_x</code> are <code>ints</code>, ranging from 0, 0 (the
upper-left corner of the screen) to the maximum number of rows and
columns for the standard screen. (See <a href="#COLS"><code>COLS</code></a> and <a href="#LINES"><code>LINES</code></a>.)
</p>
</div>
</div>

<div id="outline-container-sec-18-153-3" class="outline-4">
<h4 id="sec-18-153-3">Return Value</h4>
<div class="outline-text-4" id="text-18-153-3">
<p>
Upon success, a pointer is returned, which is saved in a <code>WINDOW</code>
variable declared just as regular windows are declared. On
failure, <code>NULL</code> is returned.  (See <code>NULL</code>.)
</p>
</div>
</div>

<div id="outline-container-sec-18-153-4" class="outline-4">
<h4 id="sec-18-153-4">Notes</h4>
<div class="outline-text-4" id="text-18-153-4">
<p>
You shouldn't really think of a subwindow as a real window. In
fact, if you need a real window, use <code>newwin()</code> or any of the
window creation functions, to make a new window. The features
available to real windows over subwindows are far more rich and
versatile.
</p>

<p>
Subwindows are best put to use as a way to access a specific
rectangle within a window. For example, you can apply a unique
background to the subwindow or use its coordinates as handy
offsets that would require more overhead to calculate
otherwise. <a href="#chapter_9">Chapter 9</a> has more details.
</p>

<p>
Subwindows can have their own subwindows.
</p>

<p>
Remember that the <code>begin_y</code> and <code>begin_x</code> coordinates for the
subwindow's origin are relative to the standard screen, not the
parent window.
</p>

<p>
As with a real window, a subwindow cannot be larger than the
standard screen, nor can any part of the window be off the screen.
</p>

<p>
The smallest subwindow is one character by one character.
</p>

<p>
All commands that deal with windows also apply to
subwindows. Though:
</p>

<p>
A <code>refresh()</code> call to the parent window is all that's needed to
initially display both the parent and any subwindow(s). After
that, however, calls to <code>wrefresh()</code> are required to update a
subwindow.
</p>

<p>
Subwindows do not have their own window data in memory. Instead,
they share memory with their parents. This leads to many
drawbacks, among them: It's possible for the parent window to
overwrite text in a subwindow; and the subwindow must be deleted
before removing the parent window. (See <a href="#delwin"><code>delwin()</code></a>.)
</p>
</div>
</div>

<div id="outline-container-sec-18-153-5" class="outline-4">
<h4 id="sec-18-153-5">Examples</h4>
<div class="outline-text-4" id="text-18-153-5">
<div class="org-src-container">

<pre class="src src-c">footnote = subwin(stdscr,2,COLS,LINES-2,0);
</pre>
</div>

<p>
The statement creates a subwindow named <code>footnote</code> in the standard
screen. The window occupies the bottom two rows of the screen from
the left to right sides of the standard screen window. (See
<a href="#COLS"><code>COLS</code></a>, <a href="#LINES"><code>LINES</code></a>.)
</p>

<div class="org-src-container">

<pre class="src src-c">menu_edit = subwin(menubar,12,20,2,43);
</pre>
</div>

<p>
Here, the subwindow <code>menu_edit</code> is created in the window
<code>menubar</code>.  <code>menu_edit</code> is 12 rows by 20 columns and its
upper-left corner is at row 2, column 23, which are screen
coordinates and not offsets within the window <code>menubar</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-153-6" class="outline-4">
<h4 id="sec-18-153-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-153-6">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>

<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
{
  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">sonny</span>;

  initscr();
  start_color();
  init_pair(1,COLOR_WHITE,COLOR_BLUE);
  init_pair(2,COLOR_RED,COLOR_YELLOW);

  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">create subwindow </span><span style="color: #ff4500;">*/</span>
  sonny = subwin(stdscr,14,50,10,30);
  <span style="color: #00ffff;">if</span>(sonny == <span style="color: #7fffd4;">NULL</span>)
    {
      endwin();
      puts(<span style="color: #ffa07a;">"Unable to create subwindow\n"</span>);
      <span style="color: #00ffff;">return</span>(1);
    }

  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">color windows and splash some text </span><span style="color: #ff4500;">*/</span>
  bkgd(COLOR_PAIR(1));
  addstr(<span style="color: #ffa07a;">"Hello, son."</span>);
  wbkgd(sonny,COLOR_PAIR(2));
  waddstr(sonny,<span style="color: #ffa07a;">"Hello, Dad."</span>);
  refresh();
  getch();

  endwin();
  <span style="color: #00ffff;">return</span> 0;
}
</pre>
</div>

<p>
The sample output is shown in <a href="#Figure-A-2">Figure A-2</a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-153-7" class="outline-4">
<h4 id="sec-18-153-7">Also See</h4>
<div class="outline-text-4" id="text-18-153-7">
<p>
<a href="#chapter_9">Chapter 9</a>, <a href="#newwin"><code>newwin()</code></a>, <a href="#derwin"><code>derwin()</code></a>, <a href="#delwin"><code>delwin()</code></a>, <a href="#WINDOW"><code>WINDOW</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-154" class="outline-3">
<h3 id="sec-18-154"><code>syncok()</code>                                                         <a id="syncok" name="syncok"></a></h3>
<div class="outline-text-3" id="text-18-154">
<p>
The <code>syncok()</code> function directs NCurses to automatically (or not)
touch parents of a subwindow when that subwindow's contents are
changed.
</p>
</div>

<div id="outline-container-sec-18-154-1" class="outline-4">
<h4 id="sec-18-154-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-154-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">syncok</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">bf</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-154-2" class="outline-4">
<h4 id="sec-18-154-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-154-2">
<p>
<code>win</code> is a <code>WINDOW</code> variable representing a subwindow.
</p>

<p>
<code>bf</code> is a Boolean value, either <code>TRUE</code> to touch the subwindows for
updating and <code>FALSE</code> not to.
</p>
</div>
</div>

<div id="outline-container-sec-18-154-3" class="outline-4">
<h4 id="sec-18-154-3">Return Value</h4>
<div class="outline-text-4" id="text-18-154-3">
<p>
<code>OK</code> on success, <code>ERR</code> on failure (though it could be any value
other than <code>ERR</code> on success).
</p>
</div>
</div>

<div id="outline-container-sec-18-154-4" class="outline-4">
<h4 id="sec-18-154-4">Notes</h4>
<div class="outline-text-4" id="text-18-154-4">
<p>
The <code>syncok()</code> attribute is tied into a specific window; it is not
a global attribute in NCurses. Subwindows are created with the
<code>syncok()</code> attribute disabled (set to <code>FALSE</code>).
</p>

<p>
Seeing as how a subwindow and its parent window share memory, the
purpose of this function seems questionable.
</p>
</div>
</div>

<div id="outline-container-sec-18-154-5" class="outline-4">
<h4 id="sec-18-154-5">Example</h4>
<div class="outline-text-4" id="text-18-154-5">
<div class="org-src-container">

<pre class="src src-c">syncok(subby,TRUE);
</pre>
</div>

<p>
The statement causes any changes to the window subby to
automatically be touched in all parent windows. Then again,
because the memory is shared, the information is updated
regardless.
</p>
</div>
</div>

<div id="outline-container-sec-18-154-6" class="outline-4">
<h4 id="sec-18-154-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-154-6">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-154-7" class="outline-4">
<h4 id="sec-18-154-7">Also See</h4>
<div class="outline-text-4" id="text-18-154-7">
<p>
<a href="#wsyncup"><code>wsyncup()</code></a>, <a href="#subwin"><code>subwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-155" class="outline-3">
<h3 id="sec-18-155"><code>TABSIZE</code>                                                          <a id="TABSIZE" name="TABSIZE"></a></h3>
<div class="outline-text-3" id="text-18-155">
<p>
NCurses uses the value of <code>TABSIZE</code> to set the position of tab
stops on the screen. These stops are used when the <code>\t</code>, or tab,
character is displayed; the cursor is advanced on the current line
to the location of the next tab stop.
</p>
</div>

<div id="outline-container-sec-18-155-1" class="outline-4">
<h4 id="sec-18-155-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-155-1">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-155-2" class="outline-4">
<h4 id="sec-18-155-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-155-2">
<div class="org-src-container">

<pre class="src src-c">TABSIZE=n
</pre>
</div>

<p>
The new <code>TABSIZE</code> value is set to equal <code>n</code>, which is an <code>int</code>
value, either a variable or constant.
</p>

<p>
<code>TABSIZE</code> could also be used in any function where an <code>int</code> value
is required, such as:
</p>

<div class="org-src-container">

<pre class="src src-c">printw(<span style="color: #ffa07a;">"Tab stops are set every %d characters.\n"</span>,TABSIZE);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-155-3" class="outline-4">
<h4 id="sec-18-155-3">Return Value</h4>
<div class="outline-text-4" id="text-18-155-3">
<p>
<code>TABSIZE</code> is set equal to 8 by NCurses. The value is set internal
to the NCurses library, not in the <code>ncurses.h</code> file.
</p>
</div>
</div>

<div id="outline-container-sec-18-155-4" class="outline-4">
<h4 id="sec-18-155-4">Notes</h4>
<div class="outline-text-4" id="text-18-155-4">
<p>
<code>TABSIZE</code> is a global variable. Resetting its value in a function
does not keep the new value local to that function.
</p>

<p>
<code>TABSIZE</code> is initially set to a value of 8, meaning that the <code>\t</code>
character advances the cursor to the next column matching a
multiple of 8:
</p>

<pre class="example">
8, 16, 24, 32, 40, 48, 56, 64, 72
</pre>

<p>
and on up to the far right column on the screen
</p>

<p>
As a variable, the value of <code>TABSIZE</code> can be reset at any time in
an NCurses program. Resetting <code>TABSIZE</code> affects tab positions from
that point in the program onward.
</p>

<p>
Tab characters do cause the cursor to drop down to the next line
on the display. That is, displaying a <code>\t</code> character after the
last tab stop on a line causes the cursor to drop to the next line
and display the character at the first tab stop position on the
following line, which is at column 0.
</p>

<p>
Displaying a tab at the last position on the last row of a window
causes a window to scroll, but only when scrolling is enabled for
that window.
</p>
</div>
</div>

<div id="outline-container-sec-18-155-5" class="outline-4">
<h4 id="sec-18-155-5">Examples</h4>
<div class="outline-text-4" id="text-18-155-5">
<div class="org-src-container">

<pre class="src src-c">TABSIZE=10;
</pre>
</div>

<p>
The statement sets the tab stops to intervals of 10.
</p>

<div class="org-src-container">

<pre class="src src-c">If( x &gt; (maxx - TABSIZE) )
</pre>
</div>

<p>
This comparison is made using the value of <code>TABSIZE</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-155-6" class="outline-4">
<h4 id="sec-18-155-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-155-6">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>

<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
{
  initscr();

  addstr(<span style="color: #ffa07a;">"Tabs set naturally:\n"</span>);
  addstr(<span style="color: #ffa07a;">"A\tB\tC\tD\tE\tF\tG\tH\tI\tJ\tK\tL\tM\n"</span>);
  addstr(<span style="color: #ffa07a;">"Tab stop set to 5\n"</span>);
  TABSIZE = 5;
  addstr(<span style="color: #ffa07a;">"A\tB\tC\tD\tE\tF\tG\tH\tI\tJ\tK\tL\tM\n"</span>);
  refresh();
  getch();

  endwin();
  <span style="color: #00ffff;">return</span> 0;
}
</pre>
</div>
</div>

<div id="outline-container-sec-18-155-6-1" class="outline-5">
<h5 id="sec-18-155-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-155-6-1">
<pre class="example">
Tabs set naturally:
A	B	C	D	E	F	G	H	I	J
K	L	M
Tab stop set to 5
A    B    C    D    E    F    G    H    I    J    K    L    M
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-155-7" class="outline-4">
<h4 id="sec-18-155-7">Also See</h4>
<div class="outline-text-4" id="text-18-155-7">
<p>
<a href="#addch"><code>addch()</code></a>, <a href="#addstr"><code>addstr()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-156" class="outline-3">
<h3 id="sec-18-156"><code>termattrs()</code>                                                      <a id="termattrs" name="termattrs"></a></h3>
<div class="outline-text-3" id="text-18-156">
<p>
The <code>termattrs()</code> function is used to confirm which attributes the
terminal is capable of producing.
</p>
</div>

<div id="outline-container-sec-18-156-1" class="outline-4">
<h4 id="sec-18-156-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-156-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">chtype</span> <span style="color: #87cefa;">termattrs</span>(<span style="color: #98fb98;">void</span>);
<span style="color: #98fb98;">attr_t</span> <span style="color: #87cefa;">term_attrs</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-156-2" class="outline-4">
<h4 id="sec-18-156-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-156-2">
<p>
The functions have no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-156-3" class="outline-4">
<h4 id="sec-18-156-3">Return Value</h4>
<div class="outline-text-4" id="text-18-156-3">
<p>
The functions return a long int bit field with bits set according
to which attributes the terminal is capable of producing. The
<code>chtype</code> attributes are defined in <code>ncurses.h</code> and are prefixed
with <code>A</code>; <code>attr_t</code> attributes are also defined in <code>ncurses.h</code> and
prefixed by <code>WA</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-156-4" class="outline-4">
<h4 id="sec-18-156-4">Notes</h4>
<div class="outline-text-4" id="text-18-156-4">
<p>
It's possible to ferret out specific attributes by using a logical
OR with the attribute constant and the value returned by
<code>termattrs()</code>.
</p>

<p>
The <code>attr_get()</code> function is used to read attributes currently
being used in a window. See <a href="#attr_get"><code>attr_get()</code></a>.
</p>

<p>
Refer to <a href="#appendix_c">Appendix C</a> for more information on the <code>chtype</code> attribute
constants.
</p>
</div>
</div>

<div id="outline-container-sec-18-156-5" class="outline-4">
<h4 id="sec-18-156-5">Examples</h4>
<div class="outline-text-4" id="text-18-156-5">
<div class="org-src-container">

<pre class="src src-c">printw(<span style="color: #ffa07a;">"The terminals attributes value is %X.\n"</span>,termattrs());
</pre>
</div>

<p>
The function displays the <code>termattrs()</code> value as a hexadecimal
number.
</p>

<div class="org-src-container">

<pre class="src src-c">a = termattrs();
</pre>
</div>

<p>
Here, the attributes bit mask for the current terminal is saved in
<code>chtype</code> variable <code>a</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-156-6" class="outline-4">
<h4 id="sec-18-156-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-156-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #00ffff;">static</span> <span style="color: #98fb98;">void</span> <span style="color: #87cefa;">attryn</span>(<span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">a</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">c</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #00ffff;">if</span>(a &amp; c)
<span class="linenr"> 6: </span>    addstr(<span style="color: #ffa07a;">"Yes"</span>);
<span class="linenr"> 7: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr"> 8: </span>    addstr(<span style="color: #ffa07a;">"No"</span>);
<span class="linenr"> 9: </span>  addch(<span style="color: #ffa07a;">'\n'</span>);
<span class="linenr">10: </span>}
<span class="linenr">11: </span>
<span class="linenr">12: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr">13: </span>{
<span class="linenr">14: </span>  <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">attributes</span>;
<span class="linenr">15: </span>
<span class="linenr">16: </span>  initscr();
<span class="linenr">17: </span>
<span class="linenr">18: </span>  attributes = termattrs();
<span class="linenr">19: </span>  addstr(<span style="color: #ffa07a;">"This terminal is capable of the following attributes:\n"</span>);
<span class="linenr">20: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"AltCharSet: "</span>);   attryn( attributes, A_ALTCHARSET);
<span class="linenr">21: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Blink: "</span>);        attryn( attributes, A_BLINK);
<span class="linenr">22: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Bold: "</span>);         attryn( attributes, A_BOLD);
<span class="linenr">23: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Dim: "</span>);          attryn( attributes, A_DIM)    ;
<span class="linenr">24: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Invisible: "</span>);    attryn( attributes, A_INVIS);
<span class="linenr">25: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Normal: "</span>);       attryn( attributes, A_NORMAL);
<span class="linenr">26: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Reverse: "</span>);      attryn( attributes, A_REVERSE);
<span class="linenr">27: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Standout: "</span>);     attryn( attributes, A_STANDOUT);
<span class="linenr">28: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Underline: "</span>);    attryn( attributes, A_UNDERLINE);
<span class="linenr">29: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Protect: "</span>);      attryn( attributes, A_PROTECT);
<span class="linenr">30: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Horizontal: "</span>);   attryn( attributes, A_HORIZONTAL);
<span class="linenr">31: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Left: "</span>);         attryn( attributes, A_LEFT);
<span class="linenr">32: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Low: "</span>);          attryn( attributes, A_LOW);
<span class="linenr">33: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Right: "</span>);        attryn( attributes, A_RIGHT);
<span class="linenr">34: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Top: "</span>);          attryn( attributes, A_TOP);
<span class="linenr">35: </span>  printw(<span style="color: #ffa07a;">"%14s"</span>,<span style="color: #ffa07a;">"Vertical: "</span>);     attryn( attributes, A_VERTICAL);
<span class="linenr">36: </span>  refresh();
<span class="linenr">37: </span>  getch();
<span class="linenr">38: </span>
<span class="linenr">39: </span>  endwin();
<span class="linenr">40: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">41: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-156-6-1" class="outline-5">
<h5 id="sec-18-156-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-156-6-1">
<pre class="example">
This terminal   is capable of the following attributes:
  AltCharSet:   Yes
       Blink:   No
        Bold:   Yes
         Dim:   No
   Invisible:   No
      Normal:   Yes
     Reverse:   Yes
    Standout:   Yes
   Underline:   Yes
     Protect:   No
  Horizontal:   No
        Left:   No
         Low:   No
       Right:   No
         Top:   No
    Vertical:   No
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-156-7" class="outline-4">
<h4 id="sec-18-156-7">Also See</h4>
<div class="outline-text-4" id="text-18-156-7">
<p>
<a href="#appendix_c">Appendix C</a>, <a href="#attrset"><code>attrset()</code></a>, <a href="#attr_get"><code>attr_get()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-157" class="outline-3">
<h3 id="sec-18-157"><code>termname()</code>                                                       <a id="termname" name="termname"></a></h3>
<div class="outline-text-3" id="text-18-157">
<p>
The <code>termname()</code> function returns the terminal name as a string
(<code>char</code> array).
</p>
</div>

<div id="outline-container-sec-18-157-1" class="outline-4">
<h4 id="sec-18-157-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-157-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">char</span> *<span style="color: #87cefa;">termname</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-157-2" class="outline-4">
<h4 id="sec-18-157-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-157-2">
<p>
The function takes no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-157-3" class="outline-4">
<h4 id="sec-18-157-3">Return Value</h4>
<div class="outline-text-4" id="text-18-157-3">
<p>
The function returns a string in the form of a pointer. It can be
used as an immediate value or stored in a char pointer variable.
</p>

<p>
<code>NULL</code> can be returned by <code>termname()</code> when there is an error.
</p>
</div>
</div>

<div id="outline-container-sec-18-157-4" class="outline-4">
<h4 id="sec-18-157-4">Notes</h4>
<div class="outline-text-4" id="text-18-157-4">
<p>
The name returned by <code>termname()</code> is the same as returned by the
<code>$TERM</code> environment variable.
</p>

<p>
For a more verbose string describing the terminal, use the
<code>longname()</code> function. See <a href="#longname"><code>longname()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-157-5" class="outline-4">
<h4 id="sec-18-157-5">Example</h4>
<div class="outline-text-4" id="text-18-157-5">
<div class="org-src-container">

<pre class="src src-c">addstr(termname());
refresh();
</pre>
</div>

<p>
These statements display the terminal name on the standard screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-157-6" class="outline-4">
<h4 id="sec-18-157-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-157-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  printw(<span style="color: #ffa07a;">"The term name is %s.\n"</span>,termname());
<span class="linenr"> 8: </span>  refresh();
<span class="linenr"> 9: </span>  getch();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  endwin();
<span class="linenr">12: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">13: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-157-6-1" class="outline-5">
<h5 id="sec-18-157-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-157-6-1">
<pre class="example">
The termname is xterm-color.
</pre>

<p>
Of course, your output may vary.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-157-7" class="outline-4">
<h4 id="sec-18-157-7">Also See</h4>
<div class="outline-text-4" id="text-18-157-7">
<p>
<a href="#longname"><code>longname()</code></a>, <a href="#newterm"><code>newterm()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-158" class="outline-3">
<h3 id="sec-18-158"><code>timeout()</code>                                                        <a id="timeout" name="timeout"></a></h3>
<div class="outline-text-3" id="text-18-158">
<p>
The <code>timeout()</code> function sets a variable delay for NCurses text
input functions.
</p>
</div>

<div id="outline-container-sec-18-158-1" class="outline-4">
<h4 id="sec-18-158-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-158-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">timeout</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">delay</span>);
<span style="color: #98fb98;">void</span> <span style="color: #87cefa;">wtimeout</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">delay</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-158-2" class="outline-4">
<h4 id="sec-18-158-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-158-2">
<p>
<code>delay</code> is an <code>int</code> value, either negative, positive, or
zero. When <code>delay</code> is negative, input functions are blocking as
normal. When <code>delay</code> is zero, input functions are non-blocking and
return <code>ERR</code> when no input is in the queue. Positive values of
delay represent the number of milliseconds NCurses waits for
character input before the input function returns <code>ERR</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-158-3" class="outline-4">
<h4 id="sec-18-158-3">Return Value</h4>
<div class="outline-text-4" id="text-18-158-3">
<p>
<code>ERR</code> on failure or <code>OK</code> on success.
</p>
</div>
</div>

<div id="outline-container-sec-18-158-4" class="outline-4">
<h4 id="sec-18-158-4">Notes</h4>
<div class="outline-text-4" id="text-18-158-4">
<p>
One thousand milliseconds equals one second.
</p>

<p>
Setting the <code>nodelay()</code> function is the same as <code>timeout(0)</code>.
</p>

<p>
The <code>halfdelay()</code> function is similar to using positive values
with <code>timeout()</code>, though <code>halfdelay()</code> uses tenths of a second as
its argument, not milliseconds. And <code>halfdelay()</code> is directed at
all NCurses input, not window-oriented as <code>timeout()</code> is.
</p>
</div>
</div>

<div id="outline-container-sec-18-158-5" class="outline-4">
<h4 id="sec-18-158-5">Examples</h4>
<div class="outline-text-4" id="text-18-158-5">
<div class="org-src-container">

<pre class="src src-c">timeout(1000);
</pre>
</div>

<p>
The statement sets the text input delay to one second. When
<code>getch()</code> has not received input after one second, it returns
<code>ERR</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">timeout(-1);
</pre>
</div>

<p>
The statement activates (or reactivates) the blocking nature of
text input functions such as <code>getch()</code>. This could be used in a
program to reset a previously set <code>timeout()</code> value.
</p>
</div>
</div>

<div id="outline-container-sec-18-158-6" class="outline-4">
<h4 id="sec-18-158-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-158-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">DELAY</span> 1000
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  timeout(DELAY);
<span class="linenr">12: </span>  printw(<span style="color: #ffa07a;">"The timeout delay has been set to %d milliseconds.\n"</span>,DELAY);
<span class="linenr">13: </span>  addstr(<span style="color: #ffa07a;">"Try to type in your name fast enough:\n"</span>);
<span class="linenr">14: </span>  refresh();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  <span style="color: #00ffff;">do</span>
<span class="linenr">17: </span>    {
<span class="linenr">18: </span>      ch = getch();
<span class="linenr">19: </span>      <span style="color: #00ffff;">if</span>(ch == <span style="color: #ffa07a;">'\n'</span>)
<span class="linenr">20: </span>        <span style="color: #00ffff;">break</span>;
<span class="linenr">21: </span>    } <span style="color: #00ffff;">while</span>(ch != ERR);
<span class="linenr">22: </span>
<span class="linenr">23: </span>  mvaddstr(5,0,<span style="color: #ffa07a;">"Hope you got it all in!"</span>);
<span class="linenr">24: </span>  refresh();
<span class="linenr">25: </span>  getch();
<span class="linenr">26: </span>
<span class="linenr">27: </span>  endwin();
<span class="linenr">28: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">29: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-158-6-1" class="outline-5">
<h5 id="sec-18-158-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-158-6-1">
<pre class="example">
The timeout delay has been set to 1000 milliseconds.
Try to type in your name fast enough:
</pre>

<p>
Try to type quickly; if you pause longer than 1 second, either at
first or between any keys, the program is over.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-158-7" class="outline-4">
<h4 id="sec-18-158-7">Also See</h4>
<div class="outline-text-4" id="text-18-158-7">
<p>
<a href="#getch"><code>getch()</code></a>, <a href="#nodelay"><code>nodelay()</code></a>, <a href="#halfdelay"><code>halfdelay()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-159" class="outline-3">
<h3 id="sec-18-159"><code>touchline()</code>                                                      <a id="touchline" name="touchline"></a></h3>
<div class="outline-text-3" id="text-18-159">
<p>
The <code>touchline()</code> function marks one or more rows in a window as
changed, which directs NCurses to update the row(s) on the next
call to <code>refresh()</code>.
</p>
</div>

<div id="outline-container-sec-18-159-1" class="outline-4">
<h4 id="sec-18-159-1">Explanation</h4>
<div class="outline-text-4" id="text-18-159-1">
<p>
Refer to the entry for <a href="#touchwin"><code>touchwin()</code></a> for an explanation. The same
material applies for the <code>touchline()</code> function, though for
<code>touchline()</code> only specific lines in a window are marked as
changed, and therefore written to the screen upon the next
<code>refresh()</code> call.
</p>
</div>
</div>

<div id="outline-container-sec-18-159-2" class="outline-4">
<h4 id="sec-18-159-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-159-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">touchline</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">start</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">count</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-159-3" class="outline-4">
<h4 id="sec-18-159-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-159-3">
<p>
<code>win</code> is a <code>WINDOW</code> variable representing a window created earlier
in this program, or <code>stdscr</code> for the standard screen.
</p>

<p>
<code>start</code> is an <code>int</code> value representing the starting row to be
updated. Values range from 0 for the top row on through as many
rows as there are in the named window.
</p>

<p>
<code>count</code> is an <code>int</code> value that tells NCurses how many rows to
update. Values range from 1 for just the named row, on up to as
many rows as there are from the current row to the end of the
window.
</p>
</div>
</div>

<div id="outline-container-sec-18-159-4" class="outline-4">
<h4 id="sec-18-159-4">Return Value</h4>
<div class="outline-text-4" id="text-18-159-4">
<p>
<code>ERR</code> upon failure and an <code>int</code> value other than <code>ERR</code> upon
success.
</p>
</div>
</div>

<div id="outline-container-sec-18-159-5" class="outline-4">
<h4 id="sec-18-159-5">Notes</h4>
<div class="outline-text-4" id="text-18-159-5">
<p>
Remember that <code>touchline()</code> requires three arguments: window,
starting line, and count. It's really a "touch lines" function.
</p>

<p>
<code>touchline()</code> updates lines from the named row <i>down</i>.
</p>

<p>
A common reason for using <code>touchline()</code> is when NCurses is having
trouble updating the current screen, such as when one window
overlaps another.
</p>

<p>
The <code>touchline()</code> function by itself does not update the
screen. It merely coordinates between the named window and
memory. A <code>refresh()</code> or <code>wrefresh()</code> function is required after
<code>touchline()</code> to actually see the updated window.
</p>

<p>
If you know specifically which lines of text need updating, then
the <code>touchline()</code> function is more efficient than calling
<code>touchwin()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-159-6" class="outline-4">
<h4 id="sec-18-159-6">Examples</h4>
<div class="outline-text-4" id="text-18-159-6">
<div class="org-src-container">

<pre class="src src-c">touchline(stdscr,0,10);
</pre>
</div>

<p>
Here, the top 10 lines of the standard screen are touched, meaning
that each and every character will be updated on the next
<code>refresh()</code> call.
</p>

<div class="org-src-container">

<pre class="src src-c">touchline(menu,10,0);
</pre>
</div>

<p>
Here, the <code>touchline()</code> function flags line 10 in the window menu
for updating with the next <code>wrefresh(menu)</code> call.
</p>
</div>
</div>

<div id="outline-container-sec-18-159-7" class="outline-4">
<h4 id="sec-18-159-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-159-7">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;Ncurses.h&gt;</span>
<span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;time.h&gt;</span>

<span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">MAX</span> 23

<span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
{
  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">alpha</span>;
  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">rows</span>[MAX];
  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">c</span>,<span style="color: #eedd82;">r</span>,<span style="color: #eedd82;">total</span>;

  srandom((<span style="color: #98fb98;">unsigned</span>)time(<span style="color: #7fffd4;">NULL</span>));   <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">seed randomizer    </span><span style="color: #ff4500;">*/</span>
  <span style="color: #00ffff;">for</span>(c=0;c&lt;MAX;c++)               <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">initialize array   </span><span style="color: #ff4500;">*/</span>
    rows[c] = 0;
  total = 0;                       <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">initialize counter </span><span style="color: #ff4500;">*/</span>

  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">NCurses setup stuff </span><span style="color: #ff4500;">*/</span>
  initscr();
  start_color();
  init_pair(1,COLOR_WHITE,COLOR_BLUE);
  alpha = newwin(0,0,0,0);
  wbkgd(alpha,COLOR_PAIR(1));
  untouchwin(alpha);            <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">pretend win is updated </span><span style="color: #ff4500;">*/</span>

  addstr(<span style="color: #ffa07a;">"Press Enter to touch and display window alpha\n"</span>);
  refresh();
  getch();

  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Loop to gradually reveal the blue window </span><span style="color: #ff4500;">*/</span>
  <span style="color: #00ffff;">while</span>(total&lt;MAX)
    {
      r = random() % (MAX + 1);
      <span style="color: #00ffff;">if</span>( rows[r]==0 )
        {
          rows[r] = 1;
          touchline(alpha,r,1);
          wrefresh(alpha);    <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">update the line </span><span style="color: #ff4500;">*/</span>
          napms(100);         <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">pause 1/10 sec  </span><span style="color: #ff4500;">*/</span>
          total++;
        }
    }
  getch();

  endwin();
  <span style="color: #00ffff;">return</span> 0;
}
</pre>
</div>
</div>

<div id="outline-container-sec-18-159-7-1" class="outline-5">
<h5 id="sec-18-159-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-159-7-1">
<pre class="example">
Press Enter to touch and display window alpha
</pre>

<p>
After pressing enter, each row of window alpha is updated one
after the other as each is touched. Eventually the entire screen
turns blue.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-159-8" class="outline-4">
<h4 id="sec-18-159-8">Also See</h4>
<div class="outline-text-4" id="text-18-159-8">
<p>
<a href="#refresh"><code>refresh()</code></a>, <a href="#touchwin"><code>touchwin()</code></a>, <a href="#wtouchln"><code>wtouchln()</code></a>, <a href="#is_linetouched"><code>is_linetouched()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-160" class="outline-3">
<h3 id="sec-18-160"><code>touchwin()</code>                                                       <a id="touchwin" name="touchwin"></a></h3>
<div class="outline-text-3" id="text-18-160">
<p>
The <code>touchwin()</code> function directs NCurses to treat a window as if
every character on the window has been changed or modified since
the last refresh, forcing NCurses to redraw the entire window on
the next <code>refresh()</code> or <code>wrefresh()</code> function.
</p>
</div>

<div id="outline-container-sec-18-160-1" class="outline-4">
<h4 id="sec-18-160-1">Explanation</h4>
<div class="outline-text-4" id="text-18-160-1">
<p>
Internally, NCurses keeps track of which parts of a window have
been updated since the last refresh. For efficiency's sake, only
those changed parts of the window are then updated to the current
screen on the next refresh. By using <code>touchwin()</code>, every single
character in the window is flagged as touched, or changed, forcing
NCurses to redraw everything from scratch on the next <code>refresh()</code>
or <code>wrefresh()</code> call.
</p>
</div>
</div>

<div id="outline-container-sec-18-160-2" class="outline-4">
<h4 id="sec-18-160-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-160-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">touchwin</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-160-3" class="outline-4">
<h4 id="sec-18-160-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-160-3">
<div class="org-src-container">

<pre class="src src-c">touchwin(win)
</pre>
</div>

<p>
<code>win</code> is the name of a window to touch. After the call, all
locations in the window are flagged as requiring updating for the
next call to <code>wrefresh(win)</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-160-4" class="outline-4">
<h4 id="sec-18-160-4">Return Value</h4>
<div class="outline-text-4" id="text-18-160-4">
<p>
<code>ERR</code> upon failure, or a value other than <code>ERR</code> upon success.
</p>
</div>
</div>

<div id="outline-container-sec-18-160-5" class="outline-4">
<h4 id="sec-18-160-5">Notes</h4>
<div class="outline-text-4" id="text-18-160-5">
<p>
It's only necessary to use <code>touchwin()</code> when NCurses is having
trouble updating the current screen. This happens most often when
dealing with overlapping windows.
</p>

<p>
By itself, <code>touchwin()</code> does not redisplay the current screen or
the named window; it merely updates the window's contents. To
update the current screen, you must call <code>wrefresh()</code> for the
window after using the <code>touchwin()</code> function.
</p>

<p>
Using <code>touchwin()</code> followed by <code>wrefresh()</code> is similar to using
the <code>clearok()</code> function for that window, followed by
<code>wrefresh()</code>. Though remember that the <code>clearok()</code> function clears
the screen before redrawing the image, and it does not change a
window's status from touched to untouched.
</p>
</div>
</div>

<div id="outline-container-sec-18-160-6" class="outline-4">
<h4 id="sec-18-160-6">Example</h4>
<div class="outline-text-4" id="text-18-160-6">
<div class="org-src-container">

<pre class="src src-c">touchwin(help);
</pre>
</div>

<p>
Here, the <code>touchwin()</code> function assures that all parts of the
window help will be drawn for the next call to <code>wrefresh(help)</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-160-7" class="outline-4">
<h4 id="sec-18-160-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-160-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">bob</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  start_color();
<span class="linenr"> 9: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">10: </span>  init_pair(2,COLOR_RED,COLOR_WHITE);
<span class="linenr">11: </span>
<span class="linenr">12: </span>  bob = newwin(0,0,0,0);
<span class="linenr">13: </span>  wbkgd(bob,COLOR_PAIR(2));
<span class="linenr">14: </span>  bkgd(COLOR_PAIR(1));
<span class="linenr">15: </span>
<span class="linenr">16: </span>  waddstr(bob,<span style="color: #ffa07a;">"Hello from the window bob!\n"</span>);
<span class="linenr">17: </span>  waddstr(bob,<span style="color: #ffa07a;">"I like long walks and romantic candlelit dinners.\n"</span>);
<span class="linenr">18: </span>  waddstr(bob,<span style="color: #ffa07a;">"Press Enter to return to the standard screen.\n"</span>);
<span class="linenr">19: </span>  addstr(<span style="color: #ffa07a;">"This is the standard screen.\n"</span>);
<span class="linenr">20: </span>  addstr(<span style="color: #ffa07a;">"To see the window bob, press the Enter key:\n"</span>);
<span class="linenr">21: </span>  refresh();
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  wrefresh(bob);
<span class="linenr">25: </span>  getch();
<span class="linenr">26: </span>
<span class="linenr">27: </span>  addstr(<span style="color: #ffa07a;">"Welcome back to the standard screen (kinda).\n"</span>);
<span class="linenr">28: </span>  addstr(<span style="color: #ffa07a;">"To see the whole window bob, press Enter.\n"</span>);
<span class="linenr">29: </span>  refresh();
<span class="linenr">30: </span>  getch();
<span class="linenr">31: </span>
<span class="linenr">32: </span>  waddstr(bob,<span style="color: #ffa07a;">"Thanks!\n"</span>);
<span class="linenr">33: </span>  waddstr(bob,<span style="color: #ffa07a;">"Press Enter to see the whole standard screen.\n"</span>);
<span class="linenr">34: </span>  touchwin(bob);
<span class="linenr">35: </span>  wrefresh(bob);
<span class="linenr">36: </span>  getch();
<span class="linenr">37: </span>
<span class="linenr">38: </span>  touchwin(stdscr);
<span class="linenr">39: </span>  refresh();
<span class="linenr">40: </span>  getch();
<span class="linenr">41: </span>
<span class="linenr">42: </span>  endwin();
<span class="linenr">43: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">44: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-160-7-1" class="outline-5">
<h5 id="sec-18-160-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-160-7-1">
<p>
In white text on a blue screen:
</p>

<pre class="example">
This is the standard screen.
To see the window bob, press the Enter key:
</pre>

<p>
Press Enter to see red text on a white screen:
</p>

<pre class="example">
Hello from the window bob!
I like long walks and romantic candlelit dinners.
Press Enter to return to the standard screen.
</pre>

<p>
Press Enter to see:
</p>

<pre class="example">
Hello from the window bob!
I like long walks and romantic candlelit dinners.
Welcome back to the standard screen (kinda).
To see the whole window bob, press Enter.
</pre>

<p>
The top two lines are red on white; the bottom two lines are
white on blue. Press Enter:
</p>

<pre class="example">
Hello from the window bob!
I like long walks and romantic candlelit dinners.
Press Enter to return to the standard screen.
Thanks!
Press Enter to see the whole standard screen.
</pre>

<p>
Press Enter:
</p>

<pre class="example">
This is the standard screen.
To see the window bob, press the Enter key:
Welcome back to the standard screen (kinda).
To see the whole window bob, press Enter.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-160-8" class="outline-4">
<h4 id="sec-18-160-8">Also See</h4>
<div class="outline-text-4" id="text-18-160-8">
<p>
<a href="#clearok"><code>clearok()</code></a>, <a href="#refresh"><code>refresh()</code></a>, <a href="#is_wintouched"><code>is_wintouched()</code></a>, <a href="#untouchwin"><code>untouchwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-161" class="outline-3">
<h3 id="sec-18-161"><code>TRUE</code>                                                             <a id="TRUE" name="TRUE"></a></h3>
<div class="outline-text-3" id="text-18-161">
<p>
<code>TRUE</code> is a Boolean value used in NCurses for setting options, as a
value returned by specific functions, or for comparisons.
</p>
</div>

<div id="outline-container-sec-18-161-1" class="outline-4">
<h4 id="sec-18-161-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-161-1">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-161-2" class="outline-4">
<h4 id="sec-18-161-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-161-2">
<p>
<code>TRUE</code> can be used in one of the following ways:
</p>

<pre class="example">
function([arg(s)],TRUE)
</pre>

<p>
Here, <code>TRUE</code> is used in the given function to switch some NCurses
setting on or activate an option.
</p>

<pre class="example">
var = function([arg(s)])
</pre>

<p>
In this statement, the value returned by the function can be
either <code>TRUE</code> or <code>FALSE</code> and is stored in the var variable. <code>var</code>
is declared as a <code>bool</code> value.
</p>

<pre class="example">
if( eval == TRUE)
while([eval ==] TRUE)
</pre>

<p>
Here, <code>TRUE</code> is used as a comparison to some evaluation eval. Or
in the case of the <code>while</code> loop, <code>TRUE</code> can be used by itself to
create an endless loop.
</p>

<p>
Functions that return <code>TRUE</code> can also be used immediately inside
comparisons:
</p>

<pre class="example">
if( function([arg(s)] )
while( function([arg(s)] )
</pre>

<p>
Here, the function returns a <code>TRUE</code> (or <code>FALSE</code>) value, which is
then immediately evaluated by <code>if</code> or <code>while</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-161-3" class="outline-4">
<h4 id="sec-18-161-3">Return Value</h4>
<div class="outline-text-4" id="text-18-161-3">
<p>
The value of <code>TRUE</code> is set in <code>ncurses.h</code> to 1.
</p>
</div>
</div>

<div id="outline-container-sec-18-161-4" class="outline-4">
<h4 id="sec-18-161-4">Notes</h4>
<div class="outline-text-4" id="text-18-161-4">
<p>
<a href="#Table-A-17">Table A-17</a> shows which NCurses functions use the Boolean <code>TRUE</code>.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-17" name="Table-A-17">Table A-17</a> </dt><dd>NCurses functions using <code>TRUE</code> or <code>FALSE</code>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">FUNCTION RETURNS T/F</th>
<th scope="col" class="left">FUNCTION USES T/F</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>can_change_color()</code></td>
<td class="left"><code>clearok()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>has_colors()</code></td>
<td class="left"><code>idcok()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>has_ic()</code></td>
<td class="left"><code>idlok()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>has_il()</code></td>
<td class="left"><code>immedok()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>is_linetouched()</code></td>
<td class="left"><code>intrflush()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>is_wintouched()</code></td>
<td class="left"><code>keypad()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>isendwin()</code></td>
<td class="left"><code>leaveok()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>mouse_trafo()</code></td>
<td class="left"><code>meta()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>wenclose()</code></td>
<td class="left"><code>mouse_trafo()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>nodelay()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>notimeout()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>scrollok()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>syncok()</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left"><code>use_env()</code></td>
</tr>
</tbody>
</table>
</dd>
</dl>


<p>
The logical opposite of <code>TRUE</code> is <code>FALSE</code>. Functions that use or
return TRUE can equally use or return <code>FALSE</code>, depending on the
situation.
</p>
</div>
</div>

<div id="outline-container-sec-18-161-5" class="outline-4">
<h4 id="sec-18-161-5">Examples</h4>
<div class="outline-text-4" id="text-18-161-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(can_change_color())
</pre>
</div>

<p>
Here, <code>if</code> evaluates the results of the <code>can_change_color()</code>
function. If <code>TRUE</code> is returned, then the terminal has the ability
to use custom colors for text attributes.
</p>

<div class="org-src-container">

<pre class="src src-c">scrollok(stdscr,TRUE);
</pre>
</div>

<p>
The previous function turns on text scrolling for the standard
screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-161-6" class="outline-4">
<h4 id="sec-18-161-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-161-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;Ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">tf</span>;
<span class="linenr"> 6: </span>  initscr();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  tf = has_colors();
<span class="linenr"> 9: </span>  <span style="color: #00ffff;">if</span>( tf == TRUE)
<span class="linenr">10: </span>    addstr(<span style="color: #ffa07a;">"This terminal can do colors.\n"</span>);
<span class="linenr">11: </span>  <span style="color: #00ffff;">else</span>
<span class="linenr">12: </span>    addstr(<span style="color: #ffa07a;">"This terminal cannot do colors.\n"</span>);
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  endwin();
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-161-6-1" class="outline-5">
<h5 id="sec-18-161-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-161-6-1">
<pre class="example">
This terminal can do colors.
</pre>

<p>
Or:
</p>

<pre class="example">
This terminal cannot do colors.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-161-7" class="outline-4">
<h4 id="sec-18-161-7">Also See</h4>
<div class="outline-text-4" id="text-18-161-7">
<p>
<a href="#FALSE"><code>FALSE</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-162" class="outline-3">
<h3 id="sec-18-162"><code>typeahead()</code>                                                      <a id="typeahead" name="typeahead"></a></h3>
<div class="outline-text-3" id="text-18-162">
<p>
The <code>typeahead()</code> function controls NCurses typeahead feature (see
the next section) and determines which input source to monitor for
typeahead.
</p>
</div>

<div id="outline-container-sec-18-162-1" class="outline-4">
<h4 id="sec-18-162-1">Explanation</h4>
<div class="outline-text-4" id="text-18-162-1">
<p>
<code>typeahead</code> is an internal feature NCurses uses to optimize
input. When there is keyboard activity during a screen update,
NCurses suspends the update to immediately process the keyboard
input, specifically if the input is coming from a tty. The next
<code>refresh()</code> or <code>doupdate()</code> call then completes the screen update.
</p>

<p>
The <code>typeahead()</code> function allows you to specify which input
source to monitor for typeahead or whether typeahead should be
disabled.
</p>
</div>
</div>

<div id="outline-container-sec-18-162-2" class="outline-4">
<h4 id="sec-18-162-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-162-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">typeahead</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">fd</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-162-3" class="outline-4">
<h4 id="sec-18-162-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-162-3">
<p>
<code>fd</code> is a file descriptor or <code>FILE</code> type variable, such as
<code>stdin</code>. It specifies the input source typeahead monitors. When
the value -1 is specified, then typeahead is disabled.
</p>
</div>
</div>

<div id="outline-container-sec-18-162-4" class="outline-4">
<h4 id="sec-18-162-4">Return Value</h4>
<div class="outline-text-4" id="text-18-162-4">
<p>
<code>OK</code> upon success or <code>ERR</code> on failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-162-5" class="outline-4">
<h4 id="sec-18-162-5">Notes</h4>
<div class="outline-text-4" id="text-18-162-5">
<p>
The file value <code>typeahead()</code> normally uses depends on how NCurses
was started. When <code>initscr()</code> is used, then the default value is
<code>stdin</code>, standard input. When <code>newterm()</code> is used, then default
input is set as the third argument (see <i><code>newtertm()</code></i>).
</p>

<p>
The typeahead feature does disrupt screen updates. If you'd rather
have your program always and completely update the screen whenever
<code>refresh()</code> or <code>doupdate()</code> is called, then specify
<code>typeahead(-1)</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-162-6" class="outline-4">
<h4 id="sec-18-162-6">Examples</h4>
<div class="outline-text-4" id="text-18-162-6">
<div class="org-src-container">

<pre class="src src-c">typeahead(-1);
</pre>
</div>

<p>
The statement disables NCurses typeahead optimization during a
screen refresh.
</p>

<div class="org-src-container">

<pre class="src src-c">typeahead(stdio);
</pre>
</div>

<p>
Here, NCurses typeahead is set for standard input, most likely to
restore typeahead after being disabled.
</p>
</div>
</div>

<div id="outline-container-sec-18-162-7" class="outline-4">
<h4 id="sec-18-162-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-162-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  initscr();
<span class="linenr"> 6: </span>  typeahead(-1);             <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Disable typeahead </span><span style="color: #ff4500;">*/</span>
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  addstr(<span style="color: #ffa07a;">"All this text will be put to the screen without a\n"</span>);
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"keyboard interruption."</span>);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  getch();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  endwin();
<span class="linenr">14: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">15: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-162-7-1" class="outline-5">
<h5 id="sec-18-162-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-162-7-1">
<pre class="example">
All this text will be put to the screen without a
keyboard interruption.
</pre>

<p>
Refreshing takes place so quickly on x-terminals that you'd
really need to hook up a remote terminal, set it to something
slow, and then test this function to really see the results.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-162-8" class="outline-4">
<h4 id="sec-18-162-8">Also See</h4>
<div class="outline-text-4" id="text-18-162-8">
<p>
<a href="#newterm"><code>newterm()</code></a>, <a href="#flushinp"><code>flushinp()</code></a>, <a href="#intrflush"><code>intrflush()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-163" class="outline-3">
<h3 id="sec-18-163"><code>unctrl()</code>                                                         <a id="unctrl" name="unctrl"></a></h3>
<div class="outline-text-3" id="text-18-163">
<p>
The <code>unctrl()</code> function is used primarily to convert control codes
to a displayable string using the <code>^c</code> format, where <code>^</code> is the
"control" prefix and <code>c</code> is a letter or symbol corresponding to the
code.
</p>
</div>

<div id="outline-container-sec-18-163-1" class="outline-4">
<h4 id="sec-18-163-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-163-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">char</span> *<span style="color: #87cefa;">unctrl</span>(<span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">c</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-163-2" class="outline-4">
<h4 id="sec-18-163-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-163-2">
<p>
<code>c</code> is a <code>chtype</code> character representing a character or code plus
optional formatting attributes.
</p>
</div>
</div>

<div id="outline-container-sec-18-163-3" class="outline-4">
<h4 id="sec-18-163-3">Return Value</h4>
<div class="outline-text-4" id="text-18-163-3">
<p>
<code>unctrl()</code> returns a pointer to a character array (string)
representing the character or code <code>c</code>. For displayable
characters, the character itself is returned in the string. For
control codes, the code letter prefixed by a <code>^</code> is returned. See
Notes.
</p>

<p>
On error, <code>NULL</code> is returned.
</p>
</div>
</div>

<div id="outline-container-sec-18-163-4" class="outline-4">
<h4 id="sec-18-163-4">Notes</h4>
<div class="outline-text-4" id="text-18-163-4">
<p>
Though the ch argument is a <code>chtype</code> and may contain formatting
attributes, any attributes present are ignored by the <code>unctrl()</code>
function.
</p>

<p>
<a href="#Table-A-18">Table A-18</a> references the ASCII control codes, 0 through 32 plus
code 127.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-18" name="Table-A-18">Table A-18</a> </dt><dd>Control keys and codes

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="right" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">VALUE HEX</th>
<th scope="col" class="right">VALUE DEC</th>
<th scope="col" class="left">CHAR</th>
<th scope="col" class="left">CODE</th>
<th scope="col" class="left">MEANING</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>0x00</code></td>
<td class="right">0</td>
<td class="left"><code>^@</code></td>
<td class="left"><code>NUL</code></td>
<td class="left">Null</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x01</code></td>
<td class="right">1</td>
<td class="left"><code>^A</code></td>
<td class="left"><code>SOH</code></td>
<td class="left">Start Of Heading</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x02</code></td>
<td class="right">2</td>
<td class="left"><code>^B</code></td>
<td class="left"><code>STX</code></td>
<td class="left">Start Of Text</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x03</code></td>
<td class="right">3</td>
<td class="left"><code>^C</code></td>
<td class="left"><code>ETX</code></td>
<td class="left">End Of Text</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x04</code></td>
<td class="right">4</td>
<td class="left"><code>^D</code></td>
<td class="left"><code>EOT</code></td>
<td class="left">End Of Transmission</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x05</code></td>
<td class="right">5</td>
<td class="left"><code>^E</code></td>
<td class="left"><code>ENQ</code></td>
<td class="left">Enquiry</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x06</code></td>
<td class="right">6</td>
<td class="left"><code>^F</code></td>
<td class="left"><code>ACK</code></td>
<td class="left">Acknowledge</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x07</code></td>
<td class="right">7</td>
<td class="left"><code>^G</code></td>
<td class="left"><code>BEL</code></td>
<td class="left">Bell</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x08</code></td>
<td class="right">8</td>
<td class="left"><code>^H</code></td>
<td class="left"><code>BS</code></td>
<td class="left">Backspace</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x09</code></td>
<td class="right">9</td>
<td class="left"><code>^I</code></td>
<td class="left"><code>HT</code></td>
<td class="left">Horizontal Tab</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x0a</code></td>
<td class="right">11</td>
<td class="left"><code>^J</code></td>
<td class="left"><code>LF</code></td>
<td class="left">Line Feed</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x0b</code></td>
<td class="right">12</td>
<td class="left"><code>^K</code></td>
<td class="left"><code>VT</code></td>
<td class="left">Vertical Tab</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x0c</code></td>
<td class="right">13</td>
<td class="left"><code>^L</code></td>
<td class="left"><code>FF</code></td>
<td class="left">Form Feed</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x0d</code></td>
<td class="right">14</td>
<td class="left"><code>^M</code></td>
<td class="left"><code>CR</code></td>
<td class="left">Carriage Return</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x0e</code></td>
<td class="right">15</td>
<td class="left"><code>^N</code></td>
<td class="left"><code>SO</code></td>
<td class="left">Shift Out</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x0f</code></td>
<td class="right">16</td>
<td class="left"><code>^O</code></td>
<td class="left"><code>SI</code></td>
<td class="left">Shift In</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x10</code></td>
<td class="right">17</td>
<td class="left"><code>^P</code></td>
<td class="left"><code>DLE</code></td>
<td class="left">Data Link Escape</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x11</code></td>
<td class="right">18</td>
<td class="left"><code>^Q</code></td>
<td class="left"><code>DC1</code></td>
<td class="left">Device Control 1</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x12</code></td>
<td class="right">19</td>
<td class="left"><code>^R</code></td>
<td class="left"><code>DC2</code></td>
<td class="left">Device Control 2</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x13</code></td>
<td class="right">20</td>
<td class="left"><code>^S</code></td>
<td class="left"><code>DC3</code></td>
<td class="left">Device Control 3</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x14</code></td>
<td class="right">21</td>
<td class="left"><code>^T</code></td>
<td class="left"><code>DC4</code></td>
<td class="left">Device Control 4</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x15</code></td>
<td class="right">22</td>
<td class="left"><code>^U</code></td>
<td class="left"><code>NAK</code></td>
<td class="left">Negative Acknowledge</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x16</code></td>
<td class="right">23</td>
<td class="left"><code>^V</code></td>
<td class="left"><code>SYN</code></td>
<td class="left">Synchronous idle</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x17</code></td>
<td class="right">24</td>
<td class="left"><code>^W</code></td>
<td class="left"><code>ETB</code></td>
<td class="left">End Transmission Block</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x18</code></td>
<td class="right">25</td>
<td class="left"><code>^X</code></td>
<td class="left"><code>CAN</code></td>
<td class="left">Cancel</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x19</code></td>
<td class="right">26</td>
<td class="left"><code>^Y</code></td>
<td class="left"><code>EM</code></td>
<td class="left">End of Medium</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x1a</code></td>
<td class="right">27</td>
<td class="left"><code>^Z</code></td>
<td class="left"><code>SUB</code></td>
<td class="left">Substitute</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x1b</code></td>
<td class="right">28</td>
<td class="left"><code>^[</code></td>
<td class="left"><code>ESC</code></td>
<td class="left">Escape</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x1c</code></td>
<td class="right">29</td>
<td class="left"><code>^\</code></td>
<td class="left"><code>FS</code></td>
<td class="left">Form Separator</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x1d</code></td>
<td class="right">30</td>
<td class="left"><code>^]</code></td>
<td class="left"><code>GS</code></td>
<td class="left">Group Separator</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x1e</code></td>
<td class="right">31</td>
<td class="left"><code>^^</code></td>
<td class="left"><code>RS</code></td>
<td class="left">Record Separator</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x1f</code></td>
<td class="right">32</td>
<td class="left"><code>^_</code></td>
<td class="left"><code>US</code></td>
<td class="left">Unit Separator</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>0x7f</code></td>
<td class="right">127</td>
<td class="left"><code>^?</code></td>
<td class="left"><code>DEL</code></td>
<td class="left">Delete</td>
</tr>
</tbody>
</table>
</dd>
</dl>


<p>
In some localities, codes 0x80 through 0x8f are represented as
shown in the table, but prefixed by the <code>~</code> (tilde). Code 0xff is
displayed by <code>unctrl()</code> as <code>~?</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-163-5" class="outline-4">
<h4 id="sec-18-163-5">Examples</h4>
<div class="outline-text-4" id="text-18-163-5">
<div class="org-src-container">

<pre class="src src-c">p = unctrl(x);
</pre>
</div>

<p>
Here, the char pointer variable p references a string representing
the character's code value of <code>x</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">printw(<span style="color: #ffa07a;">"That character is code %s.\n"</span>,unctrl(x));
</pre>
</div>

<p>
Here, the <code>printw()</code> function displays the string returned by the
<code>unctrl()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-163-6" class="outline-4">
<h4 id="sec-18-163-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-163-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #b0c4de;">#define</span> <span style="color: #eedd82;">MAX</span> 0x7f
<span class="linenr"> 4: </span>
<span class="linenr"> 5: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 6: </span>{
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>
<span class="linenr">11: </span>  <span style="color: #00ffff;">for</span>(ch=0;ch&lt;=MAX;ch++)
<span class="linenr">12: </span>    printw(<span style="color: #ffa07a;">"%s\t"</span>,unctrl(ch));
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  endwin();
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-163-6-1" class="outline-5">
<h5 id="sec-18-163-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-163-6-1">
<pre class="example">
^@	^A	^B	^C	^D	^E	^F	^G	^H	^I
^J	^K	^L	^M	^N	^O	^P	^Q	^R	^S
^T	^U	^V	^W	^X	^Y	^Z	^[	^\	^]
^^	^_              !	"	#	$	%	&amp;	'
(	)	*	+	,	-	.	/	0	1
2	3	4	5	6	7	8	9	:	;
&lt;	=	&gt;	?	@	A	B	C	D	E
F	G	H	I	J	K	L	M	N	O
P	Q	R	S	T	U	V	W	X	Y
Z	[	\	]	^	_	`	a	b	c
d	e	f	g	h	i	j	k	l	m
n	o	p	q	r	s	t	u	v	w
x	y	z	{	|	}	~	^?
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-163-7" class="outline-4">
<h4 id="sec-18-163-7">Also See</h4>
<div class="outline-text-4" id="text-18-163-7">
<p>
<a href="#keyname"><code>keyname()</code></a>, <a href="#addch"><code>addch()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-164" class="outline-3">
<h3 id="sec-18-164"><code>ungetch()</code>                                                        <a id="ungetch" name="ungetch"></a></h3>
<div class="outline-text-3" id="text-18-164">
<p>
The <code>ungetch()</code> function places a specific character back into the
keyboard input queue.
</p>
</div>

<div id="outline-container-sec-18-164-1" class="outline-4">
<h4 id="sec-18-164-1">Explanation</h4>
<div class="outline-text-4" id="text-18-164-1">
<p>
Characters read from the keyboard are buffered by the terminal,
fed one at a time into the various NCurses key-reading
functions. So, for example, <code>getch()</code> reads the oldest character
waiting in the buffer, then the next character and so on. When the
buffer is empty, <code>getch()</code> waits or returns <code>ERR</code> depending on the
<code>nodelay()</code> status.
</p>

<p>
What <code>ungetch()</code> does is to place a character into the keyboard
input buffer. That character then becomes the next character to be
read, unless <code>ungetch()</code> is called again with another character.
</p>

<p>
You can use <code>ungetch()</code> to "stuff the ballot box" as it were, but
it can also be used in conjunction with <code>getch()</code> to preview
waiting characters.
</p>
</div>
</div>

<div id="outline-container-sec-18-164-2" class="outline-4">
<h4 id="sec-18-164-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-164-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">ungetch</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-164-3" class="outline-4">
<h4 id="sec-18-164-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-164-3">
<p>
<code>ch</code> is an <code>int</code> value representing a character to be placed into
the keyboard input buffer.
</p>
</div>
</div>

<div id="outline-container-sec-18-164-4" class="outline-4">
<h4 id="sec-18-164-4">Return Value</h4>
<div class="outline-text-4" id="text-18-164-4">
<p>
<code>OK</code> upon success or <code>ERR</code> on failure.
</p>
</div>
</div>

<div id="outline-container-sec-18-164-5" class="outline-4">
<h4 id="sec-18-164-5">Notes</h4>
<div class="outline-text-4" id="text-18-164-5">
<p>
When stuffing more than one character into the keyboard buffer,
remember to do it <i>backwards</i>. For example, to stuff <code>OK</code> into the
buffer, you need to do:
</p>

<div class="org-src-container">

<pre class="src src-c">ungetch(<span style="color: #ffa07a;">'K'</span>);
ungetch(<span style="color: #ffa07a;">'O'</span>);
</pre>
</div>

<p>
Remember that <code>ungetch()</code> requires an int argument, not a <code>char</code>.
</p>

<p>
It's also possible to stuff special keys into the keyboard buffer,
such as <code>KEY_LEFT</code> or <code>KEY_F(10)</code>. Refer to <a href="#appendix_d">Appendix D</a> for a list
of these constants.
</p>

<p>
<code>ungetch()</code> is not a window-oriented function; all windows share
the same input queue.
</p>
</div>
</div>

<div id="outline-container-sec-18-164-6" class="outline-4">
<h4 id="sec-18-164-6">Examples</h4>
<div class="outline-text-4" id="text-18-164-6">
<div class="org-src-container">

<pre class="src src-c">ungetch(<span style="color: #ffa07a;">'\t'</span>);
</pre>
</div>

<p>
Here, a tab character is placed into the input queue. The next
time a characterreading function fetches a character from the
keyboard, that character will be <code>\t</code>.
</p>

<div class="org-src-container">

<pre class="src src-c">ungetch(<span style="color: #ffa07a;">'n'</span>);
ungetch(<span style="color: #ffa07a;">'e'</span>);
ungetch(<span style="color: #ffa07a;">'B'</span>);
</pre>
</div>

<p>
In the previous code, the name Ben is stuffed into the input queue
by successive <code>ungetch()</code> functions.
</p>

<div class="org-src-container">

<pre class="src src-c">ch = getch();
<span style="color: #00ffff;">if</span>(ch != <span style="color: #ffa07a;">'\n'</span>)
{
    ungetch(ch);
    ungetch(<span style="color: #ffa07a;">'\n'</span>);
}
</pre>
</div>

<p>
This code tests to see if there is a newline at the end of
whatever text has been input. When there isn't, then the <code>if</code>
statements are executed and a newline is added to the queue.
</p>
</div>
</div>

<div id="outline-container-sec-18-164-7" class="outline-4">
<h4 id="sec-18-164-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-164-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">name</span>[80];
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">char</span> <span style="color: #eedd82;">stuff</span>[] = <span style="color: #ffa07a;">"\nakoozaB eoJ"</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">char</span> *<span style="color: #eedd82;">c</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  c = stuff;
<span class="linenr">10: </span>  initscr();
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">stuff input </span><span style="color: #ff4500;">*/</span>
<span class="linenr">13: </span>  <span style="color: #00ffff;">while</span>(*c)
<span class="linenr">14: </span>    ungetch(*c++);
<span class="linenr">15: </span>
<span class="linenr">16: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">typical Q&amp;A type of code </span><span style="color: #ff4500;">*/</span>
<span class="linenr">17: </span>  addstr(<span style="color: #ffa07a;">"Your name: "</span>);
<span class="linenr">18: </span>  refresh();
<span class="linenr">19: </span>  getstr(name);
<span class="linenr">20: </span>  printw(<span style="color: #ffa07a;">"Pleased to meet you, %s.\n"</span>,name);
<span class="linenr">21: </span>  refresh();
<span class="linenr">22: </span>  getch();
<span class="linenr">23: </span>
<span class="linenr">24: </span>  endwin();
<span class="linenr">25: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">26: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-164-7-1" class="outline-5">
<h5 id="sec-18-164-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-164-7-1">
<pre class="example">
Your name: Joe Bazooka
Pleased to meet you, Joe Bazooka.
</pre>

<p>
No typing necessary!
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-164-8" class="outline-4">
<h4 id="sec-18-164-8">Also See</h4>
<div class="outline-text-4" id="text-18-164-8">
<p>
<a href="#chapter_7">Chapter 7</a>, <a href="#getch"><code>getch()</code></a>, <a href="#nodelay"><code>nodelay()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-165" class="outline-3">
<h3 id="sec-18-165"><code>untouchwin()</code>                                                     <a id="untouchwin" name="untouchwin"></a></h3>
<div class="outline-text-3" id="text-18-165">
<p>
The <code>untouchwin()</code> function removes all signs of updates on a
window, leading NCurses to believe that the window has been fully
updated (refreshed).
</p>
</div>

<div id="outline-container-sec-18-165-1" class="outline-4">
<h4 id="sec-18-165-1">Explanation</h4>
<div class="outline-text-4" id="text-18-165-1">
<p>
NCurses keeps track of changes made in a window. For efficiency's
sake, only the text changed in a window is written to the current
screen during the next <code>refresh()</code> call. By using <code>untouchwin()</code>,
you direct NCurses to ignore changes made in a window, and to
assume that all text has been updated.
</p>

<p>
This call can be used when you want only a specific part of a
window's update to be displayed. For example, you could use
several functions to output text to a window, then use
<code>untouchwin()</code>, then output more text. Only the text output after
<code>untouchwin()</code> would then be updated at the next <code>refresh()</code> call.
</p>

<p>
In the sample program for <code>touchline()</code>, <code>untouchwin()</code> is used
just after the window is created. This allows subsequent calls to
the <code>touchline()</code> function and <code>wrefresh()</code> to reveal the window
one line at a time.
</p>
</div>
</div>

<div id="outline-container-sec-18-165-2" class="outline-4">
<h4 id="sec-18-165-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-165-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">untouchwin</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-165-3" class="outline-4">
<h4 id="sec-18-165-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-165-3">
<p>
<code>win</code> is a <code>WINDOW</code> variable referencing a window to be
untouched. After the function is called, NCurses assumes that the
window's memory and information on the screen have been
synchronized and an update is not needed.
</p>
</div>
</div>

<div id="outline-container-sec-18-165-4" class="outline-4">
<h4 id="sec-18-165-4">Return Value</h4>
<div class="outline-text-4" id="text-18-165-4">
<p>
<code>ERR</code> upon failure or an <code>int</code> value other than <code>ERR</code> upon
success.
</p>
</div>
</div>

<div id="outline-container-sec-18-165-5" class="outline-4">
<h4 id="sec-18-165-5">Notes</h4>
<div class="outline-text-4" id="text-18-165-5">
<p>
The opposite of the <code>untouchwin()</code> function is <code>touchwin()</code>, which
tells NCurses that every possible text position in a window needs
updating on the next <code>refresh()</code> call.
</p>

<p>
There is no <code>untouchln()</code> or <code>untouchline()</code> function
corresponding to <code>untouchwin()</code>, but there is the <code>wtouchln()</code>
function. In fact, <code>untouchwin()</code> is most likely a macro version
of <code>wtouchln()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-165-6" class="outline-4">
<h4 id="sec-18-165-6">Example</h4>
<div class="outline-text-4" id="text-18-165-6">
<div class="org-src-container">

<pre class="src src-c">untouchwin(help);
</pre>
</div>

<p>
The window <code>help</code> is flagged as fully updated, meaning the next
call to <code>wrefresh(help)</code> will not update any text written before
the previous statement.
</p>
</div>
</div>

<div id="outline-container-sec-18-165-7" class="outline-4">
<h4 id="sec-18-165-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-165-7">
<p>
Refer to the entry for <a href="#touchline"><code>touchline()</code></a> for a sample program and
output.
</p>
</div>
</div>

<div id="outline-container-sec-18-165-8" class="outline-4">
<h4 id="sec-18-165-8">Also See</h4>
<div class="outline-text-4" id="text-18-165-8">
<p>
<a href="#touchwin"><code>touchwin()</code></a>, <a href="#refresh"><code>refresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-166" class="outline-3">
<h3 id="sec-18-166"><code>use_default_colors()</code>                                             <a id="use_default_colors" name="use_default_colors"></a></h3>
<div class="outline-text-3" id="text-18-166">
<p>
<code>use_default_colors()</code> is an extended NCurses function that sets
the foreground and background text colors to the same as used in
the terminal window when <code>start_color()</code> initializes NCurses text
color attributes.
</p>
</div>

<div id="outline-container-sec-18-166-1" class="outline-4">
<h4 id="sec-18-166-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-166-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">use_default_colors</span>(<span style="color: #98fb98;">void</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-166-2" class="outline-4">
<h4 id="sec-18-166-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-166-2">
<p>
The function has no arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-166-3" class="outline-4">
<h4 id="sec-18-166-3">Return Value</h4>
<div class="outline-text-4" id="text-18-166-3">
<p>
<code>OK</code> is returned when things work; <code>ERR</code> otherwise.
</p>
</div>
</div>

<div id="outline-container-sec-18-166-4" class="outline-4">
<h4 id="sec-18-166-4">Notes</h4>
<div class="outline-text-4" id="text-18-166-4">
<p>
The <code>start_color()</code> function in NCurses initializes the color
functions. It also sets the default foreground and background
color for text, which is stored in <code>COLOR_PAIR(0)</code>. Normally the
colors are set to white text on a black background. The
<code>use_default_colors()</code> function, however, resets <code>COLOR_PAIR(0)</code>
to match the same foreground and background text colors used in
the terminal window. So if you're using xterm and have the text
color set to yellow text on a black background, that color
combination then becomes <code>COLOR_PAIR(0)</code> for use in NCurses.
</p>

<p>
The <code>use_default_colors()</code> function is the same as
<code>assume_default_colors(-1,-1)</code>.
</p>

<p>
Refer to the entry for <a href="#assume_default_colors"><code>assume_default_colors()</code></a> for more
information.
</p>
</div>
</div>

<div id="outline-container-sec-18-166-5" class="outline-4">
<h4 id="sec-18-166-5">Example</h4>
<div class="outline-text-4" id="text-18-166-5">
<p>
<code>use_default_colors()</code>;
</p>

<p>
The colors set by <code>start_color()</code> for <code>COLOR_PAIR(0)</code> will be the
same as used by the terminal window.
</p>
</div>
</div>

<div id="outline-container-sec-18-166-6" class="outline-4">
<h4 id="sec-18-166-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-166-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>;
<span class="linenr"> 6: </span>
<span class="linenr"> 7: </span>  initscr();
<span class="linenr"> 8: </span>  start_color();
<span class="linenr"> 9: </span>
<span class="linenr">10: </span>  use_default_colors();
<span class="linenr">11: </span>  addstr(<span style="color: #ffa07a;">"The default colors have been set to\n"</span>);
<span class="linenr">12: </span>  addstr(<span style="color: #ffa07a;">"the same as the terminal's colors.\n"</span>);
<span class="linenr">13: </span>  refresh();
<span class="linenr">14: </span>  getch();
<span class="linenr">15: </span>
<span class="linenr">16: </span>  endwin();
<span class="linenr">17: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">18: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-166-6-1" class="outline-5">
<h5 id="sec-18-166-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-166-6-1">
<pre class="example">
The default colors have been set to
the same as the terminal's colors.
</pre>

<p>
The text above appears colored the same as text in the terminal
window.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-166-7" class="outline-4">
<h4 id="sec-18-166-7">Also See</h4>
<div class="outline-text-4" id="text-18-166-7">
<p>
<a href="#COLORS"><code>COLORS</code></a>, <a href="#init_pair"><code>init_pair()</code></a>, <a href="#assume_default_colors"><code>assume_default_colors()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-167" class="outline-3">
<h3 id="sec-18-167"><code>use_env()</code>                                                        <a id="use_env" name="use_env"></a></h3>
<div class="outline-text-3" id="text-18-167">
<p>
The <code>use_env()</code> function tells NCurses whether to use the
terminal's <code>terminfo</code> definitions of lines and columns or the
default <code>LINES</code> and <code>COLUMNS</code> environment variable values.
</p>
</div>

<div id="outline-container-sec-18-167-1" class="outline-4">
<h4 id="sec-18-167-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-167-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">use_env</span>(<span style="color: #98fb98;">bool</span> <span style="color: #eedd82;">f</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-167-2" class="outline-4">
<h4 id="sec-18-167-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-167-2">
<p>
<code>f</code> is a Boolean value, either <code>TRUE</code> or <code>FALSE</code>. When set <code>TRUE</code>,
NCurses uses the values of the environment variables <code>LINES</code> and
<code>COLUMNS</code> as the size of the window. When set <code>FALSE</code>, the values
for the window size are pulled from the <code>terminfo</code> database. In
either case, NCurses also takes into account the terminal's size
by asking the system. When using the environment variables, those
override the system's size. When using the <code>terminfo</code> database,
the system's values (if known) override the database.
</p>
</div>
</div>

<div id="outline-container-sec-18-167-3" class="outline-4">
<h4 id="sec-18-167-3">Return Value</h4>
<div class="outline-text-4" id="text-18-167-3">
<p>
The function returns nothing.
</p>
</div>
</div>

<div id="outline-container-sec-18-167-4" class="outline-4">
<h4 id="sec-18-167-4">Notes</h4>
<div class="outline-text-4" id="text-18-167-4">
<p>
The <code>use_env()</code> function must be specified <i>before</i> the
<code>initscr()</code> or <code>newterm()</code> function initializes NCurses.
</p>

<p>
If either <code>LINES</code> or <code>COLUMNS</code> is not set in the environment, then
NCurses uses the values from the <code>terminfo</code> database by
default. If you manually set <code>LINES</code> or COLUMNS in the
environment, then <i>Bad Things</i> can happen.
</p>

<p>
A few applications set <code>$LINES</code> or <code>$COLUMNS</code>, and they're not
resizeable.
</p>

<p>
Note that the environment variable is <code>COLUMNS</code> but in NCurses the
<code>COLS</code> variable is used instead. See <a href="#COLS"><code>COLS</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-167-5" class="outline-4">
<h4 id="sec-18-167-5">Example</h4>
<div class="outline-text-4" id="text-18-167-5">
<div class="org-src-container">

<pre class="src src-c">use_env(FALSE);
</pre>
</div>

<p>
The statement directs NCurses to use the <code>terminfo</code> database's
values for the current screen size.
</p>
</div>
</div>

<div id="outline-container-sec-18-167-6" class="outline-4">
<h4 id="sec-18-167-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-167-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  use_env(FALSE);
<span class="linenr"> 6: </span>  initscr();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  printw(<span style="color: #ffa07a;">"LINES = %d\n"</span>,LINES);
<span class="linenr"> 9: </span>  printw(<span style="color: #ffa07a;">"COLS = %d\n"</span>,COLS);
<span class="linenr">10: </span>  refresh();
<span class="linenr">11: </span>  getch();
<span class="linenr">12: </span>
<span class="linenr">13: </span>  endwin();
<span class="linenr">14: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">15: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-167-6-1" class="outline-5">
<h5 id="sec-18-167-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-167-6-1">
<pre class="example">
LINES = 24
COLS = 80
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-167-7" class="outline-4">
<h4 id="sec-18-167-7">Also See</h4>
<div class="outline-text-4" id="text-18-167-7">
<p>
<a href="#initscr"><code>initscr()</code></a>, <a href="#LINES"><code>LINES</code></a>, <a href="#COLS"><code>COLS</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-168" class="outline-3">
<h3 id="sec-18-168"><code>vline()</code>                                                          <a id="vline" name="vline"></a></h3>
<div class="outline-text-3" id="text-18-168">
<p>
The <code>vline()</code> function draws a vertical (up-down) line from the
cursor's current location down a given number of rows.
</p>
</div>

<div id="outline-container-sec-18-168-1" class="outline-4">
<h4 id="sec-18-168-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-168-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">vline</span>(<span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">wvline</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvvline</span>(<span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
<span style="color: #98fb98;">int</span>   <span style="color: #87cefa;">mvwvline</span>(<span style="color: #98fb98;">WINDOW</span> *, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>, <span style="color: #98fb98;">chtype</span> <span style="color: #eedd82;">ch</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-168-2" class="outline-4">
<h4 id="sec-18-168-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-168-2">
<p>
<code>ch</code> is a <code>chtype</code> character used to draw the line. Though
typically only a single character, such as <code>|</code>, is used, you can
combine characters, text attributes and colors with the <code>chtype</code>
variable. Refer to <a href="#appendix_c">Appendix C</a>. When zero is specified for <code>ch</code>,
the default <code>ASC_VLINE</code> character is used. See <a href="#appendix_b">Appendix B</a> for more
information on ACS characters.
</p>

<p>
<code>n</code> is an <code>int</code> value that sets the length of the line in
rows. Valid values for n range from 0 on up to whatever an integer
can hold. When <code>n</code> is zero no line is displayed. When <code>n</code> is
greater than the distance between the current cursor position and
the bottom of the window, then only as many <code>ch</code> characters as can
be displayed are shown. (Long vertical lines will not cause the
screen to scroll, nor will the line wrap in any way.)
</p>

<p>
Refer to the <a href="#mv_prefix"><code>mv</code></a>, <a href="#mvw_prefix"><code>mvw</code></a>, and <a href="#w_prefix"><code>w</code></a> prefix entries elsewhere in this
appendix for information on the <code>win</code>, <code>row</code>, and <code>col</code> arguments.
</p>
</div>
</div>

<div id="outline-container-sec-18-168-3" class="outline-4">
<h4 id="sec-18-168-3">Return Value</h4>
<div class="outline-text-4" id="text-18-168-3">
<p>
<code>vline()</code> always returns <code>OK</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-168-4" class="outline-4">
<h4 id="sec-18-168-4">Notes</h4>
<div class="outline-text-4" id="text-18-168-4">
<p>
The line always goes from the cursor's current position down.
</p>

<p>
Drawing the line does not affect the cursor's location. The cursor
remains at its previous location or whichever location was set by
the <code>mvvline()</code> or <code>mvwvline()</code> functions.
</p>

<p>
The line drawn is not protected against erasure by other NCurses
text output functions; the line can be overwritten at any time.
</p>
</div>
</div>

<div id="outline-container-sec-18-168-5" class="outline-4">
<h4 id="sec-18-168-5">Examples</h4>
<div class="outline-text-4" id="text-18-168-5">
<div class="org-src-container">

<pre class="src src-c">vline(0,10);
</pre>
</div>

<p>
The function draws a line 10 characters long (tall) from the
cursor's current position. The default line drawing character is
used.
</p>

<div class="org-src-container">

<pre class="src src-c">mvvline(y,10,<span style="color: #ffa07a;">'*'</span>,len);
</pre>
</div>

<p>
Here, the function draws a vertical line using asterisks. The line
is <code>len</code> characters long from location row <code>y</code>, column <code>10</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-168-6" class="outline-4">
<h4 id="sec-18-168-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-168-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">maxy</span>,<span style="color: #eedd82;">maxx</span>,<span style="color: #eedd82;">halfy</span>,<span style="color: #eedd82;">x</span>,<span style="color: #eedd82;">len</span>;
<span class="linenr"> 6: </span>  initscr();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  getmaxyx(stdscr,maxy,maxx);
<span class="linenr"> 9: </span>  halfy = maxy &gt;&gt; 1;                  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">y/2 </span><span style="color: #ff4500;">*/</span>
<span class="linenr">10: </span>  len = 1;
<span class="linenr">11: </span>
<span class="linenr">12: </span>  <span style="color: #00ffff;">for</span>(x=0;x&lt;maxx;x++)
<span class="linenr">13: </span>    {
<span class="linenr">14: </span>      mvvline(halfy-len,x,0,len+len);
<span class="linenr">15: </span>      <span style="color: #00ffff;">if</span>( !(x % 7)) len++;
<span class="linenr">16: </span>    }
<span class="linenr">17: </span>  refresh();
<span class="linenr">18: </span>  getch();
<span class="linenr">19: </span>
<span class="linenr">20: </span>  endwin();
<span class="linenr">21: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">22: </span>}
</pre>
</div>

<p>
The sample output is shown in <a href="#Figure-A-16">Figure A-16</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-A-16" name="Figure-A-16">Figure A-16</a> </dt><dd>The <code>vline()</code> function draws a, well,
modern art-like thing on the terminal.


<div class="figure">
<p><img src="img/FigureA-16.jpg" alt="FigureA-16.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-18-168-7" class="outline-4">
<h4 id="sec-18-168-7">Also See</h4>
<div class="outline-text-4" id="text-18-168-7">
<p>
<a href="#chapter_14">Chapter 14</a>, <a href="#appendix_b">Appendix B</a>, <a href="#box"><code>box()</code></a>, <a href="#hline"><code>hline()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-169" class="outline-3">
<h3 id="sec-18-169"><code>vwprintw()</code>                                                       <a id="vwprintw" name="vwprintw"></a></h3>
<div class="outline-text-3" id="text-18-169">
<p>
See <a href="#printw"><code>printw()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-170" class="outline-3">
<h3 id="sec-18-170"><code>vwscanw()</code>                                                        <a id="vwscanw" name="vwscanw"></a></h3>
<div class="outline-text-3" id="text-18-170">
<p>
See <a href="#scanw"><code>scanw()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-171" class="outline-3">
<h3 id="sec-18-171"><code>w</code> prefix functions                                               <a id="w_prefix" name="w_prefix"></a></h3>
<div class="outline-text-3" id="text-18-171">
<p>
This appendix lists NCurses' pseudo functions. Internally, most
NCurses functions come with the <code>w</code> prefix, which means that the
function initially specifies a window argument. This entry covers
the common information shared by all <code>w</code> prefix functions; refer
elsewhere for the function specifics.
</p>
</div>

<div id="outline-container-sec-18-171-1" class="outline-4">
<h4 id="sec-18-171-1">Format</h4>
<div class="outline-text-4" id="text-18-171-1">
<p>
All <code>w</code> prefix functions feature <code>win</code> as their first argument.
</p>

<p>
<code>win</code> is a <code>WINDOW</code> variable, representing a window created
earlier in the program.
</p>

<p>
Refer to the individual functions elsewhere in this appendix for
information on the other arguments listed.
</p>
</div>
</div>

<div id="outline-container-sec-18-171-2" class="outline-4">
<h4 id="sec-18-171-2">Notes</h4>
<div class="outline-text-4" id="text-18-171-2">
<p>
The <code>WINDOW</code> variable always comes first in those functions that
require it. Even with the <code>mvw</code> prefix, <code>win</code> comes first (then
the screen coordinates).
</p>

<p>
The argument <code>win</code> is a <code>WINDOW</code> pointer variable, but do not
prefix it with the <code>&amp;</code> operator.
</p>

<p>
The pseudo functions are macros defined as their w-prefix
counterparts with the <code>stdscr</code>, standard screen, argument used for
the window.
</p>
</div>
</div>

<div id="outline-container-sec-18-171-3" class="outline-4">
<h4 id="sec-18-171-3">Also See</h4>
<div class="outline-text-4" id="text-18-171-3">
<p>
<a href="#addch"><code>addch()</code></a>, <a href="#addchstr"><code>addchstr()</code></a>, <a href="#addstr"><code>addstr()</code></a>, and so on
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-172" class="outline-3">
<h3 id="sec-18-172"><code>wcursyncup()</code>                                                     <a id="wcursyncup" name="wcursyncup"></a></h3>
<div class="outline-text-3" id="text-18-172">
<p>
The <code>wcursyncup()</code> function sets the cursor position for all
ancestors of a window equal to the cursor position in the named
window.
</p>
</div>

<div id="outline-container-sec-18-172-1" class="outline-4">
<h4 id="sec-18-172-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-172-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">wcursyncup</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-172-2" class="outline-4">
<h4 id="sec-18-172-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-172-2">
<p>
<code>win</code> is the name of a subwindow, a <code>WINDOW</code> variable.
</p>
</div>
</div>

<div id="outline-container-sec-18-172-3" class="outline-4">
<h4 id="sec-18-172-3">Return Value</h4>
<div class="outline-text-4" id="text-18-172-3">
<p>
The function returns no value.
</p>
</div>
</div>

<div id="outline-container-sec-18-172-4" class="outline-4">
<h4 id="sec-18-172-4">Notes</h4>
<div class="outline-text-4" id="text-18-172-4">
<p>
<code>wcursyncup()</code> basically fixes the cursors location. The cursor
doesn't move when focus is changed from the subwindow to any of
its parents.
</p>

<p>
Each window still maintains its own cursor location;
<code>wcursyncup()</code> simply sets them all to the same relative screen
coordinates.
</p>
</div>
</div>

<div id="outline-container-sec-18-172-5" class="outline-4">
<h4 id="sec-18-172-5">Example</h4>
<div class="outline-text-4" id="text-18-172-5">
<div class="org-src-container">

<pre class="src src-c">wcursyncup(little);
</pre>
</div>

<p>
The statement sets the cursor's location in all parents of
subwindow <code>little</code> to the same location.
</p>
</div>
</div>

<div id="outline-container-sec-18-172-6" class="outline-4">
<h4 id="sec-18-172-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-172-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">sonny</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">a</span>;
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  initscr();
<span class="linenr"> 9: </span>  start_color();
<span class="linenr">10: </span>  init_pair(1,COLOR_WHITE,COLOR_BLUE);
<span class="linenr">11: </span>  init_pair(2,COLOR_RED,COLOR_YELLOW);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  bkgd(COLOR_PAIR(1));
<span class="linenr">14: </span>  sonny = subwin(stdscr,5,20,10,30);
<span class="linenr">15: </span>  wbkgd(sonny,COLOR_PAIR(2));
<span class="linenr">16: </span>
<span class="linenr">17: </span>  waddstr(sonny,<span style="color: #ffa07a;">"This string is written to the window 'sonny'"</span>);
<span class="linenr">18: </span>  wnoutrefresh(stdscr);
<span class="linenr">19: </span>  wnoutrefresh(sonny);
<span class="linenr">20: </span>  doupdate();
<span class="linenr">21: </span>  getch();
<span class="linenr">22: </span>
<span class="linenr">23: </span>  wcursyncup(sonny);
<span class="linenr">24: </span>  refresh();
<span class="linenr">25: </span>  getch();
<span class="linenr">26: </span>
<span class="linenr">27: </span>  endwin();
<span class="linenr">28: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">29: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-172-6-1" class="outline-5">
<h5 id="sec-18-172-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-172-6-1">
<p>
Two windows appear on the screen, with text written to the
smaller, yellow subwindow. After <code>wcursyncup()</code>, the cursor's
location on the standard screen is reset to the same location as
was set in the window <code>sonny</code>. If you comment out line 23, you
can see how the cursor location changes to the home position,
0-0, upon the second <code>refresh()</code> in line 24.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-172-7" class="outline-4">
<h4 id="sec-18-172-7">Also See</h4>
<div class="outline-text-4" id="text-18-172-7">
<p>
<a href="#move"><code>move()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-173" class="outline-3">
<h3 id="sec-18-173"><code>wenclose()</code>                                                       <a id="wenclose" name="wenclose"></a></h3>
<div class="outline-text-3" id="text-18-173">
<p>
The <code>wenclose()</code> function determines whether the coordinates of a
mouse click are within a given window.
</p>
</div>

<div id="outline-container-sec-18-173-1" class="outline-4">
<h4 id="sec-18-173-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-173-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">bool</span> <span style="color: #87cefa;">wenclose</span>(<span style="color: #00ffff;">const</span> <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">x</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-173-2" class="outline-4">
<h4 id="sec-18-173-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-173-2">
<p>
<code>win</code> is the name of a <code>WINDOW</code> variable representing a window in
NCurses.
</p>

<p>
<code>y</code> and <code>x</code> are <code>int</code> values or variables, representing the
vertical (row) and horizontal (column) position of a mouse click
or event.
</p>
</div>
</div>

<div id="outline-container-sec-18-173-3" class="outline-4">
<h4 id="sec-18-173-3">Return Value</h4>
<div class="outline-text-4" id="text-18-173-3">
<p>
The function returns a Boolean value, either <code>TRUE</code> or <code>FALSE</code>
whether the coordinate is inside or outside the named window,
respectively. Both <code>TRUE</code> and <code>FALSE</code> are defined in <code>ncurses.h</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-173-4" class="outline-4">
<h4 id="sec-18-173-4">Notes</h4>
<div class="outline-text-4" id="text-18-173-4">
<p>
This function works best when you refresh and update the window in
question.
</p>
</div>
</div>

<div id="outline-container-sec-18-173-5" class="outline-4">
<h4 id="sec-18-173-5">Example</h4>
<div class="outline-text-4" id="text-18-173-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(wenclose(menu,me.y,me.x)
</pre>
</div>

<p>
The <code>if</code> condition tests <code>TRUE</code> when the coordinates of <code>me.y</code> and
<code>me.x</code> are within the window <code>menu</code>. Assume that me is an <code>MEVENT</code>
structure updated by <code>getmouse()</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-173-6" class="outline-4">
<h4 id="sec-18-173-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-173-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">target</span>;
<span class="linenr"> 6: </span>  <span style="color: #98fb98;">MEVENT</span> <span style="color: #eedd82;">eek</span>;
<span class="linenr"> 7: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">ch</span>;
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span>  initscr();
<span class="linenr">10: </span>  start_color();
<span class="linenr">11: </span>  init_pair(1,COLOR_WHITE,COLOR_CYAN);
<span class="linenr">12: </span>  noecho();
<span class="linenr">13: </span>  keypad(stdscr,TRUE);
<span class="linenr">14: </span>
<span class="linenr">15: </span>  target = newwin(5,3,9,39);
<span class="linenr">16: </span>  wbkgd(target,COLOR_PAIR(1));
<span class="linenr">17: </span>  wnoutrefresh(stdscr);
<span class="linenr">18: </span>  wnoutrefresh(target);
<span class="linenr">19: </span>  doupdate();
<span class="linenr">20: </span>
<span class="linenr">21: </span>  mousemask(BUTTON1_CLICKED,<span style="color: #7fffd4;">NULL</span>);
<span class="linenr">22: </span>  <span style="color: #00ffff;">while</span>(1)
<span class="linenr">23: </span>    {
<span class="linenr">24: </span>      ch = getch();
<span class="linenr">25: </span>      <span style="color: #00ffff;">if</span>( ch == KEY_MOUSE )
<span class="linenr">26: </span>        {
<span class="linenr">27: </span>          getmouse(&amp;eek);
<span class="linenr">28: </span>          <span style="color: #00ffff;">if</span>(wenclose(target,eek.y,eek.x))
<span class="linenr">29: </span>            {
<span class="linenr">30: </span>              beep();
<span class="linenr">31: </span>              touchwin(target);
<span class="linenr">32: </span>              wnoutrefresh(target);
<span class="linenr">33: </span>            }
<span class="linenr">34: </span>          <span style="color: #00ffff;">else</span>
<span class="linenr">35: </span>            {
<span class="linenr">36: </span>              mvaddch(eek.y,eek.x,<span style="color: #ffa07a;">'*'</span>);
<span class="linenr">37: </span>              wnoutrefresh(stdscr);
<span class="linenr">38: </span>            }
<span class="linenr">39: </span>          doupdate();
<span class="linenr">40: </span>          <span style="color: #00ffff;">continue</span>;
<span class="linenr">41: </span>        }
<span class="linenr">42: </span>      <span style="color: #00ffff;">if</span>( ch == <span style="color: #ffa07a;">'\n'</span> )
<span class="linenr">43: </span>        <span style="color: #00ffff;">break</span>;
<span class="linenr">44: </span>    }
<span class="linenr">45: </span>
<span class="linenr">46: </span>  endwin();
<span class="linenr">47: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">48: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-173-6-1" class="outline-5">
<h5 id="sec-18-173-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-173-6-1">
<p>
A small cyan window appears in the middle of the screen. Clicking
the mouse inside that window beeps the speaking. Clicking outside
of the window displays a * at the click point.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-173-7" class="outline-4">
<h4 id="sec-18-173-7">Also See</h4>
<div class="outline-text-4" id="text-18-173-7">
<p>
<a href="#getmouse"><code>getmouse()</code></a>, <i><code>wmouse_trafo()</code></i>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-174" class="outline-3">
<h3 id="sec-18-174"><code>WINDOW</code>                                                           <a id="WINDOW" name="WINDOW"></a></h3>
<div class="outline-text-3" id="text-18-174">
<p>
<code>WINDOW</code> is an NCurses variable type used to reference a window on
the screen.  Internally, <code>WINDOW</code> represents a structure created in
memory and filled with various values and settings according to the
window's state.
</p>
</div>

<div id="outline-container-sec-18-174-1" class="outline-4">
<h4 id="sec-18-174-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-174-1">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-174-2" class="outline-4">
<h4 id="sec-18-174-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-174-2">
<p>
Most of the settings in the <code>WINDOW</code> structure can be adjusted by
using standard NCurses functions. Even so, the following
references names and values found in the <code>WINDOW</code> structure. In
each example, <code>win</code> represents the name of a <code>WINDOW</code> variable.
</p>
</div>

<div id="outline-container-sec-18-174-2-1" class="outline-5">
<h5 id="sec-18-174-2-1">Cursor's location</h5>
<div class="outline-text-5" id="text-18-174-2-1">
<div class="org-src-container">

<pre class="src src-c">win-&gt;_cury
win-&gt;_curx
</pre>
</div>

<p>
The <code>_cury</code> and <code>_curx</code> elements are variables of the
<code>NCURSES_SIZE_T</code> type (<code>int</code>) representing the cursor's location
in a window, row and column.  These are the same values returned
by the <code>getyx()</code> function. (Actually <code>getyx()</code> is a macro that
reads the <code>cury</code> and <code>curx</code> values.)
</p>
</div>
</div>

<div id="outline-container-sec-18-174-2-2" class="outline-5">
<h5 id="sec-18-174-2-2">Window size</h5>
<div class="outline-text-5" id="text-18-174-2-2">
<div class="org-src-container">

<pre class="src src-c">win-&gt;_maxy
win-&gt;_maxx
win-&gt;_begy
win-&gt;_begx
</pre>
</div>

<p>
The <code>_maxy</code> and <code>_maxx</code> elements are variables of the
<code>NCURSES_SIZE_T</code> type (<code>short</code>) the representing the maximum
values for the placing the cursor in a column or row. The header
file says that these are not the window size, but they are one
less than the window size. That's because the first row and
column is zero. (The <code>getmaxyx()</code> function returns these values
<i>plus one</i>.)
</p>

<p>
The <code>_begy</code> and <code>_begx</code> elements are variables of the
<code>NCURSES_SIZE_T</code> type (<code>int</code>) indicating the coordinate of the
window's upper-left corner. These are the same values returned y
the <code>getbegyx()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-174-2-3" class="outline-5">
<h5 id="sec-18-174-2-3">Window state flags</h5>
<div class="outline-text-5" id="text-18-174-2-3">
<div class="org-src-container">

<pre class="src src-c">win-&gt;_flags
</pre>
</div>

<p>
flags is a <code>short</code> that contains 7 bit flags, as shown in <a href="#Table-A-19">Table
A-19</a>.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-19" name="Table-A-19">Table A-19</a> </dt><dd>Window state flags

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">CONSTANT</th>
<th scope="col" class="left">BIT POSITION</th>
<th scope="col" class="left">ON VALUE</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>_SUBWIN</code></td>
<td class="left"><code>0x01</code></td>
<td class="left">Window is a subwindow</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>_ENDLINE</code></td>
<td class="left"><code>0x02</code></td>
<td class="left">Window is flush-right</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>_FULLWIN</code></td>
<td class="left"><code>0x04</code></td>
<td class="left">Window is full screen</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>_SCROLLWIN</code></td>
<td class="left"><code>0x08</code></td>
<td class="left">Window's bottom edge is screen bottom edge</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>_ISPAD</code></td>
<td class="left"><code>0x10</code></td>
<td class="left">Window is a pad</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>_HASMOVED</code></td>
<td class="left"><code>0x20</code></td>
<td class="left">Cursor has moved since last refresh</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>_WRAPPED</code></td>
<td class="left"><code>0x40</code></td>
<td class="left">Cursor was just wrapped</td>
</tr>
</tbody>
</table>
</dd>
</dl>

<p>
Testing these values is done with a logical AND. See the Examples
for more information.
</p>
</div>
</div>

<div id="outline-container-sec-18-174-2-4" class="outline-5">
<h5 id="sec-18-174-2-4">Window attributes</h5>
<div class="outline-text-5" id="text-18-174-2-4">
<div class="org-src-container">

<pre class="src src-c">win-&gt;_attrs
win-&gt;_bkgd
</pre>
</div>

<p>
The <code>_attrs</code> element is an <code>attr_t</code> type variable indicating
which attributes are applied to text (non-space characters) in a
window. The bit fields in <code>_attrs</code> are filled according to which
attributes are set. See <a href="#attrset"><code>attrset()</code></a>.
</p>

<p>
<code>_bkgd</code> is a <code>chtype()</code> variable equal to the current background
<code>chtype</code> (character and attribute) assigned to the window. This
value is set by the <code>bkgd()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-174-2-5" class="outline-5">
<h5 id="sec-18-174-2-5">Window options</h5>
<div class="outline-text-5" id="text-18-174-2-5">
<div class="org-src-container">

<pre class="src src-c">win-&gt;_notimeout
win-&gt;_clear
win-&gt;_leaveok
win-&gt;_scroll
win-&gt;_idlok
win-&gt;_idcok
win-&gt;_immed
win-&gt;_sync
win-&gt;_use_keypad
win-&gt;_delay
</pre>
</div>

<p>
For all Boolean elements, the value <code>TRUE</code> sets the bit and the
condition, described below.
</p>

<p>
<code>_notimeout</code> is a Boolean value which when set directs NCurses
not set a timeout for the Esc key press. This value is controlled
by the <code>notimeout()</code> function.
</p>

<p>
<code>_clear</code> is a Boolean value which when set tells NCurses that
information in the window needs to be redrawn from scratch. This
setting is controlled by the <code>clearok()</code> function.
</p>

<p>
<code>_leaveok</code> is a Boolean value which when set tells NCurses not to
update the cursor's position for the window. This setting is
controlled by the <code>leaveok()</code> function.
</p>

<p>
<code>_scroll</code> is a Boolean value, which when set tells NCurses that
the window's contents can be scrolled. This setting is controlled
by the <code>scrollok()</code> function.
</p>

<p>
<code>_idlok</code> is a Boolean value, which when set tells NCurses to use
the hardware insert/delete line feature. This setting is
controlled by the <code>idlok()</code> function.
</p>

<p>
<code>_idcok</code> is a Boolean value, which when set tells NCurses to use
the hardware insert/delete character feature. This setting is
controlled by the <code>idcok()</code> function.
</p>

<p>
<code>_immed</code> is a Boolean value, which when set tells NCurses to
automatically call the <code>wrefresh()</code> function any time the
window's image is changed. This setting is controlled by the
<code>immedok()</code> function.
</p>

<p>
<code>_sync</code> is a Boolean value, which when set tells NCurses to
automatically update a subwidow's data any time the parent
window's data is changed. This setting is controlled by the
<code>syncok()</code> function.
</p>

<p>
<code>_use_keypad</code> is a Boolean value, which when set tells NCurses to
interpret the keyboard's keypad, function, cursor and other
special keys. This setting is controlled by the <code>keypad()</code>
function.
</p>

<p>
<code>_delay</code> is an <code>int</code> value, which sets the keyboard input
delay. Values less than zero turn <code>getch()</code> into a non-blocking
call. Zero sets no delay. Values greater than zero set the delay
in milliseconds. This setting is controlled by the <code>nodelay()</code>
and <code>timeout()</code> functions.
</p>
</div>
</div>

<div id="outline-container-sec-18-174-2-6" class="outline-5">
<h5 id="sec-18-174-2-6">Window data</h5>
<div class="outline-text-5" id="text-18-174-2-6">
<div class="org-src-container">

<pre class="src src-c">win-&gt;_line
</pre>
</div>

<p>
<code>_line</code> is a pointer to a special structure that holds the window's
actual data.  NCurses developers really don't want you messing
with that data, so this element of the <code>WINDOW</code> structure is
undocumented.
</p>
</div>
</div>

<div id="outline-container-sec-18-174-2-7" class="outline-5">
<h5 id="sec-18-174-2-7">Window Scrolling Region</h5>
<div class="outline-text-5" id="text-18-174-2-7">
<div class="org-src-container">

<pre class="src src-c">win-&gt;_regtop
win-&gt;_regbottom
</pre>
</div>

<p>
The two variables <code>_regtop</code> and <code>_regbottom</code> are <code>NCURSES_SIZE_T</code>
values that set the top and bottom of a scrolling region of text
in a window. These are set by using the <code>setscrreg()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-174-2-8" class="outline-5">
<h5 id="sec-18-174-2-8">Subwindow Data</h5>
<div class="outline-text-5" id="text-18-174-2-8">
<div class="org-src-container">

<pre class="src src-c">win-&gt;_parx
win-&gt;_pary
win-&gt;_parent
</pre>
</div>

<p>
For a subwindow, <code>_parx</code> and <code>_pary</code> are <code>int</code> values indicating
the upper-left corner of the subwindow relative to the
parent. These coordinates are returned via the <code>getparyx()</code>
function.
</p>

<p>
<code>_parent</code> is a <code>WINDOW</code> pointer indicating the parent
window. This value is the address of the parent window's
structure, not its name. See the Examples.
</p>
</div>
</div>

<div id="outline-container-sec-18-174-2-9" class="outline-5">
<h5 id="sec-18-174-2-9">Pad Data</h5>
<div class="outline-text-5" id="text-18-174-2-9">
<p>
Data for a pad is kept in a pdat structure within the <code>WINDOW</code>
structure. The <code>pdat</code> structure is named <code>_pad</code> and referenced as
listed below:
</p>

<div class="org-src-container">

<pre class="src src-c">win-&gt;_pad._pad_y
win-&gt;_pad._pad_x
win-&gt;_pad._pad_top
win-&gt;_pad._pad_left
win-&gt;_pad._pad_bottom
win-&gt;_pad._pad_right
</pre>
</div>

<p>
The pad data in the window corresponds to the arguments used for
the <code>prefresh()</code> function as shown in <a href="#Table-A-20">Table A-20</a>.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-20" name="Table-A-20">Table A-20</a> </dt><dd><code>WINDOW</code> pad data related the <code>prefresh()</code>
                           function's arguments

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">PREFRESH() ARGUMENTS</th>
<th scope="col" class="left">WINDOW PDAT STRUCTURE ELEMENT</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>pminrow</code></td>
<td class="left"><code>_pad._pad_y</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>pmincol</code></td>
<td class="left"><code>_pad._pad_x</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>sminrow</code></td>
<td class="left"><code>_pad._pad_top</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>smincol</code></td>
<td class="left"><code>_pad._pad_left</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>smaxrow</code></td>
<td class="left"><code>_pad._pad_bottom</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>smaxcol</code></td>
<td class="left"><code>_pad._pad_right</code></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-sec-18-174-3" class="outline-4">
<h4 id="sec-18-174-3">Return Value</h4>
<div class="outline-text-4" id="text-18-174-3">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-174-4" class="outline-4">
<h4 id="sec-18-174-4">Notes</h4>
<div class="outline-text-4" id="text-18-174-4">
<p>
Obviously, it's preferable to change attributes by using the
proper NCurses functions wherever possible.
</p>

<p>
The subwindow information for a window, <code>win-&gt;_parx</code>,
<code>win-&gt;_pary</code>, <code>win-&gt;_parent</code>, is set only when the window is a
subwindow.
</p>

<p>
Note that there is no reference in the <code>WINDOW</code> structure for any
subwindows.  True, subwindows do link back to their parents (via
the <code>_parent</code> element).  But there is no element in the <code>WINDOW</code>
structure to reference any offspring.  (NCurses does maintain an
internal list of all windows.)
</p>
</div>
</div>

<div id="outline-container-sec-18-174-5" class="outline-4">
<h4 id="sec-18-174-5">Examples</h4>
<div class="outline-text-4" id="text-18-174-5">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(win-&gt;_flags &amp; _FULLWIN)
</pre>
</div>

<p>
The <code>if</code> test is true if the <code>_FULLWIN</code> bit is set for the window
<code>win</code>, meaning that window <code>win</code> is full screen.
</p>

<div class="org-src-container">

<pre class="src src-c"><span style="color: #00ffff;">if</span>(sub-&gt;_parent == stdscr)
</pre>
</div>

<p>
The <code>if</code> condition is true when the standard screen has a
subwindow named <code>sub</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-174-6" class="outline-4">
<h4 id="sec-18-174-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-174-6">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-174-7" class="outline-4">
<h4 id="sec-18-174-7">Also See</h4>
<div class="outline-text-4" id="text-18-174-7">
<p>
<a href="#getyx"><code>getyx()</code></a>, <a href="#getmaxyx"><code>getmaxyx()</code></a>, <a href="#getbegyx"><code>getbegyx()</code></a>, <a href="#attrset"><code>attrset()</code></a>, <a href="#bkgd"><code>bkgd()</code></a>,
<a href="#notimeout"><code>notimeout()</code></a>, <a href="#clearok"><code>clearok()</code></a>, <a href="#leaveok"><code>leaveok()</code></a>, <a href="#scrollok"><code>scrollok()</code></a>, <a href="#idlok"><code>idlok()</code></a>,
<a href="#idcok"><code>idcok()</code></a>, <a href="#immedok"><code>immedok()</code></a>, <a href="#syncok"><code>syncok()</code></a>, <a href="#keypad"><code>keypad()</code></a>, <a href="#nodelay"><code>nodelay()</code></a>,
<a href="#timeout"><code>timeout()</code></a>, <a href="#setscrreg"><code>setscrreg()</code></a>, <a href="#getparyx"><code>getparyx()</code></a>, <a href="#prefresh"><code>prefresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-175" class="outline-3">
<h3 id="sec-18-175"><code>wnoutrefresh()</code>                                                   <a id="wnoutrefresh" name="wnoutrefresh"></a></h3>
<div class="outline-text-3" id="text-18-175">
<p>
The <code>wnoutrefresh()</code> function copies modified (touched) text from a
window to the virtual screen.
</p>
</div>

<div id="outline-container-sec-18-175-1" class="outline-4">
<h4 id="sec-18-175-1">Explanation</h4>
<div class="outline-text-4" id="text-18-175-1">
<p>
The refresh operation in NCurses consists of two parts:
</p>

<ul class="org-ul">
<li>First, NCurses takes those portions of a window that have been
changed or <i>touched</i> and writes those portions from the window
data structure to a virtual screen in memory.
</li>

<li>Second, the contents of the virtual screen touched since the
last refresh are displayed on the terminal.
</li>
</ul>


<p>
The copying of information from a window data structure to the
virtual screen is carried out by the <code>wnoutrefresh()</code>
function. The updating of the virtual screen to the terminal is
handled by another function, <code>doupdate()</code>.  Together they form the
two components of a <code>refresh()</code> or <code>wrefresh()</code> call.
</p>

<p>
The advantage of using <code>wnoutrefresh()</code> comes when updating
multiple windows. In that case, repeated calls to <code>wnoutrefresh()</code>
followed by a single <code>doupdate()</code> call is more efficient than a
series of <code>wrefresh()</code> calls, plus it results in less flicker.
</p>
</div>
</div>

<div id="outline-container-sec-18-175-2" class="outline-4">
<h4 id="sec-18-175-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-175-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wnoutrefresh</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-175-3" class="outline-4">
<h4 id="sec-18-175-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-175-3">
<p>
<code>win</code> represents the window to update on the virtual screen. It's
a <code>WINDOW</code> variable, representing a window created earlier in the
code or <code>stdscr</code> for the standard screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-175-4" class="outline-4">
<h4 id="sec-18-175-4">Return Value</h4>
<div class="outline-text-4" id="text-18-175-4">
<p>
<code>ERR</code> upon failure, <code>OK</code> (or some value other than <code>ERR</code>) upon
success.
</p>
</div>
</div>

<div id="outline-container-sec-18-175-5" class="outline-4">
<h4 id="sec-18-175-5">Notes</h4>
<div class="outline-text-4" id="text-18-175-5">
<p>
<code>wnoutrefresh()</code> has the effect of un-touching a window. See
<a href="#touchwin"><code>touchwin()</code></a>.
</p>

<p>
A similar function, <code>pnoutrefresh()</code>, exists for help in updating
pads. See <a href="#pnoutrefresh"><code>pnoutrefresh()</code></a>.
</p>

<p>
The <code>slk_noutrefresh()</code> function is used for help in updating soft
labels.  See <a href="#slk_noutrefresh"><code>slk_noutrefresh()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-175-6" class="outline-4">
<h4 id="sec-18-175-6">Examples</h4>
<div class="outline-text-4" id="text-18-175-6">
<div class="org-src-container">

<pre class="src src-c">wnoutrefresh(alpha);
wnoutrefresh(beta);
wnoutrefresh(gamma);
doupdate();
</pre>
</div>

<p>
The three <code>wnoutrefresh()</code> functions update information from the
three windows, <code>alpha</code>, <code>beta</code>, and <code>gamma</code>. Then final
<code>doupdate()</code> function updates the terminal. These four statements
are more efficient than three corresponding <code>wrefresh()</code>
functions.
</p>

<div class="org-src-container">

<pre class="src src-c">wnoutrefresh(stdscr);
</pre>
</div>

<p>
Here, the standard screen is updated to the virtual screen. A
subsequent call to <code>doupdate()</code> will update the terminal screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-175-7" class="outline-4">
<h4 id="sec-18-175-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-175-7">
<p>
Refer to the entries for <a href="#doupdate"><code>doupdate()</code></a> and <a href="#mvwin"><code>mvwin()</code></a> for sample
programs and output.
</p>
</div>
</div>

<div id="outline-container-sec-18-175-8" class="outline-4">
<h4 id="sec-18-175-8">Also See</h4>
<div class="outline-text-4" id="text-18-175-8">
<p>
<a href="#refresh"><code>refresh()</code></a>, <a href="#doupdate"><code>doupdate()</code></a>, <a href="#wredrawln"><code>wredrawln()</code></a>, <a href="#touchwin"><code>touchwin()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-176" class="outline-3">
<h3 id="sec-18-176"><code>wredrawln()</code>                                                      <a id="wredrawln" name="wredrawln"></a></h3>
<div class="outline-text-3" id="text-18-176">
<p>
The <code>wredrawln()</code> function directs NCurses to update specific lines
from a window to the terminal.
</p>
</div>

<div id="outline-container-sec-18-176-1" class="outline-4">
<h4 id="sec-18-176-1">Explanation</h4>
<div class="outline-text-4" id="text-18-176-1">
<p>
This function, along with <code>redrawwin()</code>, operates under the
assumption that something has disrupted a program's text on the
terminal. In that instance, NCurses may not recognize the
corrupted screen or know that its internal representation of the
screen (<code>curscr</code>) is out of sync. The <code>wredrawln()</code> function
allows a program to fix one or more lines in a window, forcing
NCurses to write those lines and make the <code>curscr</code> once again
match what the user sees.
</p>
</div>
</div>

<div id="outline-container-sec-18-176-2" class="outline-4">
<h4 id="sec-18-176-2">Man Page Format</h4>
<div class="outline-text-4" id="text-18-176-2">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wredrawln</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">beg_line</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">num_lines</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-176-3" class="outline-4">
<h4 id="sec-18-176-3">Format Reference</h4>
<div class="outline-text-4" id="text-18-176-3">
<p>
<code>win</code> is a <code>WINDOW</code> variable representing a window on the screen.
</p>

<p>
<code>beg_line</code> is an <code>int</code> value specifying a line on the screen to
update. Values range from 0 for the top line, down to as many rows
are between <code>beg_line</code> and the bottom of the window.
</p>

<p>
<code>num_lines</code> is the number of rows to update, from 1 through as
many rows are available between <code>beg_line</code> and the bottom of the
window.
</p>
</div>
</div>

<div id="outline-container-sec-18-176-4" class="outline-4">
<h4 id="sec-18-176-4">Return Value</h4>
<div class="outline-text-4" id="text-18-176-4">
<p>
<code>ERR</code> upon failure or some value other than <code>ERR</code> upon success,
usually <code>OK</code> but not always.
</p>
</div>
</div>

<div id="outline-container-sec-18-176-5" class="outline-4">
<h4 id="sec-18-176-5">Notes</h4>
<div class="outline-text-4" id="text-18-176-5">
<p>
<code>wredrawln()</code> does not actually refresh the screen. The next
<code>wrefresh()</code> command merely ensures that the lines touched by
<code>wredrawln()</code> are fully updated on the terminal screen.
</p>

<p>
The lines <code>wredrawln()</code> replaces are completely replaced.
</p>

<p>
The <code>redrawwin()</code> function is used to force a re-write of the
entire screen.  It's equivalent to <code>wredrawln(win,0,n)</code>, where
<code>win</code> is the name of the window and <code>n</code> is the window's bottom
row.
</p>

<p>
I've yet to see this function work as described. Though it appears
to do something, just not what is advertised. A better solution is
to use the following as a replacement for <code>wredrawln()</code>:
</p>

<div class="org-src-container">

<pre class="src src-c">touchwin(stdscr);
touchwin(curscr);
wrefresh(curscr);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-176-6" class="outline-4">
<h4 id="sec-18-176-6">Example</h4>
<div class="outline-text-4" id="text-18-176-6">
<div class="org-src-container">

<pre class="src src-c">wredrawln(stdscr,0,11);
</pre>
</div>

<p>
The statement describes the top 12 lines of the standard screen as
in need of a complete refresh.
</p>
</div>
</div>

<div id="outline-container-sec-18-176-7" class="outline-4">
<h4 id="sec-18-176-7">Sample Program</h4>
<div class="outline-text-4" id="text-18-176-7">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;stdlib.h&gt;</span>
<span class="linenr"> 3: </span>
<span class="linenr"> 4: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 5: </span>{
<span class="linenr"> 6: </span>  initscr();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  addstr(<span style="color: #ffa07a;">"I'm just an innocent little program,\n"</span>);
<span class="linenr"> 9: </span>  addstr(<span style="color: #ffa07a;">"minding my own business...\n"</span>);
<span class="linenr">10: </span>  move(0,0);
<span class="linenr">11: </span>  refresh();
<span class="linenr">12: </span>  getch();
<span class="linenr">13: </span>
<span class="linenr">14: </span>  system(<span style="color: #ffa07a;">"echo \"RANDOM DATA\" &gt; `tty`"</span>);
<span class="linenr">15: </span>  getch();
<span class="linenr">16: </span>
<span class="linenr">17: </span>  wredrawln(stdscr,0,2);
<span class="linenr">18: </span>  refresh();
<span class="linenr">19: </span>  getch();
<span class="linenr">20: </span>
<span class="linenr">21: </span>  endwin();
<span class="linenr">22: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">23: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-176-7-1" class="outline-5">
<h5 id="sec-18-176-7-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-176-7-1">
<pre class="example">
I'm just an innocent little program,
minding my own business...
</pre>

<p>
Press Enter to write text over the program's output:
</p>

<pre class="example">
RANDOM DATA innocent little program,
minding my own business...
</pre>

<p>
Press Enter to restore the program's output:
</p>

<pre class="example">
I'm just an innocent little program,

minding my own business...
</pre>

<p>
(Again: This doesn't work on any of the terminals or under any of
the platforms on which I've tried it, and it's most likely a bug
that will go away in the future.  Until then, changing line 17 to
<code>refresh(curscr)</code> does fix the program but doesn't address the
issue of whether <code>wredrawln()</code> is properly working or not.)
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-176-8" class="outline-4">
<h4 id="sec-18-176-8">Also See</h4>
<div class="outline-text-4" id="text-18-176-8">
<p>
<a href="#wredrawln"><code>wredrawln()</code></a>, <a href="#refresh"><code>refresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-177" class="outline-3">
<h3 id="sec-18-177"><code>wrefresh()</code>                                                       <a id="wrefresh" name="wrefresh"></a></h3>
<div class="outline-text-3" id="text-18-177">
<p>
See <a href="#refresh"><code>refresh()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-178" class="outline-3">
<h3 id="sec-18-178"><code>wsyncdown()</code>                                                      <a id="wsyncdown" name="wsyncdown"></a></h3>
<div class="outline-text-3" id="text-18-178">
<p>
The <code>wsyncdown()</code> function is called to ensure that locations
touched in a window are also touched in any subwindows.
</p>
</div>

<div id="outline-container-sec-18-178-1" class="outline-4">
<h4 id="sec-18-178-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-178-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">wsyncdown</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-178-2" class="outline-4">
<h4 id="sec-18-178-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-178-2">
<p>
<code>win</code> is the name of a <code>WINDOW</code> variable representing a window on
the screen.
</p>
</div>
</div>

<div id="outline-container-sec-18-178-3" class="outline-4">
<h4 id="sec-18-178-3">Return Value</h4>
<div class="outline-text-4" id="text-18-178-3">
<p>
The function returns no value.
</p>
</div>
</div>

<div id="outline-container-sec-18-178-4" class="outline-4">
<h4 id="sec-18-178-4">Notes</h4>
<div class="outline-text-4" id="text-18-178-4">
<p>
This function is called internally by the <code>wnoutrefresh()</code>
function. It's unusual to call this function manually.
</p>

<p>
The <code>wsyncdown()</code> function recursively calls all parent windows of
the named window. Therefore, specify the smallest child window to
synchronize the refresh to all of its parents.
</p>

<p>
This function is not related to the <code>wsyncup()</code> function.
</p>
</div>
</div>

<div id="outline-container-sec-18-178-5" class="outline-4">
<h4 id="sec-18-178-5">Example</h4>
<div class="outline-text-4" id="text-18-178-5">
<div class="org-src-container">

<pre class="src src-c">wsyncdown(pp);
</pre>
</div>

<p>
The statement touches an changed locations in the window pp, then
checks for any parent windows to pp and touches the same changed
locations in those windows as well. Again, the <code>wrefresh(pp)</code>
command would do the same thing, so there is seldom a need to use
this command.
</p>
</div>
</div>

<div id="outline-container-sec-18-178-6" class="outline-4">
<h4 id="sec-18-178-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-178-6">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-178-7" class="outline-4">
<h4 id="sec-18-178-7">Also See</h4>
<div class="outline-text-4" id="text-18-178-7">
<p>
<a href="#wnoutrefresh"><code>wnoutrefresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-179" class="outline-3">
<h3 id="sec-18-179"><code>wsyncup()</code>                                                        <a id="wsyncup" name="wsyncup"></a></h3>
<div class="outline-text-3" id="text-18-179">
<p>
The <code>wsyncup()</code> function touches the locations in the parents of a
subwindow that have been changed in the subwindow.
</p>
</div>

<div id="outline-container-sec-18-179-1" class="outline-4">
<h4 id="sec-18-179-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-179-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">void</span> <span style="color: #87cefa;">wsyncup</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-179-2" class="outline-4">
<h4 id="sec-18-179-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-179-2">
<p>
<code>win</code> is the name of a <code>WINDOW</code> variable representing a subwindow.
</p>
</div>
</div>

<div id="outline-container-sec-18-179-3" class="outline-4">
<h4 id="sec-18-179-3">Return Value</h4>
<div class="outline-text-4" id="text-18-179-3">
<p>
This function returns no value.
</p>
</div>
</div>

<div id="outline-container-sec-18-179-4" class="outline-4">
<h4 id="sec-18-179-4">Notes</h4>
<div class="outline-text-4" id="text-18-179-4">
<p>
<code>wsyncup()</code> is called internally by NCurses whenever the <code>mvwin()</code>
function is used to relocate a window.
</p>

<p>
This function may be called automatically whenever there is a
change made to any window. See <a href="#syncok"><code>syncok()</code></a> for more information.
</p>

<p>
<code>wsyncup()</code> seems rather redundant, given that a subwindow shares
memory with its parent.
</p>
</div>
</div>

<div id="outline-container-sec-18-179-5" class="outline-4">
<h4 id="sec-18-179-5">Example</h4>
<div class="outline-text-4" id="text-18-179-5">
<div class="org-src-container">

<pre class="src src-c">wsyncup(baby);
</pre>
</div>

<p>
The statement touches all changed locations in the subwindow
<code>baby</code> inside all parent windows as well.
</p>
</div>
</div>

<div id="outline-container-sec-18-179-6" class="outline-4">
<h4 id="sec-18-179-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-179-6">
<p>
Not applicable.
</p>
</div>
</div>

<div id="outline-container-sec-18-179-7" class="outline-4">
<h4 id="sec-18-179-7">Also See</h4>
<div class="outline-text-4" id="text-18-179-7">
<p>
<a href="#syncok"><code>syncok()</code></a>, <a href="#refresh"><code>refresh()</code></a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-180" class="outline-3">
<h3 id="sec-18-180"><code>wtimeout()</code>                                                       <a id="wtimeout" name="wtimeout"></a></h3>
<div class="outline-text-3" id="text-18-180">
<p>
See <a href="#timeout"><code>timeout()</code></a>.
</p>
</div>
</div>

<div id="outline-container-sec-18-181" class="outline-3">
<h3 id="sec-18-181"><code>wtouchln</code>                                                         <a id="wtouchln" name="wtouchln"></a></h3>
<div class="outline-text-3" id="text-18-181">
<p>
The <code>wtouchln()</code> function flags one or more lines in a specific
window as either requiring updating on the screen or as not needing
updating. (Refer to the entry for <a href="#refresh"><code>refresh()</code></a> for more information
about how parts of windows are <i>touched</i> and require updating.)
</p>
</div>

<div id="outline-container-sec-18-181-1" class="outline-4">
<h4 id="sec-18-181-1">Man Page Format</h4>
<div class="outline-text-4" id="text-18-181-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">wtouchln</span>(<span style="color: #98fb98;">WINDOW</span> *<span style="color: #eedd82;">win</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">y</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">n</span>, <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">changed</span>);
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-18-181-2" class="outline-4">
<h4 id="sec-18-181-2">Format Reference</h4>
<div class="outline-text-4" id="text-18-181-2">
<p>
<code>win</code> is a <code>WINDOW</code> variable indicating which window the
<code>wtouchln()</code> function affects.
</p>

<p>
<code>y</code> is the top row to mark as either touched or untouched.
</p>

<p>
<code>n</code> indicates how many rows, including <code>row</code>, to flag as being
touched or untouched. Values range from 1 to the number of rows
between <code>row</code> and the bottom of the window.
</p>

<p>
<code>changed</code> is either 1 or 0. When <code>changed</code> is 1, then the rows
indicated are flagged as touched and will be updated at the next
<code>wrefresh()</code> call. When changed is 0, then the rows indicated are
flagged as up to date or untouched.
</p>
</div>
</div>

<div id="outline-container-sec-18-181-3" class="outline-4">
<h4 id="sec-18-181-3">Return Value</h4>
<div class="outline-text-4" id="text-18-181-3">
<p>
The function returns <code>ERR</code> upon failure; an <code>int</code> value other than
<code>ERR</code> is returned upon success.
</p>
</div>
</div>

<div id="outline-container-sec-18-181-4" class="outline-4">
<h4 id="sec-18-181-4">Notes</h4>
<div class="outline-text-4" id="text-18-181-4">
<p>
The <code>touchwin()</code>, <code>touchline()</code>, and <code>untouchwin()</code> functions are
all macros defined in <code>ncurses.h</code> that use the <code>wtouchln()</code>
function. <a href="#Table-A-21">Table A-21</a> shows how they map out.
</p>

<dl class="org-dl">
<dt> <a id="Table-A-21" name="Table-A-21">Table A-21</a> </dt><dd><code>wtouchln()</code> equivalents of other NCurses
functions

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">FUNCTION</th>
<th scope="col" class="left"><code>WTOUCHLN()</code> EQUIVALENT</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>touchline(win,row,count)</code></td>
<td class="left"><code>wtouchln(win,row,count,1)</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>touchwin(win)</code></td>
<td class="left"><code>wtouchln(win,0,getmaxy(win),1)</code></td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>untouchwin(win)</code></td>
<td class="left"><code>wtouchln(win,0,getmaxy(win),0)</code></td>
</tr>
</tbody>
</table>
</dd>
</dl>


<p>
(The <code>getmaxy()</code> macro is defined in <code>ncurses.h</code>; refer to the
Notes entry for <a href="#getmaxyx"><code>getmaxyx()</code></a> in this appendix for details.)
</p>
</div>
</div>

<div id="outline-container-sec-18-181-5" class="outline-4">
<h4 id="sec-18-181-5">Examples</h4>
<div class="outline-text-4" id="text-18-181-5">
<div class="org-src-container">

<pre class="src src-c">wtouchln(stdscr,0,halfy,1);
</pre>
</div>

<p>
The statement flags the top half of the standard screen as being
in need of updating on the next <code>refresh()</code> call. This assumes
that the <code>halfy</code> variable equals half the window's height.
</p>

<div class="org-src-container">

<pre class="src src-c">wtouchln(help,13,1,0);
</pre>
</div>

<p>
The statement tells NCurses to ignore any modifications done on
row 13 in the window <code>help</code>.
</p>
</div>
</div>

<div id="outline-container-sec-18-181-6" class="outline-4">
<h4 id="sec-18-181-6">Sample Program</h4>
<div class="outline-text-4" id="text-18-181-6">
<div class="org-src-container">

<pre class="src src-c"><span class="linenr"> 1: </span><span style="color: #b0c4de;">#include</span> <span style="color: #ffa07a;">&lt;ncurses.h&gt;</span>
<span class="linenr"> 2: </span>
<span class="linenr"> 3: </span><span style="color: #98fb98;">int</span> <span style="color: #87cefa;">main</span>(<span style="color: #98fb98;">void</span>)
<span class="linenr"> 4: </span>{
<span class="linenr"> 5: </span>  <span style="color: #98fb98;">int</span> <span style="color: #eedd82;">r</span>;
<span class="linenr"> 6: </span>  initscr();
<span class="linenr"> 7: </span>
<span class="linenr"> 8: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Write some text to the entire window </span><span style="color: #ff4500;">*/</span>
<span class="linenr"> 9: </span>  <span style="color: #00ffff;">for</span>(r=0;r&lt;LINES;r++)
<span class="linenr">10: </span>    mvprintw(r,0,\
<span class="linenr">11: </span>             <span style="color: #ffa07a;">"This is the fabulous row %d on the standard screen."</span>,r);
<span class="linenr">12: </span>
<span class="linenr">13: </span>  <span style="color: #ff4500;">/* </span><span style="color: #ff4500;">Update every other line </span><span style="color: #ff4500;">*/</span>
<span class="linenr">14: </span>  <span style="color: #00ffff;">for</span>(r=0;r&lt;LINES;r+=2)
<span class="linenr">15: </span>    {
<span class="linenr">16: </span>      wtouchln(stdscr,r,1,1);
<span class="linenr">17: </span>      wtouchln(stdscr,r+1,1,0);
<span class="linenr">18: </span>    }
<span class="linenr">19: </span>  refresh();
<span class="linenr">20: </span>  getch();
<span class="linenr">21: </span>
<span class="linenr">22: </span>  endwin();
<span class="linenr">23: </span>  <span style="color: #00ffff;">return</span> 0;
<span class="linenr">24: </span>}
</pre>
</div>
</div>

<div id="outline-container-sec-18-181-6-1" class="outline-5">
<h5 id="sec-18-181-6-1">Sample output:</h5>
<div class="outline-text-5" id="text-18-181-6-1">
<pre class="example">
This is the fabulous row 0 on the standard screen.

This is the fabulous row 2 on the standard screen.

This is the fabulous row 4 on the standard screen.

This is the fabulous row 6 on the standard screen.

This is the fabulous row 8 on the standard screen.

This is the fabulous row 10 on the standard screen.

This is the fabulous row 12 on the standard screen.

This is the fabulous row 14 on the standard screen.

This is the fabulous row 16 on the standard screen.

This is the fabulous row 18 on the standard screen.

This is the fabulous row 20 on the standard screen.

This is the fabulous row 22 on the standard screen.
</pre>

<p>
Note how the standard screen cursor blinks after the last line
printed, line 23, which wasn't refreshed? Cursor movement is
independent of characters placed on the screen and is not
affected by touch or untouch functions. Also see <a href="#leaveok"><code>leaveok()</code></a>.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-18-181-7" class="outline-4">
<h4 id="sec-18-181-7">Also See</h4>
<div class="outline-text-4" id="text-18-181-7">
<p>
<a href="#refresh"><code>refresh()</code></a>, <a href="#touchwin"><code>touchwin()</code></a>, <a href="#untouchwin"><code>untouchwin()</code></a>
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-19" class="outline-2">
<h2 id="sec-19">APPENDIX B The Alternative Character Set                            <a id="appendix_b" name="appendix_b"></a></h2>
<div class="outline-text-2" id="text-19">
<p>
The <i>Alternative Character Set</i>, or <i>ACS</i>, is defined in the
<code>ncurses.h</code> file. Its purpose is to provide a common set of
characters for use on all platforms. The table in this appendix
gives the name defined for the characters, as specified in
<code>ncurses.h</code>. The Char column shows what the character commonly looks
like. The ASCII column displays the ASCII character substituted when
the character isn't available. And the Description column describes
the character's appearance or use.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">DEFINE NAME</th>
<th scope="col" class="left">CHAR</th>
<th scope="col" class="left">ASCII</th>
<th scope="col" class="left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>ACS_BLOCK</code></td>
<td class="left">â</td>
<td class="left">#</td>
<td class="left">A solid (100 percent) block</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_BOARD</code></td>
<td class="left">â</td>
<td class="left">#</td>
<td class="left">A 50 percent shaded block</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_BTEE</code></td>
<td class="left">â´</td>
<td class="left">+</td>
<td class="left">Line art bottom T intersection</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_BULLET</code></td>
<td class="left">â¢</td>
<td class="left">o</td>
<td class="left">Bullet</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_CKBOARD</code></td>
<td class="left">â</td>
<td class="left">:</td>
<td class="left">A 33 percent shaded block</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_DARROW</code></td>
<td class="left">â</td>
<td class="left">v</td>
<td class="left">Down arrow</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_DEGREE</code></td>
<td class="left">Â°</td>
<td class="left">'</td>
<td class="left">Degree symbol</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_DIAMOND</code></td>
<td class="left">â</td>
<td class="left">+</td>
<td class="left">Diamond</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_GEQUAL</code></td>
<td class="left">â¥</td>
<td class="left">&gt;</td>
<td class="left">Greater than or equal to</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_HLINE</code></td>
<td class="left">â</td>
<td class="left">-</td>
<td class="left">Line art horizontal line</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_LANTERN</code></td>
<td class="left">Â§</td>
<td class="left">#</td>
<td class="left">Lantern or section symbol</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_LARROW</code></td>
<td class="left">â</td>
<td class="left">&lt;</td>
<td class="left">Left arrow</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_LEQUAL</code></td>
<td class="left">â¤</td>
<td class="left">&lt;</td>
<td class="left">Less than or equal to</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_LLCORNER</code></td>
<td class="left">â</td>
<td class="left">+</td>
<td class="left">Line art lower-left corner</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_LRCORNER</code></td>
<td class="left">â</td>
<td class="left">+</td>
<td class="left">Line art lower-right corner</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_LTEE</code></td>
<td class="left">â</td>
<td class="left">+</td>
<td class="left">Line art left T intersection</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_NEQUAL</code></td>
<td class="left">â </td>
<td class="left">!</td>
<td class="left">Not equal</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_PI</code></td>
<td class="left">Ï</td>
<td class="left">*</td>
<td class="left">Pi</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_PLMINUS</code></td>
<td class="left">Â±</td>
<td class="left">#</td>
<td class="left">Plus/minus</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_PLUS</code></td>
<td class="left">â¼</td>
<td class="left">+</td>
<td class="left">Plus</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_RARROW</code></td>
<td class="left">â</td>
<td class="left">&gt;</td>
<td class="left">Right arrow</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_RTEE</code></td>
<td class="left">â¤</td>
<td class="left">+</td>
<td class="left">Line art right T intersection</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_S1</code></td>
<td class="left">âº</td>
<td class="left">&#xa0;</td>
<td class="left">Scan line 1 (top)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_S3</code></td>
<td class="left">â»</td>
<td class="left">&#xa0;</td>
<td class="left">Scan line 3 (high)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_S7</code></td>
<td class="left">â¼</td>
<td class="left">&#xa0;</td>
<td class="left">Scan line 7 (low)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_S9</code></td>
<td class="left">â½</td>
<td class="left">&#xa0;</td>
<td class="left">Scan line 9 (bottom)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_STERLING</code></td>
<td class="left">Â£</td>
<td class="left">f</td>
<td class="left">British pound</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_TTEE</code></td>
<td class="left">â¬</td>
<td class="left">+</td>
<td class="left">Line art top T intersection</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_UARROW</code></td>
<td class="left">â</td>
<td class="left">^</td>
<td class="left">Up arrow</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_ULCORNER</code></td>
<td class="left">â</td>
<td class="left">+</td>
<td class="left">Line art upper-left corner</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_URCORNER</code></td>
<td class="left">â</td>
<td class="left">+</td>
<td class="left">Line art upper-right corner</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>ACS_VLINE</code></td>
<td class="left">â</td>
<td class="left">&vert;</td>
<td class="left">Line art vertical line</td>
</tr>
</tbody>
</table>

<p>
The wide or <code>char_t</code> constants are identical to those listed in the
table, though with the prefix <code>w</code> added to the defined name. For
example, the wide plus/minus character is defined as <code>WACS_PLMINUS</code>.
</p>
</div>
</div>

<div id="outline-container-sec-20" class="outline-2">
<h2 id="sec-20">APPENDIX C The chtype                                               <a id="appendix_c" name="appendix_c"></a></h2>
<div class="outline-text-2" id="text-20">
<p>
In NCurses, <code>chtype</code> is a special type of variable that holds a
combination of character and attribute information. Those values are
stored in a <code>long int</code>.  (The <code>chtype</code> variable in NCurses is
<code>typedef</code>'d to a <code>long int</code>.)
</p>

<p>
Functions using <code>chtype</code> variables include: <code>addch()</code>, <code>addchstr()</code>,
<code>attroff()</code>, <code>attron()</code>, and <code>attrset()</code>, plus a host of others. But
more important, each character position in an NCurses window stores
a <code>chtype</code> value. As a <code>chtype</code>, character locations in a window
include both character and attribute information. Because of that,
when characters are copied or moved in NCurses, the attribute
information is copied and moved along with the character.
</p>

<p>
The <code>chtype</code> need only describe characters; it doesn't have to
include attribute information. To add the attribute, use the
<code>chtype</code> in a function such as <code>addch()</code>. The attribute can be
applied by using a logical OR with the character to display. For
example:
</p>

<div class="org-src-container">

<pre class="src src-c">addch(<span style="color: #ffa07a;">'E'</span> | A_BOLD);
</pre>
</div>

<p>
This function displays the character <code>E</code> at the cursor's current
position, plus applies the bold text attribute to that character.
</p>

<p>
Attributes for <code>chtypes</code> can also be assigned by using any of the
attribute functions, such as <code>attroff()</code>, <code>attron()</code>, or
<code>attrset()</code>.
</p>

<p>
The names and values of NCurses text attributes are listed in <a href="#Table-C-1">Table
C-1</a>. Also refer to <a href="#Table-3-1">Table 3-1</a> for information on what each attribute
does or how it controls the screen.  525
</p>

<dl class="org-dl">
<dt> <a id="Table-C-1" name="Table-C-1">Table C-1</a> </dt><dd>Text attribute masking values

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="right" />

<col  class="left" />

<col  class="right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">ATTRIBUTE NAME</th>
<th scope="col" class="right">VALUE (HEX)</th>
<th scope="col" class="left">ATTRIBUTE NAME</th>
<th scope="col" class="right">VALUE (HEX)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>A_NORMAL</code></td>
<td class="right">0x00000000</td>
<td class="left"><code>A_ALTCHARSET</code></td>
<td class="right">0x00400000</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_ATTRIBUTES</code></td>
<td class="right">0xFFFFFF00</td>
<td class="left"><code>A_INVIS</code></td>
<td class="right">0x00800000</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_CHARTEXT</code></td>
<td class="right">0x000000FF</td>
<td class="left"><code>A_PROTECT</code></td>
<td class="right">0x01000000</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_COLOR</code></td>
<td class="right">0x0000FF00</td>
<td class="left"><code>A_HORIZONTAL</code></td>
<td class="right">0x02000000</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_STANDOUT</code></td>
<td class="right">0x00010000</td>
<td class="left"><code>A_LEFT</code></td>
<td class="right">0x04000000</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_UNDERLINE</code></td>
<td class="right">0x00020000</td>
<td class="left"><code>A_LOW</code></td>
<td class="right">0x08000000</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_REVERSE</code></td>
<td class="right">0x00040000</td>
<td class="left"><code>A_RIGHT</code></td>
<td class="right">0x10000000</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_BLINK</code></td>
<td class="right">0x00080000</td>
<td class="left"><code>A_TOP</code></td>
<td class="right">0x20000000</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_DIM</code></td>
<td class="right">0x00100000</td>
<td class="left"><code>A_VERTICAL</code></td>
<td class="right">0x40000000</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>A_BOLD</code></td>
<td class="right">0x00200000</td>
<td class="left">&#xa0;</td>
<td class="right">&#xa0;</td>
</tr>
</tbody>
</table>
</dd>
</dl>


<p>
Obviously, it's better to use the attribute name than its value. To
further clarify things, <a href="#Figure-C-1">Figure C-1</a> illustrates how the <code>chtype</code>
variable is bitmapped to the various attributes.
</p>

<dl class="org-dl">
<dt> <a id="Figure-C-1" name="Figure-C-1">Figure C-1</a> </dt><dd>The <code>chtype</code> bitmap


<div class="figure">
<p><img src="img/FigureC-1.jpg" alt="FigureC-1.jpg" />
</p>
</div>
</dd>
</dl>

<p>
Note how the <code>A_ATTRIBUTES</code> and <code>A_CHARTEXT</code> attributes (<a href="#Table-C-1">Table C-1</a>)
are used in the bitmap. They can effectively mask out either the
character or attribute branch of the <code>chtype</code> variable.
</p>
</div>
</div>

<div id="outline-container-sec-21" class="outline-2">
<h2 id="sec-21">APPENDIX D Keypad Character Codes                                   <a id="appendix_d" name="appendix_d"></a></h2>
<div class="outline-text-2" id="text-21">
<p>
The following constants are defined in <code>ncurses.h</code>. They're used by
those functions that read special keys from the keyboard. The keys
are defined in <a href="#Table-D-1">Table D-1</a>.
</p>

<dl class="org-dl">
<dt> <a id="Table-D-1" name="Table-D-1">Table D-1</a> </dt><dd>NCurses keypad codes and values

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="right" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">DEFINE</th>
<th scope="col" class="right">VALUE (OCT)</th>
<th scope="col" class="left">KEY NAME / DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><code>KEY_CODE_YES</code></td>
<td class="right">0400</td>
<td class="left">A <code>wchar_t</code> contains a key code</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_MIN</code></td>
<td class="right">0401</td>
<td class="left">Minimum key value</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_BREAK</code></td>
<td class="right">0401</td>
<td class="left">Break key (unreliable)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_DOWN</code></td>
<td class="right">0402</td>
<td class="left">Down-arrow key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_UP</code></td>
<td class="right">0403</td>
<td class="left">Up-arrow key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_LEFT</code></td>
<td class="right">0404</td>
<td class="left">Left-arrow key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_RIGHT</code></td>
<td class="right">0405</td>
<td class="left">Right-arrow key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_HOME</code></td>
<td class="right">0406</td>
<td class="left">Home key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_BACKSPACE</code></td>
<td class="right">0407</td>
<td class="left">Backspace key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_F0</code></td>
<td class="right">0410</td>
<td class="left">Function keys</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_F(n)</code></td>
<td class="right">(<code>KEY_F0+(n)</code>)</td>
<td class="left">Value of function key <code>n</code> (Space set aside for up to 64 Function keys)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_DL</code></td>
<td class="right">0510</td>
<td class="left">Delete-line key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_IL</code></td>
<td class="right">0511</td>
<td class="left">Insert-line key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_DC</code></td>
<td class="right">0512</td>
<td class="left">Delete-character key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_IC</code></td>
<td class="right">0513</td>
<td class="left">Insert-character key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_EIC</code></td>
<td class="right">0514</td>
<td class="left">sent by rmir or smir in insert mode</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_CLEAR</code></td>
<td class="right">0515</td>
<td class="left">Clear-screen / Erase key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_EOS</code></td>
<td class="right">0516</td>
<td class="left">Clear-to-end-of-screen key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_EOL</code></td>
<td class="right">0517</td>
<td class="left">Clear-to-end-of-line key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SF</code></td>
<td class="right">0520</td>
<td class="left">Scroll-forward key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SR</code></td>
<td class="right">0521</td>
<td class="left">Scroll-backward key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_NPAGE</code></td>
<td class="right">0522</td>
<td class="left">Next-page / PgDn key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_PPAGE</code></td>
<td class="right">0523</td>
<td class="left">Previous-page / PgUp key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_STAB</code></td>
<td class="right">0524</td>
<td class="left">Set-tab key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_CTAB</code></td>
<td class="right">0525</td>
<td class="left">Clear-tab key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_CATAB</code></td>
<td class="right">0526</td>
<td class="left">Clear-all-tabs key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_ENTER</code></td>
<td class="right">0527</td>
<td class="left">Enter/send key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SRESET</code></td>
<td class="right">0530</td>
<td class="left">Soft (partial) reset (unreliable)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_RESET</code></td>
<td class="right">0531</td>
<td class="left">Reset or hard reset (unreliable)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_PRINT</code></td>
<td class="right">0532</td>
<td class="left">Print key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_LL</code></td>
<td class="right">0533</td>
<td class="left">Lower-left key (home down or bottom)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_A1</code></td>
<td class="right">0534</td>
<td class="left">Upper left of keypad (see notes)</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_A3</code></td>
<td class="right">0535</td>
<td class="left">Upper right of keypad</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_B2</code></td>
<td class="right">0536</td>
<td class="left">Center of keypad</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_C1</code></td>
<td class="right">0537</td>
<td class="left">Lower left of keypad</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_C3</code></td>
<td class="right">0540</td>
<td class="left">Lower right of keypad</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_BTAB</code></td>
<td class="right">0541</td>
<td class="left">Back-tab key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_BEG</code></td>
<td class="right">0542</td>
<td class="left">Begin key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_CANCEL</code></td>
<td class="right">0543</td>
<td class="left">Cancel key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_CLOSE</code></td>
<td class="right">0544</td>
<td class="left">Close key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_COMMAND</code></td>
<td class="right">0545</td>
<td class="left">Command key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_COPY</code></td>
<td class="right">0546</td>
<td class="left">Copy key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_CREATE</code></td>
<td class="right">0547</td>
<td class="left">Create key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_END</code></td>
<td class="right">0550</td>
<td class="left">End key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_EXIT</code></td>
<td class="right">0551</td>
<td class="left">Exit key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_FIND</code></td>
<td class="right">0552</td>
<td class="left">Find key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_HELP</code></td>
<td class="right">0553</td>
<td class="left">Help key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_MARK</code></td>
<td class="right">0554</td>
<td class="left">Mark key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_MESSAGE</code></td>
<td class="right">0555</td>
<td class="left">Message key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_MOVE</code></td>
<td class="right">0556</td>
<td class="left">Move key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_NEXT</code></td>
<td class="right">0557</td>
<td class="left">Next key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_OPEN</code></td>
<td class="right">0560</td>
<td class="left">Open key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_OPTIONS</code></td>
<td class="right">0561</td>
<td class="left">Options key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_PREVIOUS</code></td>
<td class="right">0562</td>
<td class="left">Previous key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_REDO</code></td>
<td class="right">0563</td>
<td class="left">Redo key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_REFERENCE</code></td>
<td class="right">0564</td>
<td class="left">Reference key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_REFRESH</code></td>
<td class="right">0565</td>
<td class="left">Refresh key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_REPLACE</code></td>
<td class="right">0566</td>
<td class="left">Replace key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_RESTART</code></td>
<td class="right">0567</td>
<td class="left">Restart key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_RESUME</code></td>
<td class="right">0570</td>
<td class="left">Resume key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SAVE</code></td>
<td class="right">0571</td>
<td class="left">Save key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SBEG</code></td>
<td class="right">0572</td>
<td class="left">Shift+Begin key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SCANCEL</code></td>
<td class="right">0573</td>
<td class="left">Shift+Cancel key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SCOMMAND</code></td>
<td class="right">0574</td>
<td class="left">Shift+Command key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SCOPY</code></td>
<td class="right">0575</td>
<td class="left">Shift+Copy key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SCREATE</code></td>
<td class="right">0576</td>
<td class="left">Shift+Create key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SDC</code></td>
<td class="right">0577</td>
<td class="left">Shift+Delete-character key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SDL</code></td>
<td class="right">0600</td>
<td class="left">Shift+Delete-line key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SELECT</code></td>
<td class="right">0601</td>
<td class="left">Select key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SEND</code></td>
<td class="right">0602</td>
<td class="left">Shift+End key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SEOL</code></td>
<td class="right">0603</td>
<td class="left">Shift+Clear-To-End-Of-Line key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SEXIT</code></td>
<td class="right">0604</td>
<td class="left">Shift+Exit key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SFIND</code></td>
<td class="right">0605</td>
<td class="left">Shift+Find key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SHELP</code></td>
<td class="right">0606</td>
<td class="left">Shift+Help key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SHOME</code></td>
<td class="right">0607</td>
<td class="left">Shift+Home key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SIC</code></td>
<td class="right">0610</td>
<td class="left">Shift+Insert-Character key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SLEFT</code></td>
<td class="right">0611</td>
<td class="left">Shift+Left-Arrow key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SMESSAGE</code></td>
<td class="right">0612</td>
<td class="left">Shift+Message key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SMOVE</code></td>
<td class="right">0613</td>
<td class="left">Shift+Move key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SNEXT</code></td>
<td class="right">0614</td>
<td class="left">Shift+Next key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SOPTIONS</code></td>
<td class="right">0615</td>
<td class="left">Shift+Options key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SPREVIOUS</code></td>
<td class="right">0616</td>
<td class="left">Shift+Previous key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SPRINT</code></td>
<td class="right">0617</td>
<td class="left">Shift+Print key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SREDO</code></td>
<td class="right">0620</td>
<td class="left">Shift+Redo key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SREPLACE</code></td>
<td class="right">0621</td>
<td class="left">Shift+Replace key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SRIGHT</code></td>
<td class="right">0622</td>
<td class="left">Shift+Right-Arrow key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SRSUME</code></td>
<td class="right">0623</td>
<td class="left">Shift+Resume key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SSAVE</code></td>
<td class="right">0624</td>
<td class="left">Shift+Save key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SSUSPEND</code></td>
<td class="right">0625</td>
<td class="left">Shift+Suspend key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SUNDO</code></td>
<td class="right">0626</td>
<td class="left">Shift+Undo key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_SUSPEND</code></td>
<td class="right">0627</td>
<td class="left">Suspend key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_UNDO</code></td>
<td class="right">0630</td>
<td class="left">Undo key</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_MOUSE</code></td>
<td class="right">0631</td>
<td class="left">Mouse event</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_RESIZE</code></td>
<td class="right">0632</td>
<td class="left">Terminal resize event</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_EVENT</code></td>
<td class="right">0633</td>
<td class="left">Some other event</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><code>KEY_MAX</code></td>
<td class="right">0777</td>
<td class="left">Maximum key value</td>
</tr>
</tbody>
</table>
</dd>
</dl>


<p>
Not every keyboard has all these keys. Some are from the ancient
days of computers!
</p>

<p>
The values specified in the Values column may not be the same for
all platforms; they're listed here merely as reference. Be sure to
use the symbol defined in your code instead of a value.
</p>

<p>
Not all keys are defined in all implementations of NCurses.
</p>

<p>
As a tip, when dealing with the numeric keypad, it helps to use the
illustration shown in <a href="#Figure-D-1">Figure D-1</a>.
</p>

<dl class="org-dl">
<dt> <a id="Figure-D-1" name="Figure-D-1">Figure D-1</a> </dt><dd>The NCurses numeric keypad


<div class="figure">
<p><img src="img/FigureD-1.jpg" alt="FigureD-1.jpg" />
</p>
</div>
</dd>
</dl>
</div>
</div>
</div>
</body>
</html>
