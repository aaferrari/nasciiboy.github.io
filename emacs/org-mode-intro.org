#+LANGUAGE: es
#+AUTHOR: Fanta
#+EMAIL: fanta@elbinario.net
#+TITLE: ORG-MODE PARA TORPES
#+BEGIN_CENTER
[[file:logo.png]]
#+END_CENTER

* Instalar el editor de texto Emacs en Debian

  Es necesario que tengas la distribución *Debian* del sistema operativo
  *GNU/Linux*. Si ya la tienes instalada has de usar este comando para
  *instalar Emacs*:

  #+BEGIN_SRC shell
    # apt-get update
    # apt-get install emacs
  #+END_SRC

  La forma que se recomienda para *ejecutar Emacs* en este documento es
  la siguiente:

  #+BEGIN_SRC shell
    $ emacs -nw nombrearchivo.org
  #+END_SRC

  Eso ejecuta emacs sin interface grafica en la consola y abrirá un
  archivo exista o no exista.

* Para los y las que vienen de otros editores de texto

Para quienes vienen de vi/vim o vienen de joe, nano, ... y en
definitiva vienen de usar otros editores de texto es buena cosa cortar
de raíz sus costumbres.  Para esto es aconsejable crearse lo que se
llaman en bash /alias/ .

La forma de crear un alias para que cada vez que ejecutemos alguno de
esos editores se ejecute emacs es así:

#+BEGIN_SRC shell
alias emacs='emacs -nw'
alias nano='emacs -nw'
alias vi='emacs -nw'
alias joe='emacs -nw'
#+END_SRC

Pero ejecutar eso cada vez que abrimos un emulador de terminal o una
consola es un rollo.  Lo que hemos de hacer es meter esos alias en el
archivo .bashrc para que así nos olvidemos de ellos y cada vez que
ejecutemos tanto vi, como joe, nano o incluso emacs se abra siempre
como /emacs -nw/ y no con la interface grafica tan fea que tiene.

* Nociones base para manejar Emacs

Abrirlo es sencillo:

#+BEGIN_SRC shell
$ emacs mierda.txt
#+END_SRC

Eso abrirá el archivo llamado mierda.txt en el que podemos empezar a escribir lo que gustemos.
*Guardar los cambios* es sencillo. Para ello usaremos /Control-x + s/.

*Cerrar emacs* se hace con /Control-x + c/

Si deseamos *guardar un archivo con otro nombre* podemos usar /control+x  + w/y de ese modo vamos a poder escribir el nombre y darle a intro.

*Buscar en un archivo una palabra* se hace con *Control-s* y escribimos la palabra que deseamos buscar.

*Reemplazar una cadena por otra* se hace con *Alt+x* y luego se escribe *replace-string*.

*Ir a una línea determinada* se hace con *Alt+x* y luego se escribe *goto-line*.

Si nos confundimos con alguna combinación de teclas pulsamos varias veces *ESC* para comenzar de nuevo.

Si deseas *más información* puedes leer el manual de emacs en castellano aquí: [[http://www.nongnu.org/emacs-man-es/]]

* Instalar Org-mode en Emacs

En debian podemos instalar org-mode para poder usarlo con Emacs así:

#+BEGIN_SRC shell
# apt-get install org-mode
#+END_SRC

Tras la instalación si abrimos con emacs un archivo con extensión org nos activará automáticamente el modo org.
En caso de acceder a emacs sin indicar el nombre del archivo a abrir se puede *activar el modo emacs* pulsando /Alt + x/ y luego escribiendo /org-mode/.

* Mi primer archivo org

Vamos a probar a crear un archivo llamado primero.org donde vamos simplemente a aprender a plegar y desplegar texto.
Para crearlo escribiremos esto en la consola:

#+BEGIN_SRC shell
emacs -nw primero.org
#+END_SRC

Allí vamos a escribir estas líneas con este contenido:

#+BEGIN_SRC shell
 * texto de prueba 1
 ** texto 1 anidado dentro de texto de prueba 1
 Hola mundo mundial.
 ** texto 2 anidado dentro de texto de prueba 1
 Adiós mundo mundial.
 * texto de prueba 2
 ** texto anidado
 *** texto anidado
 **** texto anidado
 ***** texto anidado
#+END_SRC

Guardamos con /Control-x + s/ y nos posicionamos con los cursores sobre /texto de prueba 1/ para plegarlo pulsando *la tecla tabulador* (Tab).
Si pulsamos varias veces *la tecla tabulador* se plegarán o desplegarán los textos anidados.

Lo ideal es practicar un poco a plegar y desplegar.

Este es nuestro primer archivo org de modo que es suficiente con conocer esto.
Ya solamente con esto podemos tener en un mismo archivo 50 artículos por ejemplo y navegar rápidamente entre unos u otros plegando y desplegando :).

* Un archivo org para gestión TO-DO

Creamos un archivo llamado TO-DO.org así:

#+BEGIN_SRC shell
emacs -nw TO-DO.org
#+END_SRC

Vamos a imaginar que tenemos un proyecto de software y que nos están
reportando errores. Son cosas que tenemos que hacer de modo que las
vamos metiendo así:

#+BEGIN_SRC shell
 * Falla el registro cuando se introduce la fecha de nacimiento.
 * Con monitores de pequeñas resoluciones  no se ve bien el diagrama de flujo.
 * Los colores de la cabecera a nadie le gustan.
 * Es posible robar cookies y sesiones.
#+END_SRC

Ahora vamos a activar el estado de cada una de las tareas (de las
líneas). Para esto vamos a la primera línea y pulsamos esto:

*Control-x + Control-t*

Veremos que si lo pulsamos de nuevo va cambiando. De esta forma
podemos poner estados a las líneas.  Lo normal es poner todo en rojo
(TO-DO) cuando diseñamos algún proyecto. De esa forma conforme vamos
realizando tareas vamos colocándolas como DONE.

* Listas en archivos org

Listas con orden o sin orden son sencillas de crear en org-mode. Pongamos un ejemplo creando un archivo llamado listas.org donde trastearemos con las listas.
Un ejemplo de lista es el siguiente:

#+BEGIN_SRC shell
 - azul
 - rojo
 - amarillo
 - morado
 - verde
#+END_SRC

De esta forma también se pueden crear listas con + en vez de - :

#+BEGIN_SRC shell
 + azul
 + rojo
 + amarillo
 + morado
#+END_SRC

Si las deseamos numeradas pues así:

#+BEGIN_SRC shell
 1. azul
 2. rojo
 3. asdfas
 4. hola mundo
#+END_SRC

Aquí el truco del almendruco. Algo que mola bastante es crear Check-lists
Eso se hace así:

#+BEGIN_SRC shell
 + [ ] hola
 + [ ] Mundo
#+END_SRC

Nos colocamos en una de las lineas en las que hemos escrito los
corchetes y pulsamos *Control-c + Control-c* Veremos como se marca o
desmarca. Esto esta guay para usarlo con el TO-DO para las tareas.

* Tablas en archivos org

Las tablas son buena cosa. Podemos crearlas de forma muy sencilla.

Para poder crearlas vamos a utilizar la tecla de las tuberías, es decir, *alt Gr + 1* escribirá |

Vamos a crear una tabla sencilla así de 3 columnas y 6 filas. Para ello usaremos *Control-C + Alt Gr-|*
Indicaremos 3x6 y nos generará la tabla con las correspondientes columnas y filas indicadas.

La rellenamos con esto por ejemplo:

| Nombre  | Apellidos | Edad |
|---------+-----------+------|
| Carlos  | Garcia    |   15 |
| Benito  | Camelas   |   18 |
| Rodrigo | Rodriguez |   25 |
| Beatriz | Asensio   |   18 |
|         |           |   76 |
|         |           |      |
#+TBLFM: $3=@2$3+@3$3+@4$3+@5$3

Podemos realizar operaciones entre las celdas. Sumar por ejemplo.

Nos colocamos en la celda C6 y escribimos:

#+BEGIN_SRC shell
 =C2+C3+C4+C5
#+END_SRC

Al darle a *ENTER* se ejecutará la operación y tendremos el total de
años. Es un ejemplo sin mucho sentido pero que sirve para entender que
*podemos realizar operaciones*.

* Exportar a otros formatos

Antes de exportar es bueno *guardar*. Usaremos *control-x + s* para esta tarea.

Es bueno saber que versión de org-mode tenemos instalada en nuestro emacs.

Para ver la versión usaremos *Alt+x* y escribiremos *org-version*:

En el caso de /Org-mode version 7.8.11/ para *exportar a html* y
visualizar al mismo tiempo vamos a usar *alt + x* y luego escribir:
*org-export-as-html-and-open* eso abrirá el navegador por defecto que
tengamos en nuestro sistema y veremos nuestro documento en html.

En el caso de usar una versión más moderna quizás el comando cambia y
en tal caso usaremos *control-c + control-e" y veremos las opciones.

Has de saber que puedes exportar a pdf, odt, ...

* Crear un articulo

Por defecto un articulo en org-mode estará en inglés, es decir, al exportar nos pondrá "Table of contents" en vez de "Índice".
Lo primero por tanto que hemos de incluir en un archivo org que busca ser un articulo es lo siguiente:

#+BEGIN_SRC shell
 #+LANGUAGE: es
 #+AUTHOR: Fanta
 #+EMAIL: fanta@elbinario.net
 #+TITLE: ORG-MODE PARA TORPES
#+END_SRC

De esta forma tendremos definidas algunas variables importantes que afectarán a todo el documento a la hora de exportarlo.
Ahora es cuando nos enfocamos en *pensar el articulo*.

Org-mode es crema para estas cosas. Permite diseñar los articulos partiendo de una estructura previa.
Lo primero que se hace es construir la estructura. El diseño de Org-mode nos obliga a tener que hacerlo de esta forma y es uno de los motivos por los que *es bueno para escribir articulos*.

Vamos a ir creando la estructura de nuestro articulo y posteriormente rellenaremos el contenido.

Para la Negrita así:

#+BEGIN_SRC shell
 *Negrita*
#+END_SRC

Para la cursiva así:
#+BEGIN_SRC shell
 /Cursiva/
#+END_SRC

* Cifrando los archivos org

Cuando creamos un archivo org es posible que nos interese por ejemplo cifrar uno de ellos.
No queremos que vean su contenido gente mala y cotillas de mierda.

Solamente tendremos que teclear una vez lo siguiente:

#+BEGIN_SRC shell
$ gpg -c -v org-mode-intro.org
#+END_SRC

Con eso ya tendremos cifrado el archivo /org-mode-intro.org/ con el
nombre /org-mode-intro.org.gpg/.  A partir de ahora cada vez que
intentemos abrir el archivo con emacs nos pedirá la clave que le hemos
puesto.  Cuando guardemos nos pedirá de nuevo la clave.

Esto es de gran utilidad para almacenar un archivo de claves, lo que
se llama coloquialmente en el barrio /"un llavero"/.

Puedes ir plegando y desplegando de modo que si lo abres delante de
gente no verán la clave salvo que se la despliegues en la cara.
