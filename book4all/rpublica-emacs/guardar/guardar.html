<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd" />
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es" >
<html><head><title>Emacs:Guardar Archivos</title><link title="rpublica.net Estilo" href="../emacs.css" rel="stylesheet" type="text/css"><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /><meta name="author" content="Antoni Serra Devecchi" /><meta name="KEYWORDS" content="Emacs, Manual, Tutorial, Español"/><meta name="description" content="manual de introduccion a emacs." /></head><body><div id="contenidor0">		<div id="rotulo">		<span id="r">rp</span>		</div>		<div id="globalNav">
<!--
		<ul id="credits"><li></li><li>Antoni Serra Devecchi</li><li><a href="mailto:rpublica@gmail.com">mail:&nbsp;[&nbsp;rpublica.net&nbsp;]</a></li><li><i>Versión no definitiva.</i></li><li><i> En proceso de redacción.</i></li><li><i>Últ.Actual.: 01/04/2006</i></li></ul>

-->
			</div>	<div id="nav0">	<span id="logo">Emacs</span>	</div>	<div id="guia">	<ul id="tabnav">     <li ><a href="../../index.html">RPublica.net</a></li>     <li><a href="../emacs.html">Emacs</a></li>     <li class="active"><a href="guardar.html#20">2.Guardar Archivos y Salir de Emacs</a></li>     <!--<li><a href="#">XXXXX</a></li>     <li><a href="#">XXXXX</a></li> --></ul>	</div><div id="logo1">Referéncia</div><div id="indice"><div id="indice1"><p ><a href="../emacs.html">0. Indice General</a></p><p  ><a href="../intro/intro.html#I">I.Introducción</a></p>		<p ><a href="../buffers/buffers.html#II">II.Buffers y Archivos</a></p>		<p ><a href="../modos/modos.html#III">III.Modos</a></p>		<p ><a href="../start/start.html#IV">IV.La Pantalla de Emacs</a></p>									<p><a href="../abrir/abrir.html#10">1.Abrir Archivos</a></p>						<p  class="active"><a href="guardar.html#20">2.Guardar y Salir</a></p>		<p><a href="../editando/editando.html#30">3.Lineas y Párrafos</a></p>		<p><a href="../movimientos/movimientos.html#40">4.Movimientos del cursor</a></p>					<p><a href="../rectificar/rectificar.html#50">5.Rectificar</a></p>		<p><a href="../buscar/buscar.html#60">6.Búsquedas</a></p>		<p><a href="../reemplazar/reemplazar.html#70">7.Buscar y Reemplazar</a></p>		<p><a href="../xbuffers/xbuffers.html#80">8.Buffers múltiples</a></p>		<p><a href="../ventanas/ventanas.html#90">9.Ventanas</a></p>		<p><a href="../marcos/marcos.html#100">10.Marcos</a></p>		<p><a href="../bookmarks/bookmarks.html#110">11.Bookmarks</a></p>		<p><a href="../consola/consola.html#120">12.Emacs y la Shell</a></p>		<p><a href="../dired/dired.html#130">13.Dired</a></p>		<p><a href="../perso/perso.html#140">14.Personalización </a></p>		<p><a href="../modificar/modificar.html#150">15.Ejemplos </a></p>		<p><a href="../formato/formato.html#160">16.Formato de texto </a></p>		<p><a href="../imprimir/imprimir.html#170">17.Imprimir </a></p><p><a href="../help/help.html#180">18.El Sistema de Ayuda </a></p>		<p><a href="../documenta/documenta.html#190">19.Documentación </a></p>		<p><a href="http://www.rpublica.net/emacs/macro/macro.html#200">20.Macros </a></p><p><a href="http://www.rpublica.net/emacs/expreg/expreg.html#210">21.Expresiones Regulares </a></p><p><a href="http://www.rpublica.net/emacs/recursos/recursos.html#A">A.Recursos Emacs</a></p><p><a href="http://www.rpublica.net/emacs/paquetes/paquetes.html#B">B.Paquetes Emacs</a></p><p><a href="http://www.rpublica.net/emacs/referencia/referencia.html#C">C.Referencia de comandos</a></p><p><a href="http://www.rpublica.net/emacs/biblio/biblio.html#D">D.Bibliografia</a></p><br/>
<div id="margen00">&nbsp;<span>Contacto</span></div><br/>
<div id="margen000"><span>A.Serra Devecchi<br/>
<a href="mailto:rpublica@gmail.com">Mail: rpublica</a>
<br/>Versión no definitiva<br/>
Últ.Actual.: 01/04/2006<br/>

</span>&nbsp;</div><br/>

<div id="margen00000"><!--Creative Commons License-->
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/es/">
<img alt="Creative Commons License" border="0" src="http://creativecommons.org/images/public/somerights20.png"/></a><br/>Esta obra est&#225; bajo una <br/>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/2.5/es/">licencia de Creative Commons</a>.<!--/Creative Commons License--><!-- <rdf:RDF xmlns="http://web.resource.org/cc/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
	<Work rdf:about="">
		<license rdf:resource="http://creativecommons.org/licenses/by-nc-sa/2.5/es/" />
	<dc:type rdf:resource="http://purl.org/dc/dcmitype/Text" />
	</Work>
	<License rdf:about="http://creativecommons.org/licenses/by-nc-sa/2.5/es/"><permits rdf:resource="http://web.resource.org/cc/Reproduction"/><permits rdf:resource="http://web.resource.org/cc/Distribution"/><requires rdf:resource="http://web.resource.org/cc/Notice"/><requires rdf:resource="http://web.resource.org/cc/Attribution"/><prohibits rdf:resource="http://web.resource.org/cc/CommercialUse"/><permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/><requires rdf:resource="http://web.resource.org/cc/ShareAlike"/></License></rdf:RDF> --></div>


</div></div>	<div id="texto">		<div id="titulo">		<h2 class="encab" id="20">2.Guardar Archivos y Salir de Emacs</h2>		</div>	<div id="contenido">	<h6><a class="Ref" href="../abrir/abrir.html">Pág.Anterior</a>&nbsp;&#124;&nbsp; <a class="Ref" href="../emacs.html">Índice</a><!--&nbsp;&#124;&nbsp;<a class="Ref" href="#logo">Inicio Página</a>-->&nbsp;&#124;&nbsp;<a class="Ref" href="../editando/editando.html"> Pág.Siguente</a></h6> 		<P>En este capítulo se tratarán los siguientes aspectos:</P>		<ul>		<li>Como guardar los archivos abiertos.</li>		<li>Guardar archivos con otro nombre.</li>		<li>El sistema de "autoguardado" de Emacs.</li>		<li>Como "suspender"  Emacs.</li>		<li>Como cerrar Emacs.</li>		</ul>		<h3 class="encab" id="21" >2.1.Guardar Archivos</h3>	 <h6><a class="Ref" href="../abrir/abrir.html">Pág.Anterior</a>&nbsp;&#124;&nbsp; <a class="Ref" href="../emacs.html">Índice</a>&nbsp;&#124;&nbsp;<a class="Ref" href="guardar.html#logo">Inicio Página</a>&nbsp;&#124;&nbsp;<a class="Ref" href="../editando/editando.html"> Pág.Siguente</a></h6> 		<p>Las órdenes para guardar un archivo son: </p>		<ul class="comandos">			<li><b>Mediante el comando</b>&nbsp;:&nbsp;  <span class="marcado"><b>C-x C-s .</b></span></li>			<li><b>Mediante la opción del menú</b>&nbsp;:&nbsp;  <span class="marcado"><b>File->Save (current buffer)</b></span></li>			<li><b>Mediante el "comando largo"</b>&nbsp;:&nbsp;  <span class="marcado"><b>M-x &nbsp;save-buffer&nbsp; &#060;Enter&#062;</b></span></li>		     </ul>    	<p> Veamos ,gráficamente, como se comportan los estos comandos: </p>			<div class="img">		<p class="img">Una vez dada la orden de guardar, mediante cualquiera de las tres opciones descritas, Emacs se comportará de forma diferente, dependiendo de si el archivo que queremos guardar tiene o no un nombre asignado:</p>		<p>Si el archivo que queremos guardar no tiene un nombre asignado, &nbsp;&#040;&nbsp;buffer &nbsp;<i style="font-weight:300">*scratch*</i>&nbsp;&#041;, &nbsp;  Emacs trasladará el cursor al área del mini-buffer y nos solicitrá que introduzcamos un nombre para el archivo, con el siguiente mensaje:  &nbsp;<i style="font-weight:300">File to save in:~/</i>. &nbsp;( <i style="font-weight:300">novela</i>, &nbsp;en este ejemplo) :</p>		<table>		<tr>		<td><img src="guardar.png" alt="Guardar un archivo sin nombre " width="450" height="141" border="0" /></td>		</tr>		</table>		<p >En el caso de que el archivo a guardar tenga ya nombre asignado ( por ejemplo, hemos abierto o modificado un archivo existente o hemos estado trabajando con un archivo nuevo, creado con &nbsp;<b class="marcado">C-x C-f</b>&nbsp;), Emacs lo guardará sin más, con las modificaciones introducidas, presentándonos el mensaje:&nbsp;&nbsp; <i style="font-weight:300">Wrote /archivo</i> </p>				<table>		<tr>		<td><img src="guardar1.png" alt="Guardar un archivo " width="450" height="139" border="0" /></td>		</tr>		</table>		<p> Si damos la orden de guardar un archivo en el que no se le hayan realizado modificaciones, Emacs nos advertirá con el mensaje  &nbsp;&nbsp;<i style="font-weight:300">No changes need to be saved</i>,&nbsp; en el mini-buffer.<br />		Esto ocurrirá en el caso que intentemos guardar el archivo mediante el comando &nbsp;<b class="marcado">C-x C-s</b>,&nbsp; ya que la opción de menú &nbsp;&nbsp;<b class="marcado">File->Save (current buffer)</b>&nbsp;&nbsp; solo se activa cuando se han realizado modificaciones en el archivo abierto.</p>		<table>		<tr>		<td><img src="guardar2.png" alt="Guardar archivo sin modificar" width="450" height="141" border="0" /></td>		</tr>		</table>		</div>			<h3 class="encab" id="22" >2.2.Guardar con otro nombre</h3>	 	<h6><a class="Ref" href="../abrir/abrir.html">Pág.Anterior</a>&nbsp;&#124;&nbsp; <a class="Ref" href="../emacs.html">Índice</a>&nbsp;&#124;&nbsp;<a class="Ref" href="guardar.html#logo">Inicio Página</a>&nbsp;&#124;&nbsp;<a class="Ref" href="../editando/editando.html"> Pág.Siguente</a></h6> 		<p>En ocasiones puede interesarnos guardar el archivo modificado sin sobreescribir el original o, sencillamente, guardar una cópia del archivo. En otras palabras, guardar el buffer corriente en otro archivo.<br />		 Es el equivalente al comando &nbsp;&nbsp;<i style="font-weight:300">Guardar Como...</i>&nbsp;&nbsp; presente en muchas aplicaciones</p>		<p>Emacs nos proporciona esta posibilidad através del comando:</p>		<ul class="comandos">		<li> <b>Comando</b>&nbsp;:&nbsp; <b class="marcado">C-x C-w</b></li>		<li> <b>Opción de menú</b>&nbsp;:&nbsp; <b class="marcado">File-->Save Buffer As..</b> </li>		<li><b>Comando "largo"</b>&nbsp;:&nbsp; <b class="marcado">M-x &nbsp; write-file &nbsp;&#060;Enter&#062;</b></li>		</ul>		<p>La secuencia de esta función sería:</p>		<div class="img">		<p>Al dar la orden de guardar con otro nombre, Emacs situa el cursor en el mini-buffer y nos solicita que introduzcamos el nuevo nombre para el archivo.&nbsp;( En el ejemplo:&nbsp;<i style="font-weight:300">novela_B &nbsp;)</i></p>		<table>		<tr>		<td><img src="guardar4.png" alt="Guardar archivo con otro nombre" width="450" height="141" border="0" /></td>		</tr>		</table>		<p>Una vez se ha realizado el cambio de nombre y pulsada &nbsp; <b class="marcado">&#060;Enter&#062;</b>,&nbsp; el buffer que se muestra es el del nuevo archivo.</p>			<table>		<tr>		<td><img src="guardar5.png" alt="Guardar archivo con otro nombre" width="450" height="141" border="0" /></td>		</tr>			</table>			</div>		<p>Este comando es útil si deseamos poder editar un archivo sobre el que sólo tengamos permiso de lectura: Se puede abrir en un buffer con el comando &nbsp;<b class="marcado">C-x C-f</b>&nbsp; y guardarlo con otro nombre con&nbsp; <b class="marcado">C-x C-w</b>. &nbsp;Una vez guardado, este nuevo archivo puede editarse. </p>						<h3 class="encab" id="23" >2.3.Sistema de "autoguardar" de Emacs.</h3>	 	<h6><a class="Ref" href="../abrir/abrir.html">Pág.Anterior</a>&nbsp;&#124;&nbsp; <a class="Ref" href="../emacs.html">Índice</a>&nbsp;&#124;&nbsp;<a class="Ref" href="guardar.html#logo">Inicio Página</a>&nbsp;&#124;&nbsp;<a class="Ref" href="../editando/editando.html"> Pág.Siguente</a></h6> 		<p>Con el fin de proteger los cambios realizados de cualquier imprevisto que impida su normal almacenamiento Emacs, periodicamente, escribe un archivo de "autoguardado" para cada archivo que se está editando en aquel momento. De hecho, si observáramos atentamente el mini-buffer podríamos ver como, cada cierto tiempo aparece el mensaje : &nbsp;&nbsp;<i style="font-weight:300">Auto saving</i>. </p>		<p>En el directorio en el que operamos, podemos encontrar estos archivos con los mismos nombres de los archivos que estamos editando, pero con un caracter &nbsp;<b>&#035;</b>&nbsp; al principio y al final del mismo. </p>		<p>Cuando un archivo se guarda por via "normal", se borra su correspondiente archivo de &nbsp;<b>autoguardado</b>.</p>		<p>Es conveniente saber que, si no se ha guardado normalmente un archivo modificado, al reiniciar Emacs los cambios estarán en el archivo de &nbsp;<b>autoguardado</b>&nbsp; generado y no en el archivo original.</p>		<p>Para recuperar un archivo de autoguardado: </p>		<ul class="comandos"><li><b class="marcado">M-x &nbsp;recover-file &nbsp;&#060;Enter&#062;</b></li>		</ul><br/>		<p>Veamos la secuencia de esta función de recuperación:</p>		<div class="img">		<p>Introducimos el comando.</p>		<table>		<tr>		<td><img src="guardar6.png" alt="Recuperar archivos de autoguardado. Introducir comando M-x recover-file <Enter>" width="450" height="127" border="0" /></td>		</tr>		</table>		<p>Una vez pulsada &nbsp;<b class="marcado">&#060;Enter&#062;</b>,&nbsp; Emacs nos pide que introduzcamos el nombre del archivo a recuperar. </p>		<table><tr>		<td><img src="guardar7.png" alt="Recuperar archivos de autoguardado. 2" width="450" height="127" border="0" /></td>		</tr></table>		<p>Podemos introducir el nombre, incluyendo los caracteres &nbsp; "<b>&#035;</b>" &nbsp;al principio y al final del mismo, o hacer uso de la función de &nbsp;<a  href="../abrir/abrir.html#12" style="text-decoration:none"><b>autocompletado</b></a> de la tecla &#060;Tab&#062;: </p>		<p>Introduciendo  &nbsp;"<b>&#035;</b>"&nbsp;  y pulsando &nbsp;<b>&#060;Tab&#062;</b>&nbsp; aparecerá un buffer conteniendo la relación de todos los archivos cuyo primer caracter de su nombre es &nbsp;<b>&#035;</b>,&nbsp; pudiendo seleccionar el buscado por los medios señalados en la sección:&nbsp; <a  href="../abrir/abrir.html#12" style="text-decoration:none"><b>1.2.Autocompletado</b></a> </p>		<table><tr><td><img src="guardar8.png" alt="Recuperación de archivos de autoguardado. 3" width="450" height="159" border="0" /></td></tr></table>		</div><br/>		<p> Emacs procede al &nbsp;<b>autoguardado</b>&nbsp; cada cierto número de pulsaciones o cuando se finaliza Emacs de forma "anormal". Por defecto, se procede a un autoguardado cada 300 pulsaciones, aunque dicha frecuencia puede cambiarse mediante al variable &nbsp;<b class="marcado">auto-save-interval</b></p>		<p>Una característica a tener en cuenta: Cuando eliminamos una parte importante del archivo que estamos editando, Emacs suspende el &nbsp;<b>autoguardado</b>&nbsp; y nos lo advierte. Si deseamos reactivar la función de &nbsp;<b>autoguardado</b>&nbsp; deberemos guardar el archivo con &nbsp;<b class="marcado">C-x C-s</b>&nbsp; o teclear el comando:&nbsp; <span class="marcado">M-1 M-x &nbsp;auto-save&nbsp; &#060;Enter&#062;</span></p>		<h3 class="encab" id="24" >2.4.Como "suspender" Emacs.</h3>	 	<h6><a class="Ref" href="../abrir/abrir.html">Pág.Anterior</a>&nbsp;&#124;&nbsp; <a class="Ref" href="../emacs.html">Índice</a>&nbsp;&#124;&nbsp;<a class="Ref" href="guardar.html#logo">Inicio Página</a>&nbsp;&#124;&nbsp;<a class="Ref" href="../editando/editando.html"> Pág.Siguente</a></h6> 		<p>La "suspensión" de la aplicación, en entornos gráficos, no es más que su "iconificación": Emacs desaparece de la pantalla y queda reducido a un icono, normalmente en la barra de tareas. Activando este icono, Emacs se reactiva tal como lo dejamos en el momento de la "suspensión".</p>		<p class="comandos">El comando que usaremos para "suspender" Emacs es: &nbsp;<span class="marcado"><b>C-z</b></span></p><br/>		<h3 class="encab" id="25" >2.5.Salir de Emacs.</h3>	 	<h6><a class="Ref" href="../abrir/abrir.html">Pág.Anterior</a>&nbsp;&#124;&nbsp; <a class="Ref" href="../emacs.html">Índice</a>&nbsp;&#124;&nbsp;<a class="Ref" href="guardar.html#logo">Inicio Página</a>&nbsp;&#124;&nbsp;<a class="Ref" href="../editando/editando.html"> Pág.Siguente</a></h6> 		<p>El comando que podemos utilizar para salir de Emacs es:</p>		<ul class="comandos" >		<li><b>Comando</b>&nbsp;:&nbsp; <span class="marcado"><b>C-x C-c</b></span></li>		<li><b>Opción de menú</b>&nbsp;:&nbsp;<span class="marcado"><b>File->Exit Emacs</b></span></li>		<li><b>Comando "largo"</b>&nbsp;:&nbsp; <span class="marcado"><b>M-x &nbsp;save-buffers-kill-emacs &nbsp;&#060;Enter&#062; </b></span></li>		</ul>		<p>Si se han realizado cambios en el buffer, Emacs nos pedirá si deseamos guardarlos. Si contestamos  negativamente a esta pregunta de Emacs, nos pedirá que confirmemos la salida. Veamos la secuencia:</p>		<div class="img">		<p>Al dar la orden de cierre, si se han guardado los cambios Emacs se cerrará sin más.</p>		<p>En el caso de que no se hayan guardado los cambios realizados, Emacs, mediante un mensaje en el mini-buffer , nos preguntará si deseamos guardar los cambios. </p>		<table><tr><td><img src="guardar11.png" alt="Salir de emacs: se nos pide si deseamos guardar los cambios" width="423" height="150" border="0" /></td></tr></table>		<p>Si contesta  afirmativamente; &nbsp;&nbsp;<i style="font-weight:300">y</i>,&nbsp; Emacs salvará los cambios y se cerrará.</p>		<p>Si contestamos negativamente; &nbsp;&nbsp;<i style="font-weight:300">n</i>,&nbsp;, entonces nos aparecerá la siguiente pantalla en la que se nos pide que confirmemos la orden de cierre de la aplicación: </p>		<table><tr><td><img src="guardar12.png" alt="Cerrar Emacs: Confirmación de la orden de salida" width="450" height="159" border="0" /></td></tr></table>		<p>En el caso de contestar afirmativamente; &nbsp;&nbsp;<i style="font-weight:300">yes</i>,&nbsp; Emacs finalizará, sin guardar los cambios.</p>		<p>En caso de respuesta negativa; &nbsp;&nbsp;<i style="font-weight:300">no</i>,&nbsp; Emacs vuelve al modo de edición anterior a la entrada de la orden de cierre.</p>		<p> En determinados entornos gráficos, cuando la orden de cierre se dá desde la opción del menú &nbsp;<span class="marcado"><b>File-->Exit Emacs</b></span>&nbsp; los mensajes en el mini-buffer pueden ser sustituidos por una ventana parecida a esta para el primer diálogo: </p>		<table><tr><td><img src="guardar10.png" alt="Salir de Emacs" width="450" height="71" border="0" /></td></tr></table>		<p>Y como ésta para la confirmación de la salida sin guardar:</p>		<table><tr><td><img src="guardar13.png" alt="Salir de Emacs" width="228" height="88" border="0" /></td></tr></table>		</div>		<p><b>Una última cuestión relacionada con la salida de Emacs:</b> Si salimos de Emacs sin haber guardado los cambios realizados en el archivo que estábamos editando, al volver a abrir éste archivo, Emacs nos puede advertir de que existe un archivo de &nbsp;<b>autoguardado</b>&nbsp; con los datos no salvados durante el cierre de la aplicación. También nos apuntará la conveniencia de utilizar el comando  &nbsp;<spam class="marcado">M-x &nbsp; recover-file &nbsp; &#060;Enter&#062;</spam>&nbsp; para recuperar los datos del archivo de &nbsp;<b>autoguardado</b></p>		<p>Veamos una muestra gráfica:</p>		<div class="img"><p>Hemos abierto un archivo, &nbsp;&nbsp;<i style="font-weight:300" >pereira</i>, &nbsp;del cual no habíamos guardado las modificaciones al cerrar Emacs.</p>		<p>En el mini-buffer aparece la información que se ha citado antes. Dicha información desaparecerá del mini-buffer con la primera acción que realicemos.</p>		<table><tr><td><img src="guardar14.png" width="450" height="167" border="0" /></td></tr></table>		</div>				<div class="margenInf">&nbsp;</div>		<div id="pie"> <h6><a class="Ref" href="../abrir/abrir.html">Pág.Anterior</a>&nbsp;&#124;&nbsp; <a class="Ref" href="../emacs.html">Índice</a>&nbsp;&#124;&nbsp;<a class="Ref" href="guardar.html#logo">Inicio Página</a>&nbsp;&#124;&nbsp;<a class="Ref" href="../editando/editando.html"> Pág.Siguente</a></h6> 		<h6><a class="navInf" href="../../index.html">RPublica</a>&nbsp;&#062;&nbsp;<a class="navInf" href="../emacs.html">Emacs</a>&nbsp;&#062;&nbsp;&nbsp;&#124;&nbsp;<span class="navInf1">2.Guardar Archivos y Salir de Emacs</span>&nbsp;&#124;&nbsp;</h6> 		 </div>		<div class="margenInf">&nbsp;</div> 			</div>	</div></body></html>
